<html>
<head>
<title>Main.ipynb</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<style type="text/css">
.s0 { color: #a9b7c6;}
</style>
</head>
<body bgcolor="#2b2b2b">
<table CELLSPACING=0 CELLPADDING=5 COLS=1 WIDTH="100%" BGCOLOR="#606060" >
<tr><td><center>
<font face="Arial, Helvetica" color="#000000">
Main.ipynb</font>
</center></td></tr></table>
<pre><span class="s0">{ 
 &quot;cells&quot;: [ 
  { 
   &quot;cell_type&quot;: &quot;markdown&quot;, 
   &quot;metadata&quot;: { 
    &quot;collapsed&quot;: true, 
    &quot;pycharm&quot;: { 
     &quot;name&quot;: &quot;#%% md\n&quot; 
    } 
   }, 
   &quot;source&quot;: [ 
    &quot;# Covid 19 US cases analysis\n&quot;, 
    &quot;\n&quot;, 
    &quot;\n&quot;, 
    &quot;In this notebook, we will present the steps and results that are used to analyze COVIS 19 cases\n&quot;, 
    &quot;data set from New York Times. This dataset is updated daily on github and therefore\n&quot;, 
    &quot;represent an accurate number of confirmed cases in US counties over time.\n&quot;, 
    &quot;&lt;br&gt;\n&quot;, 
    &quot;## Data preliminary analysis\n&quot;, 
    &quot;First we would like to introduce the dataset, which can be obtained from https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-counties.csv.\n&quot;, 
    &quot;&lt;br&gt;&quot; 
   ] 
  }, 
  { 
   &quot;cell_type&quot;: &quot;code&quot;, 
   &quot;execution_count&quot;: 1, 
   &quot;outputs&quot;: [], 
   &quot;source&quot;: [ 
    &quot;import pandas as pd\n&quot;, 
    &quot;import matplotlib.pyplot as plt\n&quot;, 
    &quot;import numpy as np\n&quot;, 
    &quot;from sklearn.metrics import silhouette_score, davies_bouldin_score\n&quot;, 
    &quot;from sklearn.cluster import AgglomerativeClustering\n&quot;, 
    &quot;from sklearn.cluster import KMeans\n&quot;, 
    &quot;import plotly.graph_objects as go&quot; 
   ], 
   &quot;metadata&quot;: { 
    &quot;collapsed&quot;: false, 
    &quot;pycharm&quot;: { 
     &quot;name&quot;: &quot;#%%\n&quot; 
    } 
   } 
  }, 
  { 
   &quot;cell_type&quot;: &quot;code&quot;, 
   &quot;execution_count&quot;: 2, 
   &quot;outputs&quot;: [], 
   &quot;source&quot;: [ 
    &quot;import json\n&quot;, 
    &quot;from urllib.request import urlopen\n&quot;, 
    &quot;with urlopen('https://raw.githubusercontent.com/plotly/datasets/master/geojson-counties-fips.json') as response:\n&quot;, 
    &quot;    counties = json.load(response)\n&quot; 
   ], 
   &quot;metadata&quot;: { 
    &quot;collapsed&quot;: false, 
    &quot;pycharm&quot;: { 
     &quot;name&quot;: &quot;#%%\n&quot; 
    } 
   } 
  }, 
  { 
   &quot;cell_type&quot;: &quot;code&quot;, 
   &quot;execution_count&quot;: 3, 
   &quot;outputs&quot;: [ 
    { 
     &quot;data&quot;: { 
      &quot;text/plain&quot;: &quot;         date     county       state   fips  cases  deaths\n0  2020-01-21  Snohomish  Washington  53061      1     0.0\n1  2020-01-22  Snohomish  Washington  53061      1     0.0\n2  2020-01-23  Snohomish  Washington  53061      1     0.0\n3  2020-01-24       Cook    Illinois  17031      1     0.0\n4  2020-01-24  Snohomish  Washington  53061      1     0.0&quot;, 
      &quot;text/html&quot;: &quot;&lt;div&gt;\n&lt;style scoped&gt;\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n&lt;/style&gt;\n&lt;table border=\&quot;1\&quot; class=\&quot;dataframe\&quot;&gt;\n  &lt;thead&gt;\n    &lt;tr style=\&quot;text-align: right;\&quot;&gt;\n      &lt;th&gt;&lt;/th&gt;\n      &lt;th&gt;date&lt;/th&gt;\n      &lt;th&gt;county&lt;/th&gt;\n      &lt;th&gt;state&lt;/th&gt;\n      &lt;th&gt;fips&lt;/th&gt;\n      &lt;th&gt;cases&lt;/th&gt;\n      &lt;th&gt;deaths&lt;/th&gt;\n    &lt;/tr&gt;\n  &lt;/thead&gt;\n  &lt;tbody&gt;\n    &lt;tr&gt;\n      &lt;th&gt;0&lt;/th&gt;\n      &lt;td&gt;2020-01-21&lt;/td&gt;\n      &lt;td&gt;Snohomish&lt;/td&gt;\n      &lt;td&gt;Washington&lt;/td&gt;\n      &lt;td&gt;53061&lt;/td&gt;\n      &lt;td&gt;1&lt;/td&gt;\n      &lt;td&gt;0.0&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n      &lt;th&gt;1&lt;/th&gt;\n      &lt;td&gt;2020-01-22&lt;/td&gt;\n      &lt;td&gt;Snohomish&lt;/td&gt;\n      &lt;td&gt;Washington&lt;/td&gt;\n      &lt;td&gt;53061&lt;/td&gt;\n      &lt;td&gt;1&lt;/td&gt;\n      &lt;td&gt;0.0&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n      &lt;th&gt;2&lt;/th&gt;\n      &lt;td&gt;2020-01-23&lt;/td&gt;\n      &lt;td&gt;Snohomish&lt;/td&gt;\n      &lt;td&gt;Washington&lt;/td&gt;\n      &lt;td&gt;53061&lt;/td&gt;\n      &lt;td&gt;1&lt;/td&gt;\n      &lt;td&gt;0.0&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n      &lt;th&gt;3&lt;/th&gt;\n      &lt;td&gt;2020-01-24&lt;/td&gt;\n      &lt;td&gt;Cook&lt;/td&gt;\n      &lt;td&gt;Illinois&lt;/td&gt;\n      &lt;td&gt;17031&lt;/td&gt;\n      &lt;td&gt;1&lt;/td&gt;\n      &lt;td&gt;0.0&lt;/td&gt;\n    &lt;/tr&gt;\n    &lt;tr&gt;\n      &lt;th&gt;4&lt;/th&gt;\n      &lt;td&gt;2020-01-24&lt;/td&gt;\n      &lt;td&gt;Snohomish&lt;/td&gt;\n      &lt;td&gt;Washington&lt;/td&gt;\n      &lt;td&gt;53061&lt;/td&gt;\n      &lt;td&gt;1&lt;/td&gt;\n      &lt;td&gt;0.0&lt;/td&gt;\n    &lt;/tr&gt;\n  &lt;/tbody&gt;\n&lt;/table&gt;\n&lt;/div&gt;&quot; 
     }, 
     &quot;execution_count&quot;: 3, 
     &quot;metadata&quot;: {}, 
     &quot;output_type&quot;: &quot;execute_result&quot; 
    } 
   ], 
   &quot;source&quot;: [ 
    &quot;total_live_data = \&quot;https://raw.githubusercontent.com/nytimes/covid-19-data/master/us-counties.csv\&quot;\n&quot;, 
    &quot;liveData = pd.read_csv(total_live_data,  dtype={\&quot;fips\&quot;: str})\n&quot;, 
    &quot;liveData.head(5)&quot; 
   ], 
   &quot;metadata&quot;: { 
    &quot;collapsed&quot;: false, 
    &quot;pycharm&quot;: { 
     &quot;name&quot;: &quot;#%%\n&quot; 
    } 
   } 
  }, 
  { 
   &quot;cell_type&quot;: &quot;code&quot;, 
   &quot;source&quot;: [ 
    &quot;print(f'Number of rows are {len(liveData)}')\n&quot;, 
    &quot;print(f'Number of counties are {len(liveData.county.unique())}')\n&quot;, 
    &quot;print(f'Number of distinct dates are {len(liveData.date.unique())}')\n&quot;, 
    &quot;print(f'Number of distinct fips are {len(liveData.fips.unique())}')&quot; 
   ], 
   &quot;metadata&quot;: { 
    &quot;collapsed&quot;: false, 
    &quot;pycharm&quot;: { 
     &quot;name&quot;: &quot;#%%\n&quot; 
    } 
   }, 
   &quot;execution_count&quot;: 4, 
   &quot;outputs&quot;: [ 
    { 
     &quot;name&quot;: &quot;stdout&quot;, 
     &quot;output_type&quot;: &quot;stream&quot;, 
     &quot;text&quot;: [ 
      &quot;Number of rows are 1196352\n&quot;, 
      &quot;Number of counties are 1930\n&quot;, 
      &quot;Number of distinct dates are 442\n&quot;, 
      &quot;Number of distinct fips are 3219\n&quot; 
     ] 
    } 
   ] 
  }, 
  { 
   &quot;cell_type&quot;: &quot;markdown&quot;, 
   &quot;source&quot;: [ 
    &quot;As shown above, the data we are using have 6 columns:\n&quot;, 
    &quot;- __Date__: represent record date\n&quot;, 
    &quot;- __County__: name of the county that report the case\n&quot;, 
    &quot;- __State__:  name of the state that this county belong\n&quot;, 
    &quot;- __Fips__: represents the Federal Information Processing Standards number that is unique for each\n&quot;, 
    &quot;county\n&quot;, 
    &quot;- __Cases__: record the number of confirmed cases\n&quot;, 
    &quot;- __Deaths__:  is the number of confirmed dead fromCOVID in each county\n&quot;, 
    &quot;&lt;br&gt;\n&quot;, 
    &quot;\n&quot;, 
    &quot;There are over 1 millions rows of data given, with 1,930 counties reporting\n&quot;, 
    &quot;covid cases over the time period of 441 days. Furthermore, we can see that there are over three\n&quot;, 
    &quot;thousands fips numbers, which is almost twice as many counties, meaning that each county can\n&quot;, 
    &quot;be broken further down into smaller regions represent by fips.\n&quot;, 
    &quot;&lt;br&gt;\n&quot;, 
    &quot;\n&quot;, 
    &quot;Because the given data is already sorted by date, we can see that Washing was the first\n&quot;, 
    &quot;state reported confirmed case, which is quite interesting. Furthermore, the data is very sparse in\n&quot;, 
    &quot;the early stage of the time interval, thus making it quite difficult for clustering because there\n&quot;, 
    &quot;are not enough information. Thus, we decided to transform the data into matrix form, with\n&quot;, 
    &quot;the rows represent each fips, the column represent the date and the value is number of\n&quot;, 
    &quot;confirmed cases for each county at a given day.\n&quot;, 
    &quot;&lt;br&gt;\n&quot;, 
    &quot;\n&quot;, 
    &quot;To start this transformation, we first observe that we only need 3 columns, date, fips and cases,\n&quot;, 
    &quot;because we can deduce the state and county from any given fips. Also the deaths confirmed number\n&quot;, 
    &quot;contains many zero, so we decided to drop that column.&quot; 
   ], 
   &quot;metadata&quot;: { 
    &quot;collapsed&quot;: false, 
    &quot;pycharm&quot;: { 
     &quot;name&quot;: &quot;#%% md\n&quot; 
    } 
   } 
  }, 
  { 
   &quot;cell_type&quot;: &quot;code&quot;, 
   &quot;execution_count&quot;: 5, 
   &quot;outputs&quot;: [], 
   &quot;source&quot;: [ 
    &quot;covidData = liveData[['date','fips','cases']]\n&quot;, 
    &quot;groupByFips = covidData.set_index('date').groupby('fips')&quot; 
   ], 
   &quot;metadata&quot;: { 
    &quot;collapsed&quot;: false, 
    &quot;pycharm&quot;: { 
     &quot;name&quot;: &quot;#%%\n&quot; 
    } 
   } 
  }, 
  { 
   &quot;cell_type&quot;: &quot;code&quot;, 
   &quot;execution_count&quot;: 6, 
   &quot;outputs&quot;: [ 
    { 
     &quot;data&quot;: { 
      &quot;text/plain&quot;: &quot;count      3218.000000\nmean       3316.863287\nstd       11715.329320\nmin           1.000000\n25%         366.556524\n50%         852.515182\n75%        2174.934757\nmax      383966.876430\nName: cases, dtype: float64&quot; 
     }, 
     &quot;execution_count&quot;: 6, 
     &quot;metadata&quot;: {}, 
     &quot;output_type&quot;: &quot;execute_result&quot; 
    } 
   ], 
   &quot;source&quot;: [ 
    &quot;groupByFips.cases.mean().describe()&quot; 
   ], 
   &quot;metadata&quot;: { 
    &quot;collapsed&quot;: false, 
    &quot;pycharm&quot;: { 
     &quot;name&quot;: &quot;#%%\n&quot; 
    } 
   } 
  }, 
  { 
   &quot;cell_type&quot;: &quot;markdown&quot;, 
   &quot;source&quot;: [ 
    &quot;After grouping the data by fips number, we calculate the means value of cases reported and call\n&quot;, 
    &quot;the describe method to find some statistics. Looking the count of 3218 which equals to the number\n&quot;, 
    &quot;of fips we find above and confirm that the group by is correct.\n&quot;, 
    &quot;&lt;br&gt;\n&quot;, 
    &quot;\n&quot;, 
    &quot;Looking at the mean and standard deviation value, we can see that the data is more spread out, which\n&quot;, 
    &quot;indicate that clustering technique would be useful in this application to identify and group\n&quot;, 
    &quot;similar data points. Furthermore, from the distribution information, we can see that there are\n&quot;, 
    &quot;abnormally, where some group have mean value of only 1 cases, and some having over 300,000 cases.\n&quot;, 
    &quot;&lt;br&gt;\n&quot; 
   ], 
   &quot;metadata&quot;: { 
    &quot;collapsed&quot;: false, 
    &quot;pycharm&quot;: { 
     &quot;name&quot;: &quot;#%% md\n&quot; 
    } 
   } 
  }, 
  { 
   &quot;cell_type&quot;: &quot;code&quot;, 
   &quot;execution_count&quot;: 7, 
   &quot;outputs&quot;: [ 
    { 
     &quot;name&quot;: &quot;stderr&quot;, 
     &quot;output_type&quot;: &quot;stream&quot;, 
     &quot;text&quot;: [ 
      &quot;&lt;ipython-input-7-a1c7b9b46d05&gt;:5: MatplotlibDeprecationWarning: The 'nonposy' parameter of __init__() has been renamed 'nonpositive' since Matplotlib 3.3; support for the old name will be dropped two minor releases later.\n&quot;, 
      &quot;  plt.yscale('log', nonposy='clip')\n&quot; 
     ] 
    }, 
    { 
     &quot;data&quot;: { 
      &quot;text/plain&quot;: &quot;&lt;Figure size 432x288 with 1 Axes&gt;&quot;, 
      &quot;image/png&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAZUAAAEGCAYAAACtqQjWAAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjMuNCwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy8QVMy6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAW70lEQVR4nO3de5QmdX3n8feHGRFFRYHR9XBxIMPqDh4jZIRoPB7CGpeLo666kVE3RgkcVMRsThLHdXVNcjREzcaYeAkqy4m6ILJeQDEQUVZNXOUiIAjEyTguI67gJXhJWAS/+0dVMw9t9/TTM1XzVDnv1zl9uurXz1P17V9P92eqflW/SlUhSVIX9ph1AZKknx+GiiSpM4aKJKkzhookqTOGiiSpMytnXcDO2H///Wv16tWzLkOSRuWqq676TlWt6mPbow6V1atXc+WVV866DEkalSTf6Gvbnv6SJHXGUJEkdcZQkSR1ZpShkmR9krPuuOOOWZciSZowylCpqouq6tR99tln1qVIkiaMMlQkScNkqEiSOmOoSJI6M+qbH3fG6o2fmNm+t5x54sz2LUl98khFktSZUYaKlxRL0jCNMlS8pFiShmmUoSJJGiZDRZLUGUNFktQZQ0WS1BlDRZLUGUNFktQZQ0WS1BlDRZLUmVGGinfUS9IwjTJUvKNekoZplKEiSRomQ0WS1BlDRZLUGUNFktQZQ0WS1BlDRZLUGUNFktQZQ0WS1BlDRZLUGUNFktQZQ0WS1JnBhEqSf5PkXUkuSPLSWdcjSVq+XkMlydlJbkty/bz245LcnGRTko0AVXVjVZ0G/Dqwrs+6JEn96PtI5RzguMmGJCuAtwPHA2uBDUnWtl97BvB54LKe65Ik9aDXUKmqzwLfm9d8FLCpqjZX1V3AecAz29dfWFVPAl7QZ12SpH6snME+DwBumVjfChyd5Bjg2cD9gYsXe3OSU4FTAQ4++ODeipQkLd8sQiULtFVVXQ5cvtSbq+os4CyAdevWVaeVSZJ2yiyu/toKHDSxfiBw63I24OOEJWmYZhEqVwCHJTkkyZ7AScCFy9mAjxOWpGHq+5Lic4EvAI9OsjXJyVV1N3A6cAlwI3B+Vd3QZx2SpF2j1zGVqtqwSPvFbGcwfilJ1gPr16xZs6ObkCT1YDB31C+Hp78kaZhGGSqSpGEaZah49ZckDdMoQ8XTX5I0TKMMFUnSMBkqkqTOjDJUHFORpGEaZag4piJJwzTKUJEkDZOhIknqjKEiSerMKEPFgXpJGqZRhooD9ZI0TKMMFUnSMBkqkqTOGCqSpM6MMlQcqJekYRplqDhQL0nDNMpQkSQNk6EiSeqMoSJJ6oyhIknqjKEiSerMKEPFS4olaZhGGSpeUixJwzTKUJEkDZOhIknqjKEiSeqMoSJJ6oyhIknqjKEiSeqMoSJJ6oyhIknqzChDxTvqJWmYRhkq3lEvScM0ylCRJA2ToSJJ6oyhIknqzFShkuSVSR6SxnuTXJ3kaX0XJ0kal2mPVF5SVT8AngasAl4MnNlbVZKkUZo2VNJ+PgH471V17USbJEnA9KFyVZJLaULlkiQPBn7aX1mSpDFaOeXrTgYeD2yuqn9Osh/NKTBJku417ZFKAWuBM9r1vYG9eqlIkjRa04bKO4AnAhva9R8Cb++lIknSaE17+uvoqjoyyZcBqur7SfbssS5J0ghNe6TykyQraE6DkWQVDtRLkuaZNlTeBnwEeHiSNwCfB97YdTFJnpXk3Uk+5s2VkjQ+U4VKVX0A+H3gj4FvAc+qqg9N894kZye5Lcn189qPS3Jzkk1JNrb7+WhVnQL8JvC8ZXwfkqQBmHaall8GvllVb6+qvwS2Jjl6yn2cAxw3b3sraAb6j6e5qmxDkrUTL/kveCGAJI3OtKe/3gn8aGL9x23bkqrqs8D35jUfBWyqqs1VdRdwHvDMdm6xPwE+WVVXL7S9JKcmuTLJlbfffvuU5UuSdoWpp2mpqppbqaqfMv2VYws5ALhlYn1r2/YK4KnAc5OcttAbq+qsqlpXVetWrVq1EyVIkro2bTBsTnIG245OXgZs3on9LjRvWFXV22guCpAkjdC0RyqnAU8CvklzVHE0cOpO7HcrcNDE+oHArdO+2WfUS9IwTXv1121VdVJVPbyqHlFVz6+q23Ziv1cAhyU5pL2J8iTgwmnf7DPqJWmYpjr91d7seAqwevI9VfWSKd57LnAMsH+SrcB/rar3JjkduARYAZxdVTcsu3pJ0qBMO6byMeBzwKeAe5azg6rasEj7xcDFy9nWnCTrgfVr1qzZkbdLknoybag8sKpe1Wsly1BVFwEXrVu37pRZ1yJJ2mbagfqPJzmh10okSaM3bai8kiZY7kzygyQ/TPKDPgvbHq/+kqRhmvbqrwdX1R5VtVdVPaRdf0jfxW2nHq/+kqQBmnburyR5YZLXtusHJTmq39IkSWOz3Cc/Pr9d/xFO+ChJmmfaUDm6ql4O3AnNkx+BmT350TEVSRqmUT750TEVSRqmQT35UZI0bkve/JhkD+DrNE9+/Lc0Mww/q6pu7Lk2SdLILBkqVfXTJH9aVU8EbtoFNS3JaVokaZimPf11aZLnJFnoOSi7nGMqkjRM08799TvA3sDdSe6kOQVWs7wBUpI0PFOFSlU9uO9CJEnjN+3zVJ6yUHtVfbbbciRJYzbt6a/fm1jeCzgKuAo4tvOKJEmjNe3pr/WT60kOAt7US0VT8OovSRqmaa/+mm8r8NguC1kOr/6SpGGadkzlL2inaKEJoscD1/ZUkyRppKYdU7lyYvlu4Nyq+rse6pEkjdi0oXIBcGdV3QOQZEWSB1bVP/dXmiRpbKYdU7kMeMDE+gOAT3VfjiRpzKYNlb2q6kdzK+3yA/spSZI0VtOGyo+THDm3kuSXgH/pp6Sl+ZAuSRqmaUPlt4EPJflcks8BHwRO762qJXhJsSQN07Q3P16R5DHAo2kmk7ypqn7Sa2WSpNGZ6kglycuBvavq+qr6CvCgJC/rtzRJ0thMe/rrlKr6p7mVqvo+cEovFUmSRmvaUNlj8gFdSVYAe/ZTkiRprKa9+fFS4Pwk76KZruWlwN/0VpUkaZSmDZXX0pzuOo1moP5S4L19FSVJGqfthkqSlcAbgRcDt9AEykHA12lOnd3Td4GSpPFYakzlzcC+wKFVdWRVHQEcAuwDvKXv4iRJ47JUqDyd5sqvH841tMsvBU7os7Dt8Y56SRqmpUKlqqoWaLyHbc9X2eW8o16ShmmpUPlqkt+Y35jkhcBN/ZQkSRqrpa7+ejnw4SQvAa6iOTp5As3U9/++59p+bq3e+ImZ7HfLmSfOZL+Sdh/bDZWq+iZwdJJjgcNprv76ZFVdtiuKkySNy7QTSn4a+HTPtUiSRm7aaVokSVqSoSJJ6oyhIknqjKEiSeqMoSJJ6oyhIknqjKEiSerMYEIlyaFJ3pvkglnXIknaMb2GSpKzk9yW5Pp57ccluTnJpiQbAapqc1Wd3Gc9kqR+9X2kcg5w3GRD+3z7twPHA2uBDUnW9lyHJGkX6DVUquqzwPfmNR8FbGqPTO4CzgOeOe02k5ya5MokV95+++0dVitJ2lmzGFM5gObRxHO2Agck2S/Ju4Ajkrx6sTdX1VlVta6q1q1atarvWiVJyzDVhJIdywJtVVXfBU7b1cVIkroziyOVrcBBE+sHArcuZwM+TliShmkWoXIFcFiSQ5LsCZwEXLicDfg4YUkapr4vKT4X+ALw6CRbk5xcVXcDpwOXADcC51fVDX3WIUnaNXodU6mqDYu0XwxcvKPbTbIeWL9mzZod3cRuaVaPMQYfZSztLgZzR/1yePpLkoZplKEiSRqmUYaKV39J0jCNMlQ8/SVJwzTKUJEkDZOhIknqzChDxTEVSRqmUYaKYyqSNEyjDBVJ0jAZKpKkzowyVBxTkaRhGmWoOKYiScM0ylCRJA2ToSJJ6oyhIknqjKEiSerMKEPFq78kaZhGGSpe/SVJwzTKUJEkDZOhIknqjKEiSeqMoSJJ6oyhIknqzMpZF7AjkqwH1q9Zs2bWpWjgVm/8xEz2u+XME2eyX2nWRnmk4iXFkjRMowwVSdIwGSqSpM4YKpKkzhgqkqTOGCqSpM4YKpKkzhgqkqTOGCqSpM6MMlR8SJckDdMoQ8U76iVpmEYZKpKkYTJUJEmdMVQkSZ0xVCRJnTFUJEmdMVQkSZ0xVCRJnTFUJEmdMVQkSZ0xVCRJnTFUJEmdMVQkSZ1ZOesC5iTZG3gHcBdweVV9YMYlSZKWqdcjlSRnJ7ktyfXz2o9LcnOSTUk2ts3PBi6oqlOAZ/RZlySpH32f/joHOG6yIckK4O3A8cBaYEOStcCBwC3ty+7puS5JUg96Pf1VVZ9Nsnpe81HApqraDJDkPOCZwFaaYLmG7YRdklOBUwEOPvjg7otWL1Zv/MSsS5A6N8t/11vOPHFm+96eWQzUH8C2IxJowuQA4MPAc5K8E7hosTdX1VlVta6q1q1atarfSiVJyzKLgfos0FZV9WPgxVNtIFkPrF+zZk2nhUmSds4sjlS2AgdNrB8I3LqcDfg4YUkaplmEyhXAYUkOSbIncBJw4QzqkCR1rO9Lis8FvgA8OsnWJCdX1d3A6cAlwI3A+VV1wzK3uz7JWXfccUf3RUuSdljfV39tWKT9YuDindjuRcBF69atO2VHtyFJ6p7TtEiSOmOoSJI6M8pQcUxFkoYpVTXrGnZYktuBb+zg2/cHvtNhOV2zvh035Npg2PUNuTawvp0xWdujqqqXu8dHHSo7I8mVVbVu1nUsxvp23JBrg2HXN+TawPp2xq6qbZSnvyRJw2SoSJI6szuHylmzLmAJ1rfjhlwbDLu+IdcG1rczdkltu+2YiiSpe7vzkYokqWOGiiSpO1W1233QPOL4ZmATsLHnfW0BvkLzRMsr27Z9gb8FvtZ+ftjE61/d1nUz8O8m2n+p3c4m4G1sO3V5f+CDbfsXgdVL1HM2cBtw/UTbLqkHeFG7j68BL5qyttcD32z77xrghBnVdhDwGZpJUG8AXjmwvlusvqH0317Al4Br2/r+YCj9t53aBtF3E69bAXwZ+PhQ+m7BOnfmD+YYP9ofzD8ChwJ7tv+Q1va4vy3A/vPa3kQbZsBG4E/a5bVtPfcHDmnrXNF+7UvAE2kecvZJ4Pi2/WXAu9rlk4APLlHPU4Ajue8f7t7raX8BNrefH9YuP2yK2l4P/O4C38euru2RwJHt8oOBf2hrGErfLVbfUPovwIPa5fvR/OH65SH033ZqG0TfTez3d4D/wbZQmXnfLVhnX39Mh/rRduglE+uvBl7d4/628LOhcjPwyHb5kcDNC9VC83iAJ7avuWmifQPwV5OvaZdX0twxmyVqWs19/3D3Xs/ka9qv/RWwYYraXs/Cv9i7vLZ5+/8Y8GtD6rtF6htc/wEPBK4Gjh5a/82rbTB9R/Mww8uAY9kWKoPqu7mP3XFM5QDglon1rW1bXwq4NMlVSU5t2x5RVd8CaD8/fInaDmiXF6r53vdU86yaO4D9llnjrqhnZ/r99CTXJTk7ycNmXVuS1cARNP+jHVzfzasPBtJ/SVYkuYbmFOffVtVg+m+R2mAgfQe8Ffh94KcTbYPou/l2x1DJAm3V4/5+paqOBI4HXp7kKdt57WK1ba/mPr+fLuvZ0TrfCfwC8HjgW8CfzrK2JA8C/ifw21X1g0WrHk59g+m/qrqnqh5P87/uo5I8dqHvYRb1LVLbIPouydOB26rqqgVeu5CZ/t7ujqGylWZQc86BwK197ayqbm0/3wZ8BDgK+HaSRwK0n29borat7fJCNd/7niQrgX2A7y2zzF1Rzw71e1V9u/2F/ynwbpr+m0ltSe5H8wf7A1X14bZ5MH23UH1D6r85VfVPwOU0F8wMpv/m1zagvvsV4BlJtgDnAccmeT8D67t7be/c2M/jB835ws00A1hzA/WH97SvvYEHTyz/Pc0v0pu57wDbm9rlw7nvANtmtg2wXUEzeDg3wHZC2/5y7jvAdv4Uda3mvuMWvddDM9D3dZrBvoe1y/tOUdsjJ5b/E3DeLGprt/XXwFvntQ+i77ZT31D6bxXw0Hb5AcDngKcPof+2U9sg+m5ePx7DtjGVmffdgjX28cd06B/ACTRXx/wj8Joe93No+8O9luZSxde07fvRDLp9rf08+Q/8NW1dN9NemdG2rwOub7/2l2y7FHAv4EM0lwJ+CTh0iZrOpTmU/wnN/0JO3lX1AC9p2zcBL56ytvfRXAJ5HXAh9/1F35W1PZnmsP86Ji4xHVDfLVbfUPrvcTSXw17Xbvt1u/J3YXv1bae2QfTdvFqPYVuozLzvFvpwmhZJUmd2xzEVSVJPDBVJUmcMFUlSZwwVSVJnDBVJUmcMFe1ySSrJ+ybWVya5PcnHe97vOUm+nuTaJP+Q5K+TLDlVTJL3JFnbLm9Jsn+fdS6w/z9M8tQF2o/pu8+k5TJUNAs/Bh6b5AHt+q/RTDG+K/xeVf0i8GiaexM+k2TP7b2hqn6rqr66S6pbeP+vq6pPzWr/0nIYKpqVTwIntssbaG58BCDJ3u0Eflck+XKSZ7btq5N8LsnV7ceT2vZjklye5IIkNyX5QJKF5iy6VzX+DPi/NPOykeSdSa5MckOSP5io5/Ik6ybfn+SPkrxyYv0NSc6Yv58kv9FOSHjt3NFZkkcluaxtvyzJwUn2aY+C9mhf88AktyS5X3uE9dy2/bj2e/w88OyFvrd2csS3JPlKu49XtO2va/v0+iRnzfVRkjOSfLV97XlL/AwOT/KlJNe0rz9se/2s3VBXd4/74ce0H8CPaO5ivoDmTt5ruO+dwm8EXtguP5Rm9oO9aaYl36ttP4xtDz07hmZW1QNp/qP0BeDJC+z3HOC589reCryqXd63/byCZv6nx7XrlwPr2uUtwP4008lc3bbtQXOH8n7ztn04zR3N+8/b/kW0DzuiuVv5o+3yx4BfbZefB7xnsu62r25pv/cA58/12bz9vpRmDrCV8/Y7ecf1+4D17fKtwP3n+nuJn8FfAC9o2/cEHjDrf09+DOvDIxXNRFVdR/OHeQNw8bwvPw3Y2E5FfjnNH9ODaR6g9O4kX6GZUmLtxHu+VFVbq5n875p229OYPKL59SRX05wWO3ze9ufXvwX4bpIj2nq/XFXfnfeyY4ELquo77XvmJvp8Is3DlqD54/7kdvmDNGEC7YOS5m3vMcDXq+prVVXA+xcp76k08zjdPW+/v5rki23/Hdt+j9BMQ/KBJC8E7m7bFvsZfAH4z0leBTyqqv5lkRq0m1o56wK0W7sQeAvNkcbkM2ACPKeqbp58cZLXA98GfpHm6ODOiS//v4nle5j+3/YRwGVJDgF+F3hCVX0/yTk0f0i35z3AbwL/iuZRyPOF6ab3n3vNhcAfJ9mX5rGvn97Oa7fnZ/abZC/gHTRHXLe0fTn3/Z1I89TNZwCvTXI4i/wMgBuTfLF9zyVJfquqFqpTuymPVDRLZwN/WFVfmdd+CfCKiXP+R7Tt+wDfao9G/iPNaaodksYZNE/D+xvgITQXENyR5BG04yxL+AjNrNNPaGue7zKao5/92n3u27b/Pc2RCMALgM8DVNWPaCbz+3Oa01r3zNveTcAhSX6hXd+wSF2XAqelmcJ8br9zAfKdNM9cmRuj2QM4qKo+Q/MQqIcCD2KRn0GSQ4HNVfU2mhB83GKdo92ToaKZaU9X/fkCX/ojmlNd1yW5vl2H5n/aL0ryv4F/TRMCy/XmJNfSjBE8gWYM466qupbmtNcNNGH3d1PUfxfwGZppwucHAFV1A/AG4H+1+/xv7ZfOAF6c5DqacHzlxNs+CLyQnz31RVXdCZwKfKIdqP/GIqW9B/g/NP13LfD8ap4T8m6aWXc/SjMFOjTB/P72lNiXgT9rX7vYz+B5wPXtabHH0Ey3L93LWYqlHdT+L/9q4D9U1ddmXY80BB6pSDsgzc2Qm4DLDBRpG49UJEmd8UhFktQZQ0WS1BlDRZLUGUNFktQZQ0WS1Jn/D7LL3zMqPDygAAAAAElFTkSuQmCC\n&quot; 
     }, 
     &quot;metadata&quot;: { 
      &quot;needs_background&quot;: &quot;light&quot; 
     }, 
     &quot;output_type&quot;: &quot;display_data&quot; 
    } 
   ], 
   &quot;source&quot;: [ 
    &quot;plt.hist(list(groupByFips.cases.mean()))\n&quot;, 
    &quot;plt.rcParams['axes.facecolor'] = 'white'\n&quot;, 
    &quot;plt.ylabel('Occurences')\n&quot;, 
    &quot;plt.xlabel('Mean Daily covid cases')\n&quot;, 
    &quot;plt.yscale('log', nonposy='clip')&quot; 
   ], 
   &quot;metadata&quot;: { 
    &quot;collapsed&quot;: false, 
    &quot;pycharm&quot;: { 
     &quot;name&quot;: &quot;#%%\n&quot; 
    } 
   } 
  }, 
  { 
   &quot;cell_type&quot;: &quot;markdown&quot;, 
   &quot;source&quot;: [ 
    &quot;Using the histogram graph, we can see that the majority of counties have mean COVID-19 cases of less\n&quot;, 
    &quot;than 75,000. However, there are regions with significantly more daily cases, and we suspect these regions to be highly\n&quot;, 
    &quot;populated, however we will only be confirmed this hypothesis when doing the clustering. Also note that the graph is converted\n&quot;, 
    &quot;to log scale for cleaner representation.&quot; 
   ], 
   &quot;metadata&quot;: { 
    &quot;collapsed&quot;: false, 
    &quot;pycharm&quot;: { 
     &quot;name&quot;: &quot;#%% md\n&quot; 
    } 
   } 
  }, 
  { 
   &quot;cell_type&quot;: &quot;markdown&quot;, 
   &quot;source&quot;: [ 
    &quot;## Clustering\n&quot;, 
    &quot;In the section, we will discuss our implementation of K-Means and Hierarchical Clustering to\n&quot;, 
    &quot;the presented dataset above.\n&quot;, 
    &quot;&lt;br&gt;\n&quot;, 
    &quot;However, before we proceed with the clustering techniques, we need to identify how many clusters is\n&quot;, 
    &quot;suitable for our dataset. In order to do so, we pick out a sample data set to run k means clustering\n&quot;, 
    &quot;on, with k value set from 1 to 30 to find the best value.&quot; 
   ], 
   &quot;metadata&quot;: { 
    &quot;collapsed&quot;: false, 
    &quot;pycharm&quot;: { 
     &quot;name&quot;: &quot;#%% md\n&quot; 
    } 
   } 
  }, 
  { 
   &quot;cell_type&quot;: &quot;code&quot;, 
   &quot;execution_count&quot;: 8, 
   &quot;outputs&quot;: [], 
   &quot;source&quot;: [ 
    &quot;elbowTestData = groupByFips['cases'].apply(list).reset_index(name = 'new')&quot; 
   ], 
   &quot;metadata&quot;: { 
    &quot;collapsed&quot;: false, 
    &quot;pycharm&quot;: { 
     &quot;name&quot;: &quot;#%%\n&quot; 
    } 
   } 
  }, 
  { 
   &quot;cell_type&quot;: &quot;code&quot;, 
   &quot;execution_count&quot;: 9, 
   &quot;outputs&quot;: [], 
   &quot;source&quot;: [ 
    &quot;fips = list(groupByFips.fips.groups.keys())\n&quot;, 
    &quot;resultgroupBy = groupByFips['cases'].apply(list).reset_index(name = 'new')\n&quot;, 
    &quot;elbowData = resultgroupBy['new'].apply(lambda r: r[-100::5]).to_list()&quot; 
   ], 
   &quot;metadata&quot;: { 
    &quot;collapsed&quot;: false, 
    &quot;pycharm&quot;: { 
     &quot;name&quot;: &quot;#%%\n&quot; 
    } 
   } 
  }, 
  { 
   &quot;cell_type&quot;: &quot;code&quot;, 
   &quot;execution_count&quot;: 10, 
   &quot;outputs&quot;: [ 
    { 
     &quot;data&quot;: { 
      &quot;text/plain&quot;: &quot;&lt;Figure size 432x288 with 1 Axes&gt;&quot;, 
      &quot;image/png&quot;: &quot;iVBORw0KGgoAAAANSUhEUgAAAXgAAAERCAYAAABxZrw0AAAAOXRFWHRTb2Z0d2FyZQBNYXRwbG90bGliIHZlcnNpb24zLjMuNCwgaHR0cHM6Ly9tYXRwbG90bGliLm9yZy8QVMy6AAAACXBIWXMAAAsTAAALEwEAmpwYAAAh5ElEQVR4nO3de5xVdb3/8ddnzx2YYbjMIIwiYgneQdFQisxMvB3Bsk5a/bLT43jq0UWrQwe6nOp0Kj2a5eliUZl5jqebIpp2QkvR9KgFAgIiagjCgDAKI7e5z+f3x1ozzgx7z+y5rNl7r/1+Ph7zYO/v/u61PosFn/Wd7/qu79fcHRERiZ9EpgMQEZFoKMGLiMSUEryISEwpwYuIxJQSvIhITCnBi4jEVNYleDO71cx2m9n6NOrONbOnzazVzC7vUn60ma0yszVmtsHMPhZt1CIi2ceybRy8mc0FDgC3u/tJfdSdAlQA/wzc6+53huXFBMfWZGajgPXA2e6+I9LgRUSySNa14N39UWBP1zIzO9bM/hC2yv9sZtPDulvc/Rmgvcc2mt29KXxbQhYep4hI1HIl8S0BPuXupxO01n/Y1xfM7CgzewbYBlyv1ruI5JvCTAfQl7CL5Wzgt2bWUVzS1/fcfRtwiplNApaZ2Z3uviu6SEVEskvWJ3iC3zLq3X3GQL7s7jvMbAPwNuDOoQxMRCSbZX0XjbvvA14ys/cCWODU3r5jZkeaWVn4egwwB9gUebAiIlkk6xK8mf0SeAKYZmbbzeyjwAeAj5rZWmADMD+se4aZbQfeC/w4bKkDHA88FdZ/BLjR3dcN97GIiGRS1g2TFBGRoZF1LXgRERkaWXWTdfz48T5lypRMhyEikjNWrVr1qrtXJfssqxL8lClTWLlyZabDEBHJGWa2NdVn6qIREYkpJXgRkZhSghcRialIE7yZVZrZnWb2nJltNLOzotyfiIi8IeqbrDcDf3D3y8MpfEdEvD8REQlFluDNrAKYC1wFwRS+QPNQ72fZ6lpuWL6JHfUNTKosY+G8aSyYWTPUuxERyTlRdtFMBeqAn5vZajP7qZmN7FnJzK42s5VmtrKurq5fO1i2upbFS9dRW9+AA7X1DSxeuo5lq2uH5ghERHJYlAm+EDgNuMXdZwIHgUU9K7n7Enef5e6zqqqSjtVP6Yblm2hoaetW1tDSxg3LNa+YiEiUCX47sN3dnwrf30mQ8IfMjvqGfpWLiOSTyBK8u78CbDOzaWHRO4Fnh3IfkyrL+lUuIpJPoh4H/yngjnDpvBnAN4dy4wvnTaOsqKBbWVlRAQvnTUvxDRGR/BHpMEl3XwPMimr7HaNlFi9dR0NLGzUaRSMi0imrJhsbiAUza9iw43Vuf2Irj/3LO+iybquISF6LxVQFEypKaWptZ19ja6ZDERHJGrFI8FXlJQDU7W/McCQiItkjFgm+urwUgF37mjIciYhI9ohHgq8IWvC71YIXEekUjwQfdtHsVgteRKRTLBL8qJJCRhQXsHu/EryISIdYJHgzo7q8RAleRKSLWCR4CG607tqnPngRkQ6xSfBVFSXUqQUvItIpNgl+Qnkpu9WCFxHpFJsEX11RwsHmNg406WlWERGIU4LvHCqpVryICMQqwQdPs2okjYhIID4JvvNpViV4ERGIUYKf0NGCVxeNiAgQowRfUVZIcWFCQyVFREKxSfAdT7PqYScRkUBsEjyg6QpERLqIWYIvVYIXEQnFKsFPqCjRTVYRkVCsEnx1RSn7GltpbGnLdCgiIhkXqwRfpYU/REQ6xSrBd05XoKX7REQojHLjZrYF2A+0Aa3uPivK/U2o0HQFIiIdIk3woXe4+6vDsB9NOCYi0kWsumjGjCimMGHsUgteRCTyBO/AA2a2ysyuTlbBzK42s5VmtrKurm5QO0skjKryEt1kFREh+gQ/x91PAy4EPmFmc3tWcPcl7j7L3WdVVVUNeofB06zqohERiTTBu/uO8M/dwN3AmVHuD4Kx8JpwTEQkwgRvZiPNrLzjNXA+sD6q/XXQhGMiIoEoR9FMAO42s479/I+7/yHC/QHBfDR7D7XQ3NpOcWGs7iGLiPRLZAne3TcDp0a1/VQ6VnaqO9BETWXZcO9eRCRrxK6JO6FCY+FFRCCGCV6Lb4uIBGKY4NWCFxGBGCb4caNKSJha8CIisUvwBQlj3Cg9zSoiErsED+HKTnqaVUTyXCwTvNZmFRGJbYIvYZe6aEQkz8U2wb92sInWtvZMhyIikjGxTPBVFaW4w2sHmzMdiohIxsQywU/Q4tsiIvFM8NXh2qyaVVJE8lk8E3xHC14jaUQkj8UywY8f1ZHg1YIXkfwVywRfXJhg3MhiteBFJK/FMsEDWnxbRPJebBN8dUWpumhEJK/FN8GrBS8ieS7WCf7VA020t3umQxERyYjYJvgJFaW0tjt7DulpVhHJT7FN8B1j4fWwk4jkq/gm+Ao97CQi+S2+CT5cfLtON1pFJE/FNsFXletpVhHJb5EneDMrMLPVZnZf1PvqqrSogNFlReqiEZG8NRwt+GuAjcOwn8MEKzupBS8i+SnSBG9mRwIXAz+Ncj+pVFeUqAUvInkr6hb8d4HPAxlZO6+6vFRPs4pI3ooswZvZJcBud1/VR72rzWylma2sq6sb0hiqK0qo29+Eu55mFZH8E2ULfg5wqZltAX4FnGtm/92zkrsvcfdZ7j6rqqpqSAOoLi+lua2d+kMtQ7pdEZFcEFmCd/fF7n6ku08B3g885O4fjGp/yWhlJxHJZ7EdBw9dE7xG0ohI/ikcjp24+wpgxXDsq6uOxbd1o1VE8lGetOCV4EUk/8Q6wY8sKWRUSaEedhKRvBTrBA9BK75OLXgRyUOxT/BV5SW6ySoieSn2CT5YfFsteBHJP7FP8BPCxbf1NKuI5JvYJ/jqihIaWtrY39Sa6VBERIZV2uPgzawAmND1O+7+chRBDaWOlZ1272uiorQow9GIiAyftBK8mX0K+AqwizdmhnTglIjiGjJdn2Z9U/WoDEcjIjJ80m3BXwNMc/fXogwmCh1Ps2qopIjkm3T74LcBr0cZSFSqK4IWvB52EpF8k24LfjOwwszuBzqbwu5+UyRRDaHykkJKixKaj0ZE8k66Cf7l8Kc4/MkZZhas7KQuGhHJM2kleHf/GoCZlQdv/UCkUQ2xaj3NKiJ5KK0+eDM7ycxWA+uBDWa2ysxOjDa0oTNBT7OKSB5K9ybrEuCz7n60ux8NfA74SXRhDa2q8GlWEZF8km6CH+nuD3e8CRfwGBlJRBGorijhQFMrh5r1NKuI5I90E/xmM/uymU0Jf74EvBRlYEOp69OsIiL5It0E/w9AFbAUuDt8/ZGoghpqWtlJRPJRuqNo9gKfjjiWyEwIn2bVw04ikk96TfBm9l13v9bMfkcw90w37n5pZJENIbXgRSQf9dWC/6/wzxujDiRKlSOKKC5IaCy8iOSVXhO8u68KX85w95u7fmZm1wCPRBXYUDIzqspLqNNNVhHJI+neZP1wkrKrhjCOyFVXlKiLRkTySl998FcAVwJTzezeLh+VAzk1dXB1eQmb6w5mOgwRkWHTVx/8/wE7gfHAt7uU7wee6e2LZlYKPAqUhPu5092/MvBQB6e6vJQnN+/J1O5FRIZdX33wW81sO3DQ3fvb394EnOvuB8ysCHjMzP7X3Z8caLCDUV1ewusNLTS2tFFaVJCJEEREhlWfffDu3gYcMrPR/dmwBzpmnSwKfw4bajlcOhb+0MpOIpIv0p0PvhFYZ2YPAp0d2e7e68NP4ULdq4A3AT9w96eS1LkauBpg8uTJaYbTfx1L9+3e38hRY0dEth8RkWyRboK/P/zpl7D1P8PMKoG7zewkd1/fo84SgtkqmTVrVmQt/M6HnTRUUkTyRLpTFfzCzIqB48KiTe7eku5O3L3ezFYAFxDMKT/sOiccUxeNiOSJdBf8OAd4AfgB8EPgeTOb28d3qsKWO2ZWBpwHPDeIWAdl3MhiChKmp1lFJG+k20XzbeB8d98EYGbHAb8ETu/lOxOBX4T98AngN+5+32CCHYxEwhg/qlhdNCKSN9JN8EUdyR3A3Z8Phz6m5O7PADMHE9xQm1BRyi510YhInkh3qoKVZvYzMzsn/PkJweiYnLFsdS3Pv7KfR5+vY851D7FsdW2mQxIRiVS6LfiPA58gmBPeCJ5Q/UFUQQ21ZatrWbx0HY2t7QDU1jeweOk6ABbMrMlkaCIikUm3Bf8xd7/J3d/t7pe5+3cIkn5OuGH5Jhpa2rqVNbS0ccPyTSm+ISKS+/JiNskd9Q39KhcRiYN0Z5M8psdskhXk0GySkyrLqE2SzCdVlmUgGhGR4RHZbJLZZOG8aSxeuq5bN01ZUQEL503LYFQiItHqczZJYKuZnQc0uHt7OAZ+OrBuOAIcCh03Um9YvqmzJf/1+SfqBquIxFq6ffCPAqVmVgP8CfgIcFtUQUVhwcwaHl90Lj/+UPBs1uRxIzMckYhItNJN8Obuh4B3A99z98uAE6ILKzpvOWYsZvDk5py5hSAiMiBpJ3gzOwv4AG/MKpnuGPqsUjmimOOPqFCCF5HYSzfBXwssBu529w1mNhV4OLKoIjZ76jhWbd1LU2tb35VFRHJUWgne3R9x90vd/frw/ea+FvvIZrOnjqWptZ21217PdCgiIpHpaxz8d939WjP7HUmW23P3SyOLLEJndumHP/OYsZkOR0QkEn31o/9X+OeNUQcynDr64Z/422t8+p1vznQ4IiKR6Gsc/Krwz0fMrCp8XTccgUVt9tRx3PHUVhpb2igtKsh0OCIiQ67XPngLfNXMXiVYjel5M6szs38dnvCi80Y/fH2mQxERiURfN1mvBeYAZ7j7OHcfA7wFmGNmn4k6uCi95ZhxYT/8nkyHIiISib4S/P8DrnD3lzoK3H0z8MHws5w1ekQRJ0zUeHgRia++EnyRu7/aszDsh+91yb5cMHvqOJ5+eS+NLRoPLyLx01eCbx7gZzlh9tRxNLW2s0b98CISQ30NkzzVzPYlKTegNIJ4htWZU94YDz976rhMhyMiMqT6GiYZ6/GD6ocXkThLdy6a2Ar64evVDy8isZP3Cf6sqeNoVj+8iMRQZAnezI4ys4fNbKOZbTCza6La12CcofnhRSSmomzBtwKfc/fjgdnAJ8ws6xYJGV1WxImTgnlpRETiJLIE7+473f3p8PV+YCOQlYugzj5mHKu3qR9eROJlWPrgzWwKMBN4KslnV5vZSjNbWVeXmXnMZof98Ktfrs/I/kVEohB5gjezUcBdwLXuftiYendf4u6z3H1WVVVV1OEkpX54EYmjSBO8mRURJPc73H1plPsajI5+eCV4EYmTKEfRGPAzYKO73xTVfobKWVPVDy8i8RJlC34O8CHgXDNbE/5cFOH+BkX98CISN33NRTNg7v4YwZw1OWHWlLEkDJ7Y/BpnHat5aUQk9+X9k6wdgn740eqHF5HYUILvYvbUsazRvDQiEhNK8F3MnjqO5rZ2nn55b6ZDEREZNCX4Ls44JuiH1zqtIhIHSvBdVJQWcVKN+uFFJB6U4HuYPXWc+uFFJBaU4HuYPXVs0A+/Vf3wIpLblOB76BgPr24aEcl1SvA9vNEPrxutIpLblOCTGDeymL9s2cMxi+5nznUPsWx1baZDEhHpNyX4HpatruXxF4PuGQdq6xtYvHSdkryI5Bwl+B5uWL6J5rb2bmUNLW3csHxThiISERkYJfgedtQ39KtcRCRbKcH3MKmyrF/lIiLZSgm+h4XzplFWVNCtrKyogIXzpmUoIhGRgYlsPvhctWBmDRD0xdfWN5Aw+PcFJ3aWi4jkCrXgk1gws4bHF53Lkg+dTrvD2FElmQ5JRKTflOB7cc60akaXFXGPhkiKSA5Sgu9FcWGCi04+ggee3cWh5tZMhyMi0i9K8H2YP6OGQ81tPPjsrkyHIiLSL0rwfThzylgmji7lnjU7Mh2KiEi/KMH3IZEwLj11Eo8+X8eeg82ZDkdEJG1K8GmYP6OG1nbn/nU7Mx2KiEjalODTcPzEco6bMEqjaUQkpyjBp8HMmD+jhpVb97Jtz6FMhyMikpbIEryZ3Wpmu81sfVT7GE6XnjoJgHvX6mariOSGKFvwtwEXRLj9YXXU2BHMOnoMy1bX4u6ZDkdEpE+RJXh3fxSI1bp382fW8MLuA2zcuT/ToYiI9CnjffBmdrWZrTSzlXV1dZkOp1cXnzyRwoRxzxrdbBWR7JfxBO/uS9x9lrvPqqqqynQ4vRo7spi5x1Vx79odtLerm0ZEslvGE3yumT9jEjtfb+QvW2LV+yQiMaQE30/vOmECI4oL1E0jIlkvymGSvwSeAKaZ2XYz+2hU+xpOI4oLOf+ECdz/zE6aWtsyHY6ISEpRjqK5wt0nunuRux/p7j+Lal/Dbf7MGvY1tvLIpuy+KSwi+U1dNAPw1jeNZ+zIYs0wKSJZTQl+AIoKElxyykT+uHEX+xtbMh2OiEhSSvADNH9GDU2t7SzfoIVARCQ7KcEP0GmTKzlqbJlG04hI1lKCHyAzY/qEcv78wqscs+h+5lz3EMs0nbCIZBEl+AFatrqWR194FQAHausbWLx0nZK8iGQNJfgBumH5Jppa27uVNbS0ccPyTRmKSESkOyX4AdpR39CvchGR4aYEP0CTKsuSlpeXFtLS1p70MxGR4aQEP0AL502jrKigW1mBwb7GVhb84HE27Hg9Q5GJiASU4AdowcwavvXuk6mpLMOAmsoyvv2+GdzygdPYta+J+d9/nJse2ERzq1rzIpIZlk3Lz82aNctXrlyZ6TAGbe/BZr5+37MsXV3LtAnl/Mflp/DSqwe5YfkmdtQ3MKmyjIXzprFgZk2mQxWRHGdmq9x9VtLPlOCj89Bzu/jC0vW8sq+RwoTR2mWRkLKiAr717pOV5EVkUHpL8OqiidC50yfwwGfnMqK4oFtyBw2pFJHoKcFHrKK0iIbm5PPGa0iliERJCX4YpBpSWVKU4MXd+4c5GhHJF0rwwyDZkMrChOHtzvnfeZSFv11LrVrzIjLECjMdQD7ouJHacxTN3OOq+OHDL3L7k1u5Z80OPjj7aKZWjeCWFZs12kZEBk2jaLLAjvoGbv7jC/x65bbDPtNoGxHpjUbRZLlJlWVcf/kpVJeXHPZZQ0sb/3bfs+ze33jYZ8tW1zLnuoc0XbGIJKUumixSt78pafmeg82c+Y0/UVNZxozJlcw8qpL9jS38+NHNNLYET8p2TFcMHNbaX7a6Vg9ZieQhJfgsMqmyLOnN1vGjSvjY26eyels9a16u5/5ndib9fkNLG1+/71lOPaqSiaNLKS0qYNnqWhYvXUdDSzBUs7cLAehiIBIn6oPPIj2TMSTvg9+9r5Ezv/mnPrdXVV5C/aFmWtoOP8dV5SXc+8k5jBlRTGk4wifd/XfUTfdCoIuGSHR664NXCz6LpBpt0zMZVleUUpOytV/M4guPp7a+gdq9DUlv3ELQHXTWtx4CYERxAWNGFLN7f+NhF4OGlja+cu96WtraKS8tZGRJIau27uWWFX/rXPCkr+6hdH+DiOKiEcdtiqQr0ha8mV0A3AwUAD919+t6q5/vLfj+SLe1Pee6h5JeCMaOLGbhvGnsOdjM3oPN7DnUzNKnB3eTNmFw5JgRjCguYFRJcDF46qXXOu8TdDW6rIgvXnQ8JUUJSosKWP3yXm59fEu32TdLChN84aLpXHLKJIoKExQlEhQVGL9bu4Mv3L2+z2Pv728k6dTN9DY76ufChUjbHJ4Le0YmGzOzAuB54F3AduCvwBXu/myq7yjB9086/zj6kzxSXQwmji7lN/90FvsbWznY3Mp7f/REypgum1nDgaZWDjW3cqCpjbXb6gd3kP2QMJg4uoyChFGQMLbtOXTYHEAAxQUJzjhmDAkzChNGQSLBYy/WJb0QjSguYMHMGgos2OZvV23jYNPhU0+Ulxby8XOO7axXmDC+88cXeL2h5bC6Y0YU8Y3LTiZhRsJg8dJ1vHaw+bB640cV86MPnk4iYZ11H3m+ju8/9GK35SJLChN89l3Hcd4JEzAgYcYfN+46bFnJksIEiy+azoUnTcQADAzjDxt28o37N3Y7/tKiBF/5uxO45JRJWLjv+9bu5F/vXX9YvW8uOIn5M48MtgmYwT1rduTEBTNXttmbTCX4s4Cvuvu88P1iAHf/VqrvKMFHoz+ticH8VlBTWcbji87tVpaq7hGjS7nr42fT0NxGY0sbf/e9x0j1L/Frl55IS1s7LW1OS1s7Nz34fMpjfc9pR9LuTmu787u1O1LWm3X0GFrbnbbw59md+1LWHT+quLPevsbWlPUkPYUJw8KrQbL7QwAGlBUXdLloGAebWpP+G0lY8BuhmWHA3kPNJLmuk7BgwELHvg1j9/7GpHULzDhidGnn+1deb6QtSa4sSBg14VQkHdvdvreBtiQbLUwYk8eOoOOgXn4teQMk2f+j3mSqD74G6NoBvB14S89KZnY1cDXA5MmTIwwnfy2YWZNWiyDdewAL501LeiFYOG/aYdtMVXfRBdM7/2NA6hFENZVlfPjsKd3Kfv3XbSnrfvt9p3a+f3rr3pT17vz42d3K0r1opao3qbKUhz53TnAhcKetzbnw5j/zyr7Dn1+oLi/h9o+eSXs7tLvzkZ//lboDhw+RHT+qmJveN4N2d9yDuh/9ReoG0M3vn4E7OM5nfr02Zb1vXnZysE0Ad758z4aUdb940fE4wf6/9b/Ppaz3mfOOA+ise/OfXkhZ9+q5U8O6cMuKvyWt48CVZ07ufO0Otz7+UtK67Q6XnDKJ8Ij47ydfTlnv3OnVwTbDvJrqHlWbO7Onjut8f9fT25PXa3dOP3oMXRvKW187lLRua7tzwqSKzmPaXHcwab2hnIQwygRvScoOu1y5+xJgCQQt+AjjkTSkczFI90LQn7pDcdHoWXc4t/n5edM7RyN1WHTh9KR1v3DR8Uw/oqKz7IsXH5+03pcuPoG5x1V122aqm+s1lWXMn/HG3+mNy59PWe/Kt3RvSP3okc0p6/5jmIwBbn9ia8p615z35m5ld67anrLu5y+Y3vn+3jU7Utb70iUndCtbvuGVlHW/vuCkzvcPP1eXst517zmlW9ljL76aVmPhyc2vpaz3nb+f0a3sr1tSNyy+f+Vpne/XvJyqsZB8csKBiPJJ1u3AUV3eHwmk/p1ZcsqCmTU8vuhcXrruYh5fdG6vF4V06iZbAjFVX2S6deO4zWQT16W6EKVTT9vMjW0OVJR98IUEN1nfCdQS3GS90t1T/j6oPniRvuXKqA9tM8ajaMIdXwR8l2CY5K3u/o3e6ivBi4j0T8YedHL33wO/j3IfIiKSnGaTFBGJKSV4EZGYUoIXEYkpJXgRkZjKqumCzawO2NqlaDzwaobCiUrcjiluxwPxO6a4HQ/E75gGczxHu3tVsg+yKsH3ZGYrUw3/yVVxO6a4HQ/E75jidjwQv2OK6njURSMiElNK8CIiMZXtCX5JpgOIQNyOKW7HA/E7prgdD8TvmCI5nqzugxcRkYHL9ha8iIgMkBK8iEhMZW2CN7MLzGyTmb1oZosyHc9gmdkWM1tnZmvMLCenzDSzW81st5mt71I21sweNLMXwj/HZDLG/khxPF81s9rwPK0JZ0TNGWZ2lJk9bGYbzWyDmV0TlufkeerleHL2PJlZqZn9xczWhsf0tbB8yM9RVvbBD2TB7mxnZluAWe6esw9nmNlc4ABwu7ufFJb9B7DH3a8LL8Rj3P1fMhlnulIcz1eBA+5+YyZjGygzmwhMdPenzawcWAUsAK4iB89TL8fzPnL0PJmZASPd/YCZFQGPAdcA72aIz1G2tuDPBF50983u3gz8Cpif4Zjynrs/CuzpUTwf+EX4+hcE//lyQorjyWnuvtPdnw5f7wc2EqyPnJPnqZfjyVkeOBC+LQp/nAjOUbYm+GQLduf0SSU4gQ+Y2apwofG4mODuOyH4zwhUZzieofBJM3sm7MLJia6MZMxsCjATeIoYnKcexwM5fJ7MrMDM1gC7gQfdPZJzlK0JPq0Fu3PMHHc/DbgQ+ETYPSDZ5xbgWGAGsBP4dkajGSAzGwXcBVzr7vsyHc9gJTmenD5P7t7m7jMI1qo+08xO6uMrA5KtCT52C3a7+47wz93A3QTdUHGwK+wn7egv3Z3heAbF3XeF//nagZ+Qg+cp7Ne9C7jD3ZeGxTl7npIdTxzOE4C71wMrgAuI4Bxla4L/K/BmMzvGzIqB9wP3ZjimATOzkeENIsxsJHA+sL73b+WMe4EPh68/DNyTwVgGreM/WOgycuw8hTfwfgZsdPebunyUk+cp1fHk8nkysyozqwxflwHnAc8RwTnKylE00P8Fu7OZmU0laLVDsA7u/+Ti8ZjZL4FzCKY23QV8BVgG/AaYDLwMvNfdc+LGZYrjOYfg134HtgD/1NEvmgvM7K3An4F1QHtY/AWCfuucO0+9HM8V5Oh5MrNTCG6iFhA0sn/j7v9mZuMY4nOUtQleREQGJ1u7aEREZJCU4EVEYkoJXkQkppTgRURiSgleRCSmlOAl48zsCDP7lZn9zcyeNbPfm9lxZjal60yP/dzmVWY2aahjHUrh8V3Zy+cTzey+8PVVZvb9JHU+aWYfiTJOyV1K8JJR4YMsdwMr3P1Ydz+BYJzzhEFu+iqgXwnezAoHuc/+mgKkTPDAZwme0uzNrcCnhyogiRcleMm0dwAt7v6jjgJ3X+Puf+5aqWcL1szuM7NzwkmbbjOz9RbMt/8ZM7scmAXcEc4VXmZmp5vZI+Fkb8u7PBK+wsy+aWaPEEzZ2nWfo8zs5+F2nzGz94TlV4Rl683s+i71D3R5fbmZ3Ra+vs3M/tPM/s/MNofxAVwHvC2M8TNJ/m7eA/yhZ6GZXWxmT5jZeHc/BGwxs5x8VF+iNdwtFpGeTiKY43ugZgA1XeZzr3T3ejP7JPDP7r4ynMvke8B8d68zs78HvgH8Q7iNSnd/e5Jtfxl43d1PDrc9Juz2uR44HdhLMEPoAndf1kecE4G3AtMJHkm/E1gUxnhJz8pmdgyw192bepRfRtCyv8jd94bFK4G3AX/pIwbJM0rwkus2A1PN7HvA/cADSepMI7iQPBj0CFFAMANhh1+n2PZ5BPMgAeDue8NZQFe4ex2Amd0BzCWYsqE3y8KJsZ41s3S6nyYCdT3K3kHwm8n5PWaI3E1w4RDpRl00kmkbCFrDfWml+7/XUgiSLnAqwYx8nwB+muS7Bmxw9xnhz8nufn6Xzw+m2Kdx+DTVyaay7tC1bmmPz7q2xHvbRoeGJNvYDJQDx/UoLw3ri3SjBC+Z9hBQYmb/2FFgZmeYWc8uky3ADDNLmNlRhNPDmtl4IOHudxF0qZwW1t9PkAwBNgFVZnZW+J0iMzsxjdgeAD7ZJa4xBJN2vd3MxluwtOQVwCNhlV1mdryZJQhmOOxL1xh7ep7gJmxXWwmWdbu9R/zHkUOzKcrwUYKXjPJgtrvLgHeFwyQ3AF/l8Pn/HwdeIphV8Ebg6bC8Blhhweo4twGLw/LbgB+F5QXA5cD1ZrYWWAOcnUZ4/w6MCW+mrgXeEc5YuBh4GFgLPO3uHdO6LgLuI7hopTOz4TNAqwWLL3e7yeruB4G/mdmbepRvAj4A/NbMjg2L5wB/TGN/kmc0m6RIlgpvqJ7u7l/qpc5M4LPu/qHhi0xyhW6yimQpd787nCO8N+MJuqZEDqMWvIhITKkPXkQkppTgRURiSgleRCSmlOBFRGJKCV5EJKb+P8/DfjDYaedLAAAAAElFTkSuQmCC\n&quot; 
     }, 
     &quot;metadata&quot;: { 
      &quot;needs_background&quot;: &quot;light&quot; 
     }, 
     &quot;output_type&quot;: &quot;display_data&quot; 
    } 
   ], 
   &quot;source&quot;: [ 
    &quot;distortions = []\n&quot;, 
    &quot;max_k = 30\n&quot;, 
    &quot;for i in range(1, max_k + 1):\n&quot;, 
    &quot;    km = KMeans(n_clusters = i, init = 'k-means++', max_iter =300, n_init = 10, random_state = 0)\n&quot;, 
    &quot;    km.fit(elbowData)\n&quot;, 
    &quot;    distortions.append(km.inertia_)\n&quot;, 
    &quot;\n&quot;, 
    &quot;plt.plot(range(1, max_k + 1), distortions, marker='o')\n&quot;, 
    &quot;plt.xlabel('Cluster count (k)')\n&quot;, 
    &quot;plt.ylabel('Distortion')\n&quot;, 
    &quot;plt.show()&quot; 
   ], 
   &quot;metadata&quot;: { 
    &quot;collapsed&quot;: false, 
    &quot;pycharm&quot;: { 
     &quot;name&quot;: &quot;#%%\n&quot; 
    } 
   } 
  }, 
  { 
   &quot;cell_type&quot;: &quot;markdown&quot;, 
   &quot;source&quot;: [ 
    &quot;Using the elbow graph presented above, we can see that the best number of cluster should be between 6 and 8,\n&quot;, 
    &quot;therefore we decide to pick 7 as our number of clusters in both experiments.\n&quot;, 
    &quot;&lt;br&gt;\n&quot;, 
    &quot;## K Means Clustering\n&quot;, 
    &quot;\n&quot;, 
    &quot;We first start our experiment with K means clustering, because it is seems as a faster method of the two.\n&quot;, 
    &quot;Because there are some data missing during the first couple months of the pandemic, we have to limit\n&quot;, 
    &quot;our experiment to use the last 100 days of the data only.&quot; 
   ], 
   &quot;metadata&quot;: { 
    &quot;collapsed&quot;: false, 
    &quot;pycharm&quot;: { 
     &quot;name&quot;: &quot;#%% md\n&quot; 
    } 
   } 
  }, 
  { 
   &quot;cell_type&quot;: &quot;code&quot;, 
   &quot;execution_count&quot;: 11, 
   &quot;outputs&quot;: [ 
    { 
     &quot;name&quot;: &quot;stdout&quot;, 
     &quot;output_type&quot;: &quot;stream&quot;, 
     &quot;text&quot;: [ 
      &quot;silihouette_score 0.7651258320440756\n&quot;, 
      &quot;davies_bouldin_score 0.4032532112579689\n&quot; 
     ] 
    } 
   ], 
   &quot;source&quot;: [ 
    &quot;testData = resultgroupBy['new'].apply(lambda r: r[-100:]).to_list()\n&quot;, 
    &quot;import numpy as np\n&quot;, 
    &quot;result = np.array(testData)\n&quot;, 
    &quot;\n&quot;, 
    &quot;km = KMeans(n_clusters=7, init='k-means++', n_init=10, max_iter=300, random_state=0)\n&quot;, 
    &quot;km.fit(result)\n&quot;, 
    &quot;KmeansfinalDF = pd.DataFrame(data = fips)\n&quot;, 
    &quot;KmeansfinalDF = KmeansfinalDF.rename(columns = {0:'fips'})\n&quot;, 
    &quot;KmeansfinalDF['classification'] = km.labels_\n&quot;, 
    &quot;silihouette = silhouette_score(testData, km.labels_, metric='euclidean')\n&quot;, 
    &quot;print(\&quot;silihouette_score \&quot;+str(silihouette))\n&quot;, 
    &quot;davies_bouldin = davies_bouldin_score(testData, km.labels_)\n&quot;, 
    &quot;print(\&quot;davies_bouldin_score \&quot;+str(davies_bouldin))&quot; 
   ], 
   &quot;metadata&quot;: { 
    &quot;collapsed&quot;: false, 
    &quot;pycharm&quot;: { 
     &quot;name&quot;: &quot;#%%\n&quot; 
    } 
   } 
  }, 
  { 
   &quot;cell_type&quot;: &quot;markdown&quot;, 
   &quot;source&quot;: [ 
    &quot;With the K means clustering algorithm, we are able to calculate the Silihouette and Davies Bouldin score,\n&quot;, 
    &quot;which confirm that the algorithm is working right. However, it would also be useful if we can see the result\n&quot;, 
    &quot;plot onto an US map.&quot; 
   ], 
   &quot;metadata&quot;: { 
    &quot;collapsed&quot;: false, 
    &quot;pycharm&quot;: { 
     &quot;name&quot;: &quot;#%% md\n&quot; 
    } 
   } 
  }, 
  { 
   &quot;cell_type&quot;: &quot;code&quot;, 
   &quot;execution_count&quot;: 12, 
   &quot;outputs&quot;: [ 
    { 
     &quot;name&quot;: &quot;stdout&quot;, 
     &quot;output_type&quot;: &quot;stream&quot;, 
     &quot;text&quot;: [ 
      &quot;Begin plotting\n&quot; 
     ] 
    }, 
    { 
     &quot;data&quot;: { 
      &quot;text/html&quot;: &quot;        &lt;script type=\&quot;text/javascript\&quot;&gt;\n        window.PlotlyConfig = {MathJaxConfig: 'local'};\n        if (window.MathJax) {MathJax.Hub.Config({SVG: {font: \&quot;STIX-Web\&quot;}});}\n        if (typeof require !== 'undefined') {\n        require.undef(\&quot;plotly\&quot;);\n        define('plotly', function(require, exports, module) {\n            /**\n* plotly.js v1.58.4\n* Copyright 2012-2020, Plotly, Inc.\n* All rights reserved.\n* Licensed under the MIT license\n*/\n!function(t){if(\&quot;object\&quot;==typeof exports&amp;&amp;\&quot;undefined\&quot;!=typeof module)module.exports=t();else if(\&quot;function\&quot;==typeof define&amp;&amp;define.amd)define([],t);else{(\&quot;undefined\&quot;!=typeof window?window:\&quot;undefined\&quot;!=typeof global?global:\&quot;undefined\&quot;!=typeof self?self:this).Plotly=t()}}((function(){return function t(e,r,n){function i(o,s){if(!r[o]){if(!e[o]){var l=\&quot;function\&quot;==typeof require&amp;&amp;require;if(!s&amp;&amp;l)return l(o,!0);if(a)return a(o,!0);var c=new Error(\&quot;Cannot find module '\&quot;+o+\&quot;'\&quot;);throw c.code=\&quot;MODULE_NOT_FOUND\&quot;,c}var u=r[o]={exports:{}};e[o][0].call(u.exports,(function(t){return i(e[o][1][t]||t)}),u,u.exports,t,e,r,n)}return r[o].exports}for(var a=\&quot;function\&quot;==typeof require&amp;&amp;require,o=0;o&lt;n.length;o++)i(n[o]);return i}({1:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;../src/lib\&quot;),i={\&quot;X,X div\&quot;:\&quot;direction:ltr;font-family:'Open Sans', verdana, arial, sans-serif;margin:0;padding:0;\&quot;,\&quot;X input,X button\&quot;:\&quot;font-family:'Open Sans', verdana, arial, sans-serif;\&quot;,\&quot;X input:focus,X button:focus\&quot;:\&quot;outline:none;\&quot;,\&quot;X a\&quot;:\&quot;text-decoration:none;\&quot;,\&quot;X a:hover\&quot;:\&quot;text-decoration:none;\&quot;,\&quot;X .crisp\&quot;:\&quot;shape-rendering:crispEdges;\&quot;,\&quot;X .user-select-none\&quot;:\&quot;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;-o-user-select:none;user-select:none;\&quot;,\&quot;X svg\&quot;:\&quot;overflow:hidden;\&quot;,\&quot;X svg a\&quot;:\&quot;fill:#447adb;\&quot;,\&quot;X svg a:hover\&quot;:\&quot;fill:#3c6dc5;\&quot;,\&quot;X .main-svg\&quot;:\&quot;position:absolute;top:0;left:0;pointer-events:none;\&quot;,\&quot;X .main-svg .draglayer\&quot;:\&quot;pointer-events:all;\&quot;,\&quot;X .cursor-default\&quot;:\&quot;cursor:default;\&quot;,\&quot;X .cursor-pointer\&quot;:\&quot;cursor:pointer;\&quot;,\&quot;X .cursor-crosshair\&quot;:\&quot;cursor:crosshair;\&quot;,\&quot;X .cursor-move\&quot;:\&quot;cursor:move;\&quot;,\&quot;X .cursor-col-resize\&quot;:\&quot;cursor:col-resize;\&quot;,\&quot;X .cursor-row-resize\&quot;:\&quot;cursor:row-resize;\&quot;,\&quot;X .cursor-ns-resize\&quot;:\&quot;cursor:ns-resize;\&quot;,\&quot;X .cursor-ew-resize\&quot;:\&quot;cursor:ew-resize;\&quot;,\&quot;X .cursor-sw-resize\&quot;:\&quot;cursor:sw-resize;\&quot;,\&quot;X .cursor-s-resize\&quot;:\&quot;cursor:s-resize;\&quot;,\&quot;X .cursor-se-resize\&quot;:\&quot;cursor:se-resize;\&quot;,\&quot;X .cursor-w-resize\&quot;:\&quot;cursor:w-resize;\&quot;,\&quot;X .cursor-e-resize\&quot;:\&quot;cursor:e-resize;\&quot;,\&quot;X .cursor-nw-resize\&quot;:\&quot;cursor:nw-resize;\&quot;,\&quot;X .cursor-n-resize\&quot;:\&quot;cursor:n-resize;\&quot;,\&quot;X .cursor-ne-resize\&quot;:\&quot;cursor:ne-resize;\&quot;,\&quot;X .cursor-grab\&quot;:\&quot;cursor:-webkit-grab;cursor:grab;\&quot;,\&quot;X .modebar\&quot;:\&quot;position:absolute;top:2px;right:2px;\&quot;,\&quot;X .ease-bg\&quot;:\&quot;-webkit-transition:background-color 0.3s ease 0s;-moz-transition:background-color 0.3s ease 0s;-ms-transition:background-color 0.3s ease 0s;-o-transition:background-color 0.3s ease 0s;transition:background-color 0.3s ease 0s;\&quot;,\&quot;X .modebar--hover&gt;:not(.watermark)\&quot;:\&quot;opacity:0;-webkit-transition:opacity 0.3s ease 0s;-moz-transition:opacity 0.3s ease 0s;-ms-transition:opacity 0.3s ease 0s;-o-transition:opacity 0.3s ease 0s;transition:opacity 0.3s ease 0s;\&quot;,\&quot;X:hover .modebar--hover .modebar-group\&quot;:\&quot;opacity:1;\&quot;,\&quot;X .modebar-group\&quot;:\&quot;float:left;display:inline-block;box-sizing:border-box;padding-left:8px;position:relative;vertical-align:middle;white-space:nowrap;\&quot;,\&quot;X .modebar-btn\&quot;:\&quot;position:relative;font-size:16px;padding:3px 4px;height:22px;cursor:pointer;line-height:normal;box-sizing:border-box;\&quot;,\&quot;X .modebar-btn svg\&quot;:\&quot;position:relative;top:2px;\&quot;,\&quot;X .modebar.vertical\&quot;:\&quot;display:flex;flex-direction:column;flex-wrap:wrap;align-content:flex-end;max-height:100%;\&quot;,\&quot;X .modebar.vertical svg\&quot;:\&quot;top:-1px;\&quot;,\&quot;X .modebar.vertical .modebar-group\&quot;:\&quot;display:block;float:none;padding-left:0px;padding-bottom:8px;\&quot;,\&quot;X .modebar.vertical .modebar-group .modebar-btn\&quot;:\&quot;display:block;text-align:center;\&quot;,\&quot;X [data-title]:before,X [data-title]:after\&quot;:\&quot;position:absolute;-webkit-transform:translate3d(0, 0, 0);-moz-transform:translate3d(0, 0, 0);-ms-transform:translate3d(0, 0, 0);-o-transform:translate3d(0, 0, 0);transform:translate3d(0, 0, 0);display:none;opacity:0;z-index:1001;pointer-events:none;top:110%;right:50%;\&quot;,\&quot;X [data-title]:hover:before,X [data-title]:hover:after\&quot;:\&quot;display:block;opacity:1;\&quot;,\&quot;X [data-title]:before\&quot;:\&quot;content:'';position:absolute;background:transparent;border:6px solid transparent;z-index:1002;margin-top:-12px;border-bottom-color:#69738a;margin-right:-6px;\&quot;,\&quot;X [data-title]:after\&quot;:\&quot;content:attr(data-title);background:#69738a;color:white;padding:8px 10px;font-size:12px;line-height:12px;white-space:nowrap;margin-right:-18px;border-radius:2px;\&quot;,\&quot;X .vertical [data-title]:before,X .vertical [data-title]:after\&quot;:\&quot;top:0%;right:200%;\&quot;,\&quot;X .vertical [data-title]:before\&quot;:\&quot;border:6px solid transparent;border-left-color:#69738a;margin-top:8px;margin-right:-30px;\&quot;,\&quot;X .select-outline\&quot;:\&quot;fill:none;stroke-width:1;shape-rendering:crispEdges;\&quot;,\&quot;X .select-outline-1\&quot;:\&quot;stroke:white;\&quot;,\&quot;X .select-outline-2\&quot;:\&quot;stroke:black;stroke-dasharray:2px 2px;\&quot;,Y:\&quot;font-family:'Open Sans', verdana, arial, sans-serif;position:fixed;top:50px;right:20px;z-index:10000;font-size:10pt;max-width:180px;\&quot;,\&quot;Y p\&quot;:\&quot;margin:0;\&quot;,\&quot;Y .notifier-note\&quot;:\&quot;min-width:180px;max-width:250px;border:1px solid #fff;z-index:3000;margin:0;background-color:#8c97af;background-color:rgba(140,151,175,0.9);color:#fff;padding:10px;overflow-wrap:break-word;word-wrap:break-word;-ms-hyphens:auto;-webkit-hyphens:auto;hyphens:auto;\&quot;,\&quot;Y .notifier-close\&quot;:\&quot;color:#fff;opacity:0.8;float:right;padding:0 5px;background:none;border:none;font-size:20px;font-weight:bold;line-height:20px;\&quot;,\&quot;Y .notifier-close:hover\&quot;:\&quot;color:#444;text-decoration:none;cursor:pointer;\&quot;};for(var a in i){var o=a.replace(/^,/,\&quot; ,\&quot;).replace(/X/g,\&quot;.js-plotly-plot .plotly\&quot;).replace(/Y/g,\&quot;.plotly-notifier\&quot;);n.addStyleRule(o,i[a])}},{\&quot;../src/lib\&quot;:778}],2:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/transforms/aggregate\&quot;)},{\&quot;../src/transforms/aggregate\&quot;:1365}],3:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/bar\&quot;)},{\&quot;../src/traces/bar\&quot;:929}],4:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/barpolar\&quot;)},{\&quot;../src/traces/barpolar\&quot;:942}],5:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/box\&quot;)},{\&quot;../src/traces/box\&quot;:952}],6:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/components/calendars\&quot;)},{\&quot;../src/components/calendars\&quot;:641}],7:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/candlestick\&quot;)},{\&quot;../src/traces/candlestick\&quot;:961}],8:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/carpet\&quot;)},{\&quot;../src/traces/carpet\&quot;:980}],9:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/choropleth\&quot;)},{\&quot;../src/traces/choropleth\&quot;:994}],10:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/choroplethmapbox\&quot;)},{\&quot;../src/traces/choroplethmapbox\&quot;:1001}],11:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/cone\&quot;)},{\&quot;../src/traces/cone\&quot;:1007}],12:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/contour\&quot;)},{\&quot;../src/traces/contour\&quot;:1022}],13:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/contourcarpet\&quot;)},{\&quot;../src/traces/contourcarpet\&quot;:1033}],14:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/core\&quot;)},{\&quot;../src/core\&quot;:755}],15:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/densitymapbox\&quot;)},{\&quot;../src/traces/densitymapbox\&quot;:1041}],16:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/transforms/filter\&quot;)},{\&quot;../src/transforms/filter\&quot;:1366}],17:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/funnel\&quot;)},{\&quot;../src/traces/funnel\&quot;:1051}],18:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/funnelarea\&quot;)},{\&quot;../src/traces/funnelarea\&quot;:1060}],19:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/transforms/groupby\&quot;)},{\&quot;../src/transforms/groupby\&quot;:1367}],20:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/heatmap\&quot;)},{\&quot;../src/traces/heatmap\&quot;:1073}],21:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/heatmapgl\&quot;)},{\&quot;../src/traces/heatmapgl\&quot;:1083}],22:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/histogram\&quot;)},{\&quot;../src/traces/histogram\&quot;:1095}],23:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/histogram2d\&quot;)},{\&quot;../src/traces/histogram2d\&quot;:1101}],24:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/histogram2dcontour\&quot;)},{\&quot;../src/traces/histogram2dcontour\&quot;:1105}],25:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/image\&quot;)},{\&quot;../src/traces/image\&quot;:1113}],26:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./core\&quot;);n.register([t(\&quot;./bar\&quot;),t(\&quot;./box\&quot;),t(\&quot;./heatmap\&quot;),t(\&quot;./histogram\&quot;),t(\&quot;./histogram2d\&quot;),t(\&quot;./histogram2dcontour\&quot;),t(\&quot;./contour\&quot;),t(\&quot;./scatterternary\&quot;),t(\&quot;./violin\&quot;),t(\&quot;./funnel\&quot;),t(\&quot;./waterfall\&quot;),t(\&quot;./image\&quot;),t(\&quot;./pie\&quot;),t(\&quot;./sunburst\&quot;),t(\&quot;./treemap\&quot;),t(\&quot;./funnelarea\&quot;),t(\&quot;./scatter3d\&quot;),t(\&quot;./surface\&quot;),t(\&quot;./isosurface\&quot;),t(\&quot;./volume\&quot;),t(\&quot;./mesh3d\&quot;),t(\&quot;./cone\&quot;),t(\&quot;./streamtube\&quot;),t(\&quot;./scattergeo\&quot;),t(\&quot;./choropleth\&quot;),t(\&quot;./scattergl\&quot;),t(\&quot;./splom\&quot;),t(\&quot;./pointcloud\&quot;),t(\&quot;./heatmapgl\&quot;),t(\&quot;./parcoords\&quot;),t(\&quot;./parcats\&quot;),t(\&quot;./scattermapbox\&quot;),t(\&quot;./choroplethmapbox\&quot;),t(\&quot;./densitymapbox\&quot;),t(\&quot;./sankey\&quot;),t(\&quot;./indicator\&quot;),t(\&quot;./table\&quot;),t(\&quot;./carpet\&quot;),t(\&quot;./scattercarpet\&quot;),t(\&quot;./contourcarpet\&quot;),t(\&quot;./ohlc\&quot;),t(\&quot;./candlestick\&quot;),t(\&quot;./scatterpolar\&quot;),t(\&quot;./scatterpolargl\&quot;),t(\&quot;./barpolar\&quot;)]),n.register([t(\&quot;./aggregate\&quot;),t(\&quot;./filter\&quot;),t(\&quot;./groupby\&quot;),t(\&quot;./sort\&quot;)]),n.register([t(\&quot;./calendars\&quot;)]),e.exports=n},{\&quot;./aggregate\&quot;:2,\&quot;./bar\&quot;:3,\&quot;./barpolar\&quot;:4,\&quot;./box\&quot;:5,\&quot;./calendars\&quot;:6,\&quot;./candlestick\&quot;:7,\&quot;./carpet\&quot;:8,\&quot;./choropleth\&quot;:9,\&quot;./choroplethmapbox\&quot;:10,\&quot;./cone\&quot;:11,\&quot;./contour\&quot;:12,\&quot;./contourcarpet\&quot;:13,\&quot;./core\&quot;:14,\&quot;./densitymapbox\&quot;:15,\&quot;./filter\&quot;:16,\&quot;./funnel\&quot;:17,\&quot;./funnelarea\&quot;:18,\&quot;./groupby\&quot;:19,\&quot;./heatmap\&quot;:20,\&quot;./heatmapgl\&quot;:21,\&quot;./histogram\&quot;:22,\&quot;./histogram2d\&quot;:23,\&quot;./histogram2dcontour\&quot;:24,\&quot;./image\&quot;:25,\&quot;./indicator\&quot;:27,\&quot;./isosurface\&quot;:28,\&quot;./mesh3d\&quot;:29,\&quot;./ohlc\&quot;:30,\&quot;./parcats\&quot;:31,\&quot;./parcoords\&quot;:32,\&quot;./pie\&quot;:33,\&quot;./pointcloud\&quot;:34,\&quot;./sankey\&quot;:35,\&quot;./scatter3d\&quot;:36,\&quot;./scattercarpet\&quot;:37,\&quot;./scattergeo\&quot;:38,\&quot;./scattergl\&quot;:39,\&quot;./scattermapbox\&quot;:40,\&quot;./scatterpolar\&quot;:41,\&quot;./scatterpolargl\&quot;:42,\&quot;./scatterternary\&quot;:43,\&quot;./sort\&quot;:44,\&quot;./splom\&quot;:45,\&quot;./streamtube\&quot;:46,\&quot;./sunburst\&quot;:47,\&quot;./surface\&quot;:48,\&quot;./table\&quot;:49,\&quot;./treemap\&quot;:50,\&quot;./violin\&quot;:51,\&quot;./volume\&quot;:52,\&quot;./waterfall\&quot;:53}],27:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/indicator\&quot;)},{\&quot;../src/traces/indicator\&quot;:1121}],28:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/isosurface\&quot;)},{\&quot;../src/traces/isosurface\&quot;:1127}],29:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/mesh3d\&quot;)},{\&quot;../src/traces/mesh3d\&quot;:1132}],30:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/ohlc\&quot;)},{\&quot;../src/traces/ohlc\&quot;:1137}],31:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/parcats\&quot;)},{\&quot;../src/traces/parcats\&quot;:1146}],32:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/parcoords\&quot;)},{\&quot;../src/traces/parcoords\&quot;:1156}],33:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/pie\&quot;)},{\&quot;../src/traces/pie\&quot;:1167}],34:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/pointcloud\&quot;)},{\&quot;../src/traces/pointcloud\&quot;:1176}],35:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/sankey\&quot;)},{\&quot;../src/traces/sankey\&quot;:1182}],36:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/scatter3d\&quot;)},{\&quot;../src/traces/scatter3d\&quot;:1220}],37:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/scattercarpet\&quot;)},{\&quot;../src/traces/scattercarpet\&quot;:1227}],38:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/scattergeo\&quot;)},{\&quot;../src/traces/scattergeo\&quot;:1235}],39:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/scattergl\&quot;)},{\&quot;../src/traces/scattergl\&quot;:1248}],40:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/scattermapbox\&quot;)},{\&quot;../src/traces/scattermapbox\&quot;:1258}],41:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/scatterpolar\&quot;)},{\&quot;../src/traces/scatterpolar\&quot;:1266}],42:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/scatterpolargl\&quot;)},{\&quot;../src/traces/scatterpolargl\&quot;:1273}],43:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/scatterternary\&quot;)},{\&quot;../src/traces/scatterternary\&quot;:1281}],44:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/transforms/sort\&quot;)},{\&quot;../src/transforms/sort\&quot;:1369}],45:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/splom\&quot;)},{\&quot;../src/traces/splom\&quot;:1290}],46:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/streamtube\&quot;)},{\&quot;../src/traces/streamtube\&quot;:1298}],47:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/sunburst\&quot;)},{\&quot;../src/traces/sunburst\&quot;:1306}],48:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/surface\&quot;)},{\&quot;../src/traces/surface\&quot;:1315}],49:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/table\&quot;)},{\&quot;../src/traces/table\&quot;:1323}],50:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/treemap\&quot;)},{\&quot;../src/traces/treemap\&quot;:1332}],51:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/violin\&quot;)},{\&quot;../src/traces/violin\&quot;:1344}],52:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/volume\&quot;)},{\&quot;../src/traces/volume\&quot;:1352}],53:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;../src/traces/waterfall\&quot;)},{\&quot;../src/traces/waterfall\&quot;:1360}],54:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){var e=(t=t||{}).eye||[0,0,1],r=t.center||[0,0,0],s=t.up||[0,1,0],l=t.distanceLimits||[0,1/0],c=t.mode||\&quot;turntable\&quot;,u=n(),f=i(),h=a();return u.setDistanceLimits(l[0],l[1]),u.lookAt(0,e,r,s),f.setDistanceLimits(l[0],l[1]),f.lookAt(0,e,r,s),h.setDistanceLimits(l[0],l[1]),h.lookAt(0,e,r,s),new o({turntable:u,orbit:f,matrix:h},c)};var n=t(\&quot;turntable-camera-controller\&quot;),i=t(\&quot;orbit-camera-controller\&quot;),a=t(\&quot;matrix-camera-controller\&quot;);function o(t,e){this._controllerNames=Object.keys(t),this._controllerList=this._controllerNames.map((function(e){return t[e]})),this._mode=e,this._active=t[e],this._active||(this._mode=\&quot;turntable\&quot;,this._active=t.turntable),this.modes=this._controllerNames,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}var s=o.prototype;[[\&quot;flush\&quot;,1],[\&quot;idle\&quot;,1],[\&quot;lookAt\&quot;,4],[\&quot;rotate\&quot;,4],[\&quot;pan\&quot;,4],[\&quot;translate\&quot;,4],[\&quot;setMatrix\&quot;,2],[\&quot;setDistanceLimits\&quot;,2],[\&quot;setDistance\&quot;,2]].forEach((function(t){for(var e=t[0],r=[],n=0;n&lt;t[1];++n)r.push(\&quot;a\&quot;+n);var i=\&quot;var cc=this._controllerList;for(var i=0;i&lt;cc.length;++i){cc[i].\&quot;+t[0]+\&quot;(\&quot;+r.join()+\&quot;)}\&quot;;s[e]=Function.apply(null,r.concat(i))})),s.recalcMatrix=function(t){this._active.recalcMatrix(t)},s.getDistance=function(t){return this._active.getDistance(t)},s.getDistanceLimits=function(t){return this._active.getDistanceLimits(t)},s.lastT=function(){return this._active.lastT()},s.setMode=function(t){if(t!==this._mode){var e=this._controllerNames.indexOf(t);if(!(e&lt;0)){var r=this._active,n=this._controllerList[e],i=Math.max(r.lastT(),n.lastT());r.recalcMatrix(i),n.setMatrix(i,r.computedMatrix),this._active=n,this._mode=t,this.computedMatrix=this._active.computedMatrix,this.computedEye=this._active.computedEye,this.computedUp=this._active.computedUp,this.computedCenter=this._active.computedCenter,this.computedRadius=this._active.computedRadius}}},s.getMode=function(){return this._mode}},{\&quot;matrix-camera-controller\&quot;:480,\&quot;orbit-camera-controller\&quot;:501,\&quot;turntable-camera-controller\&quot;:581}],55:[function(t,e,r){!function(n,i){\&quot;object\&quot;==typeof r&amp;&amp;\&quot;undefined\&quot;!=typeof e?i(r,t(\&quot;d3-array\&quot;),t(\&quot;d3-collection\&quot;),t(\&quot;d3-shape\&quot;),t(\&quot;elementary-circuits-directed-graph\&quot;)):i(n.d3=n.d3||{},n.d3,n.d3,n.d3,null)}(this,(function(t,e,r,n,i){\&quot;use strict\&quot;;function a(t){return t.target.depth}function o(t,e){return t.sourceLinks.length?t.depth:e-1}function s(t){return function(){return t}}i=i&amp;&amp;i.hasOwnProperty(\&quot;default\&quot;)?i.default:i;var l=\&quot;function\&quot;==typeof Symbol&amp;&amp;\&quot;symbol\&quot;==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&amp;&amp;\&quot;function\&quot;==typeof Symbol&amp;&amp;t.constructor===Symbol&amp;&amp;t!==Symbol.prototype?\&quot;symbol\&quot;:typeof t};function c(t,e){return f(t.source,e.source)||t.index-e.index}function u(t,e){return f(t.target,e.target)||t.index-e.index}function f(t,e){return t.partOfCycle===e.partOfCycle?t.y0-e.y0:\&quot;top\&quot;===t.circularLinkType||\&quot;bottom\&quot;===e.circularLinkType?-1:1}function h(t){return t.value}function p(t){return(t.y0+t.y1)/2}function d(t){return p(t.source)}function g(t){return p(t.target)}function m(t){return t.index}function v(t){return t.nodes}function y(t){return t.links}function x(t,e){var r=t.get(e);if(!r)throw new Error(\&quot;missing: \&quot;+e);return r}function b(t,e){return e(t)}function _(t,e,r){var n=0;if(null===r){for(var a=[],o=0;o&lt;t.links.length;o++){var s=t.links[o],l=s.source.index,c=s.target.index;a[l]||(a[l]=[]),a[c]||(a[c]=[]),-1===a[l].indexOf(c)&amp;&amp;a[l].push(c)}var u=i(a);u.sort((function(t,e){return t.length-e.length}));var f={};for(o=0;o&lt;u.length;o++){var h=u[o].slice(-2);f[h[0]]||(f[h[0]]={}),f[h[0]][h[1]]=!0}t.links.forEach((function(t){var e=t.target.index,r=t.source.index;e===r||f[r]&amp;&amp;f[r][e]?(t.circular=!0,t.circularLinkID=n,n+=1):t.circular=!1}))}else t.links.forEach((function(t){t.source[r]&lt;t.target[r]?t.circular=!1:(t.circular=!0,t.circularLinkID=n,n+=1)}))}function w(t,e){var r=0,n=0;t.links.forEach((function(i){i.circular&amp;&amp;(i.source.circularLinkType||i.target.circularLinkType?i.circularLinkType=i.source.circularLinkType?i.source.circularLinkType:i.target.circularLinkType:i.circularLinkType=r&lt;n?\&quot;top\&quot;:\&quot;bottom\&quot;,\&quot;top\&quot;==i.circularLinkType?r+=1:n+=1,t.nodes.forEach((function(t){b(t,e)!=b(i.source,e)&amp;&amp;b(t,e)!=b(i.target,e)||(t.circularLinkType=i.circularLinkType)})))})),t.links.forEach((function(t){t.circular&amp;&amp;(t.source.circularLinkType==t.target.circularLinkType&amp;&amp;(t.circularLinkType=t.source.circularLinkType),H(t,e)&amp;&amp;(t.circularLinkType=t.source.circularLinkType))}))}function T(t){var e=Math.abs(t.y1-t.y0),r=Math.abs(t.target.x0-t.source.x1);return Math.atan(r/e)}function k(t,e){var r=0;t.sourceLinks.forEach((function(t){r=t.circular&amp;&amp;!H(t,e)?r+1:r}));var n=0;return t.targetLinks.forEach((function(t){n=t.circular&amp;&amp;!H(t,e)?n+1:n})),r+n}function M(t){var e=t.source.sourceLinks,r=0;e.forEach((function(t){r=t.circular?r+1:r}));var n=t.target.targetLinks,i=0;return n.forEach((function(t){i=t.circular?i+1:i})),!(r&gt;1||i&gt;1)}function A(t,e,r){return t.sort(E),t.forEach((function(n,i){var a,o,s=0;if(H(n,r)&amp;&amp;M(n))n.circularPathData.verticalBuffer=s+n.width/2;else{for(var l=0;l&lt;i;l++)if(a=t[i],o=t[l],!(a.source.column&lt;o.target.column||a.target.column&gt;o.source.column)){var c=t[l].circularPathData.verticalBuffer+t[l].width/2+e;s=c&gt;s?c:s}n.circularPathData.verticalBuffer=s+n.width/2}})),t}function S(t,r,i,a){var o=e.min(t.links,(function(t){return t.source.y0}));t.links.forEach((function(t){t.circular&amp;&amp;(t.circularPathData={})})),A(t.links.filter((function(t){return\&quot;top\&quot;==t.circularLinkType})),r,a),A(t.links.filter((function(t){return\&quot;bottom\&quot;==t.circularLinkType})),r,a),t.links.forEach((function(e){if(e.circular){if(e.circularPathData.arcRadius=e.width+10,e.circularPathData.leftNodeBuffer=5,e.circularPathData.rightNodeBuffer=5,e.circularPathData.sourceWidth=e.source.x1-e.source.x0,e.circularPathData.sourceX=e.source.x0+e.circularPathData.sourceWidth,e.circularPathData.targetX=e.target.x0,e.circularPathData.sourceY=e.y0,e.circularPathData.targetY=e.y1,H(e,a)&amp;&amp;M(e))e.circularPathData.leftSmallArcRadius=10+e.width/2,e.circularPathData.leftLargeArcRadius=10+e.width/2,e.circularPathData.rightSmallArcRadius=10+e.width/2,e.circularPathData.rightLargeArcRadius=10+e.width/2,\&quot;bottom\&quot;==e.circularLinkType?(e.circularPathData.verticalFullExtent=e.source.y1+25+e.circularPathData.verticalBuffer,e.circularPathData.verticalLeftInnerExtent=e.circularPathData.verticalFullExtent-e.circularPathData.leftLargeArcRadius,e.circularPathData.verticalRightInnerExtent=e.circularPathData.verticalFullExtent-e.circularPathData.rightLargeArcRadius):(e.circularPathData.verticalFullExtent=e.source.y0-25-e.circularPathData.verticalBuffer,e.circularPathData.verticalLeftInnerExtent=e.circularPathData.verticalFullExtent+e.circularPathData.leftLargeArcRadius,e.circularPathData.verticalRightInnerExtent=e.circularPathData.verticalFullExtent+e.circularPathData.rightLargeArcRadius);else{var s=e.source.column,l=e.circularLinkType,c=t.links.filter((function(t){return t.source.column==s&amp;&amp;t.circularLinkType==l}));\&quot;bottom\&quot;==e.circularLinkType?c.sort(L):c.sort(C);var u=0;c.forEach((function(t,n){t.circularLinkID==e.circularLinkID&amp;&amp;(e.circularPathData.leftSmallArcRadius=10+e.width/2+u,e.circularPathData.leftLargeArcRadius=10+e.width/2+n*r+u),u+=t.width})),s=e.target.column,c=t.links.filter((function(t){return t.target.column==s&amp;&amp;t.circularLinkType==l})),\&quot;bottom\&quot;==e.circularLinkType?c.sort(P):c.sort(I),u=0,c.forEach((function(t,n){t.circularLinkID==e.circularLinkID&amp;&amp;(e.circularPathData.rightSmallArcRadius=10+e.width/2+u,e.circularPathData.rightLargeArcRadius=10+e.width/2+n*r+u),u+=t.width})),\&quot;bottom\&quot;==e.circularLinkType?(e.circularPathData.verticalFullExtent=Math.max(i,e.source.y1,e.target.y1)+25+e.circularPathData.verticalBuffer,e.circularPathData.verticalLeftInnerExtent=e.circularPathData.verticalFullExtent-e.circularPathData.leftLargeArcRadius,e.circularPathData.verticalRightInnerExtent=e.circularPathData.verticalFullExtent-e.circularPathData.rightLargeArcRadius):(e.circularPathData.verticalFullExtent=o-25-e.circularPathData.verticalBuffer,e.circularPathData.verticalLeftInnerExtent=e.circularPathData.verticalFullExtent+e.circularPathData.leftLargeArcRadius,e.circularPathData.verticalRightInnerExtent=e.circularPathData.verticalFullExtent+e.circularPathData.rightLargeArcRadius)}e.circularPathData.leftInnerExtent=e.circularPathData.sourceX+e.circularPathData.leftNodeBuffer,e.circularPathData.rightInnerExtent=e.circularPathData.targetX-e.circularPathData.rightNodeBuffer,e.circularPathData.leftFullExtent=e.circularPathData.sourceX+e.circularPathData.leftLargeArcRadius+e.circularPathData.leftNodeBuffer,e.circularPathData.rightFullExtent=e.circularPathData.targetX-e.circularPathData.rightLargeArcRadius-e.circularPathData.rightNodeBuffer}if(e.circular)e.path=function(t){var e=\&quot;\&quot;;e=\&quot;top\&quot;==t.circularLinkType?\&quot;M\&quot;+t.circularPathData.sourceX+\&quot; \&quot;+t.circularPathData.sourceY+\&quot; L\&quot;+t.circularPathData.leftInnerExtent+\&quot; \&quot;+t.circularPathData.sourceY+\&quot; A\&quot;+t.circularPathData.leftLargeArcRadius+\&quot; \&quot;+t.circularPathData.leftSmallArcRadius+\&quot; 0 0 0 \&quot;+t.circularPathData.leftFullExtent+\&quot; \&quot;+(t.circularPathData.sourceY-t.circularPathData.leftSmallArcRadius)+\&quot; L\&quot;+t.circularPathData.leftFullExtent+\&quot; \&quot;+t.circularPathData.verticalLeftInnerExtent+\&quot; A\&quot;+t.circularPathData.leftLargeArcRadius+\&quot; \&quot;+t.circularPathData.leftLargeArcRadius+\&quot; 0 0 0 \&quot;+t.circularPathData.leftInnerExtent+\&quot; \&quot;+t.circularPathData.verticalFullExtent+\&quot; L\&quot;+t.circularPathData.rightInnerExtent+\&quot; \&quot;+t.circularPathData.verticalFullExtent+\&quot; A\&quot;+t.circularPathData.rightLargeArcRadius+\&quot; \&quot;+t.circularPathData.rightLargeArcRadius+\&quot; 0 0 0 \&quot;+t.circularPathData.rightFullExtent+\&quot; \&quot;+t.circularPathData.verticalRightInnerExtent+\&quot; L\&quot;+t.circularPathData.rightFullExtent+\&quot; \&quot;+(t.circularPathData.targetY-t.circularPathData.rightSmallArcRadius)+\&quot; A\&quot;+t.circularPathData.rightLargeArcRadius+\&quot; \&quot;+t.circularPathData.rightSmallArcRadius+\&quot; 0 0 0 \&quot;+t.circularPathData.rightInnerExtent+\&quot; \&quot;+t.circularPathData.targetY+\&quot; L\&quot;+t.circularPathData.targetX+\&quot; \&quot;+t.circularPathData.targetY:\&quot;M\&quot;+t.circularPathData.sourceX+\&quot; \&quot;+t.circularPathData.sourceY+\&quot; L\&quot;+t.circularPathData.leftInnerExtent+\&quot; \&quot;+t.circularPathData.sourceY+\&quot; A\&quot;+t.circularPathData.leftLargeArcRadius+\&quot; \&quot;+t.circularPathData.leftSmallArcRadius+\&quot; 0 0 1 \&quot;+t.circularPathData.leftFullExtent+\&quot; \&quot;+(t.circularPathData.sourceY+t.circularPathData.leftSmallArcRadius)+\&quot; L\&quot;+t.circularPathData.leftFullExtent+\&quot; \&quot;+t.circularPathData.verticalLeftInnerExtent+\&quot; A\&quot;+t.circularPathData.leftLargeArcRadius+\&quot; \&quot;+t.circularPathData.leftLargeArcRadius+\&quot; 0 0 1 \&quot;+t.circularPathData.leftInnerExtent+\&quot; \&quot;+t.circularPathData.verticalFullExtent+\&quot; L\&quot;+t.circularPathData.rightInnerExtent+\&quot; \&quot;+t.circularPathData.verticalFullExtent+\&quot; A\&quot;+t.circularPathData.rightLargeArcRadius+\&quot; \&quot;+t.circularPathData.rightLargeArcRadius+\&quot; 0 0 1 \&quot;+t.circularPathData.rightFullExtent+\&quot; \&quot;+t.circularPathData.verticalRightInnerExtent+\&quot; L\&quot;+t.circularPathData.rightFullExtent+\&quot; \&quot;+(t.circularPathData.targetY+t.circularPathData.rightSmallArcRadius)+\&quot; A\&quot;+t.circularPathData.rightLargeArcRadius+\&quot; \&quot;+t.circularPathData.rightSmallArcRadius+\&quot; 0 0 1 \&quot;+t.circularPathData.rightInnerExtent+\&quot; \&quot;+t.circularPathData.targetY+\&quot; L\&quot;+t.circularPathData.targetX+\&quot; \&quot;+t.circularPathData.targetY;return e}(e);else{var f=n.linkHorizontal().source((function(t){return[t.source.x0+(t.source.x1-t.source.x0),t.y0]})).target((function(t){return[t.target.x0,t.y1]}));e.path=f(e)}}))}function E(t,e){return z(t)==z(e)?\&quot;bottom\&quot;==t.circularLinkType?L(t,e):C(t,e):z(e)-z(t)}function C(t,e){return t.y0-e.y0}function L(t,e){return e.y0-t.y0}function I(t,e){return t.y1-e.y1}function P(t,e){return e.y1-t.y1}function z(t){return t.target.column-t.source.column}function O(t){return t.target.x0-t.source.x1}function D(t,e){var r=T(t),n=O(e)/Math.tan(r);return\&quot;up\&quot;==q(t)?t.y1+n:t.y1-n}function R(t,e){var r=T(t),n=O(e)/Math.tan(r);return\&quot;up\&quot;==q(t)?t.y1-n:t.y1+n}function F(t,e,r,n){t.links.forEach((function(i){if(!i.circular&amp;&amp;i.target.column-i.source.column&gt;1){var a=i.source.column+1,o=i.target.column-1,s=1,l=o-a+1;for(s=1;a&lt;=o;a++,s++)t.nodes.forEach((function(o){if(o.column==a){var c,u=s/(l+1),f=Math.pow(1-u,3),h=3*u*Math.pow(1-u,2),p=3*Math.pow(u,2)*(1-u),d=Math.pow(u,3),g=f*i.y0+h*i.y0+p*i.y1+d*i.y1,m=g-i.width/2,v=g+i.width/2;m&gt;o.y0&amp;&amp;m&lt;o.y1?(c=o.y1-m+10,c=\&quot;bottom\&quot;==o.circularLinkType?c:-c,o=N(o,c,e,r),t.nodes.forEach((function(t){b(t,n)!=b(o,n)&amp;&amp;t.column==o.column&amp;&amp;B(o,t)&amp;&amp;N(t,c,e,r)}))):(v&gt;o.y0&amp;&amp;v&lt;o.y1||m&lt;o.y0&amp;&amp;v&gt;o.y1)&amp;&amp;(c=v-o.y0+10,o=N(o,c,e,r),t.nodes.forEach((function(t){b(t,n)!=b(o,n)&amp;&amp;t.column==o.column&amp;&amp;t.y0&lt;o.y1&amp;&amp;t.y1&gt;o.y1&amp;&amp;N(t,c,e,r)})))}}))}}))}function B(t,e){return t.y0&gt;e.y0&amp;&amp;t.y0&lt;e.y1||(t.y1&gt;e.y0&amp;&amp;t.y1&lt;e.y1||t.y0&lt;e.y0&amp;&amp;t.y1&gt;e.y1)}function N(t,e,r,n){return t.y0+e&gt;=r&amp;&amp;t.y1+e&lt;=n&amp;&amp;(t.y0=t.y0+e,t.y1=t.y1+e,t.targetLinks.forEach((function(t){t.y1=t.y1+e})),t.sourceLinks.forEach((function(t){t.y0=t.y0+e}))),t}function j(t,e,r,n){t.nodes.forEach((function(i){n&amp;&amp;i.y+(i.y1-i.y0)&gt;e&amp;&amp;(i.y=i.y-(i.y+(i.y1-i.y0)-e));var a=t.links.filter((function(t){return b(t.source,r)==b(i,r)})),o=a.length;o&gt;1&amp;&amp;a.sort((function(t,e){if(!t.circular&amp;&amp;!e.circular){if(t.target.column==e.target.column)return t.y1-e.y1;if(!V(t,e))return t.y1-e.y1;if(t.target.column&gt;e.target.column){var r=R(e,t);return t.y1-r}if(e.target.column&gt;t.target.column)return R(t,e)-e.y1}return t.circular&amp;&amp;!e.circular?\&quot;top\&quot;==t.circularLinkType?-1:1:e.circular&amp;&amp;!t.circular?\&quot;top\&quot;==e.circularLinkType?1:-1:t.circular&amp;&amp;e.circular?t.circularLinkType===e.circularLinkType&amp;&amp;\&quot;top\&quot;==t.circularLinkType?t.target.column===e.target.column?t.target.y1-e.target.y1:e.target.column-t.target.column:t.circularLinkType===e.circularLinkType&amp;&amp;\&quot;bottom\&quot;==t.circularLinkType?t.target.column===e.target.column?e.target.y1-t.target.y1:t.target.column-e.target.column:\&quot;top\&quot;==t.circularLinkType?-1:1:void 0}));var s=i.y0;a.forEach((function(t){t.y0=s+t.width/2,s+=t.width})),a.forEach((function(t,e){if(\&quot;bottom\&quot;==t.circularLinkType){for(var r=e+1,n=0;r&lt;o;r++)n+=a[r].width;t.y0=i.y1-n-t.width/2}}))}))}function U(t,e,r){t.nodes.forEach((function(e){var n=t.links.filter((function(t){return b(t.target,r)==b(e,r)})),i=n.length;i&gt;1&amp;&amp;n.sort((function(t,e){if(!t.circular&amp;&amp;!e.circular){if(t.source.column==e.source.column)return t.y0-e.y0;if(!V(t,e))return t.y0-e.y0;if(e.source.column&lt;t.source.column){var r=D(e,t);return t.y0-r}if(t.source.column&lt;e.source.column)return D(t,e)-e.y0}return t.circular&amp;&amp;!e.circular?\&quot;top\&quot;==t.circularLinkType?-1:1:e.circular&amp;&amp;!t.circular?\&quot;top\&quot;==e.circularLinkType?1:-1:t.circular&amp;&amp;e.circular?t.circularLinkType===e.circularLinkType&amp;&amp;\&quot;top\&quot;==t.circularLinkType?t.source.column===e.source.column?t.source.y1-e.source.y1:t.source.column-e.source.column:t.circularLinkType===e.circularLinkType&amp;&amp;\&quot;bottom\&quot;==t.circularLinkType?t.source.column===e.source.column?t.source.y1-e.source.y1:e.source.column-t.source.column:\&quot;top\&quot;==t.circularLinkType?-1:1:void 0}));var a=e.y0;n.forEach((function(t){t.y1=a+t.width/2,a+=t.width})),n.forEach((function(t,r){if(\&quot;bottom\&quot;==t.circularLinkType){for(var a=r+1,o=0;a&lt;i;a++)o+=n[a].width;t.y1=e.y1-o-t.width/2}}))}))}function V(t,e){return q(t)==q(e)}function q(t){return t.y0-t.y1&gt;0?\&quot;up\&quot;:\&quot;down\&quot;}function H(t,e){return b(t.source,e)==b(t.target,e)}function G(t,r,n){var i=t.nodes,a=t.links,o=!1,s=!1;if(a.forEach((function(t){\&quot;top\&quot;==t.circularLinkType?o=!0:\&quot;bottom\&quot;==t.circularLinkType&amp;&amp;(s=!0)})),0==o||0==s){var l=e.min(i,(function(t){return t.y0})),c=(n-r)/(e.max(i,(function(t){return t.y1}))-l);i.forEach((function(t){var e=(t.y1-t.y0)*c;t.y0=(t.y0-l)*c,t.y1=t.y0+e})),a.forEach((function(t){t.y0=(t.y0-l)*c,t.y1=(t.y1-l)*c,t.width=t.width*c}))}}t.sankeyCircular=function(){var t,n,i=0,a=0,b=1,T=1,M=24,A=m,E=o,C=v,L=y,I=32,P=2,z=null;function O(){var t={nodes:C.apply(null,arguments),links:L.apply(null,arguments)};D(t),_(t,A,z),R(t),B(t),w(t,A),N(t,I,A),V(t);for(var e=4,r=0;r&lt;e;r++)j(t,T,A),U(t,T,A),F(t,a,T,A),j(t,T,A),U(t,T,A);return G(t,a,T),S(t,P,T,A),t}function D(t){t.nodes.forEach((function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]}));var e=r.map(t.nodes,A);return t.links.forEach((function(t,r){t.index=r;var n=t.source,i=t.target;\&quot;object\&quot;!==(\&quot;undefined\&quot;==typeof n?\&quot;undefined\&quot;:l(n))&amp;&amp;(n=t.source=x(e,n)),\&quot;object\&quot;!==(\&quot;undefined\&quot;==typeof i?\&quot;undefined\&quot;:l(i))&amp;&amp;(i=t.target=x(e,i)),n.sourceLinks.push(t),i.targetLinks.push(t)})),t}function R(t){t.nodes.forEach((function(t){t.partOfCycle=!1,t.value=Math.max(e.sum(t.sourceLinks,h),e.sum(t.targetLinks,h)),t.sourceLinks.forEach((function(e){e.circular&amp;&amp;(t.partOfCycle=!0,t.circularLinkType=e.circularLinkType)})),t.targetLinks.forEach((function(e){e.circular&amp;&amp;(t.partOfCycle=!0,t.circularLinkType=e.circularLinkType)}))}))}function B(t){var e,r,n;for(e=t.nodes,r=[],n=0;e.length;++n,e=r,r=[])e.forEach((function(t){t.depth=n,t.sourceLinks.forEach((function(t){r.indexOf(t.target)&lt;0&amp;&amp;!t.circular&amp;&amp;r.push(t.target)}))}));for(e=t.nodes,r=[],n=0;e.length;++n,e=r,r=[])e.forEach((function(t){t.height=n,t.targetLinks.forEach((function(t){r.indexOf(t.source)&lt;0&amp;&amp;!t.circular&amp;&amp;r.push(t.source)}))}));t.nodes.forEach((function(t){t.column=Math.floor(E.call(null,t,n))}))}function N(o,s,l){var c=r.nest().key((function(t){return t.column})).sortKeys(e.ascending).entries(o.nodes).map((function(t){return t.values}));!function(r){if(n){var s=1/0;c.forEach((function(t){var e=T*n/(t.length+1);s=e&lt;s?e:s})),t=s}var l=e.min(c,(function(r){return(T-a-(r.length-1)*t)/e.sum(r,h)}));l*=.3,o.links.forEach((function(t){t.width=t.value*l}));var u=function(t){var r=0,n=0,i=0,a=0,o=e.max(t.nodes,(function(t){return t.column}));return t.links.forEach((function(t){t.circular&amp;&amp;(\&quot;top\&quot;==t.circularLinkType?r+=t.width:n+=t.width,0==t.target.column&amp;&amp;(a+=t.width),t.source.column==o&amp;&amp;(i+=t.width))})),{top:r=r&gt;0?r+25+10:r,bottom:n=n&gt;0?n+25+10:n,left:a=a&gt;0?a+25+10:a,right:i=i&gt;0?i+25+10:i}}(o),f=function(t,r){var n=e.max(t.nodes,(function(t){return t.column})),o=b-i,s=T-a,l=o/(o+r.right+r.left),c=s/(s+r.top+r.bottom);return i=i*l+r.left,b=0==r.right?b:b*l,a=a*c+r.top,T*=c,t.nodes.forEach((function(t){t.x0=i+t.column*((b-i-M)/n),t.x1=t.x0+M})),c}(o,u);l*=f,o.links.forEach((function(t){t.width=t.value*l})),c.forEach((function(t){var e=t.length;t.forEach((function(t,n){t.depth==c.length-1&amp;&amp;1==e||0==t.depth&amp;&amp;1==e?(t.y0=T/2-t.value*l,t.y1=t.y0+t.value*l):t.partOfCycle?0==k(t,r)?(t.y0=T/2+n,t.y1=t.y0+t.value*l):\&quot;top\&quot;==t.circularLinkType?(t.y0=a+n,t.y1=t.y0+t.value*l):(t.y0=T-t.value*l-n,t.y1=t.y0+t.value*l):0==u.top||0==u.bottom?(t.y0=(T-a)/e*n,t.y1=t.y0+t.value*l):(t.y0=(T-a)/2-e/2+n,t.y1=t.y0+t.value*l)}))}))}(l),y();for(var u=1,m=s;m&gt;0;--m)v(u*=.99,l),y();function v(t,r){var n=c.length;c.forEach((function(i){var a=i.length,o=i[0].depth;i.forEach((function(i){var s;if(i.sourceLinks.length||i.targetLinks.length)if(i.partOfCycle&amp;&amp;k(i,r)&gt;0);else if(0==o&amp;&amp;1==a)s=i.y1-i.y0,i.y0=T/2-s/2,i.y1=T/2+s/2;else if(o==n-1&amp;&amp;1==a)s=i.y1-i.y0,i.y0=T/2-s/2,i.y1=T/2+s/2;else{var l=e.mean(i.sourceLinks,g),c=e.mean(i.targetLinks,d),u=((l&amp;&amp;c?(l+c)/2:l||c)-p(i))*t;i.y0+=u,i.y1+=u}}))}))}function y(){c.forEach((function(e){var r,n,i,o=a,s=e.length;for(e.sort(f),i=0;i&lt;s;++i)(n=o-(r=e[i]).y0)&gt;0&amp;&amp;(r.y0+=n,r.y1+=n),o=r.y1+t;if((n=o-t-T)&gt;0)for(o=r.y0-=n,r.y1-=n,i=s-2;i&gt;=0;--i)(n=(r=e[i]).y1+t-o)&gt;0&amp;&amp;(r.y0-=n,r.y1-=n),o=r.y0}))}}function V(t){t.nodes.forEach((function(t){t.sourceLinks.sort(u),t.targetLinks.sort(c)})),t.nodes.forEach((function(t){var e=t.y0,r=e,n=t.y1,i=n;t.sourceLinks.forEach((function(t){t.circular?(t.y0=n-t.width/2,n-=t.width):(t.y0=e+t.width/2,e+=t.width)})),t.targetLinks.forEach((function(t){t.circular?(t.y1=i-t.width/2,i-=t.width):(t.y1=r+t.width/2,r+=t.width)}))}))}return O.nodeId=function(t){return arguments.length?(A=\&quot;function\&quot;==typeof t?t:s(t),O):A},O.nodeAlign=function(t){return arguments.length?(E=\&quot;function\&quot;==typeof t?t:s(t),O):E},O.nodeWidth=function(t){return arguments.length?(M=+t,O):M},O.nodePadding=function(e){return arguments.length?(t=+e,O):t},O.nodes=function(t){return arguments.length?(C=\&quot;function\&quot;==typeof t?t:s(t),O):C},O.links=function(t){return arguments.length?(L=\&quot;function\&quot;==typeof t?t:s(t),O):L},O.size=function(t){return arguments.length?(i=a=0,b=+t[0],T=+t[1],O):[b-i,T-a]},O.extent=function(t){return arguments.length?(i=+t[0][0],b=+t[1][0],a=+t[0][1],T=+t[1][1],O):[[i,a],[b,T]]},O.iterations=function(t){return arguments.length?(I=+t,O):I},O.circularLinkGap=function(t){return arguments.length?(P=+t,O):P},O.nodePaddingRatio=function(t){return arguments.length?(n=+t,O):n},O.sortNodes=function(t){return arguments.length?(z=t,O):z},O.update=function(t){return w(t,A),V(t),t.links.forEach((function(t){t.circular&amp;&amp;(t.circularLinkType=t.y0+t.y1&lt;T?\&quot;top\&quot;:\&quot;bottom\&quot;,t.source.circularLinkType=t.circularLinkType,t.target.circularLinkType=t.circularLinkType)})),j(t,T,A,!1),U(t,T,A),S(t,P,T,A),t},O},t.sankeyCenter=function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?e.min(t.sourceLinks,a)-1:0},t.sankeyLeft=function(t){return t.depth},t.sankeyRight=function(t,e){return e-1-t.height},t.sankeyJustify=o,Object.defineProperty(t,\&quot;__esModule\&quot;,{value:!0})}))},{\&quot;d3-array\&quot;:156,\&quot;d3-collection\&quot;:157,\&quot;d3-shape\&quot;:165,\&quot;elementary-circuits-directed-graph\&quot;:179}],56:[function(t,e,r){!function(n,i){\&quot;object\&quot;==typeof r&amp;&amp;\&quot;undefined\&quot;!=typeof e?i(r,t(\&quot;d3-array\&quot;),t(\&quot;d3-collection\&quot;),t(\&quot;d3-shape\&quot;)):i(n.d3=n.d3||{},n.d3,n.d3,n.d3)}(this,(function(t,e,r,n){\&quot;use strict\&quot;;function i(t){return t.target.depth}function a(t,e){return t.sourceLinks.length?t.depth:e-1}function o(t){return function(){return t}}function s(t,e){return c(t.source,e.source)||t.index-e.index}function l(t,e){return c(t.target,e.target)||t.index-e.index}function c(t,e){return t.y0-e.y0}function u(t){return t.value}function f(t){return(t.y0+t.y1)/2}function h(t){return f(t.source)*t.value}function p(t){return f(t.target)*t.value}function d(t){return t.index}function g(t){return t.nodes}function m(t){return t.links}function v(t,e){var r=t.get(e);if(!r)throw new Error(\&quot;missing: \&quot;+e);return r}function y(t){return[t.source.x1,t.y0]}function x(t){return[t.target.x0,t.y1]}t.sankey=function(){var t=0,n=0,i=1,y=1,x=24,b=8,_=d,w=a,T=g,k=m,M=32;function A(){var t={nodes:T.apply(null,arguments),links:k.apply(null,arguments)};return S(t),E(t),C(t),L(t),I(t),t}function S(t){t.nodes.forEach((function(t,e){t.index=e,t.sourceLinks=[],t.targetLinks=[]}));var e=r.map(t.nodes,_);t.links.forEach((function(t,r){t.index=r;var n=t.source,i=t.target;\&quot;object\&quot;!=typeof n&amp;&amp;(n=t.source=v(e,n)),\&quot;object\&quot;!=typeof i&amp;&amp;(i=t.target=v(e,i)),n.sourceLinks.push(t),i.targetLinks.push(t)}))}function E(t){t.nodes.forEach((function(t){t.value=Math.max(e.sum(t.sourceLinks,u),e.sum(t.targetLinks,u))}))}function C(e){var r,n,a;for(r=e.nodes,n=[],a=0;r.length;++a,r=n,n=[])r.forEach((function(t){t.depth=a,t.sourceLinks.forEach((function(t){n.indexOf(t.target)&lt;0&amp;&amp;n.push(t.target)}))}));for(r=e.nodes,n=[],a=0;r.length;++a,r=n,n=[])r.forEach((function(t){t.height=a,t.targetLinks.forEach((function(t){n.indexOf(t.source)&lt;0&amp;&amp;n.push(t.source)}))}));var o=(i-t-x)/(a-1);e.nodes.forEach((function(e){e.x1=(e.x0=t+Math.max(0,Math.min(a-1,Math.floor(w.call(null,e,a))))*o)+x}))}function L(t){var i=r.nest().key((function(t){return t.x0})).sortKeys(e.ascending).entries(t.nodes).map((function(t){return t.values}));!function(){var r=e.max(i,(function(t){return t.length})),a=2/3*(y-n)/(r-1);b&gt;a&amp;&amp;(b=a);var o=e.min(i,(function(t){return(y-n-(t.length-1)*b)/e.sum(t,u)}));i.forEach((function(t){t.forEach((function(t,e){t.y1=(t.y0=e)+t.value*o}))})),t.links.forEach((function(t){t.width=t.value*o}))}(),d();for(var a=1,o=M;o&gt;0;--o)l(a*=.99),d(),s(a),d();function s(t){i.forEach((function(r){r.forEach((function(r){if(r.targetLinks.length){var n=(e.sum(r.targetLinks,h)/e.sum(r.targetLinks,u)-f(r))*t;r.y0+=n,r.y1+=n}}))}))}function l(t){i.slice().reverse().forEach((function(r){r.forEach((function(r){if(r.sourceLinks.length){var n=(e.sum(r.sourceLinks,p)/e.sum(r.sourceLinks,u)-f(r))*t;r.y0+=n,r.y1+=n}}))}))}function d(){i.forEach((function(t){var e,r,i,a=n,o=t.length;for(t.sort(c),i=0;i&lt;o;++i)(r=a-(e=t[i]).y0)&gt;0&amp;&amp;(e.y0+=r,e.y1+=r),a=e.y1+b;if((r=a-b-y)&gt;0)for(a=e.y0-=r,e.y1-=r,i=o-2;i&gt;=0;--i)(r=(e=t[i]).y1+b-a)&gt;0&amp;&amp;(e.y0-=r,e.y1-=r),a=e.y0}))}}function I(t){t.nodes.forEach((function(t){t.sourceLinks.sort(l),t.targetLinks.sort(s)})),t.nodes.forEach((function(t){var e=t.y0,r=e;t.sourceLinks.forEach((function(t){t.y0=e+t.width/2,e+=t.width})),t.targetLinks.forEach((function(t){t.y1=r+t.width/2,r+=t.width}))}))}return A.update=function(t){return I(t),t},A.nodeId=function(t){return arguments.length?(_=\&quot;function\&quot;==typeof t?t:o(t),A):_},A.nodeAlign=function(t){return arguments.length?(w=\&quot;function\&quot;==typeof t?t:o(t),A):w},A.nodeWidth=function(t){return arguments.length?(x=+t,A):x},A.nodePadding=function(t){return arguments.length?(b=+t,A):b},A.nodes=function(t){return arguments.length?(T=\&quot;function\&quot;==typeof t?t:o(t),A):T},A.links=function(t){return arguments.length?(k=\&quot;function\&quot;==typeof t?t:o(t),A):k},A.size=function(e){return arguments.length?(t=n=0,i=+e[0],y=+e[1],A):[i-t,y-n]},A.extent=function(e){return arguments.length?(t=+e[0][0],i=+e[1][0],n=+e[0][1],y=+e[1][1],A):[[t,n],[i,y]]},A.iterations=function(t){return arguments.length?(M=+t,A):M},A},t.sankeyCenter=function(t){return t.targetLinks.length?t.depth:t.sourceLinks.length?e.min(t.sourceLinks,i)-1:0},t.sankeyLeft=function(t){return t.depth},t.sankeyRight=function(t,e){return e-1-t.height},t.sankeyJustify=a,t.sankeyLinkHorizontal=function(){return n.linkHorizontal().source(y).target(x)},Object.defineProperty(t,\&quot;__esModule\&quot;,{value:!0})}))},{\&quot;d3-array\&quot;:156,\&quot;d3-collection\&quot;:157,\&quot;d3-shape\&quot;:165}],57:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;./quad\&quot;)},{\&quot;./quad\&quot;:58}],58:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;binary-search-bounds\&quot;),i=t(\&quot;clamp\&quot;),a=t(\&quot;parse-rect\&quot;),o=t(\&quot;array-bounds\&quot;),s=t(\&quot;pick-by-alias\&quot;),l=t(\&quot;defined\&quot;),c=t(\&quot;flatten-vertex-data\&quot;),u=t(\&quot;is-obj\&quot;),f=t(\&quot;dtype\&quot;),h=t(\&quot;math-log2\&quot;);function p(t,e){for(var r=e[0],n=e[1],a=1/(e[2]-r),o=1/(e[3]-n),s=new Array(t.length),l=0,c=t.length/2;l&lt;c;l++)s[2*l]=i((t[2*l]-r)*a,0,1),s[2*l+1]=i((t[2*l+1]-n)*o,0,1);return s}e.exports=function(t,e){e||(e={}),t=c(t,\&quot;float64\&quot;),e=s(e,{bounds:\&quot;range bounds dataBox databox\&quot;,maxDepth:\&quot;depth maxDepth maxdepth level maxLevel maxlevel levels\&quot;,dtype:\&quot;type dtype format out dst output destination\&quot;});var r=l(e.maxDepth,255),i=l(e.bounds,o(t,2));i[0]===i[2]&amp;&amp;i[2]++,i[1]===i[3]&amp;&amp;i[3]++;var d,g=p(t,i),m=t.length&gt;&gt;&gt;1;e.dtype||(e.dtype=\&quot;array\&quot;),\&quot;string\&quot;==typeof e.dtype?d=new(f(e.dtype))(m):e.dtype&amp;&amp;(d=e.dtype,Array.isArray(d)&amp;&amp;(d.length=m));for(var v=0;v&lt;m;++v)d[v]=v;var y=[],x=[],b=[],_=[];!function t(e,n,i,a,o,s){if(!a.length)return null;var l=y[o]||(y[o]=[]),c=b[o]||(b[o]=[]),u=x[o]||(x[o]=[]),f=l.length;if(++o&gt;r||s&gt;1073741824){for(var h=0;h&lt;a.length;h++)l.push(a[h]),c.push(s),u.push(null,null,null,null);return f}if(l.push(a[0]),c.push(s),a.length&lt;=1)return u.push(null,null,null,null),f;for(var p=.5*i,d=e+p,m=n+p,v=[],_=[],w=[],T=[],k=1,M=a.length;k&lt;M;k++){var A=a[k],S=g[2*A],E=g[2*A+1];S&lt;d?E&lt;m?v.push(A):_.push(A):E&lt;m?w.push(A):T.push(A)}return s&lt;&lt;=2,u.push(t(e,n,p,v,o,s),t(e,m,p,_,o,s+1),t(d,n,p,w,o,s+2),t(d,m,p,T,o,s+3)),f}(0,0,1,d,0,1);for(var w=0,T=0;T&lt;y.length;T++){var k=y[T];if(d.set)d.set(k,w);else for(var M=0,A=k.length;M&lt;A;M++)d[M+w]=k[M];var S=w+y[T].length;_[T]=[w,S],w=S}return d.range=function(){var e,r=[],n=arguments.length;for(;n--;)r[n]=arguments[n];if(u(r[r.length-1])){var o=r.pop();r.length||null==o.x&amp;&amp;null==o.l&amp;&amp;null==o.left||(r=[o],e={}),e=s(o,{level:\&quot;level maxLevel\&quot;,d:\&quot;d diam diameter r radius px pxSize pixel pixelSize maxD size minSize\&quot;,lod:\&quot;lod details ranges offsets\&quot;})}else e={};r.length||(r=i);var c=a.apply(void 0,r),f=[Math.min(c.x,c.x+c.width),Math.min(c.y,c.y+c.height),Math.max(c.x,c.x+c.width),Math.max(c.y,c.y+c.height)],d=f[0],g=f[1],m=f[2],v=f[3],b=p([d,g,m,v],i),_=b[0],w=b[1],T=b[2],k=b[3],M=l(e.level,y.length);if(null!=e.d){var A;\&quot;number\&quot;==typeof e.d?A=[e.d,e.d]:e.d.length&amp;&amp;(A=e.d),M=Math.min(Math.max(Math.ceil(-h(Math.abs(A[0])/(i[2]-i[0]))),Math.ceil(-h(Math.abs(A[1])/(i[3]-i[1])))),M)}if(M=Math.min(M,y.length),e.lod)return E(_,w,T,k,M);var S=[];function C(e,r,n,i,a,o){if(null!==a&amp;&amp;null!==o&amp;&amp;!(_&gt;e+n||w&gt;r+n||T&lt;e||k&lt;r||i&gt;=M||a===o)){var s=y[i];void 0===o&amp;&amp;(o=s.length);for(var l=a;l&lt;o;l++){var c=s[l],u=t[2*c],f=t[2*c+1];u&gt;=d&amp;&amp;u&lt;=m&amp;&amp;f&gt;=g&amp;&amp;f&lt;=v&amp;&amp;S.push(c)}var h=x[i],p=h[4*a+0],b=h[4*a+1],A=h[4*a+2],E=h[4*a+3],I=L(h,a+1),P=.5*n,z=i+1;C(e,r,P,z,p,b||A||E||I),C(e,r+P,P,z,b,A||E||I),C(e+P,r,P,z,A,E||I),C(e+P,r+P,P,z,E,I)}}function L(t,e){for(var r=null,n=0;null===r;)if(r=t[4*e+n],++n&gt;t.length)return null;return r}return C(0,0,1,0,0,1),S},d;function E(t,e,r,i,a){for(var o=[],s=0;s&lt;a;s++){var l=b[s],c=_[s][0],u=C(t,e,s),f=C(r,i,s),h=n.ge(l,u),p=n.gt(l,f,h,l.length-1);o[s]=[h+c,p+c]}return o}function C(t,e,r){for(var n=1,i=.5,a=.5,o=.5,s=0;s&lt;r;s++)n&lt;&lt;=2,n+=t&lt;i?e&lt;a?0:1:e&lt;a?2:3,o*=.5,i+=t&lt;i?-o:o,a+=e&lt;a?-o:o;return n}}},{\&quot;array-bounds\&quot;:70,\&quot;binary-search-bounds\&quot;:96,clamp:120,defined:170,dtype:175,\&quot;flatten-vertex-data\&quot;:244,\&quot;is-obj\&quot;:468,\&quot;math-log2\&quot;:479,\&quot;parse-rect\&quot;:504,\&quot;pick-by-alias\&quot;:511}],59:[function(t,e,r){\&quot;use strict\&quot;;Object.defineProperty(r,\&quot;__esModule\&quot;,{value:!0});var n=t(\&quot;@turf/meta\&quot;);function i(t){var e=0;if(t&amp;&amp;t.length&gt;0){e+=Math.abs(a(t[0]));for(var r=1;r&lt;t.length;r++)e-=Math.abs(a(t[r]))}return e}function a(t){var e,r,n,i,a,s,l=0,c=t.length;if(c&gt;2){for(s=0;s&lt;c;s++)s===c-2?(n=c-2,i=c-1,a=0):s===c-1?(n=c-1,i=0,a=1):(n=s,i=s+1,a=s+2),e=t[n],r=t[i],l+=(o(t[a][0])-o(e[0]))*Math.sin(o(r[1]));l=6378137*l*6378137/2}return l}function o(t){return t*Math.PI/180}r.default=function(t){return n.geomReduce(t,(function(t,e){return t+function(t){var e,r=0;switch(t.type){case\&quot;Polygon\&quot;:return i(t.coordinates);case\&quot;MultiPolygon\&quot;:for(e=0;e&lt;t.coordinates.length;e++)r+=i(t.coordinates[e]);return r;case\&quot;Point\&quot;:case\&quot;MultiPoint\&quot;:case\&quot;LineString\&quot;:case\&quot;MultiLineString\&quot;:return 0}return 0}(e)}),0)}},{\&quot;@turf/meta\&quot;:63}],60:[function(t,e,r){\&quot;use strict\&quot;;Object.defineProperty(r,\&quot;__esModule\&quot;,{value:!0});var n=t(\&quot;@turf/meta\&quot;);r.default=function(t){var e=[1/0,1/0,-1/0,-1/0];return n.coordEach(t,(function(t){e[0]&gt;t[0]&amp;&amp;(e[0]=t[0]),e[1]&gt;t[1]&amp;&amp;(e[1]=t[1]),e[2]&lt;t[0]&amp;&amp;(e[2]=t[0]),e[3]&lt;t[1]&amp;&amp;(e[3]=t[1])})),e}},{\&quot;@turf/meta\&quot;:63}],61:[function(t,e,r){\&quot;use strict\&quot;;Object.defineProperty(r,\&quot;__esModule\&quot;,{value:!0});var n=t(\&quot;@turf/meta\&quot;),i=t(\&quot;@turf/helpers\&quot;);r.default=function(t,e){void 0===e&amp;&amp;(e={});var r=0,a=0,o=0;return n.coordEach(t,(function(t){r+=t[0],a+=t[1],o++})),i.point([r/o,a/o],e.properties)}},{\&quot;@turf/helpers\&quot;:62,\&quot;@turf/meta\&quot;:63}],62:[function(t,e,r){\&quot;use strict\&quot;;function n(t,e,r){void 0===r&amp;&amp;(r={});var n={type:\&quot;Feature\&quot;};return(0===r.id||r.id)&amp;&amp;(n.id=r.id),r.bbox&amp;&amp;(n.bbox=r.bbox),n.properties=e||{},n.geometry=t,n}function i(t,e,r){return void 0===r&amp;&amp;(r={}),n({type:\&quot;Point\&quot;,coordinates:t},e,r)}function a(t,e,r){void 0===r&amp;&amp;(r={});for(var i=0,a=t;i&lt;a.length;i++){var o=a[i];if(o.length&lt;4)throw new Error(\&quot;Each LinearRing of a Polygon must have 4 or more Positions.\&quot;);for(var s=0;s&lt;o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error(\&quot;First and last Position are not equivalent.\&quot;)}return n({type:\&quot;Polygon\&quot;,coordinates:t},e,r)}function o(t,e,r){if(void 0===r&amp;&amp;(r={}),t.length&lt;2)throw new Error(\&quot;coordinates must be an array of two or more positions\&quot;);return n({type:\&quot;LineString\&quot;,coordinates:t},e,r)}function s(t,e){void 0===e&amp;&amp;(e={});var r={type:\&quot;FeatureCollection\&quot;};return e.id&amp;&amp;(r.id=e.id),e.bbox&amp;&amp;(r.bbox=e.bbox),r.features=t,r}function l(t,e,r){return void 0===r&amp;&amp;(r={}),n({type:\&quot;MultiLineString\&quot;,coordinates:t},e,r)}function c(t,e,r){return void 0===r&amp;&amp;(r={}),n({type:\&quot;MultiPoint\&quot;,coordinates:t},e,r)}function u(t,e,r){return void 0===r&amp;&amp;(r={}),n({type:\&quot;MultiPolygon\&quot;,coordinates:t},e,r)}function f(t,e){void 0===e&amp;&amp;(e=\&quot;kilometers\&quot;);var n=r.factors[e];if(!n)throw new Error(e+\&quot; units is invalid\&quot;);return t*n}function h(t,e){void 0===e&amp;&amp;(e=\&quot;kilometers\&quot;);var n=r.factors[e];if(!n)throw new Error(e+\&quot; units is invalid\&quot;);return t/n}function p(t){return 180*(t%(2*Math.PI))/Math.PI}function d(t){return!isNaN(t)&amp;&amp;null!==t&amp;&amp;!Array.isArray(t)&amp;&amp;!/^\\s*$/.test(t)}Object.defineProperty(r,\&quot;__esModule\&quot;,{value:!0}),r.earthRadius=6371008.8,r.factors={centimeters:100*r.earthRadius,centimetres:100*r.earthRadius,degrees:r.earthRadius/111325,feet:3.28084*r.earthRadius,inches:39.37*r.earthRadius,kilometers:r.earthRadius/1e3,kilometres:r.earthRadius/1e3,meters:r.earthRadius,metres:r.earthRadius,miles:r.earthRadius/1609.344,millimeters:1e3*r.earthRadius,millimetres:1e3*r.earthRadius,nauticalmiles:r.earthRadius/1852,radians:1,yards:r.earthRadius/1.0936},r.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/r.earthRadius,yards:1/1.0936},r.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},r.feature=n,r.geometry=function(t,e,r){switch(void 0===r&amp;&amp;(r={}),t){case\&quot;Point\&quot;:return i(e).geometry;case\&quot;LineString\&quot;:return o(e).geometry;case\&quot;Polygon\&quot;:return a(e).geometry;case\&quot;MultiPoint\&quot;:return c(e).geometry;case\&quot;MultiLineString\&quot;:return l(e).geometry;case\&quot;MultiPolygon\&quot;:return u(e).geometry;default:throw new Error(t+\&quot; is invalid\&quot;)}},r.point=i,r.points=function(t,e,r){return void 0===r&amp;&amp;(r={}),s(t.map((function(t){return i(t,e)})),r)},r.polygon=a,r.polygons=function(t,e,r){return void 0===r&amp;&amp;(r={}),s(t.map((function(t){return a(t,e)})),r)},r.lineString=o,r.lineStrings=function(t,e,r){return void 0===r&amp;&amp;(r={}),s(t.map((function(t){return o(t,e)})),r)},r.featureCollection=s,r.multiLineString=l,r.multiPoint=c,r.multiPolygon=u,r.geometryCollection=function(t,e,r){return void 0===r&amp;&amp;(r={}),n({type:\&quot;GeometryCollection\&quot;,geometries:t},e,r)},r.round=function(t,e){if(void 0===e&amp;&amp;(e=0),e&amp;&amp;!(e&gt;=0))throw new Error(\&quot;precision must be a positive number\&quot;);var r=Math.pow(10,e||0);return Math.round(t*r)/r},r.radiansToLength=f,r.lengthToRadians=h,r.lengthToDegrees=function(t,e){return p(h(t,e))},r.bearingToAzimuth=function(t){var e=t%360;return e&lt;0&amp;&amp;(e+=360),e},r.radiansToDegrees=p,r.degreesToRadians=function(t){return t%360*Math.PI/180},r.convertLength=function(t,e,r){if(void 0===e&amp;&amp;(e=\&quot;kilometers\&quot;),void 0===r&amp;&amp;(r=\&quot;kilometers\&quot;),!(t&gt;=0))throw new Error(\&quot;length must be a positive number\&quot;);return f(h(t,e),r)},r.convertArea=function(t,e,n){if(void 0===e&amp;&amp;(e=\&quot;meters\&quot;),void 0===n&amp;&amp;(n=\&quot;kilometers\&quot;),!(t&gt;=0))throw new Error(\&quot;area must be a positive number\&quot;);var i=r.areaFactors[e];if(!i)throw new Error(\&quot;invalid original units\&quot;);var a=r.areaFactors[n];if(!a)throw new Error(\&quot;invalid final units\&quot;);return t/i*a},r.isNumber=d,r.isObject=function(t){return!!t&amp;&amp;t.constructor===Object},r.validateBBox=function(t){if(!t)throw new Error(\&quot;bbox is required\&quot;);if(!Array.isArray(t))throw new Error(\&quot;bbox must be an Array\&quot;);if(4!==t.length&amp;&amp;6!==t.length)throw new Error(\&quot;bbox must be an Array of 4 or 6 numbers\&quot;);t.forEach((function(t){if(!d(t))throw new Error(\&quot;bbox must only contain numbers\&quot;)}))},r.validateId=function(t){if(!t)throw new Error(\&quot;id is required\&quot;);if(-1===[\&quot;string\&quot;,\&quot;number\&quot;].indexOf(typeof t))throw new Error(\&quot;id must be a number or a string\&quot;)},r.radians2degrees=function(){throw new Error(\&quot;method has been renamed to `radiansToDegrees`\&quot;)},r.degrees2radians=function(){throw new Error(\&quot;method has been renamed to `degreesToRadians`\&quot;)},r.distanceToDegrees=function(){throw new Error(\&quot;method has been renamed to `lengthToDegrees`\&quot;)},r.distanceToRadians=function(){throw new Error(\&quot;method has been renamed to `lengthToRadians`\&quot;)},r.radiansToDistance=function(){throw new Error(\&quot;method has been renamed to `radiansToLength`\&quot;)},r.bearingToAngle=function(){throw new Error(\&quot;method has been renamed to `bearingToAzimuth`\&quot;)},r.convertDistance=function(){throw new Error(\&quot;method has been renamed to `convertLength`\&quot;)}},{}],63:[function(t,e,r){\&quot;use strict\&quot;;Object.defineProperty(r,\&quot;__esModule\&quot;,{value:!0});var n=t(\&quot;@turf/helpers\&quot;);function i(t,e,r){if(null!==t)for(var n,a,o,s,l,c,u,f,h=0,p=0,d=t.type,g=\&quot;FeatureCollection\&quot;===d,m=\&quot;Feature\&quot;===d,v=g?t.features.length:1,y=0;y&lt;v;y++){l=(f=!!(u=g?t.features[y].geometry:m?t.geometry:t)&amp;&amp;\&quot;GeometryCollection\&quot;===u.type)?u.geometries.length:1;for(var x=0;x&lt;l;x++){var b=0,_=0;if(null!==(s=f?u.geometries[x]:u)){c=s.coordinates;var w=s.type;switch(h=!r||\&quot;Polygon\&quot;!==w&amp;&amp;\&quot;MultiPolygon\&quot;!==w?0:1,w){case null:break;case\&quot;Point\&quot;:if(!1===e(c,p,y,b,_))return!1;p++,b++;break;case\&quot;LineString\&quot;:case\&quot;MultiPoint\&quot;:for(n=0;n&lt;c.length;n++){if(!1===e(c[n],p,y,b,_))return!1;p++,\&quot;MultiPoint\&quot;===w&amp;&amp;b++}\&quot;LineString\&quot;===w&amp;&amp;b++;break;case\&quot;Polygon\&quot;:case\&quot;MultiLineString\&quot;:for(n=0;n&lt;c.length;n++){for(a=0;a&lt;c[n].length-h;a++){if(!1===e(c[n][a],p,y,b,_))return!1;p++}\&quot;MultiLineString\&quot;===w&amp;&amp;b++,\&quot;Polygon\&quot;===w&amp;&amp;_++}\&quot;Polygon\&quot;===w&amp;&amp;b++;break;case\&quot;MultiPolygon\&quot;:for(n=0;n&lt;c.length;n++){for(_=0,a=0;a&lt;c[n].length;a++){for(o=0;o&lt;c[n][a].length-h;o++){if(!1===e(c[n][a][o],p,y,b,_))return!1;p++}_++}b++}break;case\&quot;GeometryCollection\&quot;:for(n=0;n&lt;s.geometries.length;n++)if(!1===i(s.geometries[n],e,r))return!1;break;default:throw new Error(\&quot;Unknown Geometry Type\&quot;)}}}}}function a(t,e){var r;switch(t.type){case\&quot;FeatureCollection\&quot;:for(r=0;r&lt;t.features.length&amp;&amp;!1!==e(t.features[r].properties,r);r++);break;case\&quot;Feature\&quot;:e(t.properties,0)}}function o(t,e){if(\&quot;Feature\&quot;===t.type)e(t,0);else if(\&quot;FeatureCollection\&quot;===t.type)for(var r=0;r&lt;t.features.length&amp;&amp;!1!==e(t.features[r],r);r++);}function s(t,e){var r,n,i,a,o,s,l,c,u,f,h=0,p=\&quot;FeatureCollection\&quot;===t.type,d=\&quot;Feature\&quot;===t.type,g=p?t.features.length:1;for(r=0;r&lt;g;r++){for(s=p?t.features[r].geometry:d?t.geometry:t,c=p?t.features[r].properties:d?t.properties:{},u=p?t.features[r].bbox:d?t.bbox:void 0,f=p?t.features[r].id:d?t.id:void 0,o=(l=!!s&amp;&amp;\&quot;GeometryCollection\&quot;===s.type)?s.geometries.length:1,i=0;i&lt;o;i++)if(null!==(a=l?s.geometries[i]:s))switch(a.type){case\&quot;Point\&quot;:case\&quot;LineString\&quot;:case\&quot;MultiPoint\&quot;:case\&quot;Polygon\&quot;:case\&quot;MultiLineString\&quot;:case\&quot;MultiPolygon\&quot;:if(!1===e(a,h,c,u,f))return!1;break;case\&quot;GeometryCollection\&quot;:for(n=0;n&lt;a.geometries.length;n++)if(!1===e(a.geometries[n],h,c,u,f))return!1;break;default:throw new Error(\&quot;Unknown Geometry Type\&quot;)}else if(!1===e(null,h,c,u,f))return!1;h++}}function l(t,e){s(t,(function(t,r,i,a,o){var s,l=null===t?null:t.type;switch(l){case null:case\&quot;Point\&quot;:case\&quot;LineString\&quot;:case\&quot;Polygon\&quot;:return!1!==e(n.feature(t,i,{bbox:a,id:o}),r,0)&amp;&amp;void 0}switch(l){case\&quot;MultiPoint\&quot;:s=\&quot;Point\&quot;;break;case\&quot;MultiLineString\&quot;:s=\&quot;LineString\&quot;;break;case\&quot;MultiPolygon\&quot;:s=\&quot;Polygon\&quot;}for(var c=0;c&lt;t.coordinates.length;c++){var u={type:s,coordinates:t.coordinates[c]};if(!1===e(n.feature(u,i),r,c))return!1}}))}function c(t,e){l(t,(function(t,r,a){var o=0;if(t.geometry){var s=t.geometry.type;if(\&quot;Point\&quot;!==s&amp;&amp;\&quot;MultiPoint\&quot;!==s){var l,c=0,u=0,f=0;return!1!==i(t,(function(i,s,h,p,d){if(void 0===l||r&gt;c||p&gt;u||d&gt;f)return l=i,c=r,u=p,f=d,void(o=0);var g=n.lineString([l,i],t.properties);if(!1===e(g,r,a,d,o))return!1;o++,l=i}))&amp;&amp;void 0}}}))}function u(t,e){if(!t)throw new Error(\&quot;geojson is required\&quot;);l(t,(function(t,r,i){if(null!==t.geometry){var a=t.geometry.type,o=t.geometry.coordinates;switch(a){case\&quot;LineString\&quot;:if(!1===e(t,r,i,0,0))return!1;break;case\&quot;Polygon\&quot;:for(var s=0;s&lt;o.length;s++)if(!1===e(n.lineString(o[s],t.properties),r,i,s))return!1}}}))}r.coordEach=i,r.coordReduce=function(t,e,r,n){var a=r;return i(t,(function(t,n,i,o,s){a=0===n&amp;&amp;void 0===r?t:e(a,t,n,i,o,s)}),n),a},r.propEach=a,r.propReduce=function(t,e,r){var n=r;return a(t,(function(t,i){n=0===i&amp;&amp;void 0===r?t:e(n,t,i)})),n},r.featureEach=o,r.featureReduce=function(t,e,r){var n=r;return o(t,(function(t,i){n=0===i&amp;&amp;void 0===r?t:e(n,t,i)})),n},r.coordAll=function(t){var e=[];return i(t,(function(t){e.push(t)})),e},r.geomEach=s,r.geomReduce=function(t,e,r){var n=r;return s(t,(function(t,i,a,o,s){n=0===i&amp;&amp;void 0===r?t:e(n,t,i,a,o,s)})),n},r.flattenEach=l,r.flattenReduce=function(t,e,r){var n=r;return l(t,(function(t,i,a){n=0===i&amp;&amp;0===a&amp;&amp;void 0===r?t:e(n,t,i,a)})),n},r.segmentEach=c,r.segmentReduce=function(t,e,r){var n=r,i=!1;return c(t,(function(t,a,o,s,l){n=!1===i&amp;&amp;void 0===r?t:e(n,t,a,o,s,l),i=!0})),n},r.lineEach=u,r.lineReduce=function(t,e,r){var n=r;return u(t,(function(t,i,a,o){n=0===i&amp;&amp;void 0===r?t:e(n,t,i,a,o)})),n},r.findSegment=function(t,e){if(e=e||{},!n.isObject(e))throw new Error(\&quot;options is invalid\&quot;);var r,i=e.featureIndex||0,a=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.segmentIndex||0,l=e.properties;switch(t.type){case\&quot;FeatureCollection\&quot;:i&lt;0&amp;&amp;(i=t.features.length+i),l=l||t.features[i].properties,r=t.features[i].geometry;break;case\&quot;Feature\&quot;:l=l||t.properties,r=t.geometry;break;case\&quot;Point\&quot;:case\&quot;MultiPoint\&quot;:return null;case\&quot;LineString\&quot;:case\&quot;Polygon\&quot;:case\&quot;MultiLineString\&quot;:case\&quot;MultiPolygon\&quot;:r=t;break;default:throw new Error(\&quot;geojson is invalid\&quot;)}if(null===r)return null;var c=r.coordinates;switch(r.type){case\&quot;Point\&quot;:case\&quot;MultiPoint\&quot;:return null;case\&quot;LineString\&quot;:return s&lt;0&amp;&amp;(s=c.length+s-1),n.lineString([c[s],c[s+1]],l,e);case\&quot;Polygon\&quot;:return o&lt;0&amp;&amp;(o=c.length+o),s&lt;0&amp;&amp;(s=c[o].length+s-1),n.lineString([c[o][s],c[o][s+1]],l,e);case\&quot;MultiLineString\&quot;:return a&lt;0&amp;&amp;(a=c.length+a),s&lt;0&amp;&amp;(s=c[a].length+s-1),n.lineString([c[a][s],c[a][s+1]],l,e);case\&quot;MultiPolygon\&quot;:return a&lt;0&amp;&amp;(a=c.length+a),o&lt;0&amp;&amp;(o=c[a].length+o),s&lt;0&amp;&amp;(s=c[a][o].length-s-1),n.lineString([c[a][o][s],c[a][o][s+1]],l,e)}throw new Error(\&quot;geojson is invalid\&quot;)},r.findPoint=function(t,e){if(e=e||{},!n.isObject(e))throw new Error(\&quot;options is invalid\&quot;);var r,i=e.featureIndex||0,a=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.coordIndex||0,l=e.properties;switch(t.type){case\&quot;FeatureCollection\&quot;:i&lt;0&amp;&amp;(i=t.features.length+i),l=l||t.features[i].properties,r=t.features[i].geometry;break;case\&quot;Feature\&quot;:l=l||t.properties,r=t.geometry;break;case\&quot;Point\&quot;:case\&quot;MultiPoint\&quot;:return null;case\&quot;LineString\&quot;:case\&quot;Polygon\&quot;:case\&quot;MultiLineString\&quot;:case\&quot;MultiPolygon\&quot;:r=t;break;default:throw new Error(\&quot;geojson is invalid\&quot;)}if(null===r)return null;var c=r.coordinates;switch(r.type){case\&quot;Point\&quot;:return n.point(c,l,e);case\&quot;MultiPoint\&quot;:return a&lt;0&amp;&amp;(a=c.length+a),n.point(c[a],l,e);case\&quot;LineString\&quot;:return s&lt;0&amp;&amp;(s=c.length+s),n.point(c[s],l,e);case\&quot;Polygon\&quot;:return o&lt;0&amp;&amp;(o=c.length+o),s&lt;0&amp;&amp;(s=c[o].length+s),n.point(c[o][s],l,e);case\&quot;MultiLineString\&quot;:return a&lt;0&amp;&amp;(a=c.length+a),s&lt;0&amp;&amp;(s=c[a].length+s),n.point(c[a][s],l,e);case\&quot;MultiPolygon\&quot;:return a&lt;0&amp;&amp;(a=c.length+a),o&lt;0&amp;&amp;(o=c[a].length+o),s&lt;0&amp;&amp;(s=c[a][o].length-s),n.point(c[a][o][s],l,e)}throw new Error(\&quot;geojson is invalid\&quot;)}},{\&quot;@turf/helpers\&quot;:62}],64:[function(t,e,r){\&quot;use strict\&quot;;var n=\&quot;undefined\&quot;==typeof WeakMap?t(\&quot;weak-map\&quot;):WeakMap,i=t(\&quot;gl-buffer\&quot;),a=t(\&quot;gl-vao\&quot;),o=new n;e.exports=function(t){var e=o.get(t),r=e&amp;&amp;(e._triangleBuffer.handle||e._triangleBuffer.buffer);if(!r||!t.isBuffer(r)){var n=i(t,new Float32Array([-1,-1,-1,4,4,-1]));(e=a(t,[{buffer:n,type:t.FLOAT,size:2}]))._triangleBuffer=n,o.set(t,e)}e.bind(),t.drawArrays(t.TRIANGLES,0,3),e.unbind()}},{\&quot;gl-buffer\&quot;:259,\&quot;gl-vao\&quot;:358,\&quot;weak-map\&quot;:602}],65:[function(t,e,r){e.exports=function(t){var e=0,r=0,n=0,i=0;return t.map((function(t){var a=(t=t.slice())[0],o=a.toUpperCase();if(a!=o)switch(t[0]=o,a){case\&quot;a\&quot;:t[6]+=n,t[7]+=i;break;case\&quot;v\&quot;:t[1]+=i;break;case\&quot;h\&quot;:t[1]+=n;break;default:for(var s=1;s&lt;t.length;)t[s++]+=n,t[s++]+=i}switch(o){case\&quot;Z\&quot;:n=e,i=r;break;case\&quot;H\&quot;:n=t[1];break;case\&quot;V\&quot;:i=t[1];break;case\&quot;M\&quot;:n=e=t[1],i=r=t[2];break;default:n=t[t.length-2],i=t[t.length-1]}return t}))}},{}],66:[function(t,e,r){var n=t(\&quot;pad-left\&quot;);e.exports=function(t,e,r){e=\&quot;number\&quot;==typeof e?e:1,r=r||\&quot;: \&quot;;var i=t.split(/\\r?\\n/),a=String(i.length+e-1).length;return i.map((function(t,i){var o=i+e,s=String(o).length;return n(o,a-s)+r+t})).join(\&quot;\\n\&quot;)}},{\&quot;pad-left\&quot;:502}],67:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){var e=t.length;if(0===e)return[];if(1===e)return[0];for(var r=t[0].length,n=[t[0]],a=[0],o=1;o&lt;e;++o)if(n.push(t[o]),i(n,r)){if(a.push(o),a.length===r+1)return a}else n.pop();return a};var n=t(\&quot;robust-orientation\&quot;);function i(t,e){for(var r=new Array(e+1),i=0;i&lt;t.length;++i)r[i]=t[i];for(i=0;i&lt;=t.length;++i){for(var a=t.length;a&lt;=e;++a){for(var o=new Array(e),s=0;s&lt;e;++s)o[s]=Math.pow(a+1-i,s);r[a]=o}if(n.apply(void 0,r))return!0}return!1}},{\&quot;robust-orientation\&quot;:548}],68:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e){return n(e).filter((function(r){for(var n=new Array(r.length),a=0;a&lt;r.length;++a)n[a]=e[r[a]];return i(n)*t&lt;1}))};var n=t(\&quot;delaunay-triangulate\&quot;),i=t(\&quot;circumradius\&quot;)},{circumradius:119,\&quot;delaunay-triangulate\&quot;:171}],69:[function(t,e,r){e.exports=function(t,e){return i(n(t,e))};var n=t(\&quot;alpha-complex\&quot;),i=t(\&quot;simplicial-complex-boundary\&quot;)},{\&quot;alpha-complex\&quot;:68,\&quot;simplicial-complex-boundary\&quot;:555}],70:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e){if(!t||null==t.length)throw Error(\&quot;Argument should be an array\&quot;);e=null==e?1:Math.floor(e);for(var r=Array(2*e),n=0;n&lt;e;n++){for(var i=-1/0,a=1/0,o=n,s=t.length;o&lt;s;o+=e)t[o]&gt;i&amp;&amp;(i=t[o]),t[o]&lt;a&amp;&amp;(a=t[o]);r[n]=a,r[e+n]=i}return r}},{}],71:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;array-bounds\&quot;);e.exports=function(t,e,r){if(!t||null==t.length)throw Error(\&quot;Argument should be an array\&quot;);null==e&amp;&amp;(e=1);null==r&amp;&amp;(r=n(t,e));for(var i=0;i&lt;e;i++){var a=r[e+i],o=r[i],s=i,l=t.length;if(a===1/0&amp;&amp;o===-1/0)for(s=i;s&lt;l;s+=e)t[s]=t[s]===a?1:t[s]===o?0:.5;else if(a===1/0)for(s=i;s&lt;l;s+=e)t[s]=t[s]===a?1:0;else if(o===-1/0)for(s=i;s&lt;l;s+=e)t[s]=t[s]===o?0:1;else{var c=a-o;for(s=i;s&lt;l;s+=e)isNaN(t[s])||(t[s]=0===c?.5:(t[s]-o)/c)}}return t}},{\&quot;array-bounds\&quot;:70}],72:[function(t,e,r){e.exports=function(t,e){var r=\&quot;number\&quot;==typeof t,n=\&quot;number\&quot;==typeof e;r&amp;&amp;!n?(e=t,t=0):r||n||(t=0,e=0);var i=(e|=0)-(t|=0);if(i&lt;0)throw new Error(\&quot;array length must be positive\&quot;);for(var a=new Array(i),o=0,s=t;o&lt;i;o++,s++)a[o]=s;return a}},{}],73:[function(t,e,r){(function(r){(function(){\&quot;use strict\&quot;;var n=t(\&quot;object-assign\&quot;);\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh &lt;feross@feross.org&gt; &lt;http://feross.org&gt;\n * @license  MIT\n */function i(t,e){if(t===e)return 0;for(var r=t.length,n=e.length,i=0,a=Math.min(r,n);i&lt;a;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r&lt;n?-1:n&lt;r?1:0}function a(t){return r.Buffer&amp;&amp;\&quot;function\&quot;==typeof r.Buffer.isBuffer?r.Buffer.isBuffer(t):!(null==t||!t._isBuffer)}var o=t(\&quot;util/\&quot;),s=Object.prototype.hasOwnProperty,l=Array.prototype.slice,c=\&quot;foo\&quot;===function(){}.name;function u(t){return Object.prototype.toString.call(t)}function f(t){return!a(t)&amp;&amp;(\&quot;function\&quot;==typeof r.ArrayBuffer&amp;&amp;(\&quot;function\&quot;==typeof ArrayBuffer.isView?ArrayBuffer.isView(t):!!t&amp;&amp;(t instanceof DataView||!!(t.buffer&amp;&amp;t.buffer instanceof ArrayBuffer))))}var h=e.exports=y,p=/\\s*function\\s+([^\\(\\s]*)\\s*/;function d(t){if(o.isFunction(t)){if(c)return t.name;var e=t.toString().match(p);return e&amp;&amp;e[1]}}function g(t,e){return\&quot;string\&quot;==typeof t?t.length&lt;e?t:t.slice(0,e):t}function m(t){if(c||!o.isFunction(t))return o.inspect(t);var e=d(t);return\&quot;[Function\&quot;+(e?\&quot;: \&quot;+e:\&quot;\&quot;)+\&quot;]\&quot;}function v(t,e,r,n,i){throw new h.AssertionError({message:r,actual:t,expected:e,operator:n,stackStartFunction:i})}function y(t,e){t||v(t,!0,e,\&quot;==\&quot;,h.ok)}function x(t,e,r,n){if(t===e)return!0;if(a(t)&amp;&amp;a(e))return 0===i(t,e);if(o.isDate(t)&amp;&amp;o.isDate(e))return t.getTime()===e.getTime();if(o.isRegExp(t)&amp;&amp;o.isRegExp(e))return t.source===e.source&amp;&amp;t.global===e.global&amp;&amp;t.multiline===e.multiline&amp;&amp;t.lastIndex===e.lastIndex&amp;&amp;t.ignoreCase===e.ignoreCase;if(null!==t&amp;&amp;\&quot;object\&quot;==typeof t||null!==e&amp;&amp;\&quot;object\&quot;==typeof e){if(f(t)&amp;&amp;f(e)&amp;&amp;u(t)===u(e)&amp;&amp;!(t instanceof Float32Array||t instanceof Float64Array))return 0===i(new Uint8Array(t.buffer),new Uint8Array(e.buffer));if(a(t)!==a(e))return!1;var s=(n=n||{actual:[],expected:[]}).actual.indexOf(t);return-1!==s&amp;&amp;s===n.expected.indexOf(e)||(n.actual.push(t),n.expected.push(e),function(t,e,r,n){if(null==t||null==e)return!1;if(o.isPrimitive(t)||o.isPrimitive(e))return t===e;if(r&amp;&amp;Object.getPrototypeOf(t)!==Object.getPrototypeOf(e))return!1;var i=b(t),a=b(e);if(i&amp;&amp;!a||!i&amp;&amp;a)return!1;if(i)return t=l.call(t),e=l.call(e),x(t,e,r);var s,c,u=T(t),f=T(e);if(u.length!==f.length)return!1;for(u.sort(),f.sort(),c=u.length-1;c&gt;=0;c--)if(u[c]!==f[c])return!1;for(c=u.length-1;c&gt;=0;c--)if(s=u[c],!x(t[s],e[s],r,n))return!1;return!0}(t,e,r,n))}return r?t===e:t==e}function b(t){return\&quot;[object Arguments]\&quot;==Object.prototype.toString.call(t)}function _(t,e){if(!t||!e)return!1;if(\&quot;[object RegExp]\&quot;==Object.prototype.toString.call(e))return e.test(t);try{if(t instanceof e)return!0}catch(t){}return!Error.isPrototypeOf(e)&amp;&amp;!0===e.call({},t)}function w(t,e,r,n){var i;if(\&quot;function\&quot;!=typeof e)throw new TypeError('\&quot;block\&quot; argument must be a function');\&quot;string\&quot;==typeof r&amp;&amp;(n=r,r=null),i=function(t){var e;try{t()}catch(t){e=t}return e}(e),n=(r&amp;&amp;r.name?\&quot; (\&quot;+r.name+\&quot;).\&quot;:\&quot;.\&quot;)+(n?\&quot; \&quot;+n:\&quot;.\&quot;),t&amp;&amp;!i&amp;&amp;v(i,r,\&quot;Missing expected exception\&quot;+n);var a=\&quot;string\&quot;==typeof n,s=!t&amp;&amp;i&amp;&amp;!r;if((!t&amp;&amp;o.isError(i)&amp;&amp;a&amp;&amp;_(i,r)||s)&amp;&amp;v(i,r,\&quot;Got unwanted exception\&quot;+n),t&amp;&amp;i&amp;&amp;r&amp;&amp;!_(i,r)||!t&amp;&amp;i)throw i}h.AssertionError=function(t){this.name=\&quot;AssertionError\&quot;,this.actual=t.actual,this.expected=t.expected,this.operator=t.operator,t.message?(this.message=t.message,this.generatedMessage=!1):(this.message=function(t){return g(m(t.actual),128)+\&quot; \&quot;+t.operator+\&quot; \&quot;+g(m(t.expected),128)}(this),this.generatedMessage=!0);var e=t.stackStartFunction||v;if(Error.captureStackTrace)Error.captureStackTrace(this,e);else{var r=new Error;if(r.stack){var n=r.stack,i=d(e),a=n.indexOf(\&quot;\\n\&quot;+i);if(a&gt;=0){var o=n.indexOf(\&quot;\\n\&quot;,a+1);n=n.substring(o+1)}this.stack=n}}},o.inherits(h.AssertionError,Error),h.fail=v,h.ok=y,h.equal=function(t,e,r){t!=e&amp;&amp;v(t,e,r,\&quot;==\&quot;,h.equal)},h.notEqual=function(t,e,r){t==e&amp;&amp;v(t,e,r,\&quot;!=\&quot;,h.notEqual)},h.deepEqual=function(t,e,r){x(t,e,!1)||v(t,e,r,\&quot;deepEqual\&quot;,h.deepEqual)},h.deepStrictEqual=function(t,e,r){x(t,e,!0)||v(t,e,r,\&quot;deepStrictEqual\&quot;,h.deepStrictEqual)},h.notDeepEqual=function(t,e,r){x(t,e,!1)&amp;&amp;v(t,e,r,\&quot;notDeepEqual\&quot;,h.notDeepEqual)},h.notDeepStrictEqual=function t(e,r,n){x(e,r,!0)&amp;&amp;v(e,r,n,\&quot;notDeepStrictEqual\&quot;,t)},h.strictEqual=function(t,e,r){t!==e&amp;&amp;v(t,e,r,\&quot;===\&quot;,h.strictEqual)},h.notStrictEqual=function(t,e,r){t===e&amp;&amp;v(t,e,r,\&quot;!==\&quot;,h.notStrictEqual)},h.throws=function(t,e,r){w(!0,t,e,r)},h.doesNotThrow=function(t,e,r){w(!1,t,e,r)},h.ifError=function(t){if(t)throw t},h.strict=n((function t(e,r){e||v(e,!0,r,\&quot;==\&quot;,t)}),h,{equal:h.strictEqual,deepEqual:h.deepStrictEqual,notEqual:h.notStrictEqual,notDeepEqual:h.notDeepStrictEqual}),h.strict.strict=h.strict;var T=Object.keys||function(t){var e=[];for(var r in t)s.call(t,r)&amp;&amp;e.push(r);return e}}).call(this)}).call(this,\&quot;undefined\&quot;!=typeof global?global:\&quot;undefined\&quot;!=typeof self?self:\&quot;undefined\&quot;!=typeof window?window:{})},{\&quot;object-assign\&quot;:499,\&quot;util/\&quot;:76}],74:[function(t,e,r){\&quot;function\&quot;==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}},{}],75:[function(t,e,r){e.exports=function(t){return t&amp;&amp;\&quot;object\&quot;==typeof t&amp;&amp;\&quot;function\&quot;==typeof t.copy&amp;&amp;\&quot;function\&quot;==typeof t.fill&amp;&amp;\&quot;function\&quot;==typeof t.readUInt8}},{}],76:[function(t,e,r){(function(e,n){(function(){var i=/%[sdj%]/g;r.format=function(t){if(!v(t)){for(var e=[],r=0;r&lt;arguments.length;r++)e.push(s(arguments[r]));return e.join(\&quot; \&quot;)}r=1;for(var n=arguments,a=n.length,o=String(t).replace(i,(function(t){if(\&quot;%%\&quot;===t)return\&quot;%\&quot;;if(r&gt;=a)return t;switch(t){case\&quot;%s\&quot;:return String(n[r++]);case\&quot;%d\&quot;:return Number(n[r++]);case\&quot;%j\&quot;:try{return JSON.stringify(n[r++])}catch(t){return\&quot;[Circular]\&quot;}default:return t}})),l=n[r];r&lt;a;l=n[++r])g(l)||!b(l)?o+=\&quot; \&quot;+l:o+=\&quot; \&quot;+s(l);return o},r.deprecate=function(t,i){if(y(n.process))return function(){return r.deprecate(t,i).apply(this,arguments)};if(!0===e.noDeprecation)return t;var a=!1;return function(){if(!a){if(e.throwDeprecation)throw new Error(i);e.traceDeprecation?console.trace(i):console.error(i),a=!0}return t.apply(this,arguments)}};var a,o={};function s(t,e){var n={seen:[],stylize:c};return arguments.length&gt;=3&amp;&amp;(n.depth=arguments[2]),arguments.length&gt;=4&amp;&amp;(n.colors=arguments[3]),d(e)?n.showHidden=e:e&amp;&amp;r._extend(n,e),y(n.showHidden)&amp;&amp;(n.showHidden=!1),y(n.depth)&amp;&amp;(n.depth=2),y(n.colors)&amp;&amp;(n.colors=!1),y(n.customInspect)&amp;&amp;(n.customInspect=!0),n.colors&amp;&amp;(n.stylize=l),u(n,t,n.depth)}function l(t,e){var r=s.styles[e];return r?\&quot;\\x1b[\&quot;+s.colors[r][0]+\&quot;m\&quot;+t+\&quot;\\x1b[\&quot;+s.colors[r][1]+\&quot;m\&quot;:t}function c(t,e){return t}function u(t,e,n){if(t.customInspect&amp;&amp;e&amp;&amp;T(e.inspect)&amp;&amp;e.inspect!==r.inspect&amp;&amp;(!e.constructor||e.constructor.prototype!==e)){var i=e.inspect(n,t);return v(i)||(i=u(t,i,n)),i}var a=function(t,e){if(y(e))return t.stylize(\&quot;undefined\&quot;,\&quot;undefined\&quot;);if(v(e)){var r=\&quot;'\&quot;+JSON.stringify(e).replace(/^\&quot;|\&quot;$/g,\&quot;\&quot;).replace(/'/g,\&quot;\\\\'\&quot;).replace(/\\\\\&quot;/g,'\&quot;')+\&quot;'\&quot;;return t.stylize(r,\&quot;string\&quot;)}if(m(e))return t.stylize(\&quot;\&quot;+e,\&quot;number\&quot;);if(d(e))return t.stylize(\&quot;\&quot;+e,\&quot;boolean\&quot;);if(g(e))return t.stylize(\&quot;null\&quot;,\&quot;null\&quot;)}(t,e);if(a)return a;var o=Object.keys(e),s=function(t){var e={};return t.forEach((function(t,r){e[t]=!0})),e}(o);if(t.showHidden&amp;&amp;(o=Object.getOwnPropertyNames(e)),w(e)&amp;&amp;(o.indexOf(\&quot;message\&quot;)&gt;=0||o.indexOf(\&quot;description\&quot;)&gt;=0))return f(e);if(0===o.length){if(T(e)){var l=e.name?\&quot;: \&quot;+e.name:\&quot;\&quot;;return t.stylize(\&quot;[Function\&quot;+l+\&quot;]\&quot;,\&quot;special\&quot;)}if(x(e))return t.stylize(RegExp.prototype.toString.call(e),\&quot;regexp\&quot;);if(_(e))return t.stylize(Date.prototype.toString.call(e),\&quot;date\&quot;);if(w(e))return f(e)}var c,b=\&quot;\&quot;,k=!1,M=[\&quot;{\&quot;,\&quot;}\&quot;];(p(e)&amp;&amp;(k=!0,M=[\&quot;[\&quot;,\&quot;]\&quot;]),T(e))&amp;&amp;(b=\&quot; [Function\&quot;+(e.name?\&quot;: \&quot;+e.name:\&quot;\&quot;)+\&quot;]\&quot;);return x(e)&amp;&amp;(b=\&quot; \&quot;+RegExp.prototype.toString.call(e)),_(e)&amp;&amp;(b=\&quot; \&quot;+Date.prototype.toUTCString.call(e)),w(e)&amp;&amp;(b=\&quot; \&quot;+f(e)),0!==o.length||k&amp;&amp;0!=e.length?n&lt;0?x(e)?t.stylize(RegExp.prototype.toString.call(e),\&quot;regexp\&quot;):t.stylize(\&quot;[Object]\&quot;,\&quot;special\&quot;):(t.seen.push(e),c=k?function(t,e,r,n,i){for(var a=[],o=0,s=e.length;o&lt;s;++o)E(e,String(o))?a.push(h(t,e,r,n,String(o),!0)):a.push(\&quot;\&quot;);return i.forEach((function(i){i.match(/^\\d+$/)||a.push(h(t,e,r,n,i,!0))})),a}(t,e,n,s,o):o.map((function(r){return h(t,e,n,s,r,k)})),t.seen.pop(),function(t,e,r){if(t.reduce((function(t,e){return e.indexOf(\&quot;\\n\&quot;)&gt;=0&amp;&amp;0,t+e.replace(/\\u001b\\[\\d\\d?m/g,\&quot;\&quot;).length+1}),0)&gt;60)return r[0]+(\&quot;\&quot;===e?\&quot;\&quot;:e+\&quot;\\n \&quot;)+\&quot; \&quot;+t.join(\&quot;,\\n  \&quot;)+\&quot; \&quot;+r[1];return r[0]+e+\&quot; \&quot;+t.join(\&quot;, \&quot;)+\&quot; \&quot;+r[1]}(c,b,M)):M[0]+b+M[1]}function f(t){return\&quot;[\&quot;+Error.prototype.toString.call(t)+\&quot;]\&quot;}function h(t,e,r,n,i,a){var o,s,l;if((l=Object.getOwnPropertyDescriptor(e,i)||{value:e[i]}).get?s=l.set?t.stylize(\&quot;[Getter/Setter]\&quot;,\&quot;special\&quot;):t.stylize(\&quot;[Getter]\&quot;,\&quot;special\&quot;):l.set&amp;&amp;(s=t.stylize(\&quot;[Setter]\&quot;,\&quot;special\&quot;)),E(n,i)||(o=\&quot;[\&quot;+i+\&quot;]\&quot;),s||(t.seen.indexOf(l.value)&lt;0?(s=g(r)?u(t,l.value,null):u(t,l.value,r-1)).indexOf(\&quot;\\n\&quot;)&gt;-1&amp;&amp;(s=a?s.split(\&quot;\\n\&quot;).map((function(t){return\&quot;  \&quot;+t})).join(\&quot;\\n\&quot;).substr(2):\&quot;\\n\&quot;+s.split(\&quot;\\n\&quot;).map((function(t){return\&quot;   \&quot;+t})).join(\&quot;\\n\&quot;)):s=t.stylize(\&quot;[Circular]\&quot;,\&quot;special\&quot;)),y(o)){if(a&amp;&amp;i.match(/^\\d+$/))return s;(o=JSON.stringify(\&quot;\&quot;+i)).match(/^\&quot;([a-zA-Z_][a-zA-Z_0-9]*)\&quot;$/)?(o=o.substr(1,o.length-2),o=t.stylize(o,\&quot;name\&quot;)):(o=o.replace(/'/g,\&quot;\\\\'\&quot;).replace(/\\\\\&quot;/g,'\&quot;').replace(/(^\&quot;|\&quot;$)/g,\&quot;'\&quot;),o=t.stylize(o,\&quot;string\&quot;))}return o+\&quot;: \&quot;+s}function p(t){return Array.isArray(t)}function d(t){return\&quot;boolean\&quot;==typeof t}function g(t){return null===t}function m(t){return\&quot;number\&quot;==typeof t}function v(t){return\&quot;string\&quot;==typeof t}function y(t){return void 0===t}function x(t){return b(t)&amp;&amp;\&quot;[object RegExp]\&quot;===k(t)}function b(t){return\&quot;object\&quot;==typeof t&amp;&amp;null!==t}function _(t){return b(t)&amp;&amp;\&quot;[object Date]\&quot;===k(t)}function w(t){return b(t)&amp;&amp;(\&quot;[object Error]\&quot;===k(t)||t instanceof Error)}function T(t){return\&quot;function\&quot;==typeof t}function k(t){return Object.prototype.toString.call(t)}function M(t){return t&lt;10?\&quot;0\&quot;+t.toString(10):t.toString(10)}r.debuglog=function(t){if(y(a)&amp;&amp;(a=e.env.NODE_DEBUG||\&quot;\&quot;),t=t.toUpperCase(),!o[t])if(new RegExp(\&quot;\\\\b\&quot;+t+\&quot;\\\\b\&quot;,\&quot;i\&quot;).test(a)){var n=e.pid;o[t]=function(){var e=r.format.apply(r,arguments);console.error(\&quot;%s %d: %s\&quot;,t,n,e)}}else o[t]=function(){};return o[t]},r.inspect=s,s.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},s.styles={special:\&quot;cyan\&quot;,number:\&quot;yellow\&quot;,boolean:\&quot;yellow\&quot;,undefined:\&quot;grey\&quot;,null:\&quot;bold\&quot;,string:\&quot;green\&quot;,date:\&quot;magenta\&quot;,regexp:\&quot;red\&quot;},r.isArray=p,r.isBoolean=d,r.isNull=g,r.isNullOrUndefined=function(t){return null==t},r.isNumber=m,r.isString=v,r.isSymbol=function(t){return\&quot;symbol\&quot;==typeof t},r.isUndefined=y,r.isRegExp=x,r.isObject=b,r.isDate=_,r.isError=w,r.isFunction=T,r.isPrimitive=function(t){return null===t||\&quot;boolean\&quot;==typeof t||\&quot;number\&quot;==typeof t||\&quot;string\&quot;==typeof t||\&quot;symbol\&quot;==typeof t||\&quot;undefined\&quot;==typeof t},r.isBuffer=t(\&quot;./support/isBuffer\&quot;);var A=[\&quot;Jan\&quot;,\&quot;Feb\&quot;,\&quot;Mar\&quot;,\&quot;Apr\&quot;,\&quot;May\&quot;,\&quot;Jun\&quot;,\&quot;Jul\&quot;,\&quot;Aug\&quot;,\&quot;Sep\&quot;,\&quot;Oct\&quot;,\&quot;Nov\&quot;,\&quot;Dec\&quot;];function S(){var t=new Date,e=[M(t.getHours()),M(t.getMinutes()),M(t.getSeconds())].join(\&quot;:\&quot;);return[t.getDate(),A[t.getMonth()],e].join(\&quot; \&quot;)}function E(t,e){return Object.prototype.hasOwnProperty.call(t,e)}r.log=function(){console.log(\&quot;%s - %s\&quot;,S(),r.format.apply(r,arguments))},r.inherits=t(\&quot;inherits\&quot;),r._extend=function(t,e){if(!e||!b(e))return t;for(var r=Object.keys(e),n=r.length;n--;)t[r[n]]=e[r[n]];return t}}).call(this)}).call(this,t(\&quot;_process\&quot;),\&quot;undefined\&quot;!=typeof global?global:\&quot;undefined\&quot;!=typeof self?self:\&quot;undefined\&quot;!=typeof window?window:{})},{\&quot;./support/isBuffer\&quot;:75,_process:526,inherits:74}],77:[function(t,e,r){e.exports=function(t){return atob(t)}},{}],78:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e){for(var r=e.length,a=new Array(r+1),o=0;o&lt;r;++o){for(var s=new Array(r+1),l=0;l&lt;=r;++l)s[l]=t[l][o];a[o]=s}a[r]=new Array(r+1);for(o=0;o&lt;=r;++o)a[r][o]=1;var c=new Array(r+1);for(o=0;o&lt;r;++o)c[o]=e[o];c[r]=1;var u=n(a,c),f=i(u[r+1]);0===f&amp;&amp;(f=1);var h=new Array(r+1);for(o=0;o&lt;=r;++o)h[o]=i(u[o])/f;return h};var n=t(\&quot;robust-linear-solve\&quot;);function i(t){for(var e=0,r=0;r&lt;t.length;++r)e+=t[r];return e}},{\&quot;robust-linear-solve\&quot;:547}],79:[function(t,e,r){\&quot;use strict\&quot;;r.byteLength=function(t){var e=c(t),r=e[0],n=e[1];return 3*(r+n)/4-n},r.toByteArray=function(t){var e,r,n=c(t),o=n[0],s=n[1],l=new a(function(t,e,r){return 3*(e+r)/4-r}(0,o,s)),u=0,f=s&gt;0?o-4:o;for(r=0;r&lt;f;r+=4)e=i[t.charCodeAt(r)]&lt;&lt;18|i[t.charCodeAt(r+1)]&lt;&lt;12|i[t.charCodeAt(r+2)]&lt;&lt;6|i[t.charCodeAt(r+3)],l[u++]=e&gt;&gt;16&amp;255,l[u++]=e&gt;&gt;8&amp;255,l[u++]=255&amp;e;2===s&amp;&amp;(e=i[t.charCodeAt(r)]&lt;&lt;2|i[t.charCodeAt(r+1)]&gt;&gt;4,l[u++]=255&amp;e);1===s&amp;&amp;(e=i[t.charCodeAt(r)]&lt;&lt;10|i[t.charCodeAt(r+1)]&lt;&lt;4|i[t.charCodeAt(r+2)]&gt;&gt;2,l[u++]=e&gt;&gt;8&amp;255,l[u++]=255&amp;e);return l},r.fromByteArray=function(t){for(var e,r=t.length,i=r%3,a=[],o=0,s=r-i;o&lt;s;o+=16383)a.push(u(t,o,o+16383&gt;s?s:o+16383));1===i?(e=t[r-1],a.push(n[e&gt;&gt;2]+n[e&lt;&lt;4&amp;63]+\&quot;==\&quot;)):2===i&amp;&amp;(e=(t[r-2]&lt;&lt;8)+t[r-1],a.push(n[e&gt;&gt;10]+n[e&gt;&gt;4&amp;63]+n[e&lt;&lt;2&amp;63]+\&quot;=\&quot;));return a.join(\&quot;\&quot;)};for(var n=[],i=[],a=\&quot;undefined\&quot;!=typeof Uint8Array?Uint8Array:Array,o=\&quot;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\&quot;,s=0,l=o.length;s&lt;l;++s)n[s]=o[s],i[o.charCodeAt(s)]=s;function c(t){var e=t.length;if(e%4&gt;0)throw new Error(\&quot;Invalid string. Length must be a multiple of 4\&quot;);var r=t.indexOf(\&quot;=\&quot;);return-1===r&amp;&amp;(r=e),[r,r===e?0:4-r%4]}function u(t,e,r){for(var i,a,o=[],s=e;s&lt;r;s+=3)i=(t[s]&lt;&lt;16&amp;16711680)+(t[s+1]&lt;&lt;8&amp;65280)+(255&amp;t[s+2]),o.push(n[(a=i)&gt;&gt;18&amp;63]+n[a&gt;&gt;12&amp;63]+n[a&gt;&gt;6&amp;63]+n[63&amp;a]);return o.join(\&quot;\&quot;)}i[\&quot;-\&quot;.charCodeAt(0)]=62,i[\&quot;_\&quot;.charCodeAt(0)]=63},{}],80:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./lib/rationalize\&quot;);e.exports=function(t,e){return n(t[0].mul(e[1]).add(e[0].mul(t[1])),t[1].mul(e[1]))}},{\&quot;./lib/rationalize\&quot;:90}],81:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e){return t[0].mul(e[1]).cmp(e[0].mul(t[1]))}},{}],82:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./lib/rationalize\&quot;);e.exports=function(t,e){return n(t[0].mul(e[1]),t[1].mul(e[0]))}},{\&quot;./lib/rationalize\&quot;:90}],83:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./is-rat\&quot;),i=t(\&quot;./lib/is-bn\&quot;),a=t(\&quot;./lib/num-to-bn\&quot;),o=t(\&quot;./lib/str-to-bn\&quot;),s=t(\&quot;./lib/rationalize\&quot;),l=t(\&quot;./div\&quot;);e.exports=function t(e,r){if(n(e))return r?l(e,t(r)):[e[0].clone(),e[1].clone()];var c,u,f=0;if(i(e))c=e.clone();else if(\&quot;string\&quot;==typeof e)c=o(e);else{if(0===e)return[a(0),a(1)];if(e===Math.floor(e))c=a(e);else{for(;e!==Math.floor(e);)e*=Math.pow(2,256),f-=256;c=a(e)}}if(n(r))c.mul(r[1]),u=r[0].clone();else if(i(r))u=r.clone();else if(\&quot;string\&quot;==typeof r)u=o(r);else if(r)if(r===Math.floor(r))u=a(r);else{for(;r!==Math.floor(r);)r*=Math.pow(2,256),f+=256;u=a(r)}else u=a(1);f&gt;0?c=c.ushln(f):f&lt;0&amp;&amp;(u=u.ushln(-f));return s(c,u)}},{\&quot;./div\&quot;:82,\&quot;./is-rat\&quot;:84,\&quot;./lib/is-bn\&quot;:88,\&quot;./lib/num-to-bn\&quot;:89,\&quot;./lib/rationalize\&quot;:90,\&quot;./lib/str-to-bn\&quot;:91}],84:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./lib/is-bn\&quot;);e.exports=function(t){return Array.isArray(t)&amp;&amp;2===t.length&amp;&amp;n(t[0])&amp;&amp;n(t[1])}},{\&quot;./lib/is-bn\&quot;:88}],85:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;bn.js\&quot;);e.exports=function(t){return t.cmp(new n(0))}},{\&quot;bn.js\&quot;:99}],86:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./bn-sign\&quot;);e.exports=function(t){var e=t.length,r=t.words,i=0;if(1===e)i=r[0];else if(2===e)i=r[0]+67108864*r[1];else for(var a=0;a&lt;e;a++){var o=r[a];i+=o*Math.pow(67108864,a)}return n(t)*i}},{\&quot;./bn-sign\&quot;:85}],87:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;double-bits\&quot;),i=t(\&quot;bit-twiddle\&quot;).countTrailingZeros;e.exports=function(t){var e=i(n.lo(t));if(e&lt;32)return e;var r=i(n.hi(t));if(r&gt;20)return 52;return r+32}},{\&quot;bit-twiddle\&quot;:97,\&quot;double-bits\&quot;:173}],88:[function(t,e,r){\&quot;use strict\&quot;;t(\&quot;bn.js\&quot;);e.exports=function(t){return t&amp;&amp;\&quot;object\&quot;==typeof t&amp;&amp;Boolean(t.words)}},{\&quot;bn.js\&quot;:99}],89:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;bn.js\&quot;),i=t(\&quot;double-bits\&quot;);e.exports=function(t){var e=i.exponent(t);return e&lt;52?new n(t):new n(t*Math.pow(2,52-e)).ushln(e-52)}},{\&quot;bn.js\&quot;:99,\&quot;double-bits\&quot;:173}],90:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./num-to-bn\&quot;),i=t(\&quot;./bn-sign\&quot;);e.exports=function(t,e){var r=i(t),a=i(e);if(0===r)return[n(0),n(1)];if(0===a)return[n(0),n(0)];a&lt;0&amp;&amp;(t=t.neg(),e=e.neg());var o=t.gcd(e);if(o.cmpn(1))return[t.div(o),e.div(o)];return[t,e]}},{\&quot;./bn-sign\&quot;:85,\&quot;./num-to-bn\&quot;:89}],91:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;bn.js\&quot;);e.exports=function(t){return new n(t)}},{\&quot;bn.js\&quot;:99}],92:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./lib/rationalize\&quot;);e.exports=function(t,e){return n(t[0].mul(e[0]),t[1].mul(e[1]))}},{\&quot;./lib/rationalize\&quot;:90}],93:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./lib/bn-sign\&quot;);e.exports=function(t){return n(t[0])*n(t[1])}},{\&quot;./lib/bn-sign\&quot;:85}],94:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./lib/rationalize\&quot;);e.exports=function(t,e){return n(t[0].mul(e[1]).sub(t[1].mul(e[0])),t[1].mul(e[1]))}},{\&quot;./lib/rationalize\&quot;:90}],95:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./lib/bn-to-num\&quot;),i=t(\&quot;./lib/ctz\&quot;);e.exports=function(t){var e=t[0],r=t[1];if(0===e.cmpn(0))return 0;var a=e.abs().divmod(r.abs()),o=a.div,s=n(o),l=a.mod,c=e.negative!==r.negative?-1:1;if(0===l.cmpn(0))return c*s;if(s){var u=i(s)+4,f=n(l.ushln(u).divRound(r));return c*(s+f*Math.pow(2,-u))}var h=r.bitLength()-l.bitLength()+53;f=n(l.ushln(h).divRound(r));return h&lt;1023?c*f*Math.pow(2,-h):(f*=Math.pow(2,-1023),c*f*Math.pow(2,1023-h))}},{\&quot;./lib/bn-to-num\&quot;:86,\&quot;./lib/ctz\&quot;:87}],96:[function(t,e,r){\&quot;use strict\&quot;;function n(t,e,r,n,i){var a=[\&quot;function \&quot;,t,\&quot;(a,l,h,\&quot;,n.join(\&quot;,\&quot;),\&quot;){\&quot;,i?\&quot;\&quot;:\&quot;var i=\&quot;,r?\&quot;l-1\&quot;:\&quot;h+1\&quot;,\&quot;;while(l&lt;=h){var m=(l+h)&gt;&gt;&gt;1,x=a[m]\&quot;];return i?e.indexOf(\&quot;c\&quot;)&lt;0?a.push(\&quot;;if(x===y){return m}else if(x&lt;=y){\&quot;):a.push(\&quot;;var p=c(x,y);if(p===0){return m}else if(p&lt;=0){\&quot;):a.push(\&quot;;if(\&quot;,e,\&quot;){i=m;\&quot;),r?a.push(\&quot;l=m+1}else{h=m-1}\&quot;):a.push(\&quot;h=m-1}else{l=m+1}\&quot;),a.push(\&quot;}\&quot;),i?a.push(\&quot;return -1};\&quot;):a.push(\&quot;return i};\&quot;),a.join(\&quot;\&quot;)}function i(t,e,r,i){return new Function([n(\&quot;A\&quot;,\&quot;x\&quot;+t+\&quot;y\&quot;,e,[\&quot;y\&quot;],i),n(\&quot;P\&quot;,\&quot;c(x,y)\&quot;+t+\&quot;0\&quot;,e,[\&quot;y\&quot;,\&quot;c\&quot;],i),\&quot;function dispatchBsearch\&quot;,r,\&quot;(a,y,c,l,h){if(typeof(c)==='function'){return P(a,(l===void 0)?0:l|0,(h===void 0)?a.length-1:h|0,y,c)}else{return A(a,(c===void 0)?0:c|0,(l===void 0)?a.length-1:l|0,y)}}return dispatchBsearch\&quot;,r].join(\&quot;\&quot;))()}e.exports={ge:i(\&quot;&gt;=\&quot;,!1,\&quot;GE\&quot;),gt:i(\&quot;&gt;\&quot;,!1,\&quot;GT\&quot;),lt:i(\&quot;&lt;\&quot;,!0,\&quot;LT\&quot;),le:i(\&quot;&lt;=\&quot;,!0,\&quot;LE\&quot;),eq:i(\&quot;-\&quot;,!0,\&quot;EQ\&quot;,!0)}},{}],97:[function(t,e,r){\&quot;use strict\&quot;;function n(t){var e=32;return(t&amp;=-t)&amp;&amp;e--,65535&amp;t&amp;&amp;(e-=16),16711935&amp;t&amp;&amp;(e-=8),252645135&amp;t&amp;&amp;(e-=4),858993459&amp;t&amp;&amp;(e-=2),1431655765&amp;t&amp;&amp;(e-=1),e}r.INT_BITS=32,r.INT_MAX=2147483647,r.INT_MIN=-1&lt;&lt;31,r.sign=function(t){return(t&gt;0)-(t&lt;0)},r.abs=function(t){var e=t&gt;&gt;31;return(t^e)-e},r.min=function(t,e){return e^(t^e)&amp;-(t&lt;e)},r.max=function(t,e){return t^(t^e)&amp;-(t&lt;e)},r.isPow2=function(t){return!(t&amp;t-1||!t)},r.log2=function(t){var e,r;return e=(t&gt;65535)&lt;&lt;4,e|=r=((t&gt;&gt;&gt;=e)&gt;255)&lt;&lt;3,e|=r=((t&gt;&gt;&gt;=r)&gt;15)&lt;&lt;2,(e|=r=((t&gt;&gt;&gt;=r)&gt;3)&lt;&lt;1)|(t&gt;&gt;&gt;=r)&gt;&gt;1},r.log10=function(t){return t&gt;=1e9?9:t&gt;=1e8?8:t&gt;=1e7?7:t&gt;=1e6?6:t&gt;=1e5?5:t&gt;=1e4?4:t&gt;=1e3?3:t&gt;=100?2:t&gt;=10?1:0},r.popCount=function(t){return 16843009*((t=(858993459&amp;(t-=t&gt;&gt;&gt;1&amp;1431655765))+(t&gt;&gt;&gt;2&amp;858993459))+(t&gt;&gt;&gt;4)&amp;252645135)&gt;&gt;&gt;24},r.countTrailingZeros=n,r.nextPow2=function(t){return t+=0===t,--t,t|=t&gt;&gt;&gt;1,t|=t&gt;&gt;&gt;2,t|=t&gt;&gt;&gt;4,t|=t&gt;&gt;&gt;8,(t|=t&gt;&gt;&gt;16)+1},r.prevPow2=function(t){return t|=t&gt;&gt;&gt;1,t|=t&gt;&gt;&gt;2,t|=t&gt;&gt;&gt;4,t|=t&gt;&gt;&gt;8,(t|=t&gt;&gt;&gt;16)-(t&gt;&gt;&gt;1)},r.parity=function(t){return t^=t&gt;&gt;&gt;16,t^=t&gt;&gt;&gt;8,t^=t&gt;&gt;&gt;4,27030&gt;&gt;&gt;(t&amp;=15)&amp;1};var i=new Array(256);!function(t){for(var e=0;e&lt;256;++e){var r=e,n=e,i=7;for(r&gt;&gt;&gt;=1;r;r&gt;&gt;&gt;=1)n&lt;&lt;=1,n|=1&amp;r,--i;t[e]=n&lt;&lt;i&amp;255}}(i),r.reverse=function(t){return i[255&amp;t]&lt;&lt;24|i[t&gt;&gt;&gt;8&amp;255]&lt;&lt;16|i[t&gt;&gt;&gt;16&amp;255]&lt;&lt;8|i[t&gt;&gt;&gt;24&amp;255]},r.interleave2=function(t,e){return(t=1431655765&amp;((t=858993459&amp;((t=252645135&amp;((t=16711935&amp;((t&amp;=65535)|t&lt;&lt;8))|t&lt;&lt;4))|t&lt;&lt;2))|t&lt;&lt;1))|(e=1431655765&amp;((e=858993459&amp;((e=252645135&amp;((e=16711935&amp;((e&amp;=65535)|e&lt;&lt;8))|e&lt;&lt;4))|e&lt;&lt;2))|e&lt;&lt;1))&lt;&lt;1},r.deinterleave2=function(t,e){return(t=65535&amp;((t=16711935&amp;((t=252645135&amp;((t=858993459&amp;((t=t&gt;&gt;&gt;e&amp;1431655765)|t&gt;&gt;&gt;1))|t&gt;&gt;&gt;2))|t&gt;&gt;&gt;4))|t&gt;&gt;&gt;16))&lt;&lt;16&gt;&gt;16},r.interleave3=function(t,e,r){return t=1227133513&amp;((t=3272356035&amp;((t=251719695&amp;((t=4278190335&amp;((t&amp;=1023)|t&lt;&lt;16))|t&lt;&lt;8))|t&lt;&lt;4))|t&lt;&lt;2),(t|=(e=1227133513&amp;((e=3272356035&amp;((e=251719695&amp;((e=4278190335&amp;((e&amp;=1023)|e&lt;&lt;16))|e&lt;&lt;8))|e&lt;&lt;4))|e&lt;&lt;2))&lt;&lt;1)|(r=1227133513&amp;((r=3272356035&amp;((r=251719695&amp;((r=4278190335&amp;((r&amp;=1023)|r&lt;&lt;16))|r&lt;&lt;8))|r&lt;&lt;4))|r&lt;&lt;2))&lt;&lt;2},r.deinterleave3=function(t,e){return(t=1023&amp;((t=4278190335&amp;((t=251719695&amp;((t=3272356035&amp;((t=t&gt;&gt;&gt;e&amp;1227133513)|t&gt;&gt;&gt;2))|t&gt;&gt;&gt;4))|t&gt;&gt;&gt;8))|t&gt;&gt;&gt;16))&lt;&lt;22&gt;&gt;22},r.nextCombination=function(t){var e=t|t-1;return e+1|(~e&amp;-~e)-1&gt;&gt;&gt;n(t)+1}},{}],98:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;clamp\&quot;);e.exports=function(t,e){e||(e={});var r,o,s,l,c,u,f,h,p,d,g,m=null==e.cutoff?.25:e.cutoff,v=null==e.radius?8:e.radius,y=e.channel||0;if(ArrayBuffer.isView(t)||Array.isArray(t)){if(!e.width||!e.height)throw Error(\&quot;For raw data width and height should be provided by options\&quot;);r=e.width,o=e.height,l=t,u=e.stride?e.stride:Math.floor(t.length/r/o)}else window.HTMLCanvasElement&amp;&amp;t instanceof window.HTMLCanvasElement?(f=(h=t).getContext(\&quot;2d\&quot;),r=h.width,o=h.height,p=f.getImageData(0,0,r,o),l=p.data,u=4):window.CanvasRenderingContext2D&amp;&amp;t instanceof window.CanvasRenderingContext2D?(h=t.canvas,f=t,r=h.width,o=h.height,p=f.getImageData(0,0,r,o),l=p.data,u=4):window.ImageData&amp;&amp;t instanceof window.ImageData&amp;&amp;(p=t,r=t.width,o=t.height,l=p.data,u=4);if(s=Math.max(r,o),window.Uint8ClampedArray&amp;&amp;l instanceof window.Uint8ClampedArray||window.Uint8Array&amp;&amp;l instanceof window.Uint8Array)for(c=l,l=Array(r*o),d=0,g=c.length;d&lt;g;d++)l[d]=c[d*u+y]/255;else if(1!==u)throw Error(\&quot;Raw data can have only 1 value per pixel\&quot;);var x=Array(r*o),b=Array(r*o),_=Array(s),w=Array(s),T=Array(s+1),k=Array(s);for(d=0,g=r*o;d&lt;g;d++){var M=l[d];x[d]=1===M?0:0===M?i:Math.pow(Math.max(0,.5-M),2),b[d]=1===M?i:0===M?0:Math.pow(Math.max(0,M-.5),2)}a(x,r,o,_,w,k,T),a(b,r,o,_,w,k,T);var A=window.Float32Array?new Float32Array(r*o):new Array(r*o);for(d=0,g=r*o;d&lt;g;d++)A[d]=n(1-((x[d]-b[d])/v+m),0,1);return A};var i=1e20;function a(t,e,r,n,i,a,s){for(var l=0;l&lt;e;l++){for(var c=0;c&lt;r;c++)n[c]=t[c*e+l];for(o(n,i,a,s,r),c=0;c&lt;r;c++)t[c*e+l]=i[c]}for(c=0;c&lt;r;c++){for(l=0;l&lt;e;l++)n[l]=t[c*e+l];for(o(n,i,a,s,e),l=0;l&lt;e;l++)t[c*e+l]=Math.sqrt(i[l])}}function o(t,e,r,n,a){r[0]=0,n[0]=-i,n[1]=+i;for(var o=1,s=0;o&lt;a;o++){for(var l=(t[o]+o*o-(t[r[s]]+r[s]*r[s]))/(2*o-2*r[s]);l&lt;=n[s];)s--,l=(t[o]+o*o-(t[r[s]]+r[s]*r[s]))/(2*o-2*r[s]);r[++s]=o,n[s]=l,n[s+1]=+i}for(o=0,s=0;o&lt;a;o++){for(;n[s+1]&lt;o;)s++;e[o]=(o-r[s])*(o-r[s])+t[r[s]]}}},{clamp:120}],99:[function(t,e,r){!function(e,r){\&quot;use strict\&quot;;function n(t,e){if(!t)throw new Error(e||\&quot;Assertion failed\&quot;)}function i(t,e){t.super_=e;var r=function(){};r.prototype=e.prototype,t.prototype=new r,t.prototype.constructor=t}function a(t,e,r){if(a.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&amp;&amp;(\&quot;le\&quot;!==e&amp;&amp;\&quot;be\&quot;!==e||(r=e,e=10),this._init(t||0,e||10,r||\&quot;be\&quot;))}var o;\&quot;object\&quot;==typeof e?e.exports=a:r.BN=a,a.BN=a,a.wordSize=26;try{o=t(\&quot;buffer\&quot;).Buffer}catch(t){}function s(t,e,r){for(var n=0,i=Math.min(t.length,r),a=e;a&lt;i;a++){var o=t.charCodeAt(a)-48;n&lt;&lt;=4,n|=o&gt;=49&amp;&amp;o&lt;=54?o-49+10:o&gt;=17&amp;&amp;o&lt;=22?o-17+10:15&amp;o}return n}function l(t,e,r,n){for(var i=0,a=Math.min(t.length,r),o=e;o&lt;a;o++){var s=t.charCodeAt(o)-48;i*=n,i+=s&gt;=49?s-49+10:s&gt;=17?s-17+10:s}return i}a.isBN=function(t){return t instanceof a||null!==t&amp;&amp;\&quot;object\&quot;==typeof t&amp;&amp;t.constructor.wordSize===a.wordSize&amp;&amp;Array.isArray(t.words)},a.max=function(t,e){return t.cmp(e)&gt;0?t:e},a.min=function(t,e){return t.cmp(e)&lt;0?t:e},a.prototype._init=function(t,e,r){if(\&quot;number\&quot;==typeof t)return this._initNumber(t,e,r);if(\&quot;object\&quot;==typeof t)return this._initArray(t,e,r);\&quot;hex\&quot;===e&amp;&amp;(e=16),n(e===(0|e)&amp;&amp;e&gt;=2&amp;&amp;e&lt;=36);var i=0;\&quot;-\&quot;===(t=t.toString().replace(/\\s+/g,\&quot;\&quot;))[0]&amp;&amp;i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),\&quot;-\&quot;===t[0]&amp;&amp;(this.negative=1),this.strip(),\&quot;le\&quot;===r&amp;&amp;this._initArray(this.toArray(),e,r)},a.prototype._initNumber=function(t,e,r){t&lt;0&amp;&amp;(this.negative=1,t=-t),t&lt;67108864?(this.words=[67108863&amp;t],this.length=1):t&lt;4503599627370496?(this.words=[67108863&amp;t,t/67108864&amp;67108863],this.length=2):(n(t&lt;9007199254740992),this.words=[67108863&amp;t,t/67108864&amp;67108863,1],this.length=3),\&quot;le\&quot;===r&amp;&amp;this._initArray(this.toArray(),e,r)},a.prototype._initArray=function(t,e,r){if(n(\&quot;number\&quot;==typeof t.length),t.length&lt;=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i&lt;this.length;i++)this.words[i]=0;var a,o,s=0;if(\&quot;be\&quot;===r)for(i=t.length-1,a=0;i&gt;=0;i-=3)o=t[i]|t[i-1]&lt;&lt;8|t[i-2]&lt;&lt;16,this.words[a]|=o&lt;&lt;s&amp;67108863,this.words[a+1]=o&gt;&gt;&gt;26-s&amp;67108863,(s+=24)&gt;=26&amp;&amp;(s-=26,a++);else if(\&quot;le\&quot;===r)for(i=0,a=0;i&lt;t.length;i+=3)o=t[i]|t[i+1]&lt;&lt;8|t[i+2]&lt;&lt;16,this.words[a]|=o&lt;&lt;s&amp;67108863,this.words[a+1]=o&gt;&gt;&gt;26-s&amp;67108863,(s+=24)&gt;=26&amp;&amp;(s-=26,a++);return this.strip()},a.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var r=0;r&lt;this.length;r++)this.words[r]=0;var n,i,a=0;for(r=t.length-6,n=0;r&gt;=e;r-=6)i=s(t,r,r+6),this.words[n]|=i&lt;&lt;a&amp;67108863,this.words[n+1]|=i&gt;&gt;&gt;26-a&amp;4194303,(a+=24)&gt;=26&amp;&amp;(a-=26,n++);r+6!==e&amp;&amp;(i=s(t,e,r+6),this.words[n]|=i&lt;&lt;a&amp;67108863,this.words[n+1]|=i&gt;&gt;&gt;26-a&amp;4194303),this.strip()},a.prototype._parseBase=function(t,e,r){this.words=[0],this.length=1;for(var n=0,i=1;i&lt;=67108863;i*=e)n++;n--,i=i/e|0;for(var a=t.length-r,o=a%n,s=Math.min(a,a-o)+r,c=0,u=r;u&lt;s;u+=n)c=l(t,u,u+n,e),this.imuln(i),this.words[0]+c&lt;67108864?this.words[0]+=c:this._iaddn(c);if(0!==o){var f=1;for(c=l(t,u,t.length,e),u=0;u&lt;o;u++)f*=e;this.imuln(f),this.words[0]+c&lt;67108864?this.words[0]+=c:this._iaddn(c)}},a.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e&lt;this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},a.prototype.clone=function(){var t=new a(null);return this.copy(t),t},a.prototype._expand=function(t){for(;this.length&lt;t;)this.words[this.length++]=0;return this},a.prototype.strip=function(){for(;this.length&gt;1&amp;&amp;0===this.words[this.length-1];)this.length--;return this._normSign()},a.prototype._normSign=function(){return 1===this.length&amp;&amp;0===this.words[0]&amp;&amp;(this.negative=0),this},a.prototype.inspect=function(){return(this.red?\&quot;&lt;BN-R: \&quot;:\&quot;&lt;BN: \&quot;)+this.toString(16)+\&quot;&gt;\&quot;};var c=[\&quot;\&quot;,\&quot;0\&quot;,\&quot;00\&quot;,\&quot;000\&quot;,\&quot;0000\&quot;,\&quot;00000\&quot;,\&quot;000000\&quot;,\&quot;0000000\&quot;,\&quot;00000000\&quot;,\&quot;000000000\&quot;,\&quot;0000000000\&quot;,\&quot;00000000000\&quot;,\&quot;000000000000\&quot;,\&quot;0000000000000\&quot;,\&quot;00000000000000\&quot;,\&quot;000000000000000\&quot;,\&quot;0000000000000000\&quot;,\&quot;00000000000000000\&quot;,\&quot;000000000000000000\&quot;,\&quot;0000000000000000000\&quot;,\&quot;00000000000000000000\&quot;,\&quot;000000000000000000000\&quot;,\&quot;0000000000000000000000\&quot;,\&quot;00000000000000000000000\&quot;,\&quot;000000000000000000000000\&quot;,\&quot;0000000000000000000000000\&quot;],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(t,e,r){r.negative=e.negative^t.negative;var n=t.length+e.length|0;r.length=n,n=n-1|0;var i=0|t.words[0],a=0|e.words[0],o=i*a,s=67108863&amp;o,l=o/67108864|0;r.words[0]=s;for(var c=1;c&lt;n;c++){for(var u=l&gt;&gt;&gt;26,f=67108863&amp;l,h=Math.min(c,e.length-1),p=Math.max(0,c-t.length+1);p&lt;=h;p++){var d=c-p|0;u+=(o=(i=0|t.words[d])*(a=0|e.words[p])+f)/67108864|0,f=67108863&amp;o}r.words[c]=0|f,l=0|u}return 0!==l?r.words[c]=0|l:r.length--,r.strip()}a.prototype.toString=function(t,e){var r;if(e=0|e||1,16===(t=t||10)||\&quot;hex\&quot;===t){r=\&quot;\&quot;;for(var i=0,a=0,o=0;o&lt;this.length;o++){var s=this.words[o],l=(16777215&amp;(s&lt;&lt;i|a)).toString(16);r=0!==(a=s&gt;&gt;&gt;24-i&amp;16777215)||o!==this.length-1?c[6-l.length]+l+r:l+r,(i+=2)&gt;=26&amp;&amp;(i-=26,o--)}for(0!==a&amp;&amp;(r=a.toString(16)+r);r.length%e!=0;)r=\&quot;0\&quot;+r;return 0!==this.negative&amp;&amp;(r=\&quot;-\&quot;+r),r}if(t===(0|t)&amp;&amp;t&gt;=2&amp;&amp;t&lt;=36){var h=u[t],p=f[t];r=\&quot;\&quot;;var d=this.clone();for(d.negative=0;!d.isZero();){var g=d.modn(p).toString(t);r=(d=d.idivn(p)).isZero()?g+r:c[h-g.length]+g+r}for(this.isZero()&amp;&amp;(r=\&quot;0\&quot;+r);r.length%e!=0;)r=\&quot;0\&quot;+r;return 0!==this.negative&amp;&amp;(r=\&quot;-\&quot;+r),r}n(!1,\&quot;Base should be between 2 and 36\&quot;)},a.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&amp;&amp;1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length&gt;2&amp;&amp;n(!1,\&quot;Number can only safely store up to 53 bits\&quot;),0!==this.negative?-t:t},a.prototype.toJSON=function(){return this.toString(16)},a.prototype.toBuffer=function(t,e){return n(\&quot;undefined\&quot;!=typeof o),this.toArrayLike(o,t,e)},a.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},a.prototype.toArrayLike=function(t,e,r){var i=this.byteLength(),a=r||Math.max(1,i);n(i&lt;=a,\&quot;byte array longer than desired length\&quot;),n(a&gt;0,\&quot;Requested array length &lt;= 0\&quot;),this.strip();var o,s,l=\&quot;le\&quot;===e,c=new t(a),u=this.clone();if(l){for(s=0;!u.isZero();s++)o=u.andln(255),u.iushrn(8),c[s]=o;for(;s&lt;a;s++)c[s]=0}else{for(s=0;s&lt;a-i;s++)c[s]=0;for(s=0;!u.isZero();s++)o=u.andln(255),u.iushrn(8),c[a-s-1]=o}return c},Math.clz32?a.prototype._countBits=function(t){return 32-Math.clz32(t)}:a.prototype._countBits=function(t){var e=t,r=0;return e&gt;=4096&amp;&amp;(r+=13,e&gt;&gt;&gt;=13),e&gt;=64&amp;&amp;(r+=7,e&gt;&gt;&gt;=7),e&gt;=8&amp;&amp;(r+=4,e&gt;&gt;&gt;=4),e&gt;=2&amp;&amp;(r+=2,e&gt;&gt;&gt;=2),r+e},a.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,r=0;return 0==(8191&amp;e)&amp;&amp;(r+=13,e&gt;&gt;&gt;=13),0==(127&amp;e)&amp;&amp;(r+=7,e&gt;&gt;&gt;=7),0==(15&amp;e)&amp;&amp;(r+=4,e&gt;&gt;&gt;=4),0==(3&amp;e)&amp;&amp;(r+=2,e&gt;&gt;&gt;=2),0==(1&amp;e)&amp;&amp;r++,r},a.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},a.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e&lt;this.length;e++){var r=this._zeroBits(this.words[e]);if(t+=r,26!==r)break}return t},a.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},a.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},a.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},a.prototype.isNeg=function(){return 0!==this.negative},a.prototype.neg=function(){return this.clone().ineg()},a.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},a.prototype.iuor=function(t){for(;this.length&lt;t.length;)this.words[this.length++]=0;for(var e=0;e&lt;t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},a.prototype.ior=function(t){return n(0==(this.negative|t.negative)),this.iuor(t)},a.prototype.or=function(t){return this.length&gt;t.length?this.clone().ior(t):t.clone().ior(this)},a.prototype.uor=function(t){return this.length&gt;t.length?this.clone().iuor(t):t.clone().iuor(this)},a.prototype.iuand=function(t){var e;e=this.length&gt;t.length?t:this;for(var r=0;r&lt;e.length;r++)this.words[r]=this.words[r]&amp;t.words[r];return this.length=e.length,this.strip()},a.prototype.iand=function(t){return n(0==(this.negative|t.negative)),this.iuand(t)},a.prototype.and=function(t){return this.length&gt;t.length?this.clone().iand(t):t.clone().iand(this)},a.prototype.uand=function(t){return this.length&gt;t.length?this.clone().iuand(t):t.clone().iuand(this)},a.prototype.iuxor=function(t){var e,r;this.length&gt;t.length?(e=this,r=t):(e=t,r=this);for(var n=0;n&lt;r.length;n++)this.words[n]=e.words[n]^r.words[n];if(this!==e)for(;n&lt;e.length;n++)this.words[n]=e.words[n];return this.length=e.length,this.strip()},a.prototype.ixor=function(t){return n(0==(this.negative|t.negative)),this.iuxor(t)},a.prototype.xor=function(t){return this.length&gt;t.length?this.clone().ixor(t):t.clone().ixor(this)},a.prototype.uxor=function(t){return this.length&gt;t.length?this.clone().iuxor(t):t.clone().iuxor(this)},a.prototype.inotn=function(t){n(\&quot;number\&quot;==typeof t&amp;&amp;t&gt;=0);var e=0|Math.ceil(t/26),r=t%26;this._expand(e),r&gt;0&amp;&amp;e--;for(var i=0;i&lt;e;i++)this.words[i]=67108863&amp;~this.words[i];return r&gt;0&amp;&amp;(this.words[i]=~this.words[i]&amp;67108863&gt;&gt;26-r),this.strip()},a.prototype.notn=function(t){return this.clone().inotn(t)},a.prototype.setn=function(t,e){n(\&quot;number\&quot;==typeof t&amp;&amp;t&gt;=0);var r=t/26|0,i=t%26;return this._expand(r+1),this.words[r]=e?this.words[r]|1&lt;&lt;i:this.words[r]&amp;~(1&lt;&lt;i),this.strip()},a.prototype.iadd=function(t){var e,r,n;if(0!==this.negative&amp;&amp;0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&amp;&amp;0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();this.length&gt;t.length?(r=this,n=t):(r=t,n=this);for(var i=0,a=0;a&lt;n.length;a++)e=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&amp;e,i=e&gt;&gt;&gt;26;for(;0!==i&amp;&amp;a&lt;r.length;a++)e=(0|r.words[a])+i,this.words[a]=67108863&amp;e,i=e&gt;&gt;&gt;26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a&lt;r.length;a++)this.words[a]=r.words[a];return this},a.prototype.add=function(t){var e;return 0!==t.negative&amp;&amp;0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&amp;&amp;0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length&gt;t.length?this.clone().iadd(t):t.clone().iadd(this)},a.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var r,n,i=this.cmp(t);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i&gt;0?(r=this,n=t):(r=t,n=this);for(var a=0,o=0;o&lt;n.length;o++)a=(e=(0|r.words[o])-(0|n.words[o])+a)&gt;&gt;26,this.words[o]=67108863&amp;e;for(;0!==a&amp;&amp;o&lt;r.length;o++)a=(e=(0|r.words[o])+a)&gt;&gt;26,this.words[o]=67108863&amp;e;if(0===a&amp;&amp;o&lt;r.length&amp;&amp;r!==this)for(;o&lt;r.length;o++)this.words[o]=r.words[o];return this.length=Math.max(this.length,o),r!==this&amp;&amp;(this.negative=1),this.strip()},a.prototype.sub=function(t){return this.clone().isub(t)};var p=function(t,e,r){var n,i,a,o=t.words,s=e.words,l=r.words,c=0,u=0|o[0],f=8191&amp;u,h=u&gt;&gt;&gt;13,p=0|o[1],d=8191&amp;p,g=p&gt;&gt;&gt;13,m=0|o[2],v=8191&amp;m,y=m&gt;&gt;&gt;13,x=0|o[3],b=8191&amp;x,_=x&gt;&gt;&gt;13,w=0|o[4],T=8191&amp;w,k=w&gt;&gt;&gt;13,M=0|o[5],A=8191&amp;M,S=M&gt;&gt;&gt;13,E=0|o[6],C=8191&amp;E,L=E&gt;&gt;&gt;13,I=0|o[7],P=8191&amp;I,z=I&gt;&gt;&gt;13,O=0|o[8],D=8191&amp;O,R=O&gt;&gt;&gt;13,F=0|o[9],B=8191&amp;F,N=F&gt;&gt;&gt;13,j=0|s[0],U=8191&amp;j,V=j&gt;&gt;&gt;13,q=0|s[1],H=8191&amp;q,G=q&gt;&gt;&gt;13,Y=0|s[2],W=8191&amp;Y,X=Y&gt;&gt;&gt;13,Z=0|s[3],J=8191&amp;Z,K=Z&gt;&gt;&gt;13,Q=0|s[4],$=8191&amp;Q,tt=Q&gt;&gt;&gt;13,et=0|s[5],rt=8191&amp;et,nt=et&gt;&gt;&gt;13,it=0|s[6],at=8191&amp;it,ot=it&gt;&gt;&gt;13,st=0|s[7],lt=8191&amp;st,ct=st&gt;&gt;&gt;13,ut=0|s[8],ft=8191&amp;ut,ht=ut&gt;&gt;&gt;13,pt=0|s[9],dt=8191&amp;pt,gt=pt&gt;&gt;&gt;13;r.negative=t.negative^e.negative,r.length=19;var mt=(c+(n=Math.imul(f,U))|0)+((8191&amp;(i=(i=Math.imul(f,V))+Math.imul(h,U)|0))&lt;&lt;13)|0;c=((a=Math.imul(h,V))+(i&gt;&gt;&gt;13)|0)+(mt&gt;&gt;&gt;26)|0,mt&amp;=67108863,n=Math.imul(d,U),i=(i=Math.imul(d,V))+Math.imul(g,U)|0,a=Math.imul(g,V);var vt=(c+(n=n+Math.imul(f,H)|0)|0)+((8191&amp;(i=(i=i+Math.imul(f,G)|0)+Math.imul(h,H)|0))&lt;&lt;13)|0;c=((a=a+Math.imul(h,G)|0)+(i&gt;&gt;&gt;13)|0)+(vt&gt;&gt;&gt;26)|0,vt&amp;=67108863,n=Math.imul(v,U),i=(i=Math.imul(v,V))+Math.imul(y,U)|0,a=Math.imul(y,V),n=n+Math.imul(d,H)|0,i=(i=i+Math.imul(d,G)|0)+Math.imul(g,H)|0,a=a+Math.imul(g,G)|0;var yt=(c+(n=n+Math.imul(f,W)|0)|0)+((8191&amp;(i=(i=i+Math.imul(f,X)|0)+Math.imul(h,W)|0))&lt;&lt;13)|0;c=((a=a+Math.imul(h,X)|0)+(i&gt;&gt;&gt;13)|0)+(yt&gt;&gt;&gt;26)|0,yt&amp;=67108863,n=Math.imul(b,U),i=(i=Math.imul(b,V))+Math.imul(_,U)|0,a=Math.imul(_,V),n=n+Math.imul(v,H)|0,i=(i=i+Math.imul(v,G)|0)+Math.imul(y,H)|0,a=a+Math.imul(y,G)|0,n=n+Math.imul(d,W)|0,i=(i=i+Math.imul(d,X)|0)+Math.imul(g,W)|0,a=a+Math.imul(g,X)|0;var xt=(c+(n=n+Math.imul(f,J)|0)|0)+((8191&amp;(i=(i=i+Math.imul(f,K)|0)+Math.imul(h,J)|0))&lt;&lt;13)|0;c=((a=a+Math.imul(h,K)|0)+(i&gt;&gt;&gt;13)|0)+(xt&gt;&gt;&gt;26)|0,xt&amp;=67108863,n=Math.imul(T,U),i=(i=Math.imul(T,V))+Math.imul(k,U)|0,a=Math.imul(k,V),n=n+Math.imul(b,H)|0,i=(i=i+Math.imul(b,G)|0)+Math.imul(_,H)|0,a=a+Math.imul(_,G)|0,n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,X)|0)+Math.imul(y,W)|0,a=a+Math.imul(y,X)|0,n=n+Math.imul(d,J)|0,i=(i=i+Math.imul(d,K)|0)+Math.imul(g,J)|0,a=a+Math.imul(g,K)|0;var bt=(c+(n=n+Math.imul(f,$)|0)|0)+((8191&amp;(i=(i=i+Math.imul(f,tt)|0)+Math.imul(h,$)|0))&lt;&lt;13)|0;c=((a=a+Math.imul(h,tt)|0)+(i&gt;&gt;&gt;13)|0)+(bt&gt;&gt;&gt;26)|0,bt&amp;=67108863,n=Math.imul(A,U),i=(i=Math.imul(A,V))+Math.imul(S,U)|0,a=Math.imul(S,V),n=n+Math.imul(T,H)|0,i=(i=i+Math.imul(T,G)|0)+Math.imul(k,H)|0,a=a+Math.imul(k,G)|0,n=n+Math.imul(b,W)|0,i=(i=i+Math.imul(b,X)|0)+Math.imul(_,W)|0,a=a+Math.imul(_,X)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,K)|0)+Math.imul(y,J)|0,a=a+Math.imul(y,K)|0,n=n+Math.imul(d,$)|0,i=(i=i+Math.imul(d,tt)|0)+Math.imul(g,$)|0,a=a+Math.imul(g,tt)|0;var _t=(c+(n=n+Math.imul(f,rt)|0)|0)+((8191&amp;(i=(i=i+Math.imul(f,nt)|0)+Math.imul(h,rt)|0))&lt;&lt;13)|0;c=((a=a+Math.imul(h,nt)|0)+(i&gt;&gt;&gt;13)|0)+(_t&gt;&gt;&gt;26)|0,_t&amp;=67108863,n=Math.imul(C,U),i=(i=Math.imul(C,V))+Math.imul(L,U)|0,a=Math.imul(L,V),n=n+Math.imul(A,H)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(S,H)|0,a=a+Math.imul(S,G)|0,n=n+Math.imul(T,W)|0,i=(i=i+Math.imul(T,X)|0)+Math.imul(k,W)|0,a=a+Math.imul(k,X)|0,n=n+Math.imul(b,J)|0,i=(i=i+Math.imul(b,K)|0)+Math.imul(_,J)|0,a=a+Math.imul(_,K)|0,n=n+Math.imul(v,$)|0,i=(i=i+Math.imul(v,tt)|0)+Math.imul(y,$)|0,a=a+Math.imul(y,tt)|0,n=n+Math.imul(d,rt)|0,i=(i=i+Math.imul(d,nt)|0)+Math.imul(g,rt)|0,a=a+Math.imul(g,nt)|0;var wt=(c+(n=n+Math.imul(f,at)|0)|0)+((8191&amp;(i=(i=i+Math.imul(f,ot)|0)+Math.imul(h,at)|0))&lt;&lt;13)|0;c=((a=a+Math.imul(h,ot)|0)+(i&gt;&gt;&gt;13)|0)+(wt&gt;&gt;&gt;26)|0,wt&amp;=67108863,n=Math.imul(P,U),i=(i=Math.imul(P,V))+Math.imul(z,U)|0,a=Math.imul(z,V),n=n+Math.imul(C,H)|0,i=(i=i+Math.imul(C,G)|0)+Math.imul(L,H)|0,a=a+Math.imul(L,G)|0,n=n+Math.imul(A,W)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(S,W)|0,a=a+Math.imul(S,X)|0,n=n+Math.imul(T,J)|0,i=(i=i+Math.imul(T,K)|0)+Math.imul(k,J)|0,a=a+Math.imul(k,K)|0,n=n+Math.imul(b,$)|0,i=(i=i+Math.imul(b,tt)|0)+Math.imul(_,$)|0,a=a+Math.imul(_,tt)|0,n=n+Math.imul(v,rt)|0,i=(i=i+Math.imul(v,nt)|0)+Math.imul(y,rt)|0,a=a+Math.imul(y,nt)|0,n=n+Math.imul(d,at)|0,i=(i=i+Math.imul(d,ot)|0)+Math.imul(g,at)|0,a=a+Math.imul(g,ot)|0;var Tt=(c+(n=n+Math.imul(f,lt)|0)|0)+((8191&amp;(i=(i=i+Math.imul(f,ct)|0)+Math.imul(h,lt)|0))&lt;&lt;13)|0;c=((a=a+Math.imul(h,ct)|0)+(i&gt;&gt;&gt;13)|0)+(Tt&gt;&gt;&gt;26)|0,Tt&amp;=67108863,n=Math.imul(D,U),i=(i=Math.imul(D,V))+Math.imul(R,U)|0,a=Math.imul(R,V),n=n+Math.imul(P,H)|0,i=(i=i+Math.imul(P,G)|0)+Math.imul(z,H)|0,a=a+Math.imul(z,G)|0,n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,X)|0)+Math.imul(L,W)|0,a=a+Math.imul(L,X)|0,n=n+Math.imul(A,J)|0,i=(i=i+Math.imul(A,K)|0)+Math.imul(S,J)|0,a=a+Math.imul(S,K)|0,n=n+Math.imul(T,$)|0,i=(i=i+Math.imul(T,tt)|0)+Math.imul(k,$)|0,a=a+Math.imul(k,tt)|0,n=n+Math.imul(b,rt)|0,i=(i=i+Math.imul(b,nt)|0)+Math.imul(_,rt)|0,a=a+Math.imul(_,nt)|0,n=n+Math.imul(v,at)|0,i=(i=i+Math.imul(v,ot)|0)+Math.imul(y,at)|0,a=a+Math.imul(y,ot)|0,n=n+Math.imul(d,lt)|0,i=(i=i+Math.imul(d,ct)|0)+Math.imul(g,lt)|0,a=a+Math.imul(g,ct)|0;var kt=(c+(n=n+Math.imul(f,ft)|0)|0)+((8191&amp;(i=(i=i+Math.imul(f,ht)|0)+Math.imul(h,ft)|0))&lt;&lt;13)|0;c=((a=a+Math.imul(h,ht)|0)+(i&gt;&gt;&gt;13)|0)+(kt&gt;&gt;&gt;26)|0,kt&amp;=67108863,n=Math.imul(B,U),i=(i=Math.imul(B,V))+Math.imul(N,U)|0,a=Math.imul(N,V),n=n+Math.imul(D,H)|0,i=(i=i+Math.imul(D,G)|0)+Math.imul(R,H)|0,a=a+Math.imul(R,G)|0,n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,X)|0)+Math.imul(z,W)|0,a=a+Math.imul(z,X)|0,n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,K)|0)+Math.imul(L,J)|0,a=a+Math.imul(L,K)|0,n=n+Math.imul(A,$)|0,i=(i=i+Math.imul(A,tt)|0)+Math.imul(S,$)|0,a=a+Math.imul(S,tt)|0,n=n+Math.imul(T,rt)|0,i=(i=i+Math.imul(T,nt)|0)+Math.imul(k,rt)|0,a=a+Math.imul(k,nt)|0,n=n+Math.imul(b,at)|0,i=(i=i+Math.imul(b,ot)|0)+Math.imul(_,at)|0,a=a+Math.imul(_,ot)|0,n=n+Math.imul(v,lt)|0,i=(i=i+Math.imul(v,ct)|0)+Math.imul(y,lt)|0,a=a+Math.imul(y,ct)|0,n=n+Math.imul(d,ft)|0,i=(i=i+Math.imul(d,ht)|0)+Math.imul(g,ft)|0,a=a+Math.imul(g,ht)|0;var Mt=(c+(n=n+Math.imul(f,dt)|0)|0)+((8191&amp;(i=(i=i+Math.imul(f,gt)|0)+Math.imul(h,dt)|0))&lt;&lt;13)|0;c=((a=a+Math.imul(h,gt)|0)+(i&gt;&gt;&gt;13)|0)+(Mt&gt;&gt;&gt;26)|0,Mt&amp;=67108863,n=Math.imul(B,H),i=(i=Math.imul(B,G))+Math.imul(N,H)|0,a=Math.imul(N,G),n=n+Math.imul(D,W)|0,i=(i=i+Math.imul(D,X)|0)+Math.imul(R,W)|0,a=a+Math.imul(R,X)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,K)|0)+Math.imul(z,J)|0,a=a+Math.imul(z,K)|0,n=n+Math.imul(C,$)|0,i=(i=i+Math.imul(C,tt)|0)+Math.imul(L,$)|0,a=a+Math.imul(L,tt)|0,n=n+Math.imul(A,rt)|0,i=(i=i+Math.imul(A,nt)|0)+Math.imul(S,rt)|0,a=a+Math.imul(S,nt)|0,n=n+Math.imul(T,at)|0,i=(i=i+Math.imul(T,ot)|0)+Math.imul(k,at)|0,a=a+Math.imul(k,ot)|0,n=n+Math.imul(b,lt)|0,i=(i=i+Math.imul(b,ct)|0)+Math.imul(_,lt)|0,a=a+Math.imul(_,ct)|0,n=n+Math.imul(v,ft)|0,i=(i=i+Math.imul(v,ht)|0)+Math.imul(y,ft)|0,a=a+Math.imul(y,ht)|0;var At=(c+(n=n+Math.imul(d,dt)|0)|0)+((8191&amp;(i=(i=i+Math.imul(d,gt)|0)+Math.imul(g,dt)|0))&lt;&lt;13)|0;c=((a=a+Math.imul(g,gt)|0)+(i&gt;&gt;&gt;13)|0)+(At&gt;&gt;&gt;26)|0,At&amp;=67108863,n=Math.imul(B,W),i=(i=Math.imul(B,X))+Math.imul(N,W)|0,a=Math.imul(N,X),n=n+Math.imul(D,J)|0,i=(i=i+Math.imul(D,K)|0)+Math.imul(R,J)|0,a=a+Math.imul(R,K)|0,n=n+Math.imul(P,$)|0,i=(i=i+Math.imul(P,tt)|0)+Math.imul(z,$)|0,a=a+Math.imul(z,tt)|0,n=n+Math.imul(C,rt)|0,i=(i=i+Math.imul(C,nt)|0)+Math.imul(L,rt)|0,a=a+Math.imul(L,nt)|0,n=n+Math.imul(A,at)|0,i=(i=i+Math.imul(A,ot)|0)+Math.imul(S,at)|0,a=a+Math.imul(S,ot)|0,n=n+Math.imul(T,lt)|0,i=(i=i+Math.imul(T,ct)|0)+Math.imul(k,lt)|0,a=a+Math.imul(k,ct)|0,n=n+Math.imul(b,ft)|0,i=(i=i+Math.imul(b,ht)|0)+Math.imul(_,ft)|0,a=a+Math.imul(_,ht)|0;var St=(c+(n=n+Math.imul(v,dt)|0)|0)+((8191&amp;(i=(i=i+Math.imul(v,gt)|0)+Math.imul(y,dt)|0))&lt;&lt;13)|0;c=((a=a+Math.imul(y,gt)|0)+(i&gt;&gt;&gt;13)|0)+(St&gt;&gt;&gt;26)|0,St&amp;=67108863,n=Math.imul(B,J),i=(i=Math.imul(B,K))+Math.imul(N,J)|0,a=Math.imul(N,K),n=n+Math.imul(D,$)|0,i=(i=i+Math.imul(D,tt)|0)+Math.imul(R,$)|0,a=a+Math.imul(R,tt)|0,n=n+Math.imul(P,rt)|0,i=(i=i+Math.imul(P,nt)|0)+Math.imul(z,rt)|0,a=a+Math.imul(z,nt)|0,n=n+Math.imul(C,at)|0,i=(i=i+Math.imul(C,ot)|0)+Math.imul(L,at)|0,a=a+Math.imul(L,ot)|0,n=n+Math.imul(A,lt)|0,i=(i=i+Math.imul(A,ct)|0)+Math.imul(S,lt)|0,a=a+Math.imul(S,ct)|0,n=n+Math.imul(T,ft)|0,i=(i=i+Math.imul(T,ht)|0)+Math.imul(k,ft)|0,a=a+Math.imul(k,ht)|0;var Et=(c+(n=n+Math.imul(b,dt)|0)|0)+((8191&amp;(i=(i=i+Math.imul(b,gt)|0)+Math.imul(_,dt)|0))&lt;&lt;13)|0;c=((a=a+Math.imul(_,gt)|0)+(i&gt;&gt;&gt;13)|0)+(Et&gt;&gt;&gt;26)|0,Et&amp;=67108863,n=Math.imul(B,$),i=(i=Math.imul(B,tt))+Math.imul(N,$)|0,a=Math.imul(N,tt),n=n+Math.imul(D,rt)|0,i=(i=i+Math.imul(D,nt)|0)+Math.imul(R,rt)|0,a=a+Math.imul(R,nt)|0,n=n+Math.imul(P,at)|0,i=(i=i+Math.imul(P,ot)|0)+Math.imul(z,at)|0,a=a+Math.imul(z,ot)|0,n=n+Math.imul(C,lt)|0,i=(i=i+Math.imul(C,ct)|0)+Math.imul(L,lt)|0,a=a+Math.imul(L,ct)|0,n=n+Math.imul(A,ft)|0,i=(i=i+Math.imul(A,ht)|0)+Math.imul(S,ft)|0,a=a+Math.imul(S,ht)|0;var Ct=(c+(n=n+Math.imul(T,dt)|0)|0)+((8191&amp;(i=(i=i+Math.imul(T,gt)|0)+Math.imul(k,dt)|0))&lt;&lt;13)|0;c=((a=a+Math.imul(k,gt)|0)+(i&gt;&gt;&gt;13)|0)+(Ct&gt;&gt;&gt;26)|0,Ct&amp;=67108863,n=Math.imul(B,rt),i=(i=Math.imul(B,nt))+Math.imul(N,rt)|0,a=Math.imul(N,nt),n=n+Math.imul(D,at)|0,i=(i=i+Math.imul(D,ot)|0)+Math.imul(R,at)|0,a=a+Math.imul(R,ot)|0,n=n+Math.imul(P,lt)|0,i=(i=i+Math.imul(P,ct)|0)+Math.imul(z,lt)|0,a=a+Math.imul(z,ct)|0,n=n+Math.imul(C,ft)|0,i=(i=i+Math.imul(C,ht)|0)+Math.imul(L,ft)|0,a=a+Math.imul(L,ht)|0;var Lt=(c+(n=n+Math.imul(A,dt)|0)|0)+((8191&amp;(i=(i=i+Math.imul(A,gt)|0)+Math.imul(S,dt)|0))&lt;&lt;13)|0;c=((a=a+Math.imul(S,gt)|0)+(i&gt;&gt;&gt;13)|0)+(Lt&gt;&gt;&gt;26)|0,Lt&amp;=67108863,n=Math.imul(B,at),i=(i=Math.imul(B,ot))+Math.imul(N,at)|0,a=Math.imul(N,ot),n=n+Math.imul(D,lt)|0,i=(i=i+Math.imul(D,ct)|0)+Math.imul(R,lt)|0,a=a+Math.imul(R,ct)|0,n=n+Math.imul(P,ft)|0,i=(i=i+Math.imul(P,ht)|0)+Math.imul(z,ft)|0,a=a+Math.imul(z,ht)|0;var It=(c+(n=n+Math.imul(C,dt)|0)|0)+((8191&amp;(i=(i=i+Math.imul(C,gt)|0)+Math.imul(L,dt)|0))&lt;&lt;13)|0;c=((a=a+Math.imul(L,gt)|0)+(i&gt;&gt;&gt;13)|0)+(It&gt;&gt;&gt;26)|0,It&amp;=67108863,n=Math.imul(B,lt),i=(i=Math.imul(B,ct))+Math.imul(N,lt)|0,a=Math.imul(N,ct),n=n+Math.imul(D,ft)|0,i=(i=i+Math.imul(D,ht)|0)+Math.imul(R,ft)|0,a=a+Math.imul(R,ht)|0;var Pt=(c+(n=n+Math.imul(P,dt)|0)|0)+((8191&amp;(i=(i=i+Math.imul(P,gt)|0)+Math.imul(z,dt)|0))&lt;&lt;13)|0;c=((a=a+Math.imul(z,gt)|0)+(i&gt;&gt;&gt;13)|0)+(Pt&gt;&gt;&gt;26)|0,Pt&amp;=67108863,n=Math.imul(B,ft),i=(i=Math.imul(B,ht))+Math.imul(N,ft)|0,a=Math.imul(N,ht);var zt=(c+(n=n+Math.imul(D,dt)|0)|0)+((8191&amp;(i=(i=i+Math.imul(D,gt)|0)+Math.imul(R,dt)|0))&lt;&lt;13)|0;c=((a=a+Math.imul(R,gt)|0)+(i&gt;&gt;&gt;13)|0)+(zt&gt;&gt;&gt;26)|0,zt&amp;=67108863;var Ot=(c+(n=Math.imul(B,dt))|0)+((8191&amp;(i=(i=Math.imul(B,gt))+Math.imul(N,dt)|0))&lt;&lt;13)|0;return c=((a=Math.imul(N,gt))+(i&gt;&gt;&gt;13)|0)+(Ot&gt;&gt;&gt;26)|0,Ot&amp;=67108863,l[0]=mt,l[1]=vt,l[2]=yt,l[3]=xt,l[4]=bt,l[5]=_t,l[6]=wt,l[7]=Tt,l[8]=kt,l[9]=Mt,l[10]=At,l[11]=St,l[12]=Et,l[13]=Ct,l[14]=Lt,l[15]=It,l[16]=Pt,l[17]=zt,l[18]=Ot,0!==c&amp;&amp;(l[19]=c,r.length++),r};function d(t,e,r){return(new g).mulp(t,e,r)}function g(t,e){this.x=t,this.y=e}Math.imul||(p=h),a.prototype.mulTo=function(t,e){var r=this.length+t.length;return 10===this.length&amp;&amp;10===t.length?p(this,t,e):r&lt;63?h(this,t,e):r&lt;1024?function(t,e,r){r.negative=e.negative^t.negative,r.length=t.length+e.length;for(var n=0,i=0,a=0;a&lt;r.length-1;a++){var o=i;i=0;for(var s=67108863&amp;n,l=Math.min(a,e.length-1),c=Math.max(0,a-t.length+1);c&lt;=l;c++){var u=a-c,f=(0|t.words[u])*(0|e.words[c]),h=67108863&amp;f;s=67108863&amp;(h=h+s|0),i+=(o=(o=o+(f/67108864|0)|0)+(h&gt;&gt;&gt;26)|0)&gt;&gt;&gt;26,o&amp;=67108863}r.words[a]=s,n=o,o=i}return 0!==n?r.words[a]=n:r.length--,r.strip()}(this,t,e):d(this,t,e)},g.prototype.makeRBT=function(t){for(var e=new Array(t),r=a.prototype._countBits(t)-1,n=0;n&lt;t;n++)e[n]=this.revBin(n,r,t);return e},g.prototype.revBin=function(t,e,r){if(0===t||t===r-1)return t;for(var n=0,i=0;i&lt;e;i++)n|=(1&amp;t)&lt;&lt;e-i-1,t&gt;&gt;=1;return n},g.prototype.permute=function(t,e,r,n,i,a){for(var o=0;o&lt;a;o++)n[o]=e[t[o]],i[o]=r[t[o]]},g.prototype.transform=function(t,e,r,n,i,a){this.permute(a,t,e,r,n,i);for(var o=1;o&lt;i;o&lt;&lt;=1)for(var s=o&lt;&lt;1,l=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),u=0;u&lt;i;u+=s)for(var f=l,h=c,p=0;p&lt;o;p++){var d=r[u+p],g=n[u+p],m=r[u+p+o],v=n[u+p+o],y=f*m-h*v;v=f*v+h*m,m=y,r[u+p]=d+m,n[u+p]=g+v,r[u+p+o]=d-m,n[u+p+o]=g-v,p!==s&amp;&amp;(y=l*f-c*h,h=l*h+c*f,f=y)}},g.prototype.guessLen13b=function(t,e){var r=1|Math.max(e,t),n=1&amp;r,i=0;for(r=r/2|0;r;r&gt;&gt;&gt;=1)i++;return 1&lt;&lt;i+1+n},g.prototype.conjugate=function(t,e,r){if(!(r&lt;=1))for(var n=0;n&lt;r/2;n++){var i=t[n];t[n]=t[r-n-1],t[r-n-1]=i,i=e[n],e[n]=-e[r-n-1],e[r-n-1]=-i}},g.prototype.normalize13b=function(t,e){for(var r=0,n=0;n&lt;e/2;n++){var i=8192*Math.round(t[2*n+1]/e)+Math.round(t[2*n]/e)+r;t[n]=67108863&amp;i,r=i&lt;67108864?0:i/67108864|0}return t},g.prototype.convert13b=function(t,e,r,i){for(var a=0,o=0;o&lt;e;o++)a+=0|t[o],r[2*o]=8191&amp;a,a&gt;&gt;&gt;=13,r[2*o+1]=8191&amp;a,a&gt;&gt;&gt;=13;for(o=2*e;o&lt;i;++o)r[o]=0;n(0===a),n(0==(-8192&amp;a))},g.prototype.stub=function(t){for(var e=new Array(t),r=0;r&lt;t;r++)e[r]=0;return e},g.prototype.mulp=function(t,e,r){var n=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(n),a=this.stub(n),o=new Array(n),s=new Array(n),l=new Array(n),c=new Array(n),u=new Array(n),f=new Array(n),h=r.words;h.length=n,this.convert13b(t.words,t.length,o,n),this.convert13b(e.words,e.length,c,n),this.transform(o,a,s,l,n,i),this.transform(c,a,u,f,n,i);for(var p=0;p&lt;n;p++){var d=s[p]*u[p]-l[p]*f[p];l[p]=s[p]*f[p]+l[p]*u[p],s[p]=d}return this.conjugate(s,l,n),this.transform(s,l,h,a,n,i),this.conjugate(h,a,n),this.normalize13b(h,n),r.negative=t.negative^e.negative,r.length=t.length+e.length,r.strip()},a.prototype.mul=function(t){var e=new a(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},a.prototype.mulf=function(t){var e=new a(null);return e.words=new Array(this.length+t.length),d(this,t,e)},a.prototype.imul=function(t){return this.clone().mulTo(t,this)},a.prototype.imuln=function(t){n(\&quot;number\&quot;==typeof t),n(t&lt;67108864);for(var e=0,r=0;r&lt;this.length;r++){var i=(0|this.words[r])*t,a=(67108863&amp;i)+(67108863&amp;e);e&gt;&gt;=26,e+=i/67108864|0,e+=a&gt;&gt;&gt;26,this.words[r]=67108863&amp;a}return 0!==e&amp;&amp;(this.words[r]=e,this.length++),this},a.prototype.muln=function(t){return this.clone().imuln(t)},a.prototype.sqr=function(){return this.mul(this)},a.prototype.isqr=function(){return this.imul(this.clone())},a.prototype.pow=function(t){var e=function(t){for(var e=new Array(t.bitLength()),r=0;r&lt;e.length;r++){var n=r/26|0,i=r%26;e[r]=(t.words[n]&amp;1&lt;&lt;i)&gt;&gt;&gt;i}return e}(t);if(0===e.length)return new a(1);for(var r=this,n=0;n&lt;e.length&amp;&amp;0===e[n];n++,r=r.sqr());if(++n&lt;e.length)for(var i=r.sqr();n&lt;e.length;n++,i=i.sqr())0!==e[n]&amp;&amp;(r=r.mul(i));return r},a.prototype.iushln=function(t){n(\&quot;number\&quot;==typeof t&amp;&amp;t&gt;=0);var e,r=t%26,i=(t-r)/26,a=67108863&gt;&gt;&gt;26-r&lt;&lt;26-r;if(0!==r){var o=0;for(e=0;e&lt;this.length;e++){var s=this.words[e]&amp;a,l=(0|this.words[e])-s&lt;&lt;r;this.words[e]=l|o,o=s&gt;&gt;&gt;26-r}o&amp;&amp;(this.words[e]=o,this.length++)}if(0!==i){for(e=this.length-1;e&gt;=0;e--)this.words[e+i]=this.words[e];for(e=0;e&lt;i;e++)this.words[e]=0;this.length+=i}return this.strip()},a.prototype.ishln=function(t){return n(0===this.negative),this.iushln(t)},a.prototype.iushrn=function(t,e,r){var i;n(\&quot;number\&quot;==typeof t&amp;&amp;t&gt;=0),i=e?(e-e%26)/26:0;var a=t%26,o=Math.min((t-a)/26,this.length),s=67108863^67108863&gt;&gt;&gt;a&lt;&lt;a,l=r;if(i-=o,i=Math.max(0,i),l){for(var c=0;c&lt;o;c++)l.words[c]=this.words[c];l.length=o}if(0===o);else if(this.length&gt;o)for(this.length-=o,c=0;c&lt;this.length;c++)this.words[c]=this.words[c+o];else this.words[0]=0,this.length=1;var u=0;for(c=this.length-1;c&gt;=0&amp;&amp;(0!==u||c&gt;=i);c--){var f=0|this.words[c];this.words[c]=u&lt;&lt;26-a|f&gt;&gt;&gt;a,u=f&amp;s}return l&amp;&amp;0!==u&amp;&amp;(l.words[l.length++]=u),0===this.length&amp;&amp;(this.words[0]=0,this.length=1),this.strip()},a.prototype.ishrn=function(t,e,r){return n(0===this.negative),this.iushrn(t,e,r)},a.prototype.shln=function(t){return this.clone().ishln(t)},a.prototype.ushln=function(t){return this.clone().iushln(t)},a.prototype.shrn=function(t){return this.clone().ishrn(t)},a.prototype.ushrn=function(t){return this.clone().iushrn(t)},a.prototype.testn=function(t){n(\&quot;number\&quot;==typeof t&amp;&amp;t&gt;=0);var e=t%26,r=(t-e)/26,i=1&lt;&lt;e;return!(this.length&lt;=r)&amp;&amp;!!(this.words[r]&amp;i)},a.prototype.imaskn=function(t){n(\&quot;number\&quot;==typeof t&amp;&amp;t&gt;=0);var e=t%26,r=(t-e)/26;if(n(0===this.negative,\&quot;imaskn works only with positive numbers\&quot;),this.length&lt;=r)return this;if(0!==e&amp;&amp;r++,this.length=Math.min(r,this.length),0!==e){var i=67108863^67108863&gt;&gt;&gt;e&lt;&lt;e;this.words[this.length-1]&amp;=i}return this.strip()},a.prototype.maskn=function(t){return this.clone().imaskn(t)},a.prototype.iaddn=function(t){return n(\&quot;number\&quot;==typeof t),n(t&lt;67108864),t&lt;0?this.isubn(-t):0!==this.negative?1===this.length&amp;&amp;(0|this.words[0])&lt;t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},a.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e&lt;this.length&amp;&amp;this.words[e]&gt;=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},a.prototype.isubn=function(t){if(n(\&quot;number\&quot;==typeof t),n(t&lt;67108864),t&lt;0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&amp;&amp;this.words[0]&lt;0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e&lt;this.length&amp;&amp;this.words[e]&lt;0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},a.prototype.addn=function(t){return this.clone().iaddn(t)},a.prototype.subn=function(t){return this.clone().isubn(t)},a.prototype.iabs=function(){return this.negative=0,this},a.prototype.abs=function(){return this.clone().iabs()},a.prototype._ishlnsubmul=function(t,e,r){var i,a,o=t.length+r;this._expand(o);var s=0;for(i=0;i&lt;t.length;i++){a=(0|this.words[i+r])+s;var l=(0|t.words[i])*e;s=((a-=67108863&amp;l)&gt;&gt;26)-(l/67108864|0),this.words[i+r]=67108863&amp;a}for(;i&lt;this.length-r;i++)s=(a=(0|this.words[i+r])+s)&gt;&gt;26,this.words[i+r]=67108863&amp;a;if(0===s)return this.strip();for(n(-1===s),s=0,i=0;i&lt;this.length;i++)s=(a=-(0|this.words[i])+s)&gt;&gt;26,this.words[i]=67108863&amp;a;return this.negative=1,this.strip()},a.prototype._wordDiv=function(t,e){var r=(this.length,t.length),n=this.clone(),i=t,o=0|i.words[i.length-1];0!==(r=26-this._countBits(o))&amp;&amp;(i=i.ushln(r),n.iushln(r),o=0|i.words[i.length-1]);var s,l=n.length-i.length;if(\&quot;mod\&quot;!==e){(s=new a(null)).length=l+1,s.words=new Array(s.length);for(var c=0;c&lt;s.length;c++)s.words[c]=0}var u=n.clone()._ishlnsubmul(i,1,l);0===u.negative&amp;&amp;(n=u,s&amp;&amp;(s.words[l]=1));for(var f=l-1;f&gt;=0;f--){var h=67108864*(0|n.words[i.length+f])+(0|n.words[i.length+f-1]);for(h=Math.min(h/o|0,67108863),n._ishlnsubmul(i,h,f);0!==n.negative;)h--,n.negative=0,n._ishlnsubmul(i,1,f),n.isZero()||(n.negative^=1);s&amp;&amp;(s.words[f]=h)}return s&amp;&amp;s.strip(),n.strip(),\&quot;div\&quot;!==e&amp;&amp;0!==r&amp;&amp;n.iushrn(r),{div:s||null,mod:n}},a.prototype.divmod=function(t,e,r){return n(!t.isZero()),this.isZero()?{div:new a(0),mod:new a(0)}:0!==this.negative&amp;&amp;0===t.negative?(s=this.neg().divmod(t,e),\&quot;mod\&quot;!==e&amp;&amp;(i=s.div.neg()),\&quot;div\&quot;!==e&amp;&amp;(o=s.mod.neg(),r&amp;&amp;0!==o.negative&amp;&amp;o.iadd(t)),{div:i,mod:o}):0===this.negative&amp;&amp;0!==t.negative?(s=this.divmod(t.neg(),e),\&quot;mod\&quot;!==e&amp;&amp;(i=s.div.neg()),{div:i,mod:s.mod}):0!=(this.negative&amp;t.negative)?(s=this.neg().divmod(t.neg(),e),\&quot;div\&quot;!==e&amp;&amp;(o=s.mod.neg(),r&amp;&amp;0!==o.negative&amp;&amp;o.isub(t)),{div:s.div,mod:o}):t.length&gt;this.length||this.cmp(t)&lt;0?{div:new a(0),mod:this}:1===t.length?\&quot;div\&quot;===e?{div:this.divn(t.words[0]),mod:null}:\&quot;mod\&quot;===e?{div:null,mod:new a(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new a(this.modn(t.words[0]))}:this._wordDiv(t,e);var i,o,s},a.prototype.div=function(t){return this.divmod(t,\&quot;div\&quot;,!1).div},a.prototype.mod=function(t){return this.divmod(t,\&quot;mod\&quot;,!1).mod},a.prototype.umod=function(t){return this.divmod(t,\&quot;mod\&quot;,!0).mod},a.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var r=0!==e.div.negative?e.mod.isub(t):e.mod,n=t.ushrn(1),i=t.andln(1),a=r.cmp(n);return a&lt;0||1===i&amp;&amp;0===a?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},a.prototype.modn=function(t){n(t&lt;=67108863);for(var e=(1&lt;&lt;26)%t,r=0,i=this.length-1;i&gt;=0;i--)r=(e*r+(0|this.words[i]))%t;return r},a.prototype.idivn=function(t){n(t&lt;=67108863);for(var e=0,r=this.length-1;r&gt;=0;r--){var i=(0|this.words[r])+67108864*e;this.words[r]=i/t|0,e=i%t}return this.strip()},a.prototype.divn=function(t){return this.clone().idivn(t)},a.prototype.egcd=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new a(1),o=new a(0),s=new a(0),l=new a(1),c=0;e.isEven()&amp;&amp;r.isEven();)e.iushrn(1),r.iushrn(1),++c;for(var u=r.clone(),f=e.clone();!e.isZero();){for(var h=0,p=1;0==(e.words[0]&amp;p)&amp;&amp;h&lt;26;++h,p&lt;&lt;=1);if(h&gt;0)for(e.iushrn(h);h-- &gt;0;)(i.isOdd()||o.isOdd())&amp;&amp;(i.iadd(u),o.isub(f)),i.iushrn(1),o.iushrn(1);for(var d=0,g=1;0==(r.words[0]&amp;g)&amp;&amp;d&lt;26;++d,g&lt;&lt;=1);if(d&gt;0)for(r.iushrn(d);d-- &gt;0;)(s.isOdd()||l.isOdd())&amp;&amp;(s.iadd(u),l.isub(f)),s.iushrn(1),l.iushrn(1);e.cmp(r)&gt;=0?(e.isub(r),i.isub(s),o.isub(l)):(r.isub(e),s.isub(i),l.isub(o))}return{a:s,b:l,gcd:r.iushln(c)}},a.prototype._invmp=function(t){n(0===t.negative),n(!t.isZero());var e=this,r=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i,o=new a(1),s=new a(0),l=r.clone();e.cmpn(1)&gt;0&amp;&amp;r.cmpn(1)&gt;0;){for(var c=0,u=1;0==(e.words[0]&amp;u)&amp;&amp;c&lt;26;++c,u&lt;&lt;=1);if(c&gt;0)for(e.iushrn(c);c-- &gt;0;)o.isOdd()&amp;&amp;o.iadd(l),o.iushrn(1);for(var f=0,h=1;0==(r.words[0]&amp;h)&amp;&amp;f&lt;26;++f,h&lt;&lt;=1);if(f&gt;0)for(r.iushrn(f);f-- &gt;0;)s.isOdd()&amp;&amp;s.iadd(l),s.iushrn(1);e.cmp(r)&gt;=0?(e.isub(r),o.isub(s)):(r.isub(e),s.isub(o))}return(i=0===e.cmpn(1)?o:s).cmpn(0)&lt;0&amp;&amp;i.iadd(t),i},a.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),r=t.clone();e.negative=0,r.negative=0;for(var n=0;e.isEven()&amp;&amp;r.isEven();n++)e.iushrn(1),r.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=e.cmp(r);if(i&lt;0){var a=e;e=r,r=a}else if(0===i||0===r.cmpn(1))break;e.isub(r)}return r.iushln(n)},a.prototype.invm=function(t){return this.egcd(t).a.umod(t)},a.prototype.isEven=function(){return 0==(1&amp;this.words[0])},a.prototype.isOdd=function(){return 1==(1&amp;this.words[0])},a.prototype.andln=function(t){return this.words[0]&amp;t},a.prototype.bincn=function(t){n(\&quot;number\&quot;==typeof t);var e=t%26,r=(t-e)/26,i=1&lt;&lt;e;if(this.length&lt;=r)return this._expand(r+1),this.words[r]|=i,this;for(var a=i,o=r;0!==a&amp;&amp;o&lt;this.length;o++){var s=0|this.words[o];a=(s+=a)&gt;&gt;&gt;26,s&amp;=67108863,this.words[o]=s}return 0!==a&amp;&amp;(this.words[o]=a,this.length++),this},a.prototype.isZero=function(){return 1===this.length&amp;&amp;0===this.words[0]},a.prototype.cmpn=function(t){var e,r=t&lt;0;if(0!==this.negative&amp;&amp;!r)return-1;if(0===this.negative&amp;&amp;r)return 1;if(this.strip(),this.length&gt;1)e=1;else{r&amp;&amp;(t=-t),n(t&lt;=67108863,\&quot;Number is too big\&quot;);var i=0|this.words[0];e=i===t?0:i&lt;t?-1:1}return 0!==this.negative?0|-e:e},a.prototype.cmp=function(t){if(0!==this.negative&amp;&amp;0===t.negative)return-1;if(0===this.negative&amp;&amp;0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},a.prototype.ucmp=function(t){if(this.length&gt;t.length)return 1;if(this.length&lt;t.length)return-1;for(var e=0,r=this.length-1;r&gt;=0;r--){var n=0|this.words[r],i=0|t.words[r];if(n!==i){n&lt;i?e=-1:n&gt;i&amp;&amp;(e=1);break}}return e},a.prototype.gtn=function(t){return 1===this.cmpn(t)},a.prototype.gt=function(t){return 1===this.cmp(t)},a.prototype.gten=function(t){return this.cmpn(t)&gt;=0},a.prototype.gte=function(t){return this.cmp(t)&gt;=0},a.prototype.ltn=function(t){return-1===this.cmpn(t)},a.prototype.lt=function(t){return-1===this.cmp(t)},a.prototype.lten=function(t){return this.cmpn(t)&lt;=0},a.prototype.lte=function(t){return this.cmp(t)&lt;=0},a.prototype.eqn=function(t){return 0===this.cmpn(t)},a.prototype.eq=function(t){return 0===this.cmp(t)},a.red=function(t){return new w(t)},a.prototype.toRed=function(t){return n(!this.red,\&quot;Already a number in reduction context\&quot;),n(0===this.negative,\&quot;red works only with positives\&quot;),t.convertTo(this)._forceRed(t)},a.prototype.fromRed=function(){return n(this.red,\&quot;fromRed works only with numbers in reduction context\&quot;),this.red.convertFrom(this)},a.prototype._forceRed=function(t){return this.red=t,this},a.prototype.forceRed=function(t){return n(!this.red,\&quot;Already a number in reduction context\&quot;),this._forceRed(t)},a.prototype.redAdd=function(t){return n(this.red,\&quot;redAdd works only with red numbers\&quot;),this.red.add(this,t)},a.prototype.redIAdd=function(t){return n(this.red,\&quot;redIAdd works only with red numbers\&quot;),this.red.iadd(this,t)},a.prototype.redSub=function(t){return n(this.red,\&quot;redSub works only with red numbers\&quot;),this.red.sub(this,t)},a.prototype.redISub=function(t){return n(this.red,\&quot;redISub works only with red numbers\&quot;),this.red.isub(this,t)},a.prototype.redShl=function(t){return n(this.red,\&quot;redShl works only with red numbers\&quot;),this.red.shl(this,t)},a.prototype.redMul=function(t){return n(this.red,\&quot;redMul works only with red numbers\&quot;),this.red._verify2(this,t),this.red.mul(this,t)},a.prototype.redIMul=function(t){return n(this.red,\&quot;redMul works only with red numbers\&quot;),this.red._verify2(this,t),this.red.imul(this,t)},a.prototype.redSqr=function(){return n(this.red,\&quot;redSqr works only with red numbers\&quot;),this.red._verify1(this),this.red.sqr(this)},a.prototype.redISqr=function(){return n(this.red,\&quot;redISqr works only with red numbers\&quot;),this.red._verify1(this),this.red.isqr(this)},a.prototype.redSqrt=function(){return n(this.red,\&quot;redSqrt works only with red numbers\&quot;),this.red._verify1(this),this.red.sqrt(this)},a.prototype.redInvm=function(){return n(this.red,\&quot;redInvm works only with red numbers\&quot;),this.red._verify1(this),this.red.invm(this)},a.prototype.redNeg=function(){return n(this.red,\&quot;redNeg works only with red numbers\&quot;),this.red._verify1(this),this.red.neg(this)},a.prototype.redPow=function(t){return n(this.red&amp;&amp;!t.red,\&quot;redPow(normalNum)\&quot;),this.red._verify1(this),this.red.pow(this,t)};var m={k256:null,p224:null,p192:null,p25519:null};function v(t,e){this.name=t,this.p=new a(e,16),this.n=this.p.bitLength(),this.k=new a(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function y(){v.call(this,\&quot;k256\&quot;,\&quot;ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f\&quot;)}function x(){v.call(this,\&quot;p224\&quot;,\&quot;ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001\&quot;)}function b(){v.call(this,\&quot;p192\&quot;,\&quot;ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff\&quot;)}function _(){v.call(this,\&quot;25519\&quot;,\&quot;7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed\&quot;)}function w(t){if(\&quot;string\&quot;==typeof t){var e=a._prime(t);this.m=e.p,this.prime=e}else n(t.gtn(1),\&quot;modulus must be greater than 1\&quot;),this.m=t,this.prime=null}function T(t){w.call(this,t),this.shift=this.m.bitLength(),this.shift%26!=0&amp;&amp;(this.shift+=26-this.shift%26),this.r=new a(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}v.prototype._tmp=function(){var t=new a(null);return t.words=new Array(Math.ceil(this.n/13)),t},v.prototype.ireduce=function(t){var e,r=t;do{this.split(r,this.tmp),e=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(e&gt;this.n);var n=e&lt;this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n&gt;0?r.isub(this.p):r.strip(),r},v.prototype.split=function(t,e){t.iushrn(this.n,0,e)},v.prototype.imulK=function(t){return t.imul(this.k)},i(y,v),y.prototype.split=function(t,e){for(var r=Math.min(t.length,9),n=0;n&lt;r;n++)e.words[n]=t.words[n];if(e.length=r,t.length&lt;=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&amp;i,n=10;n&lt;t.length;n++){var a=0|t.words[n];t.words[n-10]=(4194303&amp;a)&lt;&lt;4|i&gt;&gt;&gt;22,i=a}i&gt;&gt;&gt;=22,t.words[n-10]=i,0===i&amp;&amp;t.length&gt;10?t.length-=10:t.length-=9},y.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,r=0;r&lt;t.length;r++){var n=0|t.words[r];e+=977*n,t.words[r]=67108863&amp;e,e=64*n+(e/67108864|0)}return 0===t.words[t.length-1]&amp;&amp;(t.length--,0===t.words[t.length-1]&amp;&amp;t.length--),t},i(x,v),i(b,v),i(_,v),_.prototype.imulK=function(t){for(var e=0,r=0;r&lt;t.length;r++){var n=19*(0|t.words[r])+e,i=67108863&amp;n;n&gt;&gt;&gt;=26,t.words[r]=i,e=n}return 0!==e&amp;&amp;(t.words[t.length++]=e),t},a._prime=function(t){if(m[t])return m[t];var e;if(\&quot;k256\&quot;===t)e=new y;else if(\&quot;p224\&quot;===t)e=new x;else if(\&quot;p192\&quot;===t)e=new b;else{if(\&quot;p25519\&quot;!==t)throw new Error(\&quot;Unknown prime \&quot;+t);e=new _}return m[t]=e,e},w.prototype._verify1=function(t){n(0===t.negative,\&quot;red works only with positives\&quot;),n(t.red,\&quot;red works only with red numbers\&quot;)},w.prototype._verify2=function(t,e){n(0==(t.negative|e.negative),\&quot;red works only with positives\&quot;),n(t.red&amp;&amp;t.red===e.red,\&quot;red works only with red numbers\&quot;)},w.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},w.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},w.prototype.add=function(t,e){this._verify2(t,e);var r=t.add(e);return r.cmp(this.m)&gt;=0&amp;&amp;r.isub(this.m),r._forceRed(this)},w.prototype.iadd=function(t,e){this._verify2(t,e);var r=t.iadd(e);return r.cmp(this.m)&gt;=0&amp;&amp;r.isub(this.m),r},w.prototype.sub=function(t,e){this._verify2(t,e);var r=t.sub(e);return r.cmpn(0)&lt;0&amp;&amp;r.iadd(this.m),r._forceRed(this)},w.prototype.isub=function(t,e){this._verify2(t,e);var r=t.isub(e);return r.cmpn(0)&lt;0&amp;&amp;r.iadd(this.m),r},w.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},w.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},w.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},w.prototype.isqr=function(t){return this.imul(t,t.clone())},w.prototype.sqr=function(t){return this.mul(t,t)},w.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(n(e%2==1),3===e){var r=this.m.add(new a(1)).iushrn(2);return this.pow(t,r)}for(var i=this.m.subn(1),o=0;!i.isZero()&amp;&amp;0===i.andln(1);)o++,i.iushrn(1);n(!i.isZero());var s=new a(1).toRed(this),l=s.redNeg(),c=this.m.subn(1).iushrn(1),u=this.m.bitLength();for(u=new a(2*u*u).toRed(this);0!==this.pow(u,c).cmp(l);)u.redIAdd(l);for(var f=this.pow(u,i),h=this.pow(t,i.addn(1).iushrn(1)),p=this.pow(t,i),d=o;0!==p.cmp(s);){for(var g=p,m=0;0!==g.cmp(s);m++)g=g.redSqr();n(m&lt;d);var v=this.pow(f,new a(1).iushln(d-m-1));h=h.redMul(v),f=v.redSqr(),p=p.redMul(f),d=m}return h},w.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},w.prototype.pow=function(t,e){if(e.isZero())return new a(1).toRed(this);if(0===e.cmpn(1))return t.clone();var r=new Array(16);r[0]=new a(1).toRed(this),r[1]=t;for(var n=2;n&lt;r.length;n++)r[n]=this.mul(r[n-1],t);var i=r[0],o=0,s=0,l=e.bitLength()%26;for(0===l&amp;&amp;(l=26),n=e.length-1;n&gt;=0;n--){for(var c=e.words[n],u=l-1;u&gt;=0;u--){var f=c&gt;&gt;u&amp;1;i!==r[0]&amp;&amp;(i=this.sqr(i)),0!==f||0!==o?(o&lt;&lt;=1,o|=f,(4===++s||0===n&amp;&amp;0===u)&amp;&amp;(i=this.mul(i,r[o]),s=0,o=0)):s=0}l=26}return i},w.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},w.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},a.mont=function(t){return new T(t)},i(T,w),T.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},T.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},T.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var r=t.imul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)&gt;=0?a=i.isub(this.m):i.cmpn(0)&lt;0&amp;&amp;(a=i.iadd(this.m)),a._forceRed(this)},T.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new a(0)._forceRed(this);var r=t.mul(e),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),o=i;return i.cmp(this.m)&gt;=0?o=i.isub(this.m):i.cmpn(0)&lt;0&amp;&amp;(o=i.iadd(this.m)),o._forceRed(this)},T.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}(\&quot;undefined\&quot;==typeof e||e,this)},{buffer:108}],100:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){var e,r,n,i=t.length,a=0;for(e=0;e&lt;i;++e)a+=t[e].length;var o=new Array(a),s=0;for(e=0;e&lt;i;++e){var l=t[e],c=l.length;for(r=0;r&lt;c;++r){var u=o[s++]=new Array(c-1),f=0;for(n=0;n&lt;c;++n)n!==r&amp;&amp;(u[f++]=l[n]);if(1&amp;r){var h=u[1];u[1]=u[0],u[0]=h}}}return o}},{}],101:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e,r){switch(arguments.length){case 1:return f(t);case 2:return\&quot;function\&quot;==typeof e?c(t,t,e,!0):h(t,e);case 3:return c(t,e,r,!1);default:throw new Error(\&quot;box-intersect: Invalid arguments\&quot;)}};var n,i=t(\&quot;typedarray-pool\&quot;),a=t(\&quot;./lib/sweep\&quot;),o=t(\&quot;./lib/intersect\&quot;);function s(t,e){for(var r=0;r&lt;t;++r)if(!(e[r]&lt;=e[r+t]))return!0;return!1}function l(t,e,r,n){for(var i=0,a=0,o=0,l=t.length;o&lt;l;++o){var c=t[o];if(!s(e,c)){for(var u=0;u&lt;2*e;++u)r[i++]=c[u];n[a++]=o}}return a}function c(t,e,r,n){var s=t.length,c=e.length;if(!(s&lt;=0||c&lt;=0)){var u=t[0].length&gt;&gt;&gt;1;if(!(u&lt;=0)){var f,h=i.mallocDouble(2*u*s),p=i.mallocInt32(s);if((s=l(t,u,h,p))&gt;0){if(1===u&amp;&amp;n)a.init(s),f=a.sweepComplete(u,r,0,s,h,p,0,s,h,p);else{var d=i.mallocDouble(2*u*c),g=i.mallocInt32(c);(c=l(e,u,d,g))&gt;0&amp;&amp;(a.init(s+c),f=1===u?a.sweepBipartite(u,r,0,s,h,p,0,c,d,g):o(u,r,n,s,h,p,c,d,g),i.free(d),i.free(g))}i.free(h),i.free(p)}return f}}}function u(t,e){n.push([t,e])}function f(t){return n=[],c(t,t,u,!0),n}function h(t,e){return n=[],c(t,e,u,!1),n}},{\&quot;./lib/intersect\&quot;:103,\&quot;./lib/sweep\&quot;:107,\&quot;typedarray-pool\&quot;:595}],102:[function(t,e,r){\&quot;use strict\&quot;;var n=[\&quot;d\&quot;,\&quot;ax\&quot;,\&quot;vv\&quot;,\&quot;rs\&quot;,\&quot;re\&quot;,\&quot;rb\&quot;,\&quot;ri\&quot;,\&quot;bs\&quot;,\&quot;be\&quot;,\&quot;bb\&quot;,\&quot;bi\&quot;];function i(t){var e=\&quot;bruteForce\&quot;+(t?\&quot;Full\&quot;:\&quot;Partial\&quot;),r=[],i=n.slice();t||i.splice(3,0,\&quot;fp\&quot;);var a=[\&quot;function \&quot;+e+\&quot;(\&quot;+i.join()+\&quot;){\&quot;];function o(e,i){var o=function(t,e,r){var i=\&quot;bruteForce\&quot;+(t?\&quot;Red\&quot;:\&quot;Blue\&quot;)+(e?\&quot;Flip\&quot;:\&quot;\&quot;)+(r?\&quot;Full\&quot;:\&quot;\&quot;),a=[\&quot;function \&quot;,i,\&quot;(\&quot;,n.join(),\&quot;){\&quot;,\&quot;var \&quot;,\&quot;es\&quot;,\&quot;=2*\&quot;,\&quot;d\&quot;,\&quot;;\&quot;],o=\&quot;for(var i=rs,rp=es*rs;i&lt;re;++i,rp+=es){var x0=rb[ax+rp],x1=rb[ax+rp+d],xi=ri[i];\&quot;,s=\&quot;for(var j=bs,bp=es*bs;j&lt;be;++j,bp+=es){var y0=bb[ax+bp],\&quot;+(r?\&quot;y1=bb[ax+bp+d],\&quot;:\&quot;\&quot;)+\&quot;yi=bi[j];\&quot;;return t?a.push(o,\&quot;Q\&quot;,\&quot;:\&quot;,s):a.push(s,\&quot;Q\&quot;,\&quot;:\&quot;,o),r?a.push(\&quot;if(y1&lt;x0||x1&lt;y0)continue;\&quot;):e?a.push(\&quot;if(y0&lt;=x0||x1&lt;y0)continue;\&quot;):a.push(\&quot;if(y0&lt;x0||x1&lt;y0)continue;\&quot;),a.push(\&quot;for(var k=ax+1;k&lt;d;++k){var r0=rb[k+rp],r1=rb[k+d+rp],b0=bb[k+bp],b1=bb[k+d+bp];if(r1&lt;b0||b1&lt;r0)continue Q;}var rv=vv(\&quot;),e?a.push(\&quot;yi,xi\&quot;):a.push(\&quot;xi,yi\&quot;),a.push(\&quot;);if(rv!==void 0)return rv;}}}\&quot;),{name:i,code:a.join(\&quot;\&quot;)}}(e,i,t);r.push(o.code),a.push(\&quot;return \&quot;+o.name+\&quot;(\&quot;+n.join()+\&quot;);\&quot;)}a.push(\&quot;if(re-rs&gt;be-bs){\&quot;),t?(o(!0,!1),a.push(\&quot;}else{\&quot;),o(!1,!1)):(a.push(\&quot;if(fp){\&quot;),o(!0,!0),a.push(\&quot;}else{\&quot;),o(!0,!1),a.push(\&quot;}}else{if(fp){\&quot;),o(!1,!0),a.push(\&quot;}else{\&quot;),o(!1,!1),a.push(\&quot;}\&quot;)),a.push(\&quot;}}return \&quot;+e);var s=r.join(\&quot;\&quot;)+a.join(\&quot;\&quot;);return new Function(s)()}r.partial=i(!1),r.full=i(!0)},{}],103:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e,r,a,u,w,T,k,M){!function(t,e){var r=8*i.log2(e+1)*(t+1)|0,a=i.nextPow2(6*r);v.length&lt;a&amp;&amp;(n.free(v),v=n.mallocInt32(a));var o=i.nextPow2(2*r);y.length&lt;o&amp;&amp;(n.free(y),y=n.mallocDouble(o))}(t,a+T);var A,S=0,E=2*t;x(S++,0,0,a,0,T,r?16:0,-1/0,1/0),r||x(S++,0,0,T,0,a,1,-1/0,1/0);for(;S&gt;0;){var C=6*(S-=1),L=v[C],I=v[C+1],P=v[C+2],z=v[C+3],O=v[C+4],D=v[C+5],R=2*S,F=y[R],B=y[R+1],N=1&amp;D,j=!!(16&amp;D),U=u,V=w,q=k,H=M;if(N&amp;&amp;(U=k,V=M,q=u,H=w),!(2&amp;D&amp;&amp;(P=p(t,L,I,P,U,V,B),I&gt;=P)||4&amp;D&amp;&amp;(I=d(t,L,I,P,U,V,F))&gt;=P)){var G=P-I,Y=O-z;if(j){if(t*G*(G+Y)&lt;1&lt;&lt;22){if(void 0!==(A=l.scanComplete(t,L,e,I,P,U,V,z,O,q,H)))return A;continue}}else{if(t*Math.min(G,Y)&lt;128){if(void 0!==(A=o(t,L,e,N,I,P,U,V,z,O,q,H)))return A;continue}if(t*G*Y&lt;1&lt;&lt;22){if(void 0!==(A=l.scanBipartite(t,L,e,N,I,P,U,V,z,O,q,H)))return A;continue}}var W=f(t,L,I,P,U,V,F,B);if(I&lt;W)if(t*(W-I)&lt;128){if(void 0!==(A=s(t,L+1,e,I,W,U,V,z,O,q,H)))return A}else if(L===t-2){if(void 0!==(A=N?l.sweepBipartite(t,e,z,O,q,H,I,W,U,V):l.sweepBipartite(t,e,I,W,U,V,z,O,q,H)))return A}else x(S++,L+1,I,W,z,O,N,-1/0,1/0),x(S++,L+1,z,O,I,W,1^N,-1/0,1/0);if(W&lt;P){var X=c(t,L,z,O,q,H),Z=q[E*X+L],J=h(t,L,X,O,q,H,Z);if(J&lt;O&amp;&amp;x(S++,L,W,P,J,O,(4|N)+(j?16:0),Z,B),z&lt;X&amp;&amp;x(S++,L,W,P,z,X,(2|N)+(j?16:0),F,Z),X+1===J){if(void 0!==(A=j?_(t,L,e,W,P,U,V,X,q,H[X]):b(t,L,e,N,W,P,U,V,X,q,H[X])))return A}else if(X&lt;J){var K;if(j){if(K=g(t,L,W,P,U,V,Z),W&lt;K){var Q=h(t,L,W,K,U,V,Z);if(L===t-2){if(W&lt;Q&amp;&amp;void 0!==(A=l.sweepComplete(t,e,W,Q,U,V,X,J,q,H)))return A;if(Q&lt;K&amp;&amp;void 0!==(A=l.sweepBipartite(t,e,Q,K,U,V,X,J,q,H)))return A}else W&lt;Q&amp;&amp;x(S++,L+1,W,Q,X,J,16,-1/0,1/0),Q&lt;K&amp;&amp;(x(S++,L+1,Q,K,X,J,0,-1/0,1/0),x(S++,L+1,X,J,Q,K,1,-1/0,1/0))}}else K=N?m(t,L,W,P,U,V,Z):g(t,L,W,P,U,V,Z),W&lt;K&amp;&amp;(L===t-2?A=N?l.sweepBipartite(t,e,X,J,q,H,W,K,U,V):l.sweepBipartite(t,e,W,K,U,V,X,J,q,H):(x(S++,L+1,W,K,X,J,N,-1/0,1/0),x(S++,L+1,X,J,W,K,1^N,-1/0,1/0)))}}}}};var n=t(\&quot;typedarray-pool\&quot;),i=t(\&quot;bit-twiddle\&quot;),a=t(\&quot;./brute\&quot;),o=a.partial,s=a.full,l=t(\&quot;./sweep\&quot;),c=t(\&quot;./median\&quot;),u=t(\&quot;./partition\&quot;),f=u(\&quot;!(lo&gt;=p0)&amp;&amp;!(p1&gt;=hi)\&quot;,[\&quot;p0\&quot;,\&quot;p1\&quot;]),h=u(\&quot;lo===p0\&quot;,[\&quot;p0\&quot;]),p=u(\&quot;lo&lt;p0\&quot;,[\&quot;p0\&quot;]),d=u(\&quot;hi&lt;=p0\&quot;,[\&quot;p0\&quot;]),g=u(\&quot;lo&lt;=p0&amp;&amp;p0&lt;=hi\&quot;,[\&quot;p0\&quot;]),m=u(\&quot;lo&lt;p0&amp;&amp;p0&lt;=hi\&quot;,[\&quot;p0\&quot;]),v=n.mallocInt32(1024),y=n.mallocDouble(1024);function x(t,e,r,n,i,a,o,s,l){var c=6*t;v[c]=e,v[c+1]=r,v[c+2]=n,v[c+3]=i,v[c+4]=a,v[c+5]=o;var u=2*t;y[u]=s,y[u+1]=l}function b(t,e,r,n,i,a,o,s,l,c,u){var f=2*t,h=l*f,p=c[h+e];t:for(var d=i,g=i*f;d&lt;a;++d,g+=f){var m=o[g+e],v=o[g+e+t];if(!(p&lt;m||v&lt;p)&amp;&amp;(!n||p!==m)){for(var y,x=s[d],b=e+1;b&lt;t;++b){m=o[g+b],v=o[g+b+t];var _=c[h+b],w=c[h+b+t];if(v&lt;_||w&lt;m)continue t}if(void 0!==(y=n?r(u,x):r(x,u)))return y}}}function _(t,e,r,n,i,a,o,s,l,c){var u=2*t,f=s*u,h=l[f+e];t:for(var p=n,d=n*u;p&lt;i;++p,d+=u){var g=o[p];if(g!==c){var m=a[d+e],v=a[d+e+t];if(!(h&lt;m||v&lt;h)){for(var y=e+1;y&lt;t;++y){m=a[d+y],v=a[d+y+t];var x=l[f+y],b=l[f+y+t];if(v&lt;x||b&lt;m)continue t}var _=r(g,c);if(void 0!==_)return _}}}}},{\&quot;./brute\&quot;:102,\&quot;./median\&quot;:104,\&quot;./partition\&quot;:105,\&quot;./sweep\&quot;:107,\&quot;bit-twiddle\&quot;:97,\&quot;typedarray-pool\&quot;:595}],104:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e,r,a,o,s){if(a&lt;=r+1)return r;var l=r,c=a,u=a+r&gt;&gt;&gt;1,f=2*t,h=u,p=o[f*u+e];for(;l&lt;c;){if(c-l&lt;8){i(t,e,l,c,o,s),p=o[f*u+e];break}var d=c-l,g=Math.random()*d+l|0,m=o[f*g+e],v=Math.random()*d+l|0,y=o[f*v+e],x=Math.random()*d+l|0,b=o[f*x+e];m&lt;=y?b&gt;=y?(h=v,p=y):m&gt;=b?(h=g,p=m):(h=x,p=b):y&gt;=b?(h=v,p=y):b&gt;=m?(h=g,p=m):(h=x,p=b);for(var _=f*(c-1),w=f*h,T=0;T&lt;f;++T,++_,++w){var k=o[_];o[_]=o[w],o[w]=k}var M=s[c-1];s[c-1]=s[h],s[h]=M,h=n(t,e,l,c-1,o,s,p);for(_=f*(c-1),w=f*h,T=0;T&lt;f;++T,++_,++w){k=o[_];o[_]=o[w],o[w]=k}M=s[c-1];if(s[c-1]=s[h],s[h]=M,u&lt;h){for(c=h-1;l&lt;c&amp;&amp;o[f*(c-1)+e]===p;)c-=1;c+=1}else{if(!(h&lt;u))break;for(l=h+1;l&lt;c&amp;&amp;o[f*l+e]===p;)l+=1}}return n(t,e,r,u,o,s,o[f*u+e])};var n=t(\&quot;./partition\&quot;)(\&quot;lo&lt;p0\&quot;,[\&quot;p0\&quot;]);function i(t,e,r,n,i,a){for(var o=2*t,s=o*(r+1)+e,l=r+1;l&lt;n;++l,s+=o)for(var c=i[s],u=l,f=o*(l-1);u&gt;r&amp;&amp;i[f+e]&gt;c;--u,f-=o){for(var h=f,p=f+o,d=0;d&lt;o;++d,++h,++p){var g=i[h];i[h]=i[p],i[p]=g}var m=a[u];a[u]=a[u-1],a[u-1]=m}}},{\&quot;./partition\&quot;:105}],105:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e){var r=\&quot;abcdef\&quot;.split(\&quot;\&quot;).concat(e),n=[];t.indexOf(\&quot;lo\&quot;)&gt;=0&amp;&amp;n.push(\&quot;lo=e[k+n]\&quot;);t.indexOf(\&quot;hi\&quot;)&gt;=0&amp;&amp;n.push(\&quot;hi=e[k+o]\&quot;);return r.push(\&quot;for(var j=2*a,k=j*c,l=k,m=c,n=b,o=a+b,p=c;d&gt;p;++p,k+=j){var _;if($)if(m===p)m+=1,l+=j;else{for(var s=0;j&gt;s;++s){var t=e[k+s];e[k+s]=e[l],e[l++]=t}var u=f[p];f[p]=f[m],f[m++]=u}}return m\&quot;.replace(\&quot;_\&quot;,n.join()).replace(\&quot;$\&quot;,t)),Function.apply(void 0,r)}},{}],106:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e){e&lt;=128?n(0,e-1,t):function t(e,r,u){var f=(r-e+1)/6|0,h=e+f,p=r-f,d=e+r&gt;&gt;1,g=d-f,m=d+f,v=h,y=g,x=d,b=m,_=p,w=e+1,T=r-1,k=0;l(v,y,u)&amp;&amp;(k=v,v=y,y=k);l(b,_,u)&amp;&amp;(k=b,b=_,_=k);l(v,x,u)&amp;&amp;(k=v,v=x,x=k);l(y,x,u)&amp;&amp;(k=y,y=x,x=k);l(v,b,u)&amp;&amp;(k=v,v=b,b=k);l(x,b,u)&amp;&amp;(k=x,x=b,b=k);l(y,_,u)&amp;&amp;(k=y,y=_,_=k);l(y,x,u)&amp;&amp;(k=y,y=x,x=k);l(b,_,u)&amp;&amp;(k=b,b=_,_=k);for(var M=u[2*y],A=u[2*y+1],S=u[2*b],E=u[2*b+1],C=2*v,L=2*x,I=2*_,P=2*h,z=2*d,O=2*p,D=0;D&lt;2;++D){var R=u[C+D],F=u[L+D],B=u[I+D];u[P+D]=R,u[z+D]=F,u[O+D]=B}a(g,e,u),a(m,r,u);for(var N=w;N&lt;=T;++N)if(c(N,M,A,u))N!==w&amp;&amp;i(N,w,u),++w;else if(!c(N,S,E,u))for(;;){if(c(T,S,E,u)){c(T,M,A,u)?(o(N,w,T,u),++w,--T):(i(N,T,u),--T);break}if(--T&lt;N)break}s(e,w-1,M,A,u),s(r,T+1,S,E,u),w-2-e&lt;=32?n(e,w-2,u):t(e,w-2,u);r-(T+2)&lt;=32?n(T+2,r,u):t(T+2,r,u);T-w&lt;=32?n(w,T,u):t(w,T,u)}(0,e-1,t)};function n(t,e,r){for(var n=2*(t+1),i=t+1;i&lt;=e;++i){for(var a=r[n++],o=r[n++],s=i,l=n-2;s-- &gt;t;){var c=r[l-2],u=r[l-1];if(c&lt;a)break;if(c===a&amp;&amp;u&lt;o)break;r[l]=c,r[l+1]=u,l-=2}r[l]=a,r[l+1]=o}}function i(t,e,r){e*=2;var n=r[t*=2],i=r[t+1];r[t]=r[e],r[t+1]=r[e+1],r[e]=n,r[e+1]=i}function a(t,e,r){e*=2,r[t*=2]=r[e],r[t+1]=r[e+1]}function o(t,e,r,n){e*=2,r*=2;var i=n[t*=2],a=n[t+1];n[t]=n[e],n[t+1]=n[e+1],n[e]=n[r],n[e+1]=n[r+1],n[r]=i,n[r+1]=a}function s(t,e,r,n,i){e*=2,i[t*=2]=i[e],i[e]=r,i[t+1]=i[e+1],i[e+1]=n}function l(t,e,r){e*=2;var n=r[t*=2],i=r[e];return!(n&lt;i)&amp;&amp;(n!==i||r[t+1]&gt;r[e+1])}function c(t,e,r,n){var i=n[t*=2];return i&lt;e||i===e&amp;&amp;n[t+1]&lt;r}},{}],107:[function(t,e,r){\&quot;use strict\&quot;;e.exports={init:function(t){var e=i.nextPow2(t);o.length&lt;e&amp;&amp;(n.free(o),o=n.mallocInt32(e));s.length&lt;e&amp;&amp;(n.free(s),s=n.mallocInt32(e));l.length&lt;e&amp;&amp;(n.free(l),l=n.mallocInt32(e));c.length&lt;e&amp;&amp;(n.free(c),c=n.mallocInt32(e));u.length&lt;e&amp;&amp;(n.free(u),u=n.mallocInt32(e));f.length&lt;e&amp;&amp;(n.free(f),f=n.mallocInt32(e));var r=8*e;h.length&lt;r&amp;&amp;(n.free(h),h=n.mallocDouble(r))},sweepBipartite:function(t,e,r,n,i,u,f,g,m,v){for(var y=0,x=2*t,b=t-1,_=x-1,w=r;w&lt;n;++w){var T=u[w],k=x*w;h[y++]=i[k+b],h[y++]=-(T+1),h[y++]=i[k+_],h[y++]=T}for(w=f;w&lt;g;++w){T=v[w]+(1&lt;&lt;28);var M=x*w;h[y++]=m[M+b],h[y++]=-T,h[y++]=m[M+_],h[y++]=T}var A=y&gt;&gt;&gt;1;a(h,A);var S=0,E=0;for(w=0;w&lt;A;++w){var C=0|h[2*w+1];if(C&gt;=1&lt;&lt;28)p(l,c,E--,C=C-(1&lt;&lt;28)|0);else if(C&gt;=0)p(o,s,S--,C);else if(C&lt;=-(1&lt;&lt;28)){C=-C-(1&lt;&lt;28)|0;for(var L=0;L&lt;S;++L){if(void 0!==(I=e(o[L],C)))return I}d(l,c,E++,C)}else{C=-C-1|0;for(L=0;L&lt;E;++L){var I;if(void 0!==(I=e(C,l[L])))return I}d(o,s,S++,C)}}},sweepComplete:function(t,e,r,n,i,g,m,v,y,x){for(var b=0,_=2*t,w=t-1,T=_-1,k=r;k&lt;n;++k){var M=g[k]+1&lt;&lt;1,A=_*k;h[b++]=i[A+w],h[b++]=-M,h[b++]=i[A+T],h[b++]=M}for(k=m;k&lt;v;++k){M=x[k]+1&lt;&lt;1;var S=_*k;h[b++]=y[S+w],h[b++]=1|-M,h[b++]=y[S+T],h[b++]=1|M}var E=b&gt;&gt;&gt;1;a(h,E);var C=0,L=0,I=0;for(k=0;k&lt;E;++k){var P=0|h[2*k+1],z=1&amp;P;if(k&lt;E-1&amp;&amp;P&gt;&gt;1==h[2*k+3]&gt;&gt;1&amp;&amp;(z=2,k+=1),P&lt;0){for(var O=-(P&gt;&gt;1)-1,D=0;D&lt;I;++D){if(void 0!==(R=e(u[D],O)))return R}if(0!==z)for(D=0;D&lt;C;++D){if(void 0!==(R=e(o[D],O)))return R}if(1!==z)for(D=0;D&lt;L;++D){var R;if(void 0!==(R=e(l[D],O)))return R}0===z?d(o,s,C++,O):1===z?d(l,c,L++,O):2===z&amp;&amp;d(u,f,I++,O)}else{O=(P&gt;&gt;1)-1;0===z?p(o,s,C--,O):1===z?p(l,c,L--,O):2===z&amp;&amp;p(u,f,I--,O)}}},scanBipartite:function(t,e,r,n,i,l,c,u,f,g,m,v){var y=0,x=2*t,b=e,_=e+t,w=1,T=1;n?T=1&lt;&lt;28:w=1&lt;&lt;28;for(var k=i;k&lt;l;++k){var M=k+w,A=x*k;h[y++]=c[A+b],h[y++]=-M,h[y++]=c[A+_],h[y++]=M}for(k=f;k&lt;g;++k){M=k+T;var S=x*k;h[y++]=m[S+b],h[y++]=-M}var E=y&gt;&gt;&gt;1;a(h,E);var C=0;for(k=0;k&lt;E;++k){var L=0|h[2*k+1];if(L&lt;0){var I=!1;if((M=-L)&gt;=1&lt;&lt;28?(I=!n,M-=1&lt;&lt;28):(I=!!n,M-=1),I)d(o,s,C++,M);else{var P=v[M],z=x*M,O=m[z+e+1],D=m[z+e+1+t];t:for(var R=0;R&lt;C;++R){var F=o[R],B=x*F;if(!(D&lt;c[B+e+1]||c[B+e+1+t]&lt;O)){for(var N=e+2;N&lt;t;++N)if(m[z+N+t]&lt;c[B+N]||c[B+N+t]&lt;m[z+N])continue t;var j,U=u[F];if(void 0!==(j=n?r(P,U):r(U,P)))return j}}}}else p(o,s,C--,L-w)}},scanComplete:function(t,e,r,n,i,s,l,c,u,f,p){for(var d=0,g=2*t,m=e,v=e+t,y=n;y&lt;i;++y){var x=y+(1&lt;&lt;28),b=g*y;h[d++]=s[b+m],h[d++]=-x,h[d++]=s[b+v],h[d++]=x}for(y=c;y&lt;u;++y){x=y+1;var _=g*y;h[d++]=f[_+m],h[d++]=-x}var w=d&gt;&gt;&gt;1;a(h,w);var T=0;for(y=0;y&lt;w;++y){var k=0|h[2*y+1];if(k&lt;0){if((x=-k)&gt;=1&lt;&lt;28)o[T++]=x-(1&lt;&lt;28);else{var M=p[x-=1],A=g*x,S=f[A+e+1],E=f[A+e+1+t];t:for(var C=0;C&lt;T;++C){var L=o[C],I=l[L];if(I===M)break;var P=g*L;if(!(E&lt;s[P+e+1]||s[P+e+1+t]&lt;S)){for(var z=e+2;z&lt;t;++z)if(f[A+z+t]&lt;s[P+z]||s[P+z+t]&lt;f[A+z])continue t;var O=r(I,M);if(void 0!==O)return O}}}}else{for(x=k-(1&lt;&lt;28),C=T-1;C&gt;=0;--C)if(o[C]===x){for(z=C+1;z&lt;T;++z)o[z-1]=o[z];break}--T}}}};var n=t(\&quot;typedarray-pool\&quot;),i=t(\&quot;bit-twiddle\&quot;),a=t(\&quot;./sort\&quot;),o=n.mallocInt32(1024),s=n.mallocInt32(1024),l=n.mallocInt32(1024),c=n.mallocInt32(1024),u=n.mallocInt32(1024),f=n.mallocInt32(1024),h=n.mallocDouble(8192);function p(t,e,r,n){var i=e[n],a=t[r-1];t[i]=a,e[a]=i}function d(t,e,r,n){t[r]=n,e[n]=r}},{\&quot;./sort\&quot;:106,\&quot;bit-twiddle\&quot;:97,\&quot;typedarray-pool\&quot;:595}],108:[function(t,e,r){},{}],109:[function(t,e,r){arguments[4][108][0].apply(r,arguments)},{dup:108}],110:[function(t,e,r){\&quot;use strict\&quot;;var n,i=\&quot;object\&quot;==typeof Reflect?Reflect:null,a=i&amp;&amp;\&quot;function\&quot;==typeof i.apply?i.apply:function(t,e,r){return Function.prototype.apply.call(t,e,r)};n=i&amp;&amp;\&quot;function\&quot;==typeof i.ownKeys?i.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var o=Number.isNaN||function(t){return t!=t};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(t,e){return new Promise((function(r,n){function i(){void 0!==a&amp;&amp;t.removeListener(\&quot;error\&quot;,a),r([].slice.call(arguments))}var a;\&quot;error\&quot;!==e&amp;&amp;(a=function(r){t.removeListener(e,i),n(r)},t.once(\&quot;error\&quot;,a)),t.once(e,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var l=10;function c(t){if(\&quot;function\&quot;!=typeof t)throw new TypeError('The \&quot;listener\&quot; argument must be of type Function. Received type '+typeof t)}function u(t){return void 0===t._maxListeners?s.defaultMaxListeners:t._maxListeners}function f(t,e,r,n){var i,a,o,s;if(c(r),void 0===(a=t._events)?(a=t._events=Object.create(null),t._eventsCount=0):(void 0!==a.newListener&amp;&amp;(t.emit(\&quot;newListener\&quot;,e,r.listener?r.listener:r),a=t._events),o=a[e]),void 0===o)o=a[e]=r,++t._eventsCount;else if(\&quot;function\&quot;==typeof o?o=a[e]=n?[r,o]:[o,r]:n?o.unshift(r):o.push(r),(i=u(t))&gt;0&amp;&amp;o.length&gt;i&amp;&amp;!o.warned){o.warned=!0;var l=new Error(\&quot;Possible EventEmitter memory leak detected. \&quot;+o.length+\&quot; \&quot;+String(e)+\&quot; listeners added. Use emitter.setMaxListeners() to increase limit\&quot;);l.name=\&quot;MaxListenersExceededWarning\&quot;,l.emitter=t,l.type=e,l.count=o.length,s=l,console&amp;&amp;console.warn&amp;&amp;console.warn(s)}return t}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(t,e,r){var n={fired:!1,wrapFn:void 0,target:t,type:e,listener:r},i=h.bind(n);return i.listener=r,n.wrapFn=i,i}function d(t,e,r){var n=t._events;if(void 0===n)return[];var i=n[e];return void 0===i?[]:\&quot;function\&quot;==typeof i?r?[i.listener||i]:[i]:r?function(t){for(var e=new Array(t.length),r=0;r&lt;e.length;++r)e[r]=t[r].listener||t[r];return e}(i):m(i,i.length)}function g(t){var e=this._events;if(void 0!==e){var r=e[t];if(\&quot;function\&quot;==typeof r)return 1;if(void 0!==r)return r.length}return 0}function m(t,e){for(var r=new Array(e),n=0;n&lt;e;++n)r[n]=t[n];return r}Object.defineProperty(s,\&quot;defaultMaxListeners\&quot;,{enumerable:!0,get:function(){return l},set:function(t){if(\&quot;number\&quot;!=typeof t||t&lt;0||o(t))throw new RangeError('The value of \&quot;defaultMaxListeners\&quot; is out of range. It must be a non-negative number. Received '+t+\&quot;.\&quot;);l=t}}),s.init=function(){void 0!==this._events&amp;&amp;this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(t){if(\&quot;number\&quot;!=typeof t||t&lt;0||o(t))throw new RangeError('The value of \&quot;n\&quot; is out of range. It must be a non-negative number. Received '+t+\&quot;.\&quot;);return this._maxListeners=t,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(t){for(var e=[],r=1;r&lt;arguments.length;r++)e.push(arguments[r]);var n=\&quot;error\&quot;===t,i=this._events;if(void 0!==i)n=n&amp;&amp;void 0===i.error;else if(!n)return!1;if(n){var o;if(e.length&gt;0&amp;&amp;(o=e[0]),o instanceof Error)throw o;var s=new Error(\&quot;Unhandled error.\&quot;+(o?\&quot; (\&quot;+o.message+\&quot;)\&quot;:\&quot;\&quot;));throw s.context=o,s}var l=i[t];if(void 0===l)return!1;if(\&quot;function\&quot;==typeof l)a(l,this,e);else{var c=l.length,u=m(l,c);for(r=0;r&lt;c;++r)a(u[r],this,e)}return!0},s.prototype.addListener=function(t,e){return f(this,t,e,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(t,e){return f(this,t,e,!0)},s.prototype.once=function(t,e){return c(e),this.on(t,p(this,t,e)),this},s.prototype.prependOnceListener=function(t,e){return c(e),this.prependListener(t,p(this,t,e)),this},s.prototype.removeListener=function(t,e){var r,n,i,a,o;if(c(e),void 0===(n=this._events))return this;if(void 0===(r=n[t]))return this;if(r===e||r.listener===e)0==--this._eventsCount?this._events=Object.create(null):(delete n[t],n.removeListener&amp;&amp;this.emit(\&quot;removeListener\&quot;,t,r.listener||e));else if(\&quot;function\&quot;!=typeof r){for(i=-1,a=r.length-1;a&gt;=0;a--)if(r[a]===e||r[a].listener===e){o=r[a].listener,i=a;break}if(i&lt;0)return this;0===i?r.shift():function(t,e){for(;e+1&lt;t.length;e++)t[e]=t[e+1];t.pop()}(r,i),1===r.length&amp;&amp;(n[t]=r[0]),void 0!==n.removeListener&amp;&amp;this.emit(\&quot;removeListener\&quot;,t,o||e)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(t){var e,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[t]&amp;&amp;(0==--this._eventsCount?this._events=Object.create(null):delete r[t]),this;if(0===arguments.length){var i,a=Object.keys(r);for(n=0;n&lt;a.length;++n)\&quot;removeListener\&quot;!==(i=a[n])&amp;&amp;this.removeAllListeners(i);return this.removeAllListeners(\&quot;removeListener\&quot;),this._events=Object.create(null),this._eventsCount=0,this}if(\&quot;function\&quot;==typeof(e=r[t]))this.removeListener(t,e);else if(void 0!==e)for(n=e.length-1;n&gt;=0;n--)this.removeListener(t,e[n]);return this},s.prototype.listeners=function(t){return d(this,t,!0)},s.prototype.rawListeners=function(t){return d(this,t,!1)},s.listenerCount=function(t,e){return\&quot;function\&quot;==typeof t.listenerCount?t.listenerCount(e):g.call(t,e)},s.prototype.listenerCount=g,s.prototype.eventNames=function(){return this._eventsCount&gt;0?n(this._events):[]}},{}],111:[function(t,e,r){(function(e){(function(){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh &lt;https://feross.org&gt;\n * @license  MIT\n */\n\&quot;use strict\&quot;;var e=t(\&quot;base64-js\&quot;),n=t(\&quot;ieee754\&quot;);r.Buffer=a,r.SlowBuffer=function(t){+t!=t&amp;&amp;(t=0);return a.alloc(+t)},r.INSPECT_MAX_BYTES=50;function i(t){if(t&gt;2147483647)throw new RangeError('The value \&quot;'+t+'\&quot; is invalid for option \&quot;size\&quot;');var e=new Uint8Array(t);return e.__proto__=a.prototype,e}function a(t,e,r){if(\&quot;number\&quot;==typeof t){if(\&quot;string\&quot;==typeof e)throw new TypeError('The \&quot;string\&quot; argument must be of type string. Received type number');return l(t)}return o(t,e,r)}function o(t,e,r){if(\&quot;string\&quot;==typeof t)return function(t,e){\&quot;string\&quot;==typeof e&amp;&amp;\&quot;\&quot;!==e||(e=\&quot;utf8\&quot;);if(!a.isEncoding(e))throw new TypeError(\&quot;Unknown encoding: \&quot;+e);var r=0|f(t,e),n=i(r),o=n.write(t,e);o!==r&amp;&amp;(n=n.slice(0,o));return n}(t,e);if(ArrayBuffer.isView(t))return c(t);if(null==t)throw TypeError(\&quot;The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \&quot;+typeof t);if(B(t,ArrayBuffer)||t&amp;&amp;B(t.buffer,ArrayBuffer))return function(t,e,r){if(e&lt;0||t.byteLength&lt;e)throw new RangeError('\&quot;offset\&quot; is outside of buffer bounds');if(t.byteLength&lt;e+(r||0))throw new RangeError('\&quot;length\&quot; is outside of buffer bounds');var n;n=void 0===e&amp;&amp;void 0===r?new Uint8Array(t):void 0===r?new Uint8Array(t,e):new Uint8Array(t,e,r);return n.__proto__=a.prototype,n}(t,e,r);if(\&quot;number\&quot;==typeof t)throw new TypeError('The \&quot;value\&quot; argument must not be of type number. Received type number');var n=t.valueOf&amp;&amp;t.valueOf();if(null!=n&amp;&amp;n!==t)return a.from(n,e,r);var o=function(t){if(a.isBuffer(t)){var e=0|u(t.length),r=i(e);return 0===r.length||t.copy(r,0,0,e),r}if(void 0!==t.length)return\&quot;number\&quot;!=typeof t.length||N(t.length)?i(0):c(t);if(\&quot;Buffer\&quot;===t.type&amp;&amp;Array.isArray(t.data))return c(t.data)}(t);if(o)return o;if(\&quot;undefined\&quot;!=typeof Symbol&amp;&amp;null!=Symbol.toPrimitive&amp;&amp;\&quot;function\&quot;==typeof t[Symbol.toPrimitive])return a.from(t[Symbol.toPrimitive](\&quot;string\&quot;),e,r);throw new TypeError(\&quot;The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type \&quot;+typeof t)}function s(t){if(\&quot;number\&quot;!=typeof t)throw new TypeError('\&quot;size\&quot; argument must be of type number');if(t&lt;0)throw new RangeError('The value \&quot;'+t+'\&quot; is invalid for option \&quot;size\&quot;')}function l(t){return s(t),i(t&lt;0?0:0|u(t))}function c(t){for(var e=t.length&lt;0?0:0|u(t.length),r=i(e),n=0;n&lt;e;n+=1)r[n]=255&amp;t[n];return r}function u(t){if(t&gt;=2147483647)throw new RangeError(\&quot;Attempt to allocate Buffer larger than maximum size: 0x\&quot;+2147483647..toString(16)+\&quot; bytes\&quot;);return 0|t}function f(t,e){if(a.isBuffer(t))return t.length;if(ArrayBuffer.isView(t)||B(t,ArrayBuffer))return t.byteLength;if(\&quot;string\&quot;!=typeof t)throw new TypeError('The \&quot;string\&quot; argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof t);var r=t.length,n=arguments.length&gt;2&amp;&amp;!0===arguments[2];if(!n&amp;&amp;0===r)return 0;for(var i=!1;;)switch(e){case\&quot;ascii\&quot;:case\&quot;latin1\&quot;:case\&quot;binary\&quot;:return r;case\&quot;utf8\&quot;:case\&quot;utf-8\&quot;:return D(t).length;case\&quot;ucs2\&quot;:case\&quot;ucs-2\&quot;:case\&quot;utf16le\&quot;:case\&quot;utf-16le\&quot;:return 2*r;case\&quot;hex\&quot;:return r&gt;&gt;&gt;1;case\&quot;base64\&quot;:return R(t).length;default:if(i)return n?-1:D(t).length;e=(\&quot;\&quot;+e).toLowerCase(),i=!0}}function h(t,e,r){var n=!1;if((void 0===e||e&lt;0)&amp;&amp;(e=0),e&gt;this.length)return\&quot;\&quot;;if((void 0===r||r&gt;this.length)&amp;&amp;(r=this.length),r&lt;=0)return\&quot;\&quot;;if((r&gt;&gt;&gt;=0)&lt;=(e&gt;&gt;&gt;=0))return\&quot;\&quot;;for(t||(t=\&quot;utf8\&quot;);;)switch(t){case\&quot;hex\&quot;:return A(this,e,r);case\&quot;utf8\&quot;:case\&quot;utf-8\&quot;:return T(this,e,r);case\&quot;ascii\&quot;:return k(this,e,r);case\&quot;latin1\&quot;:case\&quot;binary\&quot;:return M(this,e,r);case\&quot;base64\&quot;:return w(this,e,r);case\&quot;ucs2\&quot;:case\&quot;ucs-2\&quot;:case\&quot;utf16le\&quot;:case\&quot;utf-16le\&quot;:return S(this,e,r);default:if(n)throw new TypeError(\&quot;Unknown encoding: \&quot;+t);t=(t+\&quot;\&quot;).toLowerCase(),n=!0}}function p(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function d(t,e,r,n,i){if(0===t.length)return-1;if(\&quot;string\&quot;==typeof r?(n=r,r=0):r&gt;2147483647?r=2147483647:r&lt;-2147483648&amp;&amp;(r=-2147483648),N(r=+r)&amp;&amp;(r=i?0:t.length-1),r&lt;0&amp;&amp;(r=t.length+r),r&gt;=t.length){if(i)return-1;r=t.length-1}else if(r&lt;0){if(!i)return-1;r=0}if(\&quot;string\&quot;==typeof e&amp;&amp;(e=a.from(e,n)),a.isBuffer(e))return 0===e.length?-1:g(t,e,r,n,i);if(\&quot;number\&quot;==typeof e)return e&amp;=255,\&quot;function\&quot;==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,r):Uint8Array.prototype.lastIndexOf.call(t,e,r):g(t,[e],r,n,i);throw new TypeError(\&quot;val must be string, number or Buffer\&quot;)}function g(t,e,r,n,i){var a,o=1,s=t.length,l=e.length;if(void 0!==n&amp;&amp;(\&quot;ucs2\&quot;===(n=String(n).toLowerCase())||\&quot;ucs-2\&quot;===n||\&quot;utf16le\&quot;===n||\&quot;utf-16le\&quot;===n)){if(t.length&lt;2||e.length&lt;2)return-1;o=2,s/=2,l/=2,r/=2}function c(t,e){return 1===o?t[e]:t.readUInt16BE(e*o)}if(i){var u=-1;for(a=r;a&lt;s;a++)if(c(t,a)===c(e,-1===u?0:a-u)){if(-1===u&amp;&amp;(u=a),a-u+1===l)return u*o}else-1!==u&amp;&amp;(a-=a-u),u=-1}else for(r+l&gt;s&amp;&amp;(r=s-l),a=r;a&gt;=0;a--){for(var f=!0,h=0;h&lt;l;h++)if(c(t,a+h)!==c(e,h)){f=!1;break}if(f)return a}return-1}function m(t,e,r,n){r=Number(r)||0;var i=t.length-r;n?(n=Number(n))&gt;i&amp;&amp;(n=i):n=i;var a=e.length;n&gt;a/2&amp;&amp;(n=a/2);for(var o=0;o&lt;n;++o){var s=parseInt(e.substr(2*o,2),16);if(N(s))return o;t[r+o]=s}return o}function v(t,e,r,n){return F(D(e,t.length-r),t,r,n)}function y(t,e,r,n){return F(function(t){for(var e=[],r=0;r&lt;t.length;++r)e.push(255&amp;t.charCodeAt(r));return e}(e),t,r,n)}function x(t,e,r,n){return y(t,e,r,n)}function b(t,e,r,n){return F(R(e),t,r,n)}function _(t,e,r,n){return F(function(t,e){for(var r,n,i,a=[],o=0;o&lt;t.length&amp;&amp;!((e-=2)&lt;0);++o)r=t.charCodeAt(o),n=r&gt;&gt;8,i=r%256,a.push(i),a.push(n);return a}(e,t.length-r),t,r,n)}function w(t,r,n){return 0===r&amp;&amp;n===t.length?e.fromByteArray(t):e.fromByteArray(t.slice(r,n))}function T(t,e,r){r=Math.min(t.length,r);for(var n=[],i=e;i&lt;r;){var a,o,s,l,c=t[i],u=null,f=c&gt;239?4:c&gt;223?3:c&gt;191?2:1;if(i+f&lt;=r)switch(f){case 1:c&lt;128&amp;&amp;(u=c);break;case 2:128==(192&amp;(a=t[i+1]))&amp;&amp;(l=(31&amp;c)&lt;&lt;6|63&amp;a)&gt;127&amp;&amp;(u=l);break;case 3:a=t[i+1],o=t[i+2],128==(192&amp;a)&amp;&amp;128==(192&amp;o)&amp;&amp;(l=(15&amp;c)&lt;&lt;12|(63&amp;a)&lt;&lt;6|63&amp;o)&gt;2047&amp;&amp;(l&lt;55296||l&gt;57343)&amp;&amp;(u=l);break;case 4:a=t[i+1],o=t[i+2],s=t[i+3],128==(192&amp;a)&amp;&amp;128==(192&amp;o)&amp;&amp;128==(192&amp;s)&amp;&amp;(l=(15&amp;c)&lt;&lt;18|(63&amp;a)&lt;&lt;12|(63&amp;o)&lt;&lt;6|63&amp;s)&gt;65535&amp;&amp;l&lt;1114112&amp;&amp;(u=l)}null===u?(u=65533,f=1):u&gt;65535&amp;&amp;(u-=65536,n.push(u&gt;&gt;&gt;10&amp;1023|55296),u=56320|1023&amp;u),n.push(u),i+=f}return function(t){var e=t.length;if(e&lt;=4096)return String.fromCharCode.apply(String,t);var r=\&quot;\&quot;,n=0;for(;n&lt;e;)r+=String.fromCharCode.apply(String,t.slice(n,n+=4096));return r}(n)}r.kMaxLength=2147483647,a.TYPED_ARRAY_SUPPORT=function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()}catch(t){return!1}}(),a.TYPED_ARRAY_SUPPORT||\&quot;undefined\&quot;==typeof console||\&quot;function\&quot;!=typeof console.error||console.error(\&quot;This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.\&quot;),Object.defineProperty(a.prototype,\&quot;parent\&quot;,{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,\&quot;offset\&quot;,{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),\&quot;undefined\&quot;!=typeof Symbol&amp;&amp;null!=Symbol.species&amp;&amp;a[Symbol.species]===a&amp;&amp;Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(t,e,r){return o(t,e,r)},a.prototype.__proto__=Uint8Array.prototype,a.__proto__=Uint8Array,a.alloc=function(t,e,r){return function(t,e,r){return s(t),t&lt;=0?i(t):void 0!==e?\&quot;string\&quot;==typeof r?i(t).fill(e,r):i(t).fill(e):i(t)}(t,e,r)},a.allocUnsafe=function(t){return l(t)},a.allocUnsafeSlow=function(t){return l(t)},a.isBuffer=function(t){return null!=t&amp;&amp;!0===t._isBuffer&amp;&amp;t!==a.prototype},a.compare=function(t,e){if(B(t,Uint8Array)&amp;&amp;(t=a.from(t,t.offset,t.byteLength)),B(e,Uint8Array)&amp;&amp;(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(t)||!a.isBuffer(e))throw new TypeError('The \&quot;buf1\&quot;, \&quot;buf2\&quot; arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;for(var r=t.length,n=e.length,i=0,o=Math.min(r,n);i&lt;o;++i)if(t[i]!==e[i]){r=t[i],n=e[i];break}return r&lt;n?-1:n&lt;r?1:0},a.isEncoding=function(t){switch(String(t).toLowerCase()){case\&quot;hex\&quot;:case\&quot;utf8\&quot;:case\&quot;utf-8\&quot;:case\&quot;ascii\&quot;:case\&quot;latin1\&quot;:case\&quot;binary\&quot;:case\&quot;base64\&quot;:case\&quot;ucs2\&quot;:case\&quot;ucs-2\&quot;:case\&quot;utf16le\&quot;:case\&quot;utf-16le\&quot;:return!0;default:return!1}},a.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('\&quot;list\&quot; argument must be an Array of Buffers');if(0===t.length)return a.alloc(0);var r;if(void 0===e)for(e=0,r=0;r&lt;t.length;++r)e+=t[r].length;var n=a.allocUnsafe(e),i=0;for(r=0;r&lt;t.length;++r){var o=t[r];if(B(o,Uint8Array)&amp;&amp;(o=a.from(o)),!a.isBuffer(o))throw new TypeError('\&quot;list\&quot; argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},a.byteLength=f,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var t=this.length;if(t%2!=0)throw new RangeError(\&quot;Buffer size must be a multiple of 16-bits\&quot;);for(var e=0;e&lt;t;e+=2)p(this,e,e+1);return this},a.prototype.swap32=function(){var t=this.length;if(t%4!=0)throw new RangeError(\&quot;Buffer size must be a multiple of 32-bits\&quot;);for(var e=0;e&lt;t;e+=4)p(this,e,e+3),p(this,e+1,e+2);return this},a.prototype.swap64=function(){var t=this.length;if(t%8!=0)throw new RangeError(\&quot;Buffer size must be a multiple of 64-bits\&quot;);for(var e=0;e&lt;t;e+=8)p(this,e,e+7),p(this,e+1,e+6),p(this,e+2,e+5),p(this,e+3,e+4);return this},a.prototype.toString=function(){var t=this.length;return 0===t?\&quot;\&quot;:0===arguments.length?T(this,0,t):h.apply(this,arguments)},a.prototype.toLocaleString=a.prototype.toString,a.prototype.equals=function(t){if(!a.isBuffer(t))throw new TypeError(\&quot;Argument must be a Buffer\&quot;);return this===t||0===a.compare(this,t)},a.prototype.inspect=function(){var t=\&quot;\&quot;,e=r.INSPECT_MAX_BYTES;return t=this.toString(\&quot;hex\&quot;,0,e).replace(/(.{2})/g,\&quot;$1 \&quot;).trim(),this.length&gt;e&amp;&amp;(t+=\&quot; ... \&quot;),\&quot;&lt;Buffer \&quot;+t+\&quot;&gt;\&quot;},a.prototype.compare=function(t,e,r,n,i){if(B(t,Uint8Array)&amp;&amp;(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(t))throw new TypeError('The \&quot;target\&quot; argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(void 0===e&amp;&amp;(e=0),void 0===r&amp;&amp;(r=t?t.length:0),void 0===n&amp;&amp;(n=0),void 0===i&amp;&amp;(i=this.length),e&lt;0||r&gt;t.length||n&lt;0||i&gt;this.length)throw new RangeError(\&quot;out of range index\&quot;);if(n&gt;=i&amp;&amp;e&gt;=r)return 0;if(n&gt;=i)return-1;if(e&gt;=r)return 1;if(this===t)return 0;for(var o=(i&gt;&gt;&gt;=0)-(n&gt;&gt;&gt;=0),s=(r&gt;&gt;&gt;=0)-(e&gt;&gt;&gt;=0),l=Math.min(o,s),c=this.slice(n,i),u=t.slice(e,r),f=0;f&lt;l;++f)if(c[f]!==u[f]){o=c[f],s=u[f];break}return o&lt;s?-1:s&lt;o?1:0},a.prototype.includes=function(t,e,r){return-1!==this.indexOf(t,e,r)},a.prototype.indexOf=function(t,e,r){return d(this,t,e,r,!0)},a.prototype.lastIndexOf=function(t,e,r){return d(this,t,e,r,!1)},a.prototype.write=function(t,e,r,n){if(void 0===e)n=\&quot;utf8\&quot;,r=this.length,e=0;else if(void 0===r&amp;&amp;\&quot;string\&quot;==typeof e)n=e,r=this.length,e=0;else{if(!isFinite(e))throw new Error(\&quot;Buffer.write(string, encoding, offset[, length]) is no longer supported\&quot;);e&gt;&gt;&gt;=0,isFinite(r)?(r&gt;&gt;&gt;=0,void 0===n&amp;&amp;(n=\&quot;utf8\&quot;)):(n=r,r=void 0)}var i=this.length-e;if((void 0===r||r&gt;i)&amp;&amp;(r=i),t.length&gt;0&amp;&amp;(r&lt;0||e&lt;0)||e&gt;this.length)throw new RangeError(\&quot;Attempt to write outside buffer bounds\&quot;);n||(n=\&quot;utf8\&quot;);for(var a=!1;;)switch(n){case\&quot;hex\&quot;:return m(this,t,e,r);case\&quot;utf8\&quot;:case\&quot;utf-8\&quot;:return v(this,t,e,r);case\&quot;ascii\&quot;:return y(this,t,e,r);case\&quot;latin1\&quot;:case\&quot;binary\&quot;:return x(this,t,e,r);case\&quot;base64\&quot;:return b(this,t,e,r);case\&quot;ucs2\&quot;:case\&quot;ucs-2\&quot;:case\&quot;utf16le\&quot;:case\&quot;utf-16le\&quot;:return _(this,t,e,r);default:if(a)throw new TypeError(\&quot;Unknown encoding: \&quot;+n);n=(\&quot;\&quot;+n).toLowerCase(),a=!0}},a.prototype.toJSON=function(){return{type:\&quot;Buffer\&quot;,data:Array.prototype.slice.call(this._arr||this,0)}};function k(t,e,r){var n=\&quot;\&quot;;r=Math.min(t.length,r);for(var i=e;i&lt;r;++i)n+=String.fromCharCode(127&amp;t[i]);return n}function M(t,e,r){var n=\&quot;\&quot;;r=Math.min(t.length,r);for(var i=e;i&lt;r;++i)n+=String.fromCharCode(t[i]);return n}function A(t,e,r){var n=t.length;(!e||e&lt;0)&amp;&amp;(e=0),(!r||r&lt;0||r&gt;n)&amp;&amp;(r=n);for(var i=\&quot;\&quot;,a=e;a&lt;r;++a)i+=O(t[a]);return i}function S(t,e,r){for(var n=t.slice(e,r),i=\&quot;\&quot;,a=0;a&lt;n.length;a+=2)i+=String.fromCharCode(n[a]+256*n[a+1]);return i}function E(t,e,r){if(t%1!=0||t&lt;0)throw new RangeError(\&quot;offset is not uint\&quot;);if(t+e&gt;r)throw new RangeError(\&quot;Trying to access beyond buffer length\&quot;)}function C(t,e,r,n,i,o){if(!a.isBuffer(t))throw new TypeError('\&quot;buffer\&quot; argument must be a Buffer instance');if(e&gt;i||e&lt;o)throw new RangeError('\&quot;value\&quot; argument is out of bounds');if(r+n&gt;t.length)throw new RangeError(\&quot;Index out of range\&quot;)}function L(t,e,r,n,i,a){if(r+n&gt;t.length)throw new RangeError(\&quot;Index out of range\&quot;);if(r&lt;0)throw new RangeError(\&quot;Index out of range\&quot;)}function I(t,e,r,i,a){return e=+e,r&gt;&gt;&gt;=0,a||L(t,0,r,4),n.write(t,e,r,i,23,4),r+4}function P(t,e,r,i,a){return e=+e,r&gt;&gt;&gt;=0,a||L(t,0,r,8),n.write(t,e,r,i,52,8),r+8}a.prototype.slice=function(t,e){var r=this.length;(t=~~t)&lt;0?(t+=r)&lt;0&amp;&amp;(t=0):t&gt;r&amp;&amp;(t=r),(e=void 0===e?r:~~e)&lt;0?(e+=r)&lt;0&amp;&amp;(e=0):e&gt;r&amp;&amp;(e=r),e&lt;t&amp;&amp;(e=t);var n=this.subarray(t,e);return n.__proto__=a.prototype,n},a.prototype.readUIntLE=function(t,e,r){t&gt;&gt;&gt;=0,e&gt;&gt;&gt;=0,r||E(t,e,this.length);for(var n=this[t],i=1,a=0;++a&lt;e&amp;&amp;(i*=256);)n+=this[t+a]*i;return n},a.prototype.readUIntBE=function(t,e,r){t&gt;&gt;&gt;=0,e&gt;&gt;&gt;=0,r||E(t,e,this.length);for(var n=this[t+--e],i=1;e&gt;0&amp;&amp;(i*=256);)n+=this[t+--e]*i;return n},a.prototype.readUInt8=function(t,e){return t&gt;&gt;&gt;=0,e||E(t,1,this.length),this[t]},a.prototype.readUInt16LE=function(t,e){return t&gt;&gt;&gt;=0,e||E(t,2,this.length),this[t]|this[t+1]&lt;&lt;8},a.prototype.readUInt16BE=function(t,e){return t&gt;&gt;&gt;=0,e||E(t,2,this.length),this[t]&lt;&lt;8|this[t+1]},a.prototype.readUInt32LE=function(t,e){return t&gt;&gt;&gt;=0,e||E(t,4,this.length),(this[t]|this[t+1]&lt;&lt;8|this[t+2]&lt;&lt;16)+16777216*this[t+3]},a.prototype.readUInt32BE=function(t,e){return t&gt;&gt;&gt;=0,e||E(t,4,this.length),16777216*this[t]+(this[t+1]&lt;&lt;16|this[t+2]&lt;&lt;8|this[t+3])},a.prototype.readIntLE=function(t,e,r){t&gt;&gt;&gt;=0,e&gt;&gt;&gt;=0,r||E(t,e,this.length);for(var n=this[t],i=1,a=0;++a&lt;e&amp;&amp;(i*=256);)n+=this[t+a]*i;return n&gt;=(i*=128)&amp;&amp;(n-=Math.pow(2,8*e)),n},a.prototype.readIntBE=function(t,e,r){t&gt;&gt;&gt;=0,e&gt;&gt;&gt;=0,r||E(t,e,this.length);for(var n=e,i=1,a=this[t+--n];n&gt;0&amp;&amp;(i*=256);)a+=this[t+--n]*i;return a&gt;=(i*=128)&amp;&amp;(a-=Math.pow(2,8*e)),a},a.prototype.readInt8=function(t,e){return t&gt;&gt;&gt;=0,e||E(t,1,this.length),128&amp;this[t]?-1*(255-this[t]+1):this[t]},a.prototype.readInt16LE=function(t,e){t&gt;&gt;&gt;=0,e||E(t,2,this.length);var r=this[t]|this[t+1]&lt;&lt;8;return 32768&amp;r?4294901760|r:r},a.prototype.readInt16BE=function(t,e){t&gt;&gt;&gt;=0,e||E(t,2,this.length);var r=this[t+1]|this[t]&lt;&lt;8;return 32768&amp;r?4294901760|r:r},a.prototype.readInt32LE=function(t,e){return t&gt;&gt;&gt;=0,e||E(t,4,this.length),this[t]|this[t+1]&lt;&lt;8|this[t+2]&lt;&lt;16|this[t+3]&lt;&lt;24},a.prototype.readInt32BE=function(t,e){return t&gt;&gt;&gt;=0,e||E(t,4,this.length),this[t]&lt;&lt;24|this[t+1]&lt;&lt;16|this[t+2]&lt;&lt;8|this[t+3]},a.prototype.readFloatLE=function(t,e){return t&gt;&gt;&gt;=0,e||E(t,4,this.length),n.read(this,t,!0,23,4)},a.prototype.readFloatBE=function(t,e){return t&gt;&gt;&gt;=0,e||E(t,4,this.length),n.read(this,t,!1,23,4)},a.prototype.readDoubleLE=function(t,e){return t&gt;&gt;&gt;=0,e||E(t,8,this.length),n.read(this,t,!0,52,8)},a.prototype.readDoubleBE=function(t,e){return t&gt;&gt;&gt;=0,e||E(t,8,this.length),n.read(this,t,!1,52,8)},a.prototype.writeUIntLE=function(t,e,r,n){(t=+t,e&gt;&gt;&gt;=0,r&gt;&gt;&gt;=0,n)||C(this,t,e,r,Math.pow(2,8*r)-1,0);var i=1,a=0;for(this[e]=255&amp;t;++a&lt;r&amp;&amp;(i*=256);)this[e+a]=t/i&amp;255;return e+r},a.prototype.writeUIntBE=function(t,e,r,n){(t=+t,e&gt;&gt;&gt;=0,r&gt;&gt;&gt;=0,n)||C(this,t,e,r,Math.pow(2,8*r)-1,0);var i=r-1,a=1;for(this[e+i]=255&amp;t;--i&gt;=0&amp;&amp;(a*=256);)this[e+i]=t/a&amp;255;return e+r},a.prototype.writeUInt8=function(t,e,r){return t=+t,e&gt;&gt;&gt;=0,r||C(this,t,e,1,255,0),this[e]=255&amp;t,e+1},a.prototype.writeUInt16LE=function(t,e,r){return t=+t,e&gt;&gt;&gt;=0,r||C(this,t,e,2,65535,0),this[e]=255&amp;t,this[e+1]=t&gt;&gt;&gt;8,e+2},a.prototype.writeUInt16BE=function(t,e,r){return t=+t,e&gt;&gt;&gt;=0,r||C(this,t,e,2,65535,0),this[e]=t&gt;&gt;&gt;8,this[e+1]=255&amp;t,e+2},a.prototype.writeUInt32LE=function(t,e,r){return t=+t,e&gt;&gt;&gt;=0,r||C(this,t,e,4,4294967295,0),this[e+3]=t&gt;&gt;&gt;24,this[e+2]=t&gt;&gt;&gt;16,this[e+1]=t&gt;&gt;&gt;8,this[e]=255&amp;t,e+4},a.prototype.writeUInt32BE=function(t,e,r){return t=+t,e&gt;&gt;&gt;=0,r||C(this,t,e,4,4294967295,0),this[e]=t&gt;&gt;&gt;24,this[e+1]=t&gt;&gt;&gt;16,this[e+2]=t&gt;&gt;&gt;8,this[e+3]=255&amp;t,e+4},a.prototype.writeIntLE=function(t,e,r,n){if(t=+t,e&gt;&gt;&gt;=0,!n){var i=Math.pow(2,8*r-1);C(this,t,e,r,i-1,-i)}var a=0,o=1,s=0;for(this[e]=255&amp;t;++a&lt;r&amp;&amp;(o*=256);)t&lt;0&amp;&amp;0===s&amp;&amp;0!==this[e+a-1]&amp;&amp;(s=1),this[e+a]=(t/o&gt;&gt;0)-s&amp;255;return e+r},a.prototype.writeIntBE=function(t,e,r,n){if(t=+t,e&gt;&gt;&gt;=0,!n){var i=Math.pow(2,8*r-1);C(this,t,e,r,i-1,-i)}var a=r-1,o=1,s=0;for(this[e+a]=255&amp;t;--a&gt;=0&amp;&amp;(o*=256);)t&lt;0&amp;&amp;0===s&amp;&amp;0!==this[e+a+1]&amp;&amp;(s=1),this[e+a]=(t/o&gt;&gt;0)-s&amp;255;return e+r},a.prototype.writeInt8=function(t,e,r){return t=+t,e&gt;&gt;&gt;=0,r||C(this,t,e,1,127,-128),t&lt;0&amp;&amp;(t=255+t+1),this[e]=255&amp;t,e+1},a.prototype.writeInt16LE=function(t,e,r){return t=+t,e&gt;&gt;&gt;=0,r||C(this,t,e,2,32767,-32768),this[e]=255&amp;t,this[e+1]=t&gt;&gt;&gt;8,e+2},a.prototype.writeInt16BE=function(t,e,r){return t=+t,e&gt;&gt;&gt;=0,r||C(this,t,e,2,32767,-32768),this[e]=t&gt;&gt;&gt;8,this[e+1]=255&amp;t,e+2},a.prototype.writeInt32LE=function(t,e,r){return t=+t,e&gt;&gt;&gt;=0,r||C(this,t,e,4,2147483647,-2147483648),this[e]=255&amp;t,this[e+1]=t&gt;&gt;&gt;8,this[e+2]=t&gt;&gt;&gt;16,this[e+3]=t&gt;&gt;&gt;24,e+4},a.prototype.writeInt32BE=function(t,e,r){return t=+t,e&gt;&gt;&gt;=0,r||C(this,t,e,4,2147483647,-2147483648),t&lt;0&amp;&amp;(t=4294967295+t+1),this[e]=t&gt;&gt;&gt;24,this[e+1]=t&gt;&gt;&gt;16,this[e+2]=t&gt;&gt;&gt;8,this[e+3]=255&amp;t,e+4},a.prototype.writeFloatLE=function(t,e,r){return I(this,t,e,!0,r)},a.prototype.writeFloatBE=function(t,e,r){return I(this,t,e,!1,r)},a.prototype.writeDoubleLE=function(t,e,r){return P(this,t,e,!0,r)},a.prototype.writeDoubleBE=function(t,e,r){return P(this,t,e,!1,r)},a.prototype.copy=function(t,e,r,n){if(!a.isBuffer(t))throw new TypeError(\&quot;argument should be a Buffer\&quot;);if(r||(r=0),n||0===n||(n=this.length),e&gt;=t.length&amp;&amp;(e=t.length),e||(e=0),n&gt;0&amp;&amp;n&lt;r&amp;&amp;(n=r),n===r)return 0;if(0===t.length||0===this.length)return 0;if(e&lt;0)throw new RangeError(\&quot;targetStart out of bounds\&quot;);if(r&lt;0||r&gt;=this.length)throw new RangeError(\&quot;Index out of range\&quot;);if(n&lt;0)throw new RangeError(\&quot;sourceEnd out of bounds\&quot;);n&gt;this.length&amp;&amp;(n=this.length),t.length-e&lt;n-r&amp;&amp;(n=t.length-e+r);var i=n-r;if(this===t&amp;&amp;\&quot;function\&quot;==typeof Uint8Array.prototype.copyWithin)this.copyWithin(e,r,n);else if(this===t&amp;&amp;r&lt;e&amp;&amp;e&lt;n)for(var o=i-1;o&gt;=0;--o)t[o+e]=this[o+r];else Uint8Array.prototype.set.call(t,this.subarray(r,n),e);return i},a.prototype.fill=function(t,e,r,n){if(\&quot;string\&quot;==typeof t){if(\&quot;string\&quot;==typeof e?(n=e,e=0,r=this.length):\&quot;string\&quot;==typeof r&amp;&amp;(n=r,r=this.length),void 0!==n&amp;&amp;\&quot;string\&quot;!=typeof n)throw new TypeError(\&quot;encoding must be a string\&quot;);if(\&quot;string\&quot;==typeof n&amp;&amp;!a.isEncoding(n))throw new TypeError(\&quot;Unknown encoding: \&quot;+n);if(1===t.length){var i=t.charCodeAt(0);(\&quot;utf8\&quot;===n&amp;&amp;i&lt;128||\&quot;latin1\&quot;===n)&amp;&amp;(t=i)}}else\&quot;number\&quot;==typeof t&amp;&amp;(t&amp;=255);if(e&lt;0||this.length&lt;e||this.length&lt;r)throw new RangeError(\&quot;Out of range index\&quot;);if(r&lt;=e)return this;var o;if(e&gt;&gt;&gt;=0,r=void 0===r?this.length:r&gt;&gt;&gt;0,t||(t=0),\&quot;number\&quot;==typeof t)for(o=e;o&lt;r;++o)this[o]=t;else{var s=a.isBuffer(t)?t:a.from(t,n),l=s.length;if(0===l)throw new TypeError('The value \&quot;'+t+'\&quot; is invalid for argument \&quot;value\&quot;');for(o=0;o&lt;r-e;++o)this[o+e]=s[o%l]}return this};var z=/[^+/0-9A-Za-z-_]/g;function O(t){return t&lt;16?\&quot;0\&quot;+t.toString(16):t.toString(16)}function D(t,e){var r;e=e||1/0;for(var n=t.length,i=null,a=[],o=0;o&lt;n;++o){if((r=t.charCodeAt(o))&gt;55295&amp;&amp;r&lt;57344){if(!i){if(r&gt;56319){(e-=3)&gt;-1&amp;&amp;a.push(239,191,189);continue}if(o+1===n){(e-=3)&gt;-1&amp;&amp;a.push(239,191,189);continue}i=r;continue}if(r&lt;56320){(e-=3)&gt;-1&amp;&amp;a.push(239,191,189),i=r;continue}r=65536+(i-55296&lt;&lt;10|r-56320)}else i&amp;&amp;(e-=3)&gt;-1&amp;&amp;a.push(239,191,189);if(i=null,r&lt;128){if((e-=1)&lt;0)break;a.push(r)}else if(r&lt;2048){if((e-=2)&lt;0)break;a.push(r&gt;&gt;6|192,63&amp;r|128)}else if(r&lt;65536){if((e-=3)&lt;0)break;a.push(r&gt;&gt;12|224,r&gt;&gt;6&amp;63|128,63&amp;r|128)}else{if(!(r&lt;1114112))throw new Error(\&quot;Invalid code point\&quot;);if((e-=4)&lt;0)break;a.push(r&gt;&gt;18|240,r&gt;&gt;12&amp;63|128,r&gt;&gt;6&amp;63|128,63&amp;r|128)}}return a}function R(t){return e.toByteArray(function(t){if((t=(t=t.split(\&quot;=\&quot;)[0]).trim().replace(z,\&quot;\&quot;)).length&lt;2)return\&quot;\&quot;;for(;t.length%4!=0;)t+=\&quot;=\&quot;;return t}(t))}function F(t,e,r,n){for(var i=0;i&lt;n&amp;&amp;!(i+r&gt;=e.length||i&gt;=t.length);++i)e[i+r]=t[i];return i}function B(t,e){return t instanceof e||null!=t&amp;&amp;null!=t.constructor&amp;&amp;null!=t.constructor.name&amp;&amp;t.constructor.name===e.name}function N(t){return t!=t}}).call(this)}).call(this,t(\&quot;buffer\&quot;).Buffer)},{\&quot;base64-js\&quot;:79,buffer:111,ieee754:442}],112:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./lib/monotone\&quot;),i=t(\&quot;./lib/triangulation\&quot;),a=t(\&quot;./lib/delaunay\&quot;),o=t(\&quot;./lib/filter\&quot;);function s(t){return[Math.min(t[0],t[1]),Math.max(t[0],t[1])]}function l(t,e){return t[0]-e[0]||t[1]-e[1]}function c(t,e,r){return e in t?t[e]:r}e.exports=function(t,e,r){Array.isArray(e)?(r=r||{},e=e||[]):(r=e||{},e=[]);var u=!!c(r,\&quot;delaunay\&quot;,!0),f=!!c(r,\&quot;interior\&quot;,!0),h=!!c(r,\&quot;exterior\&quot;,!0),p=!!c(r,\&quot;infinity\&quot;,!1);if(!f&amp;&amp;!h||0===t.length)return[];var d=n(t,e);if(u||f!==h||p){for(var g=i(t.length,function(t){return t.map(s).sort(l)}(e)),m=0;m&lt;d.length;++m){var v=d[m];g.addTriangle(v[0],v[1],v[2])}return u&amp;&amp;a(t,g),h?f?p?o(g,0,p):g.cells():o(g,1,p):o(g,-1)}return d}},{\&quot;./lib/delaunay\&quot;:113,\&quot;./lib/filter\&quot;:114,\&quot;./lib/monotone\&quot;:115,\&quot;./lib/triangulation\&quot;:116}],113:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;robust-in-sphere\&quot;)[4];t(\&quot;binary-search-bounds\&quot;);function i(t,e,r,i,a,o){var s=e.opposite(i,a);if(!(s&lt;0)){if(a&lt;i){var l=i;i=a,a=l,l=o,o=s,s=l}e.isConstraint(i,a)||n(t[i],t[a],t[o],t[s])&lt;0&amp;&amp;r.push(i,a)}}e.exports=function(t,e){for(var r=[],a=t.length,o=e.stars,s=0;s&lt;a;++s)for(var l=o[s],c=1;c&lt;l.length;c+=2){if(!((p=l[c])&lt;s)&amp;&amp;!e.isConstraint(s,p)){for(var u=l[c-1],f=-1,h=1;h&lt;l.length;h+=2)if(l[h-1]===p){f=l[h];break}f&lt;0||n(t[s],t[p],t[u],t[f])&lt;0&amp;&amp;r.push(s,p)}}for(;r.length&gt;0;){for(var p=r.pop(),d=(s=r.pop(),u=-1,f=-1,l=o[s],1);d&lt;l.length;d+=2){var g=l[d-1],m=l[d];g===p?f=m:m===p&amp;&amp;(u=g)}u&lt;0||f&lt;0||(n(t[s],t[p],t[u],t[f])&gt;=0||(e.flip(s,p),i(t,e,r,u,s,f),i(t,e,r,s,f,u),i(t,e,r,f,p,u),i(t,e,r,p,u,f)))}}},{\&quot;binary-search-bounds\&quot;:96,\&quot;robust-in-sphere\&quot;:546}],114:[function(t,e,r){\&quot;use strict\&quot;;var n,i=t(\&quot;binary-search-bounds\&quot;);function a(t,e,r,n,i,a,o){this.cells=t,this.neighbor=e,this.flags=n,this.constraint=r,this.active=i,this.next=a,this.boundary=o}function o(t,e){return t[0]-e[0]||t[1]-e[1]||t[2]-e[2]}e.exports=function(t,e,r){var n=function(t,e){for(var r=t.cells(),n=r.length,i=0;i&lt;n;++i){var s=(v=r[i])[0],l=v[1],c=v[2];l&lt;c?l&lt;s&amp;&amp;(v[0]=l,v[1]=c,v[2]=s):c&lt;s&amp;&amp;(v[0]=c,v[1]=s,v[2]=l)}r.sort(o);var u=new Array(n);for(i=0;i&lt;u.length;++i)u[i]=0;var f=[],h=[],p=new Array(3*n),d=new Array(3*n),g=null;e&amp;&amp;(g=[]);var m=new a(r,p,d,u,f,h,g);for(i=0;i&lt;n;++i)for(var v=r[i],y=0;y&lt;3;++y){s=v[y],l=v[(y+1)%3];var x=p[3*i+y]=m.locate(l,s,t.opposite(l,s)),b=d[3*i+y]=t.isConstraint(s,l);x&lt;0&amp;&amp;(b?h.push(i):(f.push(i),u[i]=1),e&amp;&amp;g.push([l,s,-1]))}return m}(t,r);if(0===e)return r?n.cells.concat(n.boundary):n.cells;var i=1,s=n.active,l=n.next,c=n.flags,u=n.cells,f=n.constraint,h=n.neighbor;for(;s.length&gt;0||l.length&gt;0;){for(;s.length&gt;0;){var p=s.pop();if(c[p]!==-i){c[p]=i;u[p];for(var d=0;d&lt;3;++d){var g=h[3*p+d];g&gt;=0&amp;&amp;0===c[g]&amp;&amp;(f[3*p+d]?l.push(g):(s.push(g),c[g]=i))}}}var m=l;l=s,s=m,l.length=0,i=-i}var v=function(t,e,r){for(var n=0,i=0;i&lt;t.length;++i)e[i]===r&amp;&amp;(t[n++]=t[i]);return t.length=n,t}(u,c,e);if(r)return v.concat(n.boundary);return v},a.prototype.locate=(n=[0,0,0],function(t,e,r){var a=t,s=e,l=r;return e&lt;r?e&lt;t&amp;&amp;(a=e,s=r,l=t):r&lt;t&amp;&amp;(a=r,s=t,l=e),a&lt;0?-1:(n[0]=a,n[1]=s,n[2]=l,i.eq(this.cells,n,o))})},{\&quot;binary-search-bounds\&quot;:96}],115:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;binary-search-bounds\&quot;),i=t(\&quot;robust-orientation\&quot;)[3];function a(t,e,r,n,i){this.a=t,this.b=e,this.idx=r,this.lowerIds=n,this.upperIds=i}function o(t,e,r,n){this.a=t,this.b=e,this.type=r,this.idx=n}function s(t,e){var r=t.a[0]-e.a[0]||t.a[1]-e.a[1]||t.type-e.type;return r||(0!==t.type&amp;&amp;(r=i(t.a,t.b,e.b))?r:t.idx-e.idx)}function l(t,e){return i(t.a,t.b,e)}function c(t,e,r,a,o){for(var s=n.lt(e,a,l),c=n.gt(e,a,l),u=s;u&lt;c;++u){for(var f=e[u],h=f.lowerIds,p=h.length;p&gt;1&amp;&amp;i(r[h[p-2]],r[h[p-1]],a)&gt;0;)t.push([h[p-1],h[p-2],o]),p-=1;h.length=p,h.push(o);var d=f.upperIds;for(p=d.length;p&gt;1&amp;&amp;i(r[d[p-2]],r[d[p-1]],a)&lt;0;)t.push([d[p-2],d[p-1],o]),p-=1;d.length=p,d.push(o)}}function u(t,e){var r;return(r=t.a[0]&lt;e.a[0]?i(t.a,t.b,e.a):i(e.b,e.a,t.a))?r:(r=e.b[0]&lt;t.b[0]?i(t.a,t.b,e.b):i(e.b,e.a,t.b))||t.idx-e.idx}function f(t,e,r){var i=n.le(t,r,u),o=t[i],s=o.upperIds,l=s[s.length-1];o.upperIds=[l],t.splice(i+1,0,new a(r.a,r.b,r.idx,[l],s))}function h(t,e,r){var i=r.a;r.a=r.b,r.b=i;var a=n.eq(t,r,u),o=t[a];t[a-1].upperIds=o.upperIds,t.splice(a,1)}e.exports=function(t,e){for(var r=t.length,n=e.length,i=[],l=0;l&lt;r;++l)i.push(new o(t[l],null,0,l));for(l=0;l&lt;n;++l){var u=e[l],p=t[u[0]],d=t[u[1]];p[0]&lt;d[0]?i.push(new o(p,d,2,l),new o(d,p,1,l)):p[0]&gt;d[0]&amp;&amp;i.push(new o(d,p,2,l),new o(p,d,1,l))}i.sort(s);for(var g=i[0].a[0]-(1+Math.abs(i[0].a[0]))*Math.pow(2,-52),m=[new a([g,1],[g,0],-1,[],[],[],[])],v=[],y=(l=0,i.length);l&lt;y;++l){var x=i[l],b=x.type;0===b?c(v,m,t,x.a,x.idx):2===b?f(m,t,x):h(m,t,x)}return v}},{\&quot;binary-search-bounds\&quot;:96,\&quot;robust-orientation\&quot;:548}],116:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;binary-search-bounds\&quot;);function i(t,e){this.stars=t,this.edges=e}e.exports=function(t,e){for(var r=new Array(t),n=0;n&lt;t;++n)r[n]=[];return new i(r,e)};var a=i.prototype;function o(t,e,r){for(var n=1,i=t.length;n&lt;i;n+=2)if(t[n-1]===e&amp;&amp;t[n]===r)return t[n-1]=t[i-2],t[n]=t[i-1],void(t.length=i-2)}a.isConstraint=function(){var t=[0,0];function e(t,e){return t[0]-e[0]||t[1]-e[1]}return function(r,i){return t[0]=Math.min(r,i),t[1]=Math.max(r,i),n.eq(this.edges,t,e)&gt;=0}}(),a.removeTriangle=function(t,e,r){var n=this.stars;o(n[t],e,r),o(n[e],r,t),o(n[r],t,e)},a.addTriangle=function(t,e,r){var n=this.stars;n[t].push(e,r),n[e].push(r,t),n[r].push(t,e)},a.opposite=function(t,e){for(var r=this.stars[e],n=1,i=r.length;n&lt;i;n+=2)if(r[n]===t)return r[n-1];return-1},a.flip=function(t,e){var r=this.opposite(t,e),n=this.opposite(e,t);this.removeTriangle(t,e,r),this.removeTriangle(e,t,n),this.addTriangle(t,n,r),this.addTriangle(e,r,n)},a.edges=function(){for(var t=this.stars,e=[],r=0,n=t.length;r&lt;n;++r)for(var i=t[r],a=0,o=i.length;a&lt;o;a+=2)e.push([i[a],i[a+1]]);return e},a.cells=function(){for(var t=this.stars,e=[],r=0,n=t.length;r&lt;n;++r)for(var i=t[r],a=0,o=i.length;a&lt;o;a+=2){var s=i[a],l=i[a+1];r&lt;Math.min(s,l)&amp;&amp;e.push([r,s,l])}return e}},{\&quot;binary-search-bounds\&quot;:96}],117:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){for(var e=1,r=1;r&lt;t.length;++r)for(var n=0;n&lt;r;++n)if(t[r]&lt;t[n])e=-e;else if(t[n]===t[r])return 0;return e}},{}],118:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;dup\&quot;),i=t(\&quot;robust-linear-solve\&quot;);function a(t,e){for(var r=0,n=t.length,i=0;i&lt;n;++i)r+=t[i]*e[i];return r}function o(t){var e=t.length;if(0===e)return[];t[0].length;var r=n([t.length+1,t.length+1],1),o=n([t.length+1],1);r[e][e]=0;for(var s=0;s&lt;e;++s){for(var l=0;l&lt;=s;++l)r[l][s]=r[s][l]=2*a(t[s],t[l]);o[s]=a(t[s],t[s])}var c=i(r,o),u=0,f=c[e+1];for(s=0;s&lt;f.length;++s)u+=f[s];var h=new Array(e);for(s=0;s&lt;e;++s){f=c[s];var p=0;for(l=0;l&lt;f.length;++l)p+=f[l];h[s]=p/u}return h}function s(t){if(0===t.length)return[];for(var e=t[0].length,r=n([e]),i=o(t),a=0;a&lt;t.length;++a)for(var s=0;s&lt;e;++s)r[s]+=t[a][s]*i[a];return r}s.barycenetric=o,e.exports=s},{dup:176,\&quot;robust-linear-solve\&quot;:547}],119:[function(t,e,r){e.exports=function(t){for(var e=n(t),r=0,i=0;i&lt;t.length;++i)for(var a=t[i],o=0;o&lt;e.length;++o)r+=Math.pow(a[o]-e[o],2);return Math.sqrt(r/t.length)};var n=t(\&quot;circumcenter\&quot;)},{circumcenter:118}],120:[function(t,e,r){e.exports=function(t,e,r){return e&lt;r?t&lt;e?e:t&gt;r?r:t:t&lt;r?r:t&gt;e?e:t}},{}],121:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e,r){var n;if(r){n=e;for(var i=new Array(e.length),a=0;a&lt;e.length;++a){var o=e[a];i[a]=[o[0],o[1],r[a]]}e=i}var s=function(t,e,r){var n=d(t,[],p(t));return v(e,n,r),!!n}(t,e,!!r);for(;y(t,e,!!r);)s=!0;if(r&amp;&amp;s){n.length=0,r.length=0;for(a=0;a&lt;e.length;++a){o=e[a];n.push([o[0],o[1]]),r.push(o[2])}}return s};var n=t(\&quot;union-find\&quot;),i=t(\&quot;box-intersect\&quot;),a=t(\&quot;robust-segment-intersect\&quot;),o=t(\&quot;big-rat\&quot;),s=t(\&quot;big-rat/cmp\&quot;),l=t(\&quot;big-rat/to-float\&quot;),c=t(\&quot;rat-vec\&quot;),u=t(\&quot;nextafter\&quot;),f=t(\&quot;./lib/rat-seg-intersect\&quot;);function h(t){var e=l(t);return[u(e,-1/0),u(e,1/0)]}function p(t){for(var e=new Array(t.length),r=0;r&lt;t.length;++r){var n=t[r];e[r]=[u(n[0],-1/0),u(n[1],-1/0),u(n[0],1/0),u(n[1],1/0)]}return e}function d(t,e,r){for(var a=e.length,o=new n(a),s=[],l=0;l&lt;e.length;++l){var c=e[l],f=h(c[0]),p=h(c[1]);s.push([u(f[0],-1/0),u(p[0],-1/0),u(f[1],1/0),u(p[1],1/0)])}i(s,(function(t,e){o.link(t,e)}));var d=!0,g=new Array(a);for(l=0;l&lt;a;++l){(v=o.find(l))!==l&amp;&amp;(d=!1,t[v]=[Math.min(t[l][0],t[v][0]),Math.min(t[l][1],t[v][1])])}if(d)return null;var m=0;for(l=0;l&lt;a;++l){var v;(v=o.find(l))===l?(g[l]=m,t[m++]=t[l]):g[l]=-1}t.length=m;for(l=0;l&lt;a;++l)g[l]&lt;0&amp;&amp;(g[l]=g[o.find(l)]);return g}function g(t,e){return t[0]-e[0]||t[1]-e[1]}function m(t,e){var r=t[0]-e[0]||t[1]-e[1];return r||(t[2]&lt;e[2]?-1:t[2]&gt;e[2]?1:0)}function v(t,e,r){if(0!==t.length){if(e)for(var n=0;n&lt;t.length;++n){var i=e[(o=t[n])[0]],a=e[o[1]];o[0]=Math.min(i,a),o[1]=Math.max(i,a)}else for(n=0;n&lt;t.length;++n){var o;i=(o=t[n])[0],a=o[1];o[0]=Math.min(i,a),o[1]=Math.max(i,a)}r?t.sort(m):t.sort(g);var s=1;for(n=1;n&lt;t.length;++n){var l=t[n-1],c=t[n];(c[0]!==l[0]||c[1]!==l[1]||r&amp;&amp;c[2]!==l[2])&amp;&amp;(t[s++]=c)}t.length=s}}function y(t,e,r){var n=function(t,e){for(var r=new Array(e.length),n=0;n&lt;e.length;++n){var i=e[n],a=t[i[0]],o=t[i[1]];r[n]=[u(Math.min(a[0],o[0]),-1/0),u(Math.min(a[1],o[1]),-1/0),u(Math.max(a[0],o[0]),1/0),u(Math.max(a[1],o[1]),1/0)]}return r}(t,e),h=function(t,e,r){var n=[];return i(r,(function(r,i){var o=e[r],s=e[i];if(o[0]!==s[0]&amp;&amp;o[0]!==s[1]&amp;&amp;o[1]!==s[0]&amp;&amp;o[1]!==s[1]){var l=t[o[0]],c=t[o[1]],u=t[s[0]],f=t[s[1]];a(l,c,u,f)&amp;&amp;n.push([r,i])}})),n}(t,e,n),g=p(t),m=function(t,e,r,n){var o=[];return i(r,n,(function(r,n){var i=e[r];if(i[0]!==n&amp;&amp;i[1]!==n){var s=t[n],l=t[i[0]],c=t[i[1]];a(l,c,s,s)&amp;&amp;o.push([r,n])}})),o}(t,e,n,g),y=d(t,function(t,e,r,n,i){var a,u,h=t.map((function(t){return[o(t[0]),o(t[1])]}));for(a=0;a&lt;r.length;++a){var p=r[a];u=p[0];var d=p[1],g=e[u],m=e[d],v=f(c(t[g[0]]),c(t[g[1]]),c(t[m[0]]),c(t[m[1]]));if(v){var y=t.length;t.push([l(v[0]),l(v[1])]),h.push(v),n.push([u,y],[d,y])}}for(n.sort((function(t,e){if(t[0]!==e[0])return t[0]-e[0];var r=h[t[1]],n=h[e[1]];return s(r[0],n[0])||s(r[1],n[1])})),a=n.length-1;a&gt;=0;--a){var x=e[u=(S=n[a])[0]],b=x[0],_=x[1],w=t[b],T=t[_];if((w[0]-T[0]||w[1]-T[1])&lt;0){var k=b;b=_,_=k}x[0]=b;var M,A=x[1]=S[1];for(i&amp;&amp;(M=x[2]);a&gt;0&amp;&amp;n[a-1][0]===u;){var S,E=(S=n[--a])[1];i?e.push([A,E,M]):e.push([A,E]),A=E}i?e.push([A,_,M]):e.push([A,_])}return h}(t,e,h,m,r));return v(e,y,r),!!y||(h.length&gt;0||m.length&gt;0)}},{\&quot;./lib/rat-seg-intersect\&quot;:122,\&quot;big-rat\&quot;:83,\&quot;big-rat/cmp\&quot;:81,\&quot;big-rat/to-float\&quot;:95,\&quot;box-intersect\&quot;:101,nextafter:496,\&quot;rat-vec\&quot;:530,\&quot;robust-segment-intersect\&quot;:551,\&quot;union-find\&quot;:596}],122:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e,r,n){var a=s(e,t),f=s(n,r),h=u(a,f);if(0===o(h))return null;var p=s(t,r),d=u(f,p),g=i(d,h),m=c(a,g);return l(t,m)};var n=t(\&quot;big-rat/mul\&quot;),i=t(\&quot;big-rat/div\&quot;),a=t(\&quot;big-rat/sub\&quot;),o=t(\&quot;big-rat/sign\&quot;),s=t(\&quot;rat-vec/sub\&quot;),l=t(\&quot;rat-vec/add\&quot;),c=t(\&quot;rat-vec/muls\&quot;);function u(t,e){return a(n(t[0],e[1]),n(t[1],e[0]))}},{\&quot;big-rat/div\&quot;:82,\&quot;big-rat/mul\&quot;:92,\&quot;big-rat/sign\&quot;:93,\&quot;big-rat/sub\&quot;:94,\&quot;rat-vec/add\&quot;:529,\&quot;rat-vec/muls\&quot;:531,\&quot;rat-vec/sub\&quot;:532}],123:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;clamp\&quot;);function i(t,e){null==e&amp;&amp;(e=!0);var r=t[0],i=t[1],a=t[2],o=t[3];return null==o&amp;&amp;(o=e?1:255),e&amp;&amp;(r*=255,i*=255,a*=255,o*=255),16777216*(r=255&amp;n(r,0,255))+((i=255&amp;n(i,0,255))&lt;&lt;16)+((a=255&amp;n(a,0,255))&lt;&lt;8)+(o=255&amp;n(o,0,255))}e.exports=i,e.exports.to=i,e.exports.from=function(t,e){var r=(t=+t)&gt;&gt;&gt;24,n=(16711680&amp;t)&gt;&gt;&gt;16,i=(65280&amp;t)&gt;&gt;&gt;8,a=255&amp;t;return!1===e?[r,n,i,a]:[r/255,n/255,i/255,a/255]}},{clamp:120}],124:[function(t,e,r){\&quot;use strict\&quot;;e.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},{}],125:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;color-rgba\&quot;),i=t(\&quot;clamp\&quot;),a=t(\&quot;dtype\&quot;);e.exports=function(t,e){\&quot;float\&quot;!==e&amp;&amp;e||(e=\&quot;array\&quot;),\&quot;uint\&quot;===e&amp;&amp;(e=\&quot;uint8\&quot;),\&quot;uint_clamped\&quot;===e&amp;&amp;(e=\&quot;uint8_clamped\&quot;);var r=new(a(e))(4),o=\&quot;uint8\&quot;!==e&amp;&amp;\&quot;uint8_clamped\&quot;!==e;return t.length&amp;&amp;\&quot;string\&quot;!=typeof t||((t=n(t))[0]/=255,t[1]/=255,t[2]/=255),function(t){return t instanceof Uint8Array||t instanceof Uint8ClampedArray||!!(Array.isArray(t)&amp;&amp;(t[0]&gt;1||0===t[0])&amp;&amp;(t[1]&gt;1||0===t[1])&amp;&amp;(t[2]&gt;1||0===t[2])&amp;&amp;(!t[3]||t[3]&gt;1))}(t)?(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=null!=t[3]?t[3]:255,o&amp;&amp;(r[0]/=255,r[1]/=255,r[2]/=255,r[3]/=255),r):(o?(r[0]=t[0],r[1]=t[1],r[2]=t[2],r[3]=null!=t[3]?t[3]:1):(r[0]=i(Math.floor(255*t[0]),0,255),r[1]=i(Math.floor(255*t[1]),0,255),r[2]=i(Math.floor(255*t[2]),0,255),r[3]=null==t[3]?255:i(Math.floor(255*t[3]),0,255)),r)}},{clamp:120,\&quot;color-rgba\&quot;:127,dtype:175}],126:[function(t,e,r){(function(r){(function(){\&quot;use strict\&quot;;var n=t(\&quot;color-name\&quot;),i=t(\&quot;is-plain-obj\&quot;),a=t(\&quot;defined\&quot;);e.exports=function(t){var e,s,l=[],c=1;if(\&quot;string\&quot;==typeof t)if(n[t])l=n[t].slice(),s=\&quot;rgb\&quot;;else if(\&quot;transparent\&quot;===t)c=0,s=\&quot;rgb\&quot;,l=[0,0,0];else if(/^#[A-Fa-f0-9]+$/.test(t)){var u=(p=t.slice(1)).length;c=1,u&lt;=4?(l=[parseInt(p[0]+p[0],16),parseInt(p[1]+p[1],16),parseInt(p[2]+p[2],16)],4===u&amp;&amp;(c=parseInt(p[3]+p[3],16)/255)):(l=[parseInt(p[0]+p[1],16),parseInt(p[2]+p[3],16),parseInt(p[4]+p[5],16)],8===u&amp;&amp;(c=parseInt(p[6]+p[7],16)/255)),l[0]||(l[0]=0),l[1]||(l[1]=0),l[2]||(l[2]=0),s=\&quot;rgb\&quot;}else if(e=/^((?:rgb|hs[lvb]|hwb|cmyk?|xy[zy]|gray|lab|lchu?v?|[ly]uv|lms)a?)\\s*\\(([^\\)]*)\\)/.exec(t)){var f=e[1],h=\&quot;rgb\&quot;===f,p=f.replace(/a$/,\&quot;\&quot;);s=p;u=\&quot;cmyk\&quot;===p?4:\&quot;gray\&quot;===p?1:3;l=e[2].trim().split(/\\s*,\\s*/).map((function(t,e){if(/%$/.test(t))return e===u?parseFloat(t)/100:\&quot;rgb\&quot;===p?255*parseFloat(t)/100:parseFloat(t);if(\&quot;h\&quot;===p[e]){if(/deg$/.test(t))return parseFloat(t);if(void 0!==o[t])return o[t]}return parseFloat(t)})),f===p&amp;&amp;l.push(1),c=h||void 0===l[u]?1:l[u],l=l.slice(0,u)}else t.length&gt;10&amp;&amp;/[0-9](?:\\s|\\/)/.test(t)&amp;&amp;(l=t.match(/([0-9]+)/g).map((function(t){return parseFloat(t)})),s=t.match(/([a-z])/gi).join(\&quot;\&quot;).toLowerCase());else if(isNaN(t))if(i(t)){var d=a(t.r,t.red,t.R,null);null!==d?(s=\&quot;rgb\&quot;,l=[d,a(t.g,t.green,t.G),a(t.b,t.blue,t.B)]):(s=\&quot;hsl\&quot;,l=[a(t.h,t.hue,t.H),a(t.s,t.saturation,t.S),a(t.l,t.lightness,t.L,t.b,t.brightness)]),c=a(t.a,t.alpha,t.opacity,1),null!=t.opacity&amp;&amp;(c/=100)}else(Array.isArray(t)||r.ArrayBuffer&amp;&amp;ArrayBuffer.isView&amp;&amp;ArrayBuffer.isView(t))&amp;&amp;(l=[t[0],t[1],t[2]],s=\&quot;rgb\&quot;,c=4===t.length?t[3]:1);else s=\&quot;rgb\&quot;,l=[t&gt;&gt;&gt;16,(65280&amp;t)&gt;&gt;&gt;8,255&amp;t];return{space:s,values:l,alpha:c}};var o={red:0,orange:60,yellow:120,green:180,blue:240,purple:300}}).call(this)}).call(this,\&quot;undefined\&quot;!=typeof global?global:\&quot;undefined\&quot;!=typeof self?self:\&quot;undefined\&quot;!=typeof window?window:{})},{\&quot;color-name\&quot;:124,defined:170,\&quot;is-plain-obj\&quot;:469}],127:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;color-parse\&quot;),i=t(\&quot;color-space/hsl\&quot;),a=t(\&quot;clamp\&quot;);e.exports=function(t){var e,r=n(t);return r.space?((e=Array(3))[0]=a(r.values[0],0,255),e[1]=a(r.values[1],0,255),e[2]=a(r.values[2],0,255),\&quot;h\&quot;===r.space[0]&amp;&amp;(e=i.rgb(e)),e.push(a(r.alpha,0,1)),e):[]}},{clamp:120,\&quot;color-parse\&quot;:126,\&quot;color-space/hsl\&quot;:128}],128:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./rgb\&quot;);e.exports={name:\&quot;hsl\&quot;,min:[0,0,0],max:[360,100,100],channel:[\&quot;hue\&quot;,\&quot;saturation\&quot;,\&quot;lightness\&quot;],alias:[\&quot;HSL\&quot;],rgb:function(t){var e,r,n,i,a,o=t[0]/360,s=t[1]/100,l=t[2]/100;if(0===s)return[a=255*l,a,a];e=2*l-(r=l&lt;.5?l*(1+s):l+s-l*s),i=[0,0,0];for(var c=0;c&lt;3;c++)(n=o+1/3*-(c-1))&lt;0?n++:n&gt;1&amp;&amp;n--,a=6*n&lt;1?e+6*(r-e)*n:2*n&lt;1?r:3*n&lt;2?e+(r-e)*(2/3-n)*6:e,i[c]=255*a;return i}},n.hsl=function(t){var e,r,n=t[0]/255,i=t[1]/255,a=t[2]/255,o=Math.min(n,i,a),s=Math.max(n,i,a),l=s-o;return s===o?e=0:n===s?e=(i-a)/l:i===s?e=2+(a-n)/l:a===s&amp;&amp;(e=4+(n-i)/l),(e=Math.min(60*e,360))&lt;0&amp;&amp;(e+=360),r=(o+s)/2,[e,100*(s===o?0:r&lt;=.5?l/(s+o):l/(2-s-o)),100*r]}},{\&quot;./rgb\&quot;:129}],129:[function(t,e,r){\&quot;use strict\&quot;;e.exports={name:\&quot;rgb\&quot;,min:[0,0,0],max:[255,255,255],channel:[\&quot;red\&quot;,\&quot;green\&quot;,\&quot;blue\&quot;],alias:[\&quot;RGB\&quot;]}},{}],130:[function(t,e,r){e.exports={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],cool:[{index:0,rgb:[0,255,255]},{index:1,rgb:[255,0,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],\&quot;rainbow-soft\&quot;:[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],\&quot;freesurface-blue\&quot;:[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],\&quot;freesurface-red\&quot;:[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],\&quot;velocity-blue\&quot;:[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],\&quot;velocity-green\&quot;:[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}},{}],131:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./colorScale\&quot;),i=t(\&quot;lerp\&quot;);function a(t){return[t[0]/255,t[1]/255,t[2]/255,t[3]]}function o(t){for(var e,r=\&quot;#\&quot;,n=0;n&lt;3;++n)r+=(\&quot;00\&quot;+(e=(e=t[n]).toString(16))).substr(e.length);return r}function s(t){return\&quot;rgba(\&quot;+t.join(\&quot;,\&quot;)+\&quot;)\&quot;}e.exports=function(t){var e,r,l,c,u,f,h,p,d,g;t||(t={});p=(t.nshades||72)-1,h=t.format||\&quot;hex\&quot;,(f=t.colormap)||(f=\&quot;jet\&quot;);if(\&quot;string\&quot;==typeof f){if(f=f.toLowerCase(),!n[f])throw Error(f+\&quot; not a supported colorscale\&quot;);u=n[f]}else{if(!Array.isArray(f))throw Error(\&quot;unsupported colormap option\&quot;,f);u=f.slice()}if(u.length&gt;p+1)throw new Error(f+\&quot; map requires nshades to be at least size \&quot;+u.length);d=Array.isArray(t.alpha)?2!==t.alpha.length?[1,1]:t.alpha.slice():\&quot;number\&quot;==typeof t.alpha?[t.alpha,t.alpha]:[1,1];e=u.map((function(t){return Math.round(t.index*p)})),d[0]=Math.min(Math.max(d[0],0),1),d[1]=Math.min(Math.max(d[1],0),1);var m=u.map((function(t,e){var r=u[e].index,n=u[e].rgb.slice();return 4===n.length&amp;&amp;n[3]&gt;=0&amp;&amp;n[3]&lt;=1||(n[3]=d[0]+(d[1]-d[0])*r),n})),v=[];for(g=0;g&lt;e.length-1;++g){c=e[g+1]-e[g],r=m[g],l=m[g+1];for(var y=0;y&lt;c;y++){var x=y/c;v.push([Math.round(i(r[0],l[0],x)),Math.round(i(r[1],l[1],x)),Math.round(i(r[2],l[2],x)),i(r[3],l[3],x)])}}v.push(u[u.length-1].rgb.concat(d[1])),\&quot;hex\&quot;===h?v=v.map(o):\&quot;rgbaString\&quot;===h?v=v.map(s):\&quot;float\&quot;===h&amp;&amp;(v=v.map(a));return v}},{\&quot;./colorScale\&quot;:130,lerp:472}],132:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e,r,a){var o=n(e,r,a);if(0===o){var s=i(n(t,e,r)),c=i(n(t,e,a));if(s===c){if(0===s){var u=l(t,e,r),f=l(t,e,a);return u===f?0:u?1:-1}return 0}return 0===c?s&gt;0||l(t,e,a)?-1:1:0===s?c&gt;0||l(t,e,r)?1:-1:i(c-s)}var h=n(t,e,r);return h&gt;0?o&gt;0&amp;&amp;n(t,e,a)&gt;0?1:-1:h&lt;0?o&gt;0||n(t,e,a)&gt;0?1:-1:n(t,e,a)&gt;0||l(t,e,r)?1:-1};var n=t(\&quot;robust-orientation\&quot;),i=t(\&quot;signum\&quot;),a=t(\&quot;two-sum\&quot;),o=t(\&quot;robust-product\&quot;),s=t(\&quot;robust-sum\&quot;);function l(t,e,r){var n=a(t[0],-e[0]),i=a(t[1],-e[1]),l=a(r[0],-e[0]),c=a(r[1],-e[1]),u=s(o(n,l),o(i,c));return u[u.length-1]&gt;=0}},{\&quot;robust-orientation\&quot;:548,\&quot;robust-product\&quot;:549,\&quot;robust-sum\&quot;:553,signum:554,\&quot;two-sum\&quot;:583}],133:[function(t,e,r){e.exports=function(t,e){var r=t.length,a=t.length-e.length;if(a)return a;switch(r){case 0:return 0;case 1:return t[0]-e[0];case 2:return t[0]+t[1]-e[0]-e[1]||n(t[0],t[1])-n(e[0],e[1]);case 3:var o=t[0]+t[1],s=e[0]+e[1];if(a=o+t[2]-(s+e[2]))return a;var l=n(t[0],t[1]),c=n(e[0],e[1]);return n(l,t[2])-n(c,e[2])||n(l+t[2],o)-n(c+e[2],s);case 4:var u=t[0],f=t[1],h=t[2],p=t[3],d=e[0],g=e[1],m=e[2],v=e[3];return u+f+h+p-(d+g+m+v)||n(u,f,h,p)-n(d,g,m,v,d)||n(u+f,u+h,u+p,f+h,f+p,h+p)-n(d+g,d+m,d+v,g+m,g+v,m+v)||n(u+f+h,u+f+p,u+h+p,f+h+p)-n(d+g+m,d+g+v,d+m+v,g+m+v);default:for(var y=t.slice().sort(i),x=e.slice().sort(i),b=0;b&lt;r;++b)if(a=y[b]-x[b])return a;return 0}};var n=Math.min;function i(t,e){return t-e}},{}],134:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;compare-cell\&quot;),i=t(\&quot;cell-orientation\&quot;);e.exports=function(t,e){return n(t,e)||i(t)-i(e)}},{\&quot;cell-orientation\&quot;:117,\&quot;compare-cell\&quot;:133}],135:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./lib/ch1d\&quot;),i=t(\&quot;./lib/ch2d\&quot;),a=t(\&quot;./lib/chnd\&quot;);e.exports=function(t){var e=t.length;if(0===e)return[];if(1===e)return[[0]];var r=t[0].length;if(0===r)return[];if(1===r)return n(t);if(2===r)return i(t);return a(t,r)}},{\&quot;./lib/ch1d\&quot;:136,\&quot;./lib/ch2d\&quot;:137,\&quot;./lib/chnd\&quot;:138}],136:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){for(var e=0,r=0,n=1;n&lt;t.length;++n)t[n][0]&lt;t[e][0]&amp;&amp;(e=n),t[n][0]&gt;t[r][0]&amp;&amp;(r=n);return e&lt;r?[[e],[r]]:e&gt;r?[[r],[e]]:[[e]]}},{}],137:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){var e=n(t),r=e.length;if(r&lt;=2)return[];for(var i=new Array(r),a=e[r-1],o=0;o&lt;r;++o){var s=e[o];i[o]=[a,s],a=s}return i};var n=t(\&quot;monotone-convex-hull-2d\&quot;)},{\&quot;monotone-convex-hull-2d\&quot;:482}],138:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e){try{return n(t,!0)}catch(o){var r=i(t);if(r.length&lt;=e)return[];var a=function(t,e){for(var r=t.length,n=new Array(r),i=0;i&lt;e.length;++i)n[i]=t[e[i]];var a=e.length;for(i=0;i&lt;r;++i)e.indexOf(i)&lt;0&amp;&amp;(n[a++]=t[i]);return n}(t,r);return function(t,e){for(var r=t.length,n=e.length,i=0;i&lt;r;++i)for(var a=t[i],o=0;o&lt;a.length;++o){var s=a[o];if(s&lt;n)a[o]=e[s];else{s-=n;for(var l=0;l&lt;n;++l)s&gt;=e[l]&amp;&amp;(s+=1);a[o]=s}}return t}(n(a,!0),r)}};var n=t(\&quot;incremental-convex-hull\&quot;),i=t(\&quot;affine-hull\&quot;)},{\&quot;affine-hull\&quot;:67,\&quot;incremental-convex-hull\&quot;:459}],139:[function(t,e,r){e.exports={AFG:\&quot;afghan\&quot;,ALA:\&quot;\\\\b\\\\wland\&quot;,ALB:\&quot;albania\&quot;,DZA:\&quot;algeria\&quot;,ASM:\&quot;^(?=.*americ).*samoa\&quot;,AND:\&quot;andorra\&quot;,AGO:\&quot;angola\&quot;,AIA:\&quot;anguill?a\&quot;,ATA:\&quot;antarctica\&quot;,ATG:\&quot;antigua\&quot;,ARG:\&quot;argentin\&quot;,ARM:\&quot;armenia\&quot;,ABW:\&quot;^(?!.*bonaire).*\\\\baruba\&quot;,AUS:\&quot;australia\&quot;,AUT:\&quot;^(?!.*hungary).*austria|\\\\baustri.*\\\\bemp\&quot;,AZE:\&quot;azerbaijan\&quot;,BHS:\&quot;bahamas\&quot;,BHR:\&quot;bahrain\&quot;,BGD:\&quot;bangladesh|^(?=.*east).*paki?stan\&quot;,BRB:\&quot;barbados\&quot;,BLR:\&quot;belarus|byelo\&quot;,BEL:\&quot;^(?!.*luxem).*belgium\&quot;,BLZ:\&quot;belize|^(?=.*british).*honduras\&quot;,BEN:\&quot;benin|dahome\&quot;,BMU:\&quot;bermuda\&quot;,BTN:\&quot;bhutan\&quot;,BOL:\&quot;bolivia\&quot;,BES:\&quot;^(?=.*bonaire).*eustatius|^(?=.*carib).*netherlands|\\\\bbes.?islands\&quot;,BIH:\&quot;herzegovina|bosnia\&quot;,BWA:\&quot;botswana|bechuana\&quot;,BVT:\&quot;bouvet\&quot;,BRA:\&quot;brazil\&quot;,IOT:\&quot;british.?indian.?ocean\&quot;,BRN:\&quot;brunei\&quot;,BGR:\&quot;bulgaria\&quot;,BFA:\&quot;burkina|\\\\bfaso|upper.?volta\&quot;,BDI:\&quot;burundi\&quot;,CPV:\&quot;verde\&quot;,KHM:\&quot;cambodia|kampuchea|khmer\&quot;,CMR:\&quot;cameroon\&quot;,CAN:\&quot;canada\&quot;,CYM:\&quot;cayman\&quot;,CAF:\&quot;\\\\bcentral.african.republic\&quot;,TCD:\&quot;\\\\bchad\&quot;,CHL:\&quot;\\\\bchile\&quot;,CHN:\&quot;^(?!.*\\\\bmac)(?!.*\\\\bhong)(?!.*\\\\btai)(?!.*\\\\brep).*china|^(?=.*peo)(?=.*rep).*china\&quot;,CXR:\&quot;christmas\&quot;,CCK:\&quot;\\\\bcocos|keeling\&quot;,COL:\&quot;colombia\&quot;,COM:\&quot;comoro\&quot;,COG:\&quot;^(?!.*\\\\bdem)(?!.*\\\\bd[\\\\.]?r)(?!.*kinshasa)(?!.*zaire)(?!.*belg)(?!.*l.opoldville)(?!.*free).*\\\\bcongo\&quot;,COK:\&quot;\\\\bcook\&quot;,CRI:\&quot;costa.?rica\&quot;,CIV:\&quot;ivoire|ivory\&quot;,HRV:\&quot;croatia\&quot;,CUB:\&quot;\\\\bcuba\&quot;,CUW:\&quot;^(?!.*bonaire).*\\\\bcura(c|\\xe7)ao\&quot;,CYP:\&quot;cyprus\&quot;,CSK:\&quot;czechoslovakia\&quot;,CZE:\&quot;^(?=.*rep).*czech|czechia|bohemia\&quot;,COD:\&quot;\\\\bdem.*congo|congo.*\\\\bdem|congo.*\\\\bd[\\\\.]?r|\\\\bd[\\\\.]?r.*congo|belgian.?congo|congo.?free.?state|kinshasa|zaire|l.opoldville|drc|droc|rdc\&quot;,DNK:\&quot;denmark\&quot;,DJI:\&quot;djibouti\&quot;,DMA:\&quot;dominica(?!n)\&quot;,DOM:\&quot;dominican.rep\&quot;,ECU:\&quot;ecuador\&quot;,EGY:\&quot;egypt\&quot;,SLV:\&quot;el.?salvador\&quot;,GNQ:\&quot;guine.*eq|eq.*guine|^(?=.*span).*guinea\&quot;,ERI:\&quot;eritrea\&quot;,EST:\&quot;estonia\&quot;,ETH:\&quot;ethiopia|abyssinia\&quot;,FLK:\&quot;falkland|malvinas\&quot;,FRO:\&quot;faroe|faeroe\&quot;,FJI:\&quot;fiji\&quot;,FIN:\&quot;finland\&quot;,FRA:\&quot;^(?!.*\\\\bdep)(?!.*martinique).*france|french.?republic|\\\\bgaul\&quot;,GUF:\&quot;^(?=.*french).*guiana\&quot;,PYF:\&quot;french.?polynesia|tahiti\&quot;,ATF:\&quot;french.?southern\&quot;,GAB:\&quot;gabon\&quot;,GMB:\&quot;gambia\&quot;,GEO:\&quot;^(?!.*south).*georgia\&quot;,DDR:\&quot;german.?democratic.?republic|democratic.?republic.*germany|east.germany\&quot;,DEU:\&quot;^(?!.*east).*germany|^(?=.*\\\\bfed.*\\\\brep).*german\&quot;,GHA:\&quot;ghana|gold.?coast\&quot;,GIB:\&quot;gibraltar\&quot;,GRC:\&quot;greece|hellenic|hellas\&quot;,GRL:\&quot;greenland\&quot;,GRD:\&quot;grenada\&quot;,GLP:\&quot;guadeloupe\&quot;,GUM:\&quot;\\\\bguam\&quot;,GTM:\&quot;guatemala\&quot;,GGY:\&quot;guernsey\&quot;,GIN:\&quot;^(?!.*eq)(?!.*span)(?!.*bissau)(?!.*portu)(?!.*new).*guinea\&quot;,GNB:\&quot;bissau|^(?=.*portu).*guinea\&quot;,GUY:\&quot;guyana|british.?guiana\&quot;,HTI:\&quot;haiti\&quot;,HMD:\&quot;heard.*mcdonald\&quot;,VAT:\&quot;holy.?see|vatican|papal.?st\&quot;,HND:\&quot;^(?!.*brit).*honduras\&quot;,HKG:\&quot;hong.?kong\&quot;,HUN:\&quot;^(?!.*austr).*hungary\&quot;,ISL:\&quot;iceland\&quot;,IND:\&quot;india(?!.*ocea)\&quot;,IDN:\&quot;indonesia\&quot;,IRN:\&quot;\\\\biran|persia\&quot;,IRQ:\&quot;\\\\biraq|mesopotamia\&quot;,IRL:\&quot;(^ireland)|(^republic.*ireland)\&quot;,IMN:\&quot;^(?=.*isle).*\\\\bman\&quot;,ISR:\&quot;israel\&quot;,ITA:\&quot;italy\&quot;,JAM:\&quot;jamaica\&quot;,JPN:\&quot;japan\&quot;,JEY:\&quot;jersey\&quot;,JOR:\&quot;jordan\&quot;,KAZ:\&quot;kazak\&quot;,KEN:\&quot;kenya|british.?east.?africa|east.?africa.?prot\&quot;,KIR:\&quot;kiribati\&quot;,PRK:\&quot;^(?=.*democrat|people|north|d.*p.*.r).*\\\\bkorea|dprk|korea.*(d.*p.*r)\&quot;,KWT:\&quot;kuwait\&quot;,KGZ:\&quot;kyrgyz|kirghiz\&quot;,LAO:\&quot;\\\\blaos?\\\\b\&quot;,LVA:\&quot;latvia\&quot;,LBN:\&quot;lebanon\&quot;,LSO:\&quot;lesotho|basuto\&quot;,LBR:\&quot;liberia\&quot;,LBY:\&quot;libya\&quot;,LIE:\&quot;liechtenstein\&quot;,LTU:\&quot;lithuania\&quot;,LUX:\&quot;^(?!.*belg).*luxem\&quot;,MAC:\&quot;maca(o|u)\&quot;,MDG:\&quot;madagascar|malagasy\&quot;,MWI:\&quot;malawi|nyasa\&quot;,MYS:\&quot;malaysia\&quot;,MDV:\&quot;maldive\&quot;,MLI:\&quot;\\\\bmali\\\\b\&quot;,MLT:\&quot;\\\\bmalta\&quot;,MHL:\&quot;marshall\&quot;,MTQ:\&quot;martinique\&quot;,MRT:\&quot;mauritania\&quot;,MUS:\&quot;mauritius\&quot;,MYT:\&quot;\\\\bmayotte\&quot;,MEX:\&quot;\\\\bmexic\&quot;,FSM:\&quot;fed.*micronesia|micronesia.*fed\&quot;,MCO:\&quot;monaco\&quot;,MNG:\&quot;mongolia\&quot;,MNE:\&quot;^(?!.*serbia).*montenegro\&quot;,MSR:\&quot;montserrat\&quot;,MAR:\&quot;morocco|\\\\bmaroc\&quot;,MOZ:\&quot;mozambique\&quot;,MMR:\&quot;myanmar|burma\&quot;,NAM:\&quot;namibia\&quot;,NRU:\&quot;nauru\&quot;,NPL:\&quot;nepal\&quot;,NLD:\&quot;^(?!.*\\\\bant)(?!.*\\\\bcarib).*netherlands\&quot;,ANT:\&quot;^(?=.*\\\\bant).*(nether|dutch)\&quot;,NCL:\&quot;new.?caledonia\&quot;,NZL:\&quot;new.?zealand\&quot;,NIC:\&quot;nicaragua\&quot;,NER:\&quot;\\\\bniger(?!ia)\&quot;,NGA:\&quot;nigeria\&quot;,NIU:\&quot;niue\&quot;,NFK:\&quot;norfolk\&quot;,MNP:\&quot;mariana\&quot;,NOR:\&quot;norway\&quot;,OMN:\&quot;\\\\boman|trucial\&quot;,PAK:\&quot;^(?!.*east).*paki?stan\&quot;,PLW:\&quot;palau\&quot;,PSE:\&quot;palestin|\\\\bgaza|west.?bank\&quot;,PAN:\&quot;panama\&quot;,PNG:\&quot;papua|new.?guinea\&quot;,PRY:\&quot;paraguay\&quot;,PER:\&quot;peru\&quot;,PHL:\&quot;philippines\&quot;,PCN:\&quot;pitcairn\&quot;,POL:\&quot;poland\&quot;,PRT:\&quot;portugal\&quot;,PRI:\&quot;puerto.?rico\&quot;,QAT:\&quot;qatar\&quot;,KOR:\&quot;^(?!.*d.*p.*r)(?!.*democrat)(?!.*people)(?!.*north).*\\\\bkorea(?!.*d.*p.*r)\&quot;,MDA:\&quot;moldov|b(a|e)ssarabia\&quot;,REU:\&quot;r(e|\\xe9)union\&quot;,ROU:\&quot;r(o|u|ou)mania\&quot;,RUS:\&quot;\\\\brussia|soviet.?union|u\\\\.?s\\\\.?s\\\\.?r|socialist.?republics\&quot;,RWA:\&quot;rwanda\&quot;,BLM:\&quot;barth(e|\\xe9)lemy\&quot;,SHN:\&quot;helena\&quot;,KNA:\&quot;kitts|\\\\bnevis\&quot;,LCA:\&quot;\\\\blucia\&quot;,MAF:\&quot;^(?=.*collectivity).*martin|^(?=.*france).*martin(?!ique)|^(?=.*french).*martin(?!ique)\&quot;,SPM:\&quot;miquelon\&quot;,VCT:\&quot;vincent\&quot;,WSM:\&quot;^(?!.*amer).*samoa\&quot;,SMR:\&quot;san.?marino\&quot;,STP:\&quot;\\\\bs(a|\\xe3)o.?tom(e|\\xe9)\&quot;,SAU:\&quot;\\\\bsa\\\\w*.?arabia\&quot;,SEN:\&quot;senegal\&quot;,SRB:\&quot;^(?!.*monte).*serbia\&quot;,SYC:\&quot;seychell\&quot;,SLE:\&quot;sierra\&quot;,SGP:\&quot;singapore\&quot;,SXM:\&quot;^(?!.*martin)(?!.*saba).*maarten\&quot;,SVK:\&quot;^(?!.*cze).*slovak\&quot;,SVN:\&quot;slovenia\&quot;,SLB:\&quot;solomon\&quot;,SOM:\&quot;somali\&quot;,ZAF:\&quot;south.africa|s\\\\\\\\..?africa\&quot;,SGS:\&quot;south.?georgia|sandwich\&quot;,SSD:\&quot;\\\\bs\\\\w*.?sudan\&quot;,ESP:\&quot;spain\&quot;,LKA:\&quot;sri.?lanka|ceylon\&quot;,SDN:\&quot;^(?!.*\\\\bs(?!u)).*sudan\&quot;,SUR:\&quot;surinam|dutch.?guiana\&quot;,SJM:\&quot;svalbard\&quot;,SWZ:\&quot;swaziland\&quot;,SWE:\&quot;sweden\&quot;,CHE:\&quot;switz|swiss\&quot;,SYR:\&quot;syria\&quot;,TWN:\&quot;taiwan|taipei|formosa|^(?!.*peo)(?=.*rep).*china\&quot;,TJK:\&quot;tajik\&quot;,THA:\&quot;thailand|\\\\bsiam\&quot;,MKD:\&quot;macedonia|fyrom\&quot;,TLS:\&quot;^(?=.*leste).*timor|^(?=.*east).*timor\&quot;,TGO:\&quot;togo\&quot;,TKL:\&quot;tokelau\&quot;,TON:\&quot;tonga\&quot;,TTO:\&quot;trinidad|tobago\&quot;,TUN:\&quot;tunisia\&quot;,TUR:\&quot;turkey\&quot;,TKM:\&quot;turkmen\&quot;,TCA:\&quot;turks\&quot;,TUV:\&quot;tuvalu\&quot;,UGA:\&quot;uganda\&quot;,UKR:\&quot;ukrain\&quot;,ARE:\&quot;emirates|^u\\\\.?a\\\\.?e\\\\.?$|united.?arab.?em\&quot;,GBR:\&quot;united.?kingdom|britain|^u\\\\.?k\\\\.?$\&quot;,TZA:\&quot;tanzania\&quot;,USA:\&quot;united.?states\\\\b(?!.*islands)|\\\\bu\\\\.?s\\\\.?a\\\\.?\\\\b|^\\\\s*u\\\\.?s\\\\.?\\\\b(?!.*islands)\&quot;,UMI:\&quot;minor.?outlying.?is\&quot;,URY:\&quot;uruguay\&quot;,UZB:\&quot;uzbek\&quot;,VUT:\&quot;vanuatu|new.?hebrides\&quot;,VEN:\&quot;venezuela\&quot;,VNM:\&quot;^(?!.*republic).*viet.?nam|^(?=.*socialist).*viet.?nam\&quot;,VGB:\&quot;^(?=.*\\\\bu\\\\.?\\\\s?k).*virgin|^(?=.*brit).*virgin|^(?=.*kingdom).*virgin\&quot;,VIR:\&quot;^(?=.*\\\\bu\\\\.?\\\\s?s).*virgin|^(?=.*states).*virgin\&quot;,WLF:\&quot;futuna|wallis\&quot;,ESH:\&quot;western.sahara\&quot;,YEM:\&quot;^(?!.*arab)(?!.*north)(?!.*sana)(?!.*peo)(?!.*dem)(?!.*south)(?!.*aden)(?!.*\\\\bp\\\\.?d\\\\.?r).*yemen\&quot;,YMD:\&quot;^(?=.*peo).*yemen|^(?!.*rep)(?=.*dem).*yemen|^(?=.*south).*yemen|^(?=.*aden).*yemen|^(?=.*\\\\bp\\\\.?d\\\\.?r).*yemen\&quot;,YUG:\&quot;yugoslavia\&quot;,ZMB:\&quot;zambia|northern.?rhodesia\&quot;,EAZ:\&quot;zanzibar\&quot;,ZWE:\&quot;zimbabwe|^(?!.*northern).*rhodesia\&quot;}},{}],140:[function(t,e,r){e.exports=[\&quot;xx-small\&quot;,\&quot;x-small\&quot;,\&quot;small\&quot;,\&quot;medium\&quot;,\&quot;large\&quot;,\&quot;x-large\&quot;,\&quot;xx-large\&quot;,\&quot;larger\&quot;,\&quot;smaller\&quot;]},{}],141:[function(t,e,r){e.exports=[\&quot;normal\&quot;,\&quot;condensed\&quot;,\&quot;semi-condensed\&quot;,\&quot;extra-condensed\&quot;,\&quot;ultra-condensed\&quot;,\&quot;expanded\&quot;,\&quot;semi-expanded\&quot;,\&quot;extra-expanded\&quot;,\&quot;ultra-expanded\&quot;]},{}],142:[function(t,e,r){e.exports=[\&quot;normal\&quot;,\&quot;italic\&quot;,\&quot;oblique\&quot;]},{}],143:[function(t,e,r){e.exports=[\&quot;normal\&quot;,\&quot;bold\&quot;,\&quot;bolder\&quot;,\&quot;lighter\&quot;,\&quot;100\&quot;,\&quot;200\&quot;,\&quot;300\&quot;,\&quot;400\&quot;,\&quot;500\&quot;,\&quot;600\&quot;,\&quot;700\&quot;,\&quot;800\&quot;,\&quot;900\&quot;]},{}],144:[function(t,e,r){\&quot;use strict\&quot;;e.exports={parse:t(\&quot;./parse\&quot;),stringify:t(\&quot;./stringify\&quot;)}},{\&quot;./parse\&quot;:146,\&quot;./stringify\&quot;:147}],145:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;css-font-size-keywords\&quot;);e.exports={isSize:function(t){return/^[\\d\\.]/.test(t)||-1!==t.indexOf(\&quot;/\&quot;)||-1!==n.indexOf(t)}}},{\&quot;css-font-size-keywords\&quot;:140}],146:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;unquote\&quot;),i=t(\&quot;css-global-keywords\&quot;),a=t(\&quot;css-system-font-keywords\&quot;),o=t(\&quot;css-font-weight-keywords\&quot;),s=t(\&quot;css-font-style-keywords\&quot;),l=t(\&quot;css-font-stretch-keywords\&quot;),c=t(\&quot;string-split-by\&quot;),u=t(\&quot;./lib/util\&quot;).isSize;e.exports=h;var f=h.cache={};function h(t){if(\&quot;string\&quot;!=typeof t)throw new Error(\&quot;Font argument must be a string.\&quot;);if(f[t])return f[t];if(\&quot;\&quot;===t)throw new Error(\&quot;Cannot parse an empty string.\&quot;);if(-1!==a.indexOf(t))return f[t]={system:t};for(var e,r={style:\&quot;normal\&quot;,variant:\&quot;normal\&quot;,weight:\&quot;normal\&quot;,stretch:\&quot;normal\&quot;,lineHeight:\&quot;normal\&quot;,size:\&quot;1rem\&quot;,family:[\&quot;serif\&quot;]},h=c(t,/\\s+/);e=h.shift();){if(-1!==i.indexOf(e))return[\&quot;style\&quot;,\&quot;variant\&quot;,\&quot;weight\&quot;,\&quot;stretch\&quot;].forEach((function(t){r[t]=e})),f[t]=r;if(-1===s.indexOf(e))if(\&quot;normal\&quot;!==e&amp;&amp;\&quot;small-caps\&quot;!==e)if(-1===l.indexOf(e)){if(-1===o.indexOf(e)){if(u(e)){var d=c(e,\&quot;/\&quot;);if(r.size=d[0],null!=d[1]?r.lineHeight=p(d[1]):\&quot;/\&quot;===h[0]&amp;&amp;(h.shift(),r.lineHeight=p(h.shift())),!h.length)throw new Error(\&quot;Missing required font-family.\&quot;);return r.family=c(h.join(\&quot; \&quot;),/\\s*,\\s*/).map(n),f[t]=r}throw new Error(\&quot;Unknown or unsupported font token: \&quot;+e)}r.weight=e}else r.stretch=e;else r.variant=e;else r.style=e}throw new Error(\&quot;Missing required font-size.\&quot;)}function p(t){var e=parseFloat(t);return e.toString()===t?e:t}},{\&quot;./lib/util\&quot;:145,\&quot;css-font-stretch-keywords\&quot;:141,\&quot;css-font-style-keywords\&quot;:142,\&quot;css-font-weight-keywords\&quot;:143,\&quot;css-global-keywords\&quot;:148,\&quot;css-system-font-keywords\&quot;:149,\&quot;string-split-by\&quot;:568,unquote:598}],147:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;pick-by-alias\&quot;),i=t(\&quot;./lib/util\&quot;).isSize,a=g(t(\&quot;css-global-keywords\&quot;)),o=g(t(\&quot;css-system-font-keywords\&quot;)),s=g(t(\&quot;css-font-weight-keywords\&quot;)),l=g(t(\&quot;css-font-style-keywords\&quot;)),c=g(t(\&quot;css-font-stretch-keywords\&quot;)),u={normal:1,\&quot;small-caps\&quot;:1},f={serif:1,\&quot;sans-serif\&quot;:1,monospace:1,cursive:1,fantasy:1,\&quot;system-ui\&quot;:1},h=\&quot;1rem\&quot;,p=\&quot;serif\&quot;;function d(t,e){if(t&amp;&amp;!e[t]&amp;&amp;!a[t])throw Error(\&quot;Unknown keyword `\&quot;+t+\&quot;`\&quot;);return t}function g(t){for(var e={},r=0;r&lt;t.length;r++)e[t[r]]=1;return e}e.exports=function(t){if((t=n(t,{style:\&quot;style fontstyle fontStyle font-style slope distinction\&quot;,variant:\&quot;variant font-variant fontVariant fontvariant var capitalization\&quot;,weight:\&quot;weight w font-weight fontWeight fontweight\&quot;,stretch:\&quot;stretch font-stretch fontStretch fontstretch width\&quot;,size:\&quot;size s font-size fontSize fontsize height em emSize\&quot;,lineHeight:\&quot;lh line-height lineHeight lineheight leading\&quot;,family:\&quot;font family fontFamily font-family fontfamily type typeface face\&quot;,system:\&quot;system reserved default global\&quot;})).system)return t.system&amp;&amp;d(t.system,o),t.system;if(d(t.style,l),d(t.variant,u),d(t.weight,s),d(t.stretch,c),null==t.size&amp;&amp;(t.size=h),\&quot;number\&quot;==typeof t.size&amp;&amp;(t.size+=\&quot;px\&quot;),!i)throw Error(\&quot;Bad size value `\&quot;+t.size+\&quot;`\&quot;);t.family||(t.family=p),Array.isArray(t.family)&amp;&amp;(t.family.length||(t.family=[p]),t.family=t.family.map((function(t){return f[t]?t:'\&quot;'+t+'\&quot;'})).join(\&quot;, \&quot;));var e=[];return e.push(t.style),t.variant!==t.style&amp;&amp;e.push(t.variant),t.weight!==t.variant&amp;&amp;t.weight!==t.style&amp;&amp;e.push(t.weight),t.stretch!==t.weight&amp;&amp;t.stretch!==t.variant&amp;&amp;t.stretch!==t.style&amp;&amp;e.push(t.stretch),e.push(t.size+(null==t.lineHeight||\&quot;normal\&quot;===t.lineHeight||t.lineHeight+\&quot;\&quot;==\&quot;1\&quot;?\&quot;\&quot;:\&quot;/\&quot;+t.lineHeight)),e.push(t.family),e.filter(Boolean).join(\&quot; \&quot;)}},{\&quot;./lib/util\&quot;:145,\&quot;css-font-stretch-keywords\&quot;:141,\&quot;css-font-style-keywords\&quot;:142,\&quot;css-font-weight-keywords\&quot;:143,\&quot;css-global-keywords\&quot;:148,\&quot;css-system-font-keywords\&quot;:149,\&quot;pick-by-alias\&quot;:511}],148:[function(t,e,r){e.exports=[\&quot;inherit\&quot;,\&quot;initial\&quot;,\&quot;unset\&quot;]},{}],149:[function(t,e,r){e.exports=[\&quot;caption\&quot;,\&quot;icon\&quot;,\&quot;menu\&quot;,\&quot;message-box\&quot;,\&quot;small-caption\&quot;,\&quot;status-bar\&quot;]},{}],150:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e,r,n,i,a){var o=i-1,s=i*i,l=o*o,c=(1+2*i)*l,u=i*l,f=s*(3-2*i),h=s*o;if(t.length){a||(a=new Array(t.length));for(var p=t.length-1;p&gt;=0;--p)a[p]=c*t[p]+u*e[p]+f*r[p]+h*n[p];return a}return c*t+u*e+f*r+h*n},e.exports.derivative=function(t,e,r,n,i,a){var o=6*i*i-6*i,s=3*i*i-4*i+1,l=-6*i*i+6*i,c=3*i*i-2*i;if(t.length){a||(a=new Array(t.length));for(var u=t.length-1;u&gt;=0;--u)a[u]=o*t[u]+s*e[u]+l*r[u]+c*n[u];return a}return o*t+s*e+l*r[u]+c*n}},{}],151:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./lib/thunk.js\&quot;);function i(){this.argTypes=[],this.shimArgs=[],this.arrayArgs=[],this.arrayBlockIndices=[],this.scalarArgs=[],this.offsetArgs=[],this.offsetArgIndex=[],this.indexArgs=[],this.shapeArgs=[],this.funcName=\&quot;\&quot;,this.pre=null,this.body=null,this.post=null,this.debug=!1}e.exports=function(t){var e=new i;e.pre=t.pre,e.body=t.body,e.post=t.post;var r=t.args.slice(0);e.argTypes=r;for(var a=0;a&lt;r.length;++a){var o=r[a];if(\&quot;array\&quot;===o||\&quot;object\&quot;==typeof o&amp;&amp;o.blockIndices){if(e.argTypes[a]=\&quot;array\&quot;,e.arrayArgs.push(a),e.arrayBlockIndices.push(o.blockIndices?o.blockIndices:0),e.shimArgs.push(\&quot;array\&quot;+a),a&lt;e.pre.args.length&amp;&amp;e.pre.args[a].count&gt;0)throw new Error(\&quot;cwise: pre() block may not reference array args\&quot;);if(a&lt;e.post.args.length&amp;&amp;e.post.args[a].count&gt;0)throw new Error(\&quot;cwise: post() block may not reference array args\&quot;)}else if(\&quot;scalar\&quot;===o)e.scalarArgs.push(a),e.shimArgs.push(\&quot;scalar\&quot;+a);else if(\&quot;index\&quot;===o){if(e.indexArgs.push(a),a&lt;e.pre.args.length&amp;&amp;e.pre.args[a].count&gt;0)throw new Error(\&quot;cwise: pre() block may not reference array index\&quot;);if(a&lt;e.body.args.length&amp;&amp;e.body.args[a].lvalue)throw new Error(\&quot;cwise: body() block may not write to array index\&quot;);if(a&lt;e.post.args.length&amp;&amp;e.post.args[a].count&gt;0)throw new Error(\&quot;cwise: post() block may not reference array index\&quot;)}else if(\&quot;shape\&quot;===o){if(e.shapeArgs.push(a),a&lt;e.pre.args.length&amp;&amp;e.pre.args[a].lvalue)throw new Error(\&quot;cwise: pre() block may not write to array shape\&quot;);if(a&lt;e.body.args.length&amp;&amp;e.body.args[a].lvalue)throw new Error(\&quot;cwise: body() block may not write to array shape\&quot;);if(a&lt;e.post.args.length&amp;&amp;e.post.args[a].lvalue)throw new Error(\&quot;cwise: post() block may not write to array shape\&quot;)}else{if(\&quot;object\&quot;!=typeof o||!o.offset)throw new Error(\&quot;cwise: Unknown argument type \&quot;+r[a]);e.argTypes[a]=\&quot;offset\&quot;,e.offsetArgs.push({array:o.array,offset:o.offset}),e.offsetArgIndex.push(a)}}if(e.arrayArgs.length&lt;=0)throw new Error(\&quot;cwise: No array arguments specified\&quot;);if(e.pre.args.length&gt;r.length)throw new Error(\&quot;cwise: Too many arguments in pre() block\&quot;);if(e.body.args.length&gt;r.length)throw new Error(\&quot;cwise: Too many arguments in body() block\&quot;);if(e.post.args.length&gt;r.length)throw new Error(\&quot;cwise: Too many arguments in post() block\&quot;);return e.debug=!!t.printCode||!!t.debug,e.funcName=t.funcName||\&quot;cwise\&quot;,e.blockSize=t.blockSize||64,n(e)}},{\&quot;./lib/thunk.js\&quot;:153}],152:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;uniq\&quot;);function i(t,e,r){var n,i,a=t.length,o=e.arrayArgs.length,s=e.indexArgs.length&gt;0,l=[],c=[],u=0,f=0;for(n=0;n&lt;a;++n)c.push([\&quot;i\&quot;,n,\&quot;=0\&quot;].join(\&quot;\&quot;));for(i=0;i&lt;o;++i)for(n=0;n&lt;a;++n)f=u,u=t[n],0===n?c.push([\&quot;d\&quot;,i,\&quot;s\&quot;,n,\&quot;=t\&quot;,i,\&quot;p\&quot;,u].join(\&quot;\&quot;)):c.push([\&quot;d\&quot;,i,\&quot;s\&quot;,n,\&quot;=(t\&quot;,i,\&quot;p\&quot;,u,\&quot;-s\&quot;,f,\&quot;*t\&quot;,i,\&quot;p\&quot;,f,\&quot;)\&quot;].join(\&quot;\&quot;));for(c.length&gt;0&amp;&amp;l.push(\&quot;var \&quot;+c.join(\&quot;,\&quot;)),n=a-1;n&gt;=0;--n)u=t[n],l.push([\&quot;for(i\&quot;,n,\&quot;=0;i\&quot;,n,\&quot;&lt;s\&quot;,u,\&quot;;++i\&quot;,n,\&quot;){\&quot;].join(\&quot;\&quot;));for(l.push(r),n=0;n&lt;a;++n){for(f=u,u=t[n],i=0;i&lt;o;++i)l.push([\&quot;p\&quot;,i,\&quot;+=d\&quot;,i,\&quot;s\&quot;,n].join(\&quot;\&quot;));s&amp;&amp;(n&gt;0&amp;&amp;l.push([\&quot;index[\&quot;,f,\&quot;]-=s\&quot;,f].join(\&quot;\&quot;)),l.push([\&quot;++index[\&quot;,u,\&quot;]\&quot;].join(\&quot;\&quot;))),l.push(\&quot;}\&quot;)}return l.join(\&quot;\\n\&quot;)}function a(t,e,r){for(var n=t.body,i=[],a=[],o=0;o&lt;t.args.length;++o){var s=t.args[o];if(!(s.count&lt;=0)){var l=new RegExp(s.name,\&quot;g\&quot;),c=\&quot;\&quot;,u=e.arrayArgs.indexOf(o);switch(e.argTypes[o]){case\&quot;offset\&quot;:var f=e.offsetArgIndex.indexOf(o);u=e.offsetArgs[f].array,c=\&quot;+q\&quot;+f;case\&quot;array\&quot;:c=\&quot;p\&quot;+u+c;var h=\&quot;l\&quot;+o,p=\&quot;a\&quot;+u;if(0===e.arrayBlockIndices[u])1===s.count?\&quot;generic\&quot;===r[u]?s.lvalue?(i.push([\&quot;var \&quot;,h,\&quot;=\&quot;,p,\&quot;.get(\&quot;,c,\&quot;)\&quot;].join(\&quot;\&quot;)),n=n.replace(l,h),a.push([p,\&quot;.set(\&quot;,c,\&quot;,\&quot;,h,\&quot;)\&quot;].join(\&quot;\&quot;))):n=n.replace(l,[p,\&quot;.get(\&quot;,c,\&quot;)\&quot;].join(\&quot;\&quot;)):n=n.replace(l,[p,\&quot;[\&quot;,c,\&quot;]\&quot;].join(\&quot;\&quot;)):\&quot;generic\&quot;===r[u]?(i.push([\&quot;var \&quot;,h,\&quot;=\&quot;,p,\&quot;.get(\&quot;,c,\&quot;)\&quot;].join(\&quot;\&quot;)),n=n.replace(l,h),s.lvalue&amp;&amp;a.push([p,\&quot;.set(\&quot;,c,\&quot;,\&quot;,h,\&quot;)\&quot;].join(\&quot;\&quot;))):(i.push([\&quot;var \&quot;,h,\&quot;=\&quot;,p,\&quot;[\&quot;,c,\&quot;]\&quot;].join(\&quot;\&quot;)),n=n.replace(l,h),s.lvalue&amp;&amp;a.push([p,\&quot;[\&quot;,c,\&quot;]=\&quot;,h].join(\&quot;\&quot;)));else{for(var d=[s.name],g=[c],m=0;m&lt;Math.abs(e.arrayBlockIndices[u]);m++)d.push(\&quot;\\\\s*\\\\[([^\\\\]]+)\\\\]\&quot;),g.push(\&quot;$\&quot;+(m+1)+\&quot;*t\&quot;+u+\&quot;b\&quot;+m);if(l=new RegExp(d.join(\&quot;\&quot;),\&quot;g\&quot;),c=g.join(\&quot;+\&quot;),\&quot;generic\&quot;===r[u])throw new Error(\&quot;cwise: Generic arrays not supported in combination with blocks!\&quot;);n=n.replace(l,[p,\&quot;[\&quot;,c,\&quot;]\&quot;].join(\&quot;\&quot;))}break;case\&quot;scalar\&quot;:n=n.replace(l,\&quot;Y\&quot;+e.scalarArgs.indexOf(o));break;case\&quot;index\&quot;:n=n.replace(l,\&quot;index\&quot;);break;case\&quot;shape\&quot;:n=n.replace(l,\&quot;shape\&quot;)}}}return[i.join(\&quot;\\n\&quot;),n,a.join(\&quot;\\n\&quot;)].join(\&quot;\\n\&quot;).trim()}function o(t){for(var e=new Array(t.length),r=!0,n=0;n&lt;t.length;++n){var i=t[n],a=i.match(/\\d+/);a=a?a[0]:\&quot;\&quot;,0===i.charAt(0)?e[n]=\&quot;u\&quot;+i.charAt(1)+a:e[n]=i.charAt(0)+a,n&gt;0&amp;&amp;(r=r&amp;&amp;e[n]===e[n-1])}return r?e[0]:e.join(\&quot;\&quot;)}e.exports=function(t,e){for(var r=e[1].length-Math.abs(t.arrayBlockIndices[0])|0,s=new Array(t.arrayArgs.length),l=new Array(t.arrayArgs.length),c=0;c&lt;t.arrayArgs.length;++c)l[c]=e[2*c],s[c]=e[2*c+1];var u=[],f=[],h=[],p=[],d=[];for(c=0;c&lt;t.arrayArgs.length;++c){t.arrayBlockIndices[c]&lt;0?(h.push(0),p.push(r),u.push(r),f.push(r+t.arrayBlockIndices[c])):(h.push(t.arrayBlockIndices[c]),p.push(t.arrayBlockIndices[c]+r),u.push(0),f.push(t.arrayBlockIndices[c]));for(var g=[],m=0;m&lt;s[c].length;m++)h[c]&lt;=s[c][m]&amp;&amp;s[c][m]&lt;p[c]&amp;&amp;g.push(s[c][m]-h[c]);d.push(g)}var v=[\&quot;SS\&quot;],y=[\&quot;'use strict'\&quot;],x=[];for(m=0;m&lt;r;++m)x.push([\&quot;s\&quot;,m,\&quot;=SS[\&quot;,m,\&quot;]\&quot;].join(\&quot;\&quot;));for(c=0;c&lt;t.arrayArgs.length;++c){v.push(\&quot;a\&quot;+c),v.push(\&quot;t\&quot;+c),v.push(\&quot;p\&quot;+c);for(m=0;m&lt;r;++m)x.push([\&quot;t\&quot;,c,\&quot;p\&quot;,m,\&quot;=t\&quot;,c,\&quot;[\&quot;,h[c]+m,\&quot;]\&quot;].join(\&quot;\&quot;));for(m=0;m&lt;Math.abs(t.arrayBlockIndices[c]);++m)x.push([\&quot;t\&quot;,c,\&quot;b\&quot;,m,\&quot;=t\&quot;,c,\&quot;[\&quot;,u[c]+m,\&quot;]\&quot;].join(\&quot;\&quot;))}for(c=0;c&lt;t.scalarArgs.length;++c)v.push(\&quot;Y\&quot;+c);if(t.shapeArgs.length&gt;0&amp;&amp;x.push(\&quot;shape=SS.slice(0)\&quot;),t.indexArgs.length&gt;0){var b=new Array(r);for(c=0;c&lt;r;++c)b[c]=\&quot;0\&quot;;x.push([\&quot;index=[\&quot;,b.join(\&quot;,\&quot;),\&quot;]\&quot;].join(\&quot;\&quot;))}for(c=0;c&lt;t.offsetArgs.length;++c){var _=t.offsetArgs[c],w=[];for(m=0;m&lt;_.offset.length;++m)0!==_.offset[m]&amp;&amp;(1===_.offset[m]?w.push([\&quot;t\&quot;,_.array,\&quot;p\&quot;,m].join(\&quot;\&quot;)):w.push([_.offset[m],\&quot;*t\&quot;,_.array,\&quot;p\&quot;,m].join(\&quot;\&quot;)));0===w.length?x.push(\&quot;q\&quot;+c+\&quot;=0\&quot;):x.push([\&quot;q\&quot;,c,\&quot;=\&quot;,w.join(\&quot;+\&quot;)].join(\&quot;\&quot;))}var T=n([].concat(t.pre.thisVars).concat(t.body.thisVars).concat(t.post.thisVars));for((x=x.concat(T)).length&gt;0&amp;&amp;y.push(\&quot;var \&quot;+x.join(\&quot;,\&quot;)),c=0;c&lt;t.arrayArgs.length;++c)y.push(\&quot;p\&quot;+c+\&quot;|=0\&quot;);t.pre.body.length&gt;3&amp;&amp;y.push(a(t.pre,t,l));var k=a(t.body,t,l),M=function(t){for(var e=0,r=t[0].length;e&lt;r;){for(var n=1;n&lt;t.length;++n)if(t[n][e]!==t[0][e])return e;++e}return e}(d);M&lt;r?y.push(function(t,e,r,n){for(var a=e.length,o=r.arrayArgs.length,s=r.blockSize,l=r.indexArgs.length&gt;0,c=[],u=0;u&lt;o;++u)c.push([\&quot;var offset\&quot;,u,\&quot;=p\&quot;,u].join(\&quot;\&quot;));for(u=t;u&lt;a;++u)c.push([\&quot;for(var j\&quot;+u+\&quot;=SS[\&quot;,e[u],\&quot;]|0;j\&quot;,u,\&quot;&gt;0;){\&quot;].join(\&quot;\&quot;)),c.push([\&quot;if(j\&quot;,u,\&quot;&lt;\&quot;,s,\&quot;){\&quot;].join(\&quot;\&quot;)),c.push([\&quot;s\&quot;,e[u],\&quot;=j\&quot;,u].join(\&quot;\&quot;)),c.push([\&quot;j\&quot;,u,\&quot;=0\&quot;].join(\&quot;\&quot;)),c.push([\&quot;}else{s\&quot;,e[u],\&quot;=\&quot;,s].join(\&quot;\&quot;)),c.push([\&quot;j\&quot;,u,\&quot;-=\&quot;,s,\&quot;}\&quot;].join(\&quot;\&quot;)),l&amp;&amp;c.push([\&quot;index[\&quot;,e[u],\&quot;]=j\&quot;,u].join(\&quot;\&quot;));for(u=0;u&lt;o;++u){for(var f=[\&quot;offset\&quot;+u],h=t;h&lt;a;++h)f.push([\&quot;j\&quot;,h,\&quot;*t\&quot;,u,\&quot;p\&quot;,e[h]].join(\&quot;\&quot;));c.push([\&quot;p\&quot;,u,\&quot;=(\&quot;,f.join(\&quot;+\&quot;),\&quot;)\&quot;].join(\&quot;\&quot;))}for(c.push(i(e,r,n)),u=t;u&lt;a;++u)c.push(\&quot;}\&quot;);return c.join(\&quot;\\n\&quot;)}(M,d[0],t,k)):y.push(i(d[0],t,k)),t.post.body.length&gt;3&amp;&amp;y.push(a(t.post,t,l)),t.debug&amp;&amp;console.log(\&quot;-----Generated cwise routine for \&quot;,e,\&quot;:\\n\&quot;+y.join(\&quot;\\n\&quot;)+\&quot;\\n----------\&quot;);var A=[t.funcName||\&quot;unnamed\&quot;,\&quot;_cwise_loop_\&quot;,s[0].join(\&quot;s\&quot;),\&quot;m\&quot;,M,o(l)].join(\&quot;\&quot;);return new Function([\&quot;function \&quot;,A,\&quot;(\&quot;,v.join(\&quot;,\&quot;),\&quot;){\&quot;,y.join(\&quot;\\n\&quot;),\&quot;} return \&quot;,A].join(\&quot;\&quot;))()}},{uniq:597}],153:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./compile.js\&quot;);e.exports=function(t){var e=[\&quot;'use strict'\&quot;,\&quot;var CACHED={}\&quot;],r=[],i=t.funcName+\&quot;_cwise_thunk\&quot;;e.push([\&quot;return function \&quot;,i,\&quot;(\&quot;,t.shimArgs.join(\&quot;,\&quot;),\&quot;){\&quot;].join(\&quot;\&quot;));for(var a=[],o=[],s=[[\&quot;array\&quot;,t.arrayArgs[0],\&quot;.shape.slice(\&quot;,Math.max(0,t.arrayBlockIndices[0]),t.arrayBlockIndices[0]&lt;0?\&quot;,\&quot;+t.arrayBlockIndices[0]+\&quot;)\&quot;:\&quot;)\&quot;].join(\&quot;\&quot;)],l=[],c=[],u=0;u&lt;t.arrayArgs.length;++u){var f=t.arrayArgs[u];r.push([\&quot;t\&quot;,f,\&quot;=array\&quot;,f,\&quot;.dtype,\&quot;,\&quot;r\&quot;,f,\&quot;=array\&quot;,f,\&quot;.order\&quot;].join(\&quot;\&quot;)),a.push(\&quot;t\&quot;+f),a.push(\&quot;r\&quot;+f),o.push(\&quot;t\&quot;+f),o.push(\&quot;r\&quot;+f+\&quot;.join()\&quot;),s.push(\&quot;array\&quot;+f+\&quot;.data\&quot;),s.push(\&quot;array\&quot;+f+\&quot;.stride\&quot;),s.push(\&quot;array\&quot;+f+\&quot;.offset|0\&quot;),u&gt;0&amp;&amp;(l.push(\&quot;array\&quot;+t.arrayArgs[0]+\&quot;.shape.length===array\&quot;+f+\&quot;.shape.length+\&quot;+(Math.abs(t.arrayBlockIndices[0])-Math.abs(t.arrayBlockIndices[u]))),c.push(\&quot;array\&quot;+t.arrayArgs[0]+\&quot;.shape[shapeIndex+\&quot;+Math.max(0,t.arrayBlockIndices[0])+\&quot;]===array\&quot;+f+\&quot;.shape[shapeIndex+\&quot;+Math.max(0,t.arrayBlockIndices[u])+\&quot;]\&quot;))}for(t.arrayArgs.length&gt;1&amp;&amp;(e.push(\&quot;if (!(\&quot;+l.join(\&quot; &amp;&amp; \&quot;)+\&quot;)) throw new Error('cwise: Arrays do not all have the same dimensionality!')\&quot;),e.push(\&quot;for(var shapeIndex=array\&quot;+t.arrayArgs[0]+\&quot;.shape.length-\&quot;+Math.abs(t.arrayBlockIndices[0])+\&quot;; shapeIndex--\\x3e0;) {\&quot;),e.push(\&quot;if (!(\&quot;+c.join(\&quot; &amp;&amp; \&quot;)+\&quot;)) throw new Error('cwise: Arrays do not all have the same shape!')\&quot;),e.push(\&quot;}\&quot;)),u=0;u&lt;t.scalarArgs.length;++u)s.push(\&quot;scalar\&quot;+t.scalarArgs[u]);return r.push([\&quot;type=[\&quot;,o.join(\&quot;,\&quot;),\&quot;].join()\&quot;].join(\&quot;\&quot;)),r.push(\&quot;proc=CACHED[type]\&quot;),e.push(\&quot;var \&quot;+r.join(\&quot;,\&quot;)),e.push([\&quot;if(!proc){\&quot;,\&quot;CACHED[type]=proc=compile([\&quot;,a.join(\&quot;,\&quot;),\&quot;])}\&quot;,\&quot;return proc(\&quot;,s.join(\&quot;,\&quot;),\&quot;)}\&quot;].join(\&quot;\&quot;)),t.debug&amp;&amp;console.log(\&quot;-----Generated thunk:\\n\&quot;+e.join(\&quot;\\n\&quot;)+\&quot;\\n----------\&quot;),new Function(\&quot;compile\&quot;,e.join(\&quot;\\n\&quot;))(n.bind(void 0,t))}},{\&quot;./compile.js\&quot;:152}],154:[function(t,e,r){\&quot;use strict\&quot;;var n,i=t(\&quot;type/value/is\&quot;),a=t(\&quot;type/value/ensure\&quot;),o=t(\&quot;type/plain-function/ensure\&quot;),s=t(\&quot;es5-ext/object/copy\&quot;),l=t(\&quot;es5-ext/object/normalize-options\&quot;),c=t(\&quot;es5-ext/object/map\&quot;),u=Function.prototype.bind,f=Object.defineProperty,h=Object.prototype.hasOwnProperty;n=function(t,e,r){var n,i=a(e)&amp;&amp;o(e.value);return delete(n=s(e)).writable,delete n.value,n.get=function(){return!r.overwriteDefinition&amp;&amp;h.call(this,t)?i:(e.value=u.call(i,r.resolveContext?r.resolveContext(this):this),f(this,t,e),this[t])},n},e.exports=function(t){var e=l(arguments[1]);return i(e.resolveContext)&amp;&amp;o(e.resolveContext),c(t,(function(t,r){return n(r,t,e)}))}},{\&quot;es5-ext/object/copy\&quot;:196,\&quot;es5-ext/object/map\&quot;:204,\&quot;es5-ext/object/normalize-options\&quot;:205,\&quot;type/plain-function/ensure\&quot;:589,\&quot;type/value/ensure\&quot;:593,\&quot;type/value/is\&quot;:594}],155:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;type/value/is\&quot;),i=t(\&quot;type/plain-function/is\&quot;),a=t(\&quot;es5-ext/object/assign\&quot;),o=t(\&quot;es5-ext/object/normalize-options\&quot;),s=t(\&quot;es5-ext/string/#/contains\&quot;);(e.exports=function(t,e){var r,i,l,c,u;return arguments.length&lt;2||\&quot;string\&quot;!=typeof t?(c=e,e=t,t=null):c=arguments[2],n(t)?(r=s.call(t,\&quot;c\&quot;),i=s.call(t,\&quot;e\&quot;),l=s.call(t,\&quot;w\&quot;)):(r=l=!0,i=!1),u={value:e,configurable:r,enumerable:i,writable:l},c?a(o(c),u):u}).gs=function(t,e,r){var l,c,u,f;return\&quot;string\&quot;!=typeof t?(u=r,r=e,e=t,t=null):u=arguments[3],n(e)?i(e)?n(r)?i(r)||(u=r,r=void 0):r=void 0:(u=e,e=r=void 0):e=void 0,n(t)?(l=s.call(t,\&quot;c\&quot;),c=s.call(t,\&quot;e\&quot;)):(l=!0,c=!1),f={get:e,set:r,configurable:l,enumerable:c},u?a(o(u),f):f}},{\&quot;es5-ext/object/assign\&quot;:193,\&quot;es5-ext/object/normalize-options\&quot;:205,\&quot;es5-ext/string/#/contains\&quot;:212,\&quot;type/plain-function/is\&quot;:590,\&quot;type/value/is\&quot;:594}],156:[function(t,e,r){!function(t,n){n(\&quot;object\&quot;==typeof r&amp;&amp;\&quot;undefined\&quot;!=typeof e?r:t.d3=t.d3||{})}(this,(function(t){\&quot;use strict\&quot;;function e(t,e){return t&lt;e?-1:t&gt;e?1:t&gt;=e?0:NaN}function r(t){var r;return 1===t.length&amp;&amp;(r=t,t=function(t,n){return e(r(t),n)}),{left:function(e,r,n,i){for(null==n&amp;&amp;(n=0),null==i&amp;&amp;(i=e.length);n&lt;i;){var a=n+i&gt;&gt;&gt;1;t(e[a],r)&lt;0?n=a+1:i=a}return n},right:function(e,r,n,i){for(null==n&amp;&amp;(n=0),null==i&amp;&amp;(i=e.length);n&lt;i;){var a=n+i&gt;&gt;&gt;1;t(e[a],r)&gt;0?i=a:n=a+1}return n}}}var n=r(e),i=n.right,a=n.left;function o(t,e){return[t,e]}function s(t){return null===t?NaN:+t}function l(t,e){var r,n,i=t.length,a=0,o=-1,l=0,c=0;if(null==e)for(;++o&lt;i;)isNaN(r=s(t[o]))||(c+=(n=r-l)*(r-(l+=n/++a)));else for(;++o&lt;i;)isNaN(r=s(e(t[o],o,t)))||(c+=(n=r-l)*(r-(l+=n/++a)));if(a&gt;1)return c/(a-1)}function c(t,e){var r=l(t,e);return r?Math.sqrt(r):r}function u(t,e){var r,n,i,a=t.length,o=-1;if(null==e){for(;++o&lt;a;)if(null!=(r=t[o])&amp;&amp;r&gt;=r)for(n=i=r;++o&lt;a;)null!=(r=t[o])&amp;&amp;(n&gt;r&amp;&amp;(n=r),i&lt;r&amp;&amp;(i=r))}else for(;++o&lt;a;)if(null!=(r=e(t[o],o,t))&amp;&amp;r&gt;=r)for(n=i=r;++o&lt;a;)null!=(r=e(t[o],o,t))&amp;&amp;(n&gt;r&amp;&amp;(n=r),i&lt;r&amp;&amp;(i=r));return[n,i]}var f=Array.prototype,h=f.slice,p=f.map;function d(t){return function(){return t}}function g(t){return t}function m(t,e,r){t=+t,e=+e,r=(i=arguments.length)&lt;2?(e=t,t=0,1):i&lt;3?1:+r;for(var n=-1,i=0|Math.max(0,Math.ceil((e-t)/r)),a=new Array(i);++n&lt;i;)a[n]=t+n*r;return a}var v=Math.sqrt(50),y=Math.sqrt(10),x=Math.sqrt(2);function b(t,e,r){var n=(e-t)/Math.max(0,r),i=Math.floor(Math.log(n)/Math.LN10),a=n/Math.pow(10,i);return i&gt;=0?(a&gt;=v?10:a&gt;=y?5:a&gt;=x?2:1)*Math.pow(10,i):-Math.pow(10,-i)/(a&gt;=v?10:a&gt;=y?5:a&gt;=x?2:1)}function _(t,e,r){var n=Math.abs(e-t)/Math.max(0,r),i=Math.pow(10,Math.floor(Math.log(n)/Math.LN10)),a=n/i;return a&gt;=v?i*=10:a&gt;=y?i*=5:a&gt;=x&amp;&amp;(i*=2),e&lt;t?-i:i}function w(t){return Math.ceil(Math.log(t.length)/Math.LN2)+1}function T(t,e,r){if(null==r&amp;&amp;(r=s),n=t.length){if((e=+e)&lt;=0||n&lt;2)return+r(t[0],0,t);if(e&gt;=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),o=+r(t[a],a,t);return o+(+r(t[a+1],a+1,t)-o)*(i-a)}}function k(t,e){var r,n,i=t.length,a=-1;if(null==e){for(;++a&lt;i;)if(null!=(r=t[a])&amp;&amp;r&gt;=r)for(n=r;++a&lt;i;)null!=(r=t[a])&amp;&amp;n&gt;r&amp;&amp;(n=r)}else for(;++a&lt;i;)if(null!=(r=e(t[a],a,t))&amp;&amp;r&gt;=r)for(n=r;++a&lt;i;)null!=(r=e(t[a],a,t))&amp;&amp;n&gt;r&amp;&amp;(n=r);return n}function M(t){if(!(i=t.length))return[];for(var e=-1,r=k(t,A),n=new Array(r);++e&lt;r;)for(var i,a=-1,o=n[e]=new Array(i);++a&lt;i;)o[a]=t[a][e];return n}function A(t){return t.length}t.bisect=i,t.bisectRight=i,t.bisectLeft=a,t.ascending=e,t.bisector=r,t.cross=function(t,e,r){var n,i,a,s,l=t.length,c=e.length,u=new Array(l*c);for(null==r&amp;&amp;(r=o),n=a=0;n&lt;l;++n)for(s=t[n],i=0;i&lt;c;++i,++a)u[a]=r(s,e[i]);return u},t.descending=function(t,e){return e&lt;t?-1:e&gt;t?1:e&gt;=t?0:NaN},t.deviation=c,t.extent=u,t.histogram=function(){var t=g,e=u,r=w;function n(n){var a,o,s=n.length,l=new Array(s);for(a=0;a&lt;s;++a)l[a]=t(n[a],a,n);var c=e(l),u=c[0],f=c[1],h=r(l,u,f);Array.isArray(h)||(h=_(u,f,h),h=m(Math.ceil(u/h)*h,f,h));for(var p=h.length;h[0]&lt;=u;)h.shift(),--p;for(;h[p-1]&gt;f;)h.pop(),--p;var d,g=new Array(p+1);for(a=0;a&lt;=p;++a)(d=g[a]=[]).x0=a&gt;0?h[a-1]:u,d.x1=a&lt;p?h[a]:f;for(a=0;a&lt;s;++a)u&lt;=(o=l[a])&amp;&amp;o&lt;=f&amp;&amp;g[i(h,o,0,p)].push(n[a]);return g}return n.value=function(e){return arguments.length?(t=\&quot;function\&quot;==typeof e?e:d(e),n):t},n.domain=function(t){return arguments.length?(e=\&quot;function\&quot;==typeof t?t:d([t[0],t[1]]),n):e},n.thresholds=function(t){return arguments.length?(r=\&quot;function\&quot;==typeof t?t:Array.isArray(t)?d(h.call(t)):d(t),n):r},n},t.thresholdFreedmanDiaconis=function(t,r,n){return t=p.call(t,s).sort(e),Math.ceil((n-r)/(2*(T(t,.75)-T(t,.25))*Math.pow(t.length,-1/3)))},t.thresholdScott=function(t,e,r){return Math.ceil((r-e)/(3.5*c(t)*Math.pow(t.length,-1/3)))},t.thresholdSturges=w,t.max=function(t,e){var r,n,i=t.length,a=-1;if(null==e){for(;++a&lt;i;)if(null!=(r=t[a])&amp;&amp;r&gt;=r)for(n=r;++a&lt;i;)null!=(r=t[a])&amp;&amp;r&gt;n&amp;&amp;(n=r)}else for(;++a&lt;i;)if(null!=(r=e(t[a],a,t))&amp;&amp;r&gt;=r)for(n=r;++a&lt;i;)null!=(r=e(t[a],a,t))&amp;&amp;r&gt;n&amp;&amp;(n=r);return n},t.mean=function(t,e){var r,n=t.length,i=n,a=-1,o=0;if(null==e)for(;++a&lt;n;)isNaN(r=s(t[a]))?--i:o+=r;else for(;++a&lt;n;)isNaN(r=s(e(t[a],a,t)))?--i:o+=r;if(i)return o/i},t.median=function(t,r){var n,i=t.length,a=-1,o=[];if(null==r)for(;++a&lt;i;)isNaN(n=s(t[a]))||o.push(n);else for(;++a&lt;i;)isNaN(n=s(r(t[a],a,t)))||o.push(n);return T(o.sort(e),.5)},t.merge=function(t){for(var e,r,n,i=t.length,a=-1,o=0;++a&lt;i;)o+=t[a].length;for(r=new Array(o);--i&gt;=0;)for(e=(n=t[i]).length;--e&gt;=0;)r[--o]=n[e];return r},t.min=k,t.pairs=function(t,e){null==e&amp;&amp;(e=o);for(var r=0,n=t.length-1,i=t[0],a=new Array(n&lt;0?0:n);r&lt;n;)a[r]=e(i,i=t[++r]);return a},t.permute=function(t,e){for(var r=e.length,n=new Array(r);r--;)n[r]=t[e[r]];return n},t.quantile=T,t.range=m,t.scan=function(t,r){if(n=t.length){var n,i,a=0,o=0,s=t[o];for(null==r&amp;&amp;(r=e);++a&lt;n;)(r(i=t[a],s)&lt;0||0!==r(s,s))&amp;&amp;(s=i,o=a);return 0===r(s,s)?o:void 0}},t.shuffle=function(t,e,r){for(var n,i,a=(null==r?t.length:r)-(e=null==e?0:+e);a;)i=Math.random()*a--|0,n=t[a+e],t[a+e]=t[i+e],t[i+e]=n;return t},t.sum=function(t,e){var r,n=t.length,i=-1,a=0;if(null==e)for(;++i&lt;n;)(r=+t[i])&amp;&amp;(a+=r);else for(;++i&lt;n;)(r=+e(t[i],i,t))&amp;&amp;(a+=r);return a},t.ticks=function(t,e,r){var n,i,a,o,s=-1;if(r=+r,(t=+t)===(e=+e)&amp;&amp;r&gt;0)return[t];if((n=e&lt;t)&amp;&amp;(i=t,t=e,e=i),0===(o=b(t,e,r))||!isFinite(o))return[];if(o&gt;0)for(t=Math.ceil(t/o),e=Math.floor(e/o),a=new Array(i=Math.ceil(e-t+1));++s&lt;i;)a[s]=(t+s)*o;else for(t=Math.floor(t*o),e=Math.ceil(e*o),a=new Array(i=Math.ceil(t-e+1));++s&lt;i;)a[s]=(t-s)/o;return n&amp;&amp;a.reverse(),a},t.tickIncrement=b,t.tickStep=_,t.transpose=M,t.variance=l,t.zip=function(){return M(arguments)},Object.defineProperty(t,\&quot;__esModule\&quot;,{value:!0})}))},{}],157:[function(t,e,r){!function(t,n){n(\&quot;object\&quot;==typeof r&amp;&amp;\&quot;undefined\&quot;!=typeof e?r:t.d3=t.d3||{})}(this,(function(t){\&quot;use strict\&quot;;function e(){}function r(t,r){var n=new e;if(t instanceof e)t.each((function(t,e){n.set(e,t)}));else if(Array.isArray(t)){var i,a=-1,o=t.length;if(null==r)for(;++a&lt;o;)n.set(a,t[a]);else for(;++a&lt;o;)n.set(r(i=t[a],a,t),i)}else if(t)for(var s in t)n.set(s,t[s]);return n}function n(){return{}}function i(t,e,r){t[e]=r}function a(){return r()}function o(t,e,r){t.set(e,r)}function s(){}e.prototype=r.prototype={constructor:e,has:function(t){return\&quot;$\&quot;+t in this},get:function(t){return this[\&quot;$\&quot;+t]},set:function(t,e){return this[\&quot;$\&quot;+t]=e,this},remove:function(t){var e=\&quot;$\&quot;+t;return e in this&amp;&amp;delete this[e]},clear:function(){for(var t in this)\&quot;$\&quot;===t[0]&amp;&amp;delete this[t]},keys:function(){var t=[];for(var e in this)\&quot;$\&quot;===e[0]&amp;&amp;t.push(e.slice(1));return t},values:function(){var t=[];for(var e in this)\&quot;$\&quot;===e[0]&amp;&amp;t.push(this[e]);return t},entries:function(){var t=[];for(var e in this)\&quot;$\&quot;===e[0]&amp;&amp;t.push({key:e.slice(1),value:this[e]});return t},size:function(){var t=0;for(var e in this)\&quot;$\&quot;===e[0]&amp;&amp;++t;return t},empty:function(){for(var t in this)if(\&quot;$\&quot;===t[0])return!1;return!0},each:function(t){for(var e in this)\&quot;$\&quot;===e[0]&amp;&amp;t(this[e],e.slice(1),this)}};var l=r.prototype;function c(t,e){var r=new s;if(t instanceof s)t.each((function(t){r.add(t)}));else if(t){var n=-1,i=t.length;if(null==e)for(;++n&lt;i;)r.add(t[n]);else for(;++n&lt;i;)r.add(e(t[n],n,t))}return r}s.prototype=c.prototype={constructor:s,has:l.has,add:function(t){return this[\&quot;$\&quot;+(t+=\&quot;\&quot;)]=t,this},remove:l.remove,clear:l.clear,values:l.keys,size:l.size,empty:l.empty,each:l.each},t.nest=function(){var t,e,s,l=[],c=[];function u(n,i,a,o){if(i&gt;=l.length)return null!=t&amp;&amp;n.sort(t),null!=e?e(n):n;for(var s,c,f,h=-1,p=n.length,d=l[i++],g=r(),m=a();++h&lt;p;)(f=g.get(s=d(c=n[h])+\&quot;\&quot;))?f.push(c):g.set(s,[c]);return g.each((function(t,e){o(m,e,u(t,i,a,o))})),m}return s={object:function(t){return u(t,0,n,i)},map:function(t){return u(t,0,a,o)},entries:function(t){return function t(r,n){if(++n&gt;l.length)return r;var i,a=c[n-1];return null!=e&amp;&amp;n&gt;=l.length?i=r.entries():(i=[],r.each((function(e,r){i.push({key:r,values:t(e,n)})}))),null!=a?i.sort((function(t,e){return a(t.key,e.key)})):i}(u(t,0,a,o),0)},key:function(t){return l.push(t),s},sortKeys:function(t){return c[l.length-1]=t,s},sortValues:function(e){return t=e,s},rollup:function(t){return e=t,s}}},t.set=c,t.map=r,t.keys=function(t){var e=[];for(var r in t)e.push(r);return e},t.values=function(t){var e=[];for(var r in t)e.push(t[r]);return e},t.entries=function(t){var e=[];for(var r in t)e.push({key:r,value:t[r]});return e},Object.defineProperty(t,\&quot;__esModule\&quot;,{value:!0})}))},{}],158:[function(t,e,r){!function(t,n){\&quot;object\&quot;==typeof r&amp;&amp;\&quot;undefined\&quot;!=typeof e?n(r):n((t=t||self).d3=t.d3||{})}(this,(function(t){\&quot;use strict\&quot;;function e(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function r(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function n(){}var i=\&quot;\\\\s*([+-]?\\\\d+)\\\\s*\&quot;,a=\&quot;\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)\\\\s*\&quot;,o=\&quot;\\\\s*([+-]?\\\\d*\\\\.?\\\\d+(?:[eE][+-]?\\\\d+)?)%\\\\s*\&quot;,s=/^#([0-9a-f]{3,8})$/,l=new RegExp(\&quot;^rgb\\\\(\&quot;+[i,i,i]+\&quot;\\\\)$\&quot;),c=new RegExp(\&quot;^rgb\\\\(\&quot;+[o,o,o]+\&quot;\\\\)$\&quot;),u=new RegExp(\&quot;^rgba\\\\(\&quot;+[i,i,i,a]+\&quot;\\\\)$\&quot;),f=new RegExp(\&quot;^rgba\\\\(\&quot;+[o,o,o,a]+\&quot;\\\\)$\&quot;),h=new RegExp(\&quot;^hsl\\\\(\&quot;+[a,o,o]+\&quot;\\\\)$\&quot;),p=new RegExp(\&quot;^hsla\\\\(\&quot;+[a,o,o,a]+\&quot;\\\\)$\&quot;),d={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function g(){return this.rgb().formatHex()}function m(){return this.rgb().formatRgb()}function v(t){var e,r;return t=(t+\&quot;\&quot;).trim().toLowerCase(),(e=s.exec(t))?(r=e[1].length,e=parseInt(e[1],16),6===r?y(e):3===r?new w(e&gt;&gt;8&amp;15|e&gt;&gt;4&amp;240,e&gt;&gt;4&amp;15|240&amp;e,(15&amp;e)&lt;&lt;4|15&amp;e,1):8===r?x(e&gt;&gt;24&amp;255,e&gt;&gt;16&amp;255,e&gt;&gt;8&amp;255,(255&amp;e)/255):4===r?x(e&gt;&gt;12&amp;15|e&gt;&gt;8&amp;240,e&gt;&gt;8&amp;15|e&gt;&gt;4&amp;240,e&gt;&gt;4&amp;15|240&amp;e,((15&amp;e)&lt;&lt;4|15&amp;e)/255):null):(e=l.exec(t))?new w(e[1],e[2],e[3],1):(e=c.exec(t))?new w(255*e[1]/100,255*e[2]/100,255*e[3]/100,1):(e=u.exec(t))?x(e[1],e[2],e[3],e[4]):(e=f.exec(t))?x(255*e[1]/100,255*e[2]/100,255*e[3]/100,e[4]):(e=h.exec(t))?A(e[1],e[2]/100,e[3]/100,1):(e=p.exec(t))?A(e[1],e[2]/100,e[3]/100,e[4]):d.hasOwnProperty(t)?y(d[t]):\&quot;transparent\&quot;===t?new w(NaN,NaN,NaN,0):null}function y(t){return new w(t&gt;&gt;16&amp;255,t&gt;&gt;8&amp;255,255&amp;t,1)}function x(t,e,r,n){return n&lt;=0&amp;&amp;(t=e=r=NaN),new w(t,e,r,n)}function b(t){return t instanceof n||(t=v(t)),t?new w((t=t.rgb()).r,t.g,t.b,t.opacity):new w}function _(t,e,r,n){return 1===arguments.length?b(t):new w(t,e,r,null==n?1:n)}function w(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}function T(){return\&quot;#\&quot;+M(this.r)+M(this.g)+M(this.b)}function k(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?\&quot;rgb(\&quot;:\&quot;rgba(\&quot;)+Math.max(0,Math.min(255,Math.round(this.r)||0))+\&quot;, \&quot;+Math.max(0,Math.min(255,Math.round(this.g)||0))+\&quot;, \&quot;+Math.max(0,Math.min(255,Math.round(this.b)||0))+(1===t?\&quot;)\&quot;:\&quot;, \&quot;+t+\&quot;)\&quot;)}function M(t){return((t=Math.max(0,Math.min(255,Math.round(t)||0)))&lt;16?\&quot;0\&quot;:\&quot;\&quot;)+t.toString(16)}function A(t,e,r,n){return n&lt;=0?t=e=r=NaN:r&lt;=0||r&gt;=1?t=e=NaN:e&lt;=0&amp;&amp;(t=NaN),new C(t,e,r,n)}function S(t){if(t instanceof C)return new C(t.h,t.s,t.l,t.opacity);if(t instanceof n||(t=v(t)),!t)return new C;if(t instanceof C)return t;var e=(t=t.rgb()).r/255,r=t.g/255,i=t.b/255,a=Math.min(e,r,i),o=Math.max(e,r,i),s=NaN,l=o-a,c=(o+a)/2;return l?(s=e===o?(r-i)/l+6*(r&lt;i):r===o?(i-e)/l+2:(e-r)/l+4,l/=c&lt;.5?o+a:2-o-a,s*=60):l=c&gt;0&amp;&amp;c&lt;1?0:s,new C(s,l,c,t.opacity)}function E(t,e,r,n){return 1===arguments.length?S(t):new C(t,e,r,null==n?1:n)}function C(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}function L(t,e,r){return 255*(t&lt;60?e+(r-e)*t/60:t&lt;180?r:t&lt;240?e+(r-e)*(240-t)/60:e)}e(n,v,{copy:function(t){return Object.assign(new this.constructor,this,t)},displayable:function(){return this.rgb().displayable()},hex:g,formatHex:g,formatHsl:function(){return S(this).formatHsl()},formatRgb:m,toString:m}),e(w,_,r(n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new w(this.r*t,this.g*t,this.b*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new w(this.r*t,this.g*t,this.b*t,this.opacity)},rgb:function(){return this},displayable:function(){return-.5&lt;=this.r&amp;&amp;this.r&lt;255.5&amp;&amp;-.5&lt;=this.g&amp;&amp;this.g&lt;255.5&amp;&amp;-.5&lt;=this.b&amp;&amp;this.b&lt;255.5&amp;&amp;0&lt;=this.opacity&amp;&amp;this.opacity&lt;=1},hex:T,formatHex:T,formatRgb:k,toString:k})),e(C,E,r(n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new C(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new C(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=this.h%360+360*(this.h&lt;0),e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r&lt;.5?r:1-r)*e,i=2*r-n;return new w(L(t&gt;=240?t-240:t+120,i,n),L(t,i,n),L(t&lt;120?t+240:t-120,i,n),this.opacity)},displayable:function(){return(0&lt;=this.s&amp;&amp;this.s&lt;=1||isNaN(this.s))&amp;&amp;0&lt;=this.l&amp;&amp;this.l&lt;=1&amp;&amp;0&lt;=this.opacity&amp;&amp;this.opacity&lt;=1},formatHsl:function(){var t=this.opacity;return(1===(t=isNaN(t)?1:Math.max(0,Math.min(1,t)))?\&quot;hsl(\&quot;:\&quot;hsla(\&quot;)+(this.h||0)+\&quot;, \&quot;+100*(this.s||0)+\&quot;%, \&quot;+100*(this.l||0)+\&quot;%\&quot;+(1===t?\&quot;)\&quot;:\&quot;, \&quot;+t+\&quot;)\&quot;)}}));var I=Math.PI/180,P=180/Math.PI,z=6/29,O=3*z*z;function D(t){if(t instanceof F)return new F(t.l,t.a,t.b,t.opacity);if(t instanceof H)return G(t);t instanceof w||(t=b(t));var e,r,n=U(t.r),i=U(t.g),a=U(t.b),o=B((.2225045*n+.7168786*i+.0606169*a)/1);return n===i&amp;&amp;i===a?e=r=o:(e=B((.4360747*n+.3850649*i+.1430804*a)/.96422),r=B((.0139322*n+.0971045*i+.7141733*a)/.82521)),new F(116*o-16,500*(e-o),200*(o-r),t.opacity)}function R(t,e,r,n){return 1===arguments.length?D(t):new F(t,e,r,null==n?1:n)}function F(t,e,r,n){this.l=+t,this.a=+e,this.b=+r,this.opacity=+n}function B(t){return t&gt;.008856451679035631?Math.pow(t,1/3):t/O+4/29}function N(t){return t&gt;z?t*t*t:O*(t-4/29)}function j(t){return 255*(t&lt;=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function U(t){return(t/=255)&lt;=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function V(t){if(t instanceof H)return new H(t.h,t.c,t.l,t.opacity);if(t instanceof F||(t=D(t)),0===t.a&amp;&amp;0===t.b)return new H(NaN,0&lt;t.l&amp;&amp;t.l&lt;100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*P;return new H(e&lt;0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function q(t,e,r,n){return 1===arguments.length?V(t):new H(t,e,r,null==n?1:n)}function H(t,e,r,n){this.h=+t,this.c=+e,this.l=+r,this.opacity=+n}function G(t){if(isNaN(t.h))return new F(t.l,0,0,t.opacity);var e=t.h*I;return new F(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}e(F,R,r(n,{brighter:function(t){return new F(this.l+18*(null==t?1:t),this.a,this.b,this.opacity)},darker:function(t){return new F(this.l-18*(null==t?1:t),this.a,this.b,this.opacity)},rgb:function(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,r=isNaN(this.b)?t:t-this.b/200;return new w(j(3.1338561*(e=.96422*N(e))-1.6168667*(t=1*N(t))-.4906146*(r=.82521*N(r))),j(-.9787684*e+1.9161415*t+.033454*r),j(.0719453*e-.2289914*t+1.4052427*r),this.opacity)}})),e(H,q,r(n,{brighter:function(t){return new H(this.h,this.c,this.l+18*(null==t?1:t),this.opacity)},darker:function(t){return new H(this.h,this.c,this.l-18*(null==t?1:t),this.opacity)},rgb:function(){return G(this).rgb()}}));var Y=-.14861,W=1.78277,X=-.29227,Z=-.90649,J=1.97294,K=J*Z,Q=J*W,$=W*X-Z*Y;function tt(t){if(t instanceof rt)return new rt(t.h,t.s,t.l,t.opacity);t instanceof w||(t=b(t));var e=t.r/255,r=t.g/255,n=t.b/255,i=($*n+K*e-Q*r)/($+K-Q),a=n-i,o=(J*(r-i)-X*a)/Z,s=Math.sqrt(o*o+a*a)/(J*i*(1-i)),l=s?Math.atan2(o,a)*P-120:NaN;return new rt(l&lt;0?l+360:l,s,i,t.opacity)}function et(t,e,r,n){return 1===arguments.length?tt(t):new rt(t,e,r,null==n?1:n)}function rt(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}e(rt,et,r(n,{brighter:function(t){return t=null==t?1/.7:Math.pow(1/.7,t),new rt(this.h,this.s,this.l*t,this.opacity)},darker:function(t){return t=null==t?.7:Math.pow(.7,t),new rt(this.h,this.s,this.l*t,this.opacity)},rgb:function(){var t=isNaN(this.h)?0:(this.h+120)*I,e=+this.l,r=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),i=Math.sin(t);return new w(255*(e+r*(Y*n+W*i)),255*(e+r*(X*n+Z*i)),255*(e+r*(J*n)),this.opacity)}})),t.color=v,t.cubehelix=et,t.gray=function(t,e){return new F(t,0,0,null==e?1:e)},t.hcl=q,t.hsl=E,t.lab=R,t.lch=function(t,e,r,n){return 1===arguments.length?V(t):new H(r,e,t,null==n?1:n)},t.rgb=_,Object.defineProperty(t,\&quot;__esModule\&quot;,{value:!0})}))},{}],159:[function(t,e,r){!function(t,n){\&quot;object\&quot;==typeof r&amp;&amp;\&quot;undefined\&quot;!=typeof e?n(r):n((t=t||self).d3=t.d3||{})}(this,(function(t){\&quot;use strict\&quot;;var e={value:function(){}};function r(){for(var t,e=0,r=arguments.length,i={};e&lt;r;++e){if(!(t=arguments[e]+\&quot;\&quot;)||t in i||/[\\s.]/.test(t))throw new Error(\&quot;illegal type: \&quot;+t);i[t]=[]}return new n(i)}function n(t){this._=t}function i(t,e){return t.trim().split(/^|\\s+/).map((function(t){var r=\&quot;\&quot;,n=t.indexOf(\&quot;.\&quot;);if(n&gt;=0&amp;&amp;(r=t.slice(n+1),t=t.slice(0,n)),t&amp;&amp;!e.hasOwnProperty(t))throw new Error(\&quot;unknown type: \&quot;+t);return{type:t,name:r}}))}function a(t,e){for(var r,n=0,i=t.length;n&lt;i;++n)if((r=t[n]).name===e)return r.value}function o(t,r,n){for(var i=0,a=t.length;i&lt;a;++i)if(t[i].name===r){t[i]=e,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=n&amp;&amp;t.push({name:r,value:n}),t}n.prototype=r.prototype={constructor:n,on:function(t,e){var r,n=this._,s=i(t+\&quot;\&quot;,n),l=-1,c=s.length;if(!(arguments.length&lt;2)){if(null!=e&amp;&amp;\&quot;function\&quot;!=typeof e)throw new Error(\&quot;invalid callback: \&quot;+e);for(;++l&lt;c;)if(r=(t=s[l]).type)n[r]=o(n[r],t.name,e);else if(null==e)for(r in n)n[r]=o(n[r],t.name,null);return this}for(;++l&lt;c;)if((r=(t=s[l]).type)&amp;&amp;(r=a(n[r],t.name)))return r},copy:function(){var t={},e=this._;for(var r in e)t[r]=e[r].slice();return new n(t)},call:function(t,e){if((r=arguments.length-2)&gt;0)for(var r,n,i=new Array(r),a=0;a&lt;r;++a)i[a]=arguments[a+2];if(!this._.hasOwnProperty(t))throw new Error(\&quot;unknown type: \&quot;+t);for(a=0,r=(n=this._[t]).length;a&lt;r;++a)n[a].value.apply(e,i)},apply:function(t,e,r){if(!this._.hasOwnProperty(t))throw new Error(\&quot;unknown type: \&quot;+t);for(var n=this._[t],i=0,a=n.length;i&lt;a;++i)n[i].value.apply(e,r)}},t.dispatch=r,Object.defineProperty(t,\&quot;__esModule\&quot;,{value:!0})}))},{}],160:[function(t,e,r){!function(n,i){\&quot;object\&quot;==typeof r&amp;&amp;\&quot;undefined\&quot;!=typeof e?i(r,t(\&quot;d3-quadtree\&quot;),t(\&quot;d3-collection\&quot;),t(\&quot;d3-dispatch\&quot;),t(\&quot;d3-timer\&quot;)):i(n.d3=n.d3||{},n.d3,n.d3,n.d3,n.d3)}(this,(function(t,e,r,n,i){\&quot;use strict\&quot;;function a(t){return function(){return t}}function o(){return 1e-6*(Math.random()-.5)}function s(t){return t.x+t.vx}function l(t){return t.y+t.vy}function c(t){return t.index}function u(t,e){var r=t.get(e);if(!r)throw new Error(\&quot;missing: \&quot;+e);return r}function f(t){return t.x}function h(t){return t.y}var p=Math.PI*(3-Math.sqrt(5));t.forceCenter=function(t,e){var r;function n(){var n,i,a=r.length,o=0,s=0;for(n=0;n&lt;a;++n)o+=(i=r[n]).x,s+=i.y;for(o=o/a-t,s=s/a-e,n=0;n&lt;a;++n)(i=r[n]).x-=o,i.y-=s}return null==t&amp;&amp;(t=0),null==e&amp;&amp;(e=0),n.initialize=function(t){r=t},n.x=function(e){return arguments.length?(t=+e,n):t},n.y=function(t){return arguments.length?(e=+t,n):e},n},t.forceCollide=function(t){var r,n,i=1,c=1;function u(){for(var t,a,u,h,p,d,g,m=r.length,v=0;v&lt;c;++v)for(a=e.quadtree(r,s,l).visitAfter(f),t=0;t&lt;m;++t)u=r[t],d=n[u.index],g=d*d,h=u.x+u.vx,p=u.y+u.vy,a.visit(y);function y(t,e,r,n,a){var s=t.data,l=t.r,c=d+l;if(!s)return e&gt;h+c||n&lt;h-c||r&gt;p+c||a&lt;p-c;if(s.index&gt;u.index){var f=h-s.x-s.vx,m=p-s.y-s.vy,v=f*f+m*m;v&lt;c*c&amp;&amp;(0===f&amp;&amp;(v+=(f=o())*f),0===m&amp;&amp;(v+=(m=o())*m),v=(c-(v=Math.sqrt(v)))/v*i,u.vx+=(f*=v)*(c=(l*=l)/(g+l)),u.vy+=(m*=v)*c,s.vx-=f*(c=1-c),s.vy-=m*c)}}}function f(t){if(t.data)return t.r=n[t.data.index];for(var e=t.r=0;e&lt;4;++e)t[e]&amp;&amp;t[e].r&gt;t.r&amp;&amp;(t.r=t[e].r)}function h(){if(r){var e,i,a=r.length;for(n=new Array(a),e=0;e&lt;a;++e)i=r[e],n[i.index]=+t(i,e,r)}}return\&quot;function\&quot;!=typeof t&amp;&amp;(t=a(null==t?1:+t)),u.initialize=function(t){r=t,h()},u.iterations=function(t){return arguments.length?(c=+t,u):c},u.strength=function(t){return arguments.length?(i=+t,u):i},u.radius=function(e){return arguments.length?(t=\&quot;function\&quot;==typeof e?e:a(+e),h(),u):t},u},t.forceLink=function(t){var e,n,i,s,l,f=c,h=function(t){return 1/Math.min(s[t.source.index],s[t.target.index])},p=a(30),d=1;function g(r){for(var i=0,a=t.length;i&lt;d;++i)for(var s,c,u,f,h,p,g,m=0;m&lt;a;++m)c=(s=t[m]).source,f=(u=s.target).x+u.vx-c.x-c.vx||o(),h=u.y+u.vy-c.y-c.vy||o(),f*=p=((p=Math.sqrt(f*f+h*h))-n[m])/p*r*e[m],h*=p,u.vx-=f*(g=l[m]),u.vy-=h*g,c.vx+=f*(g=1-g),c.vy+=h*g}function m(){if(i){var a,o,c=i.length,h=t.length,p=r.map(i,f);for(a=0,s=new Array(c);a&lt;h;++a)(o=t[a]).index=a,\&quot;object\&quot;!=typeof o.source&amp;&amp;(o.source=u(p,o.source)),\&quot;object\&quot;!=typeof o.target&amp;&amp;(o.target=u(p,o.target)),s[o.source.index]=(s[o.source.index]||0)+1,s[o.target.index]=(s[o.target.index]||0)+1;for(a=0,l=new Array(h);a&lt;h;++a)o=t[a],l[a]=s[o.source.index]/(s[o.source.index]+s[o.target.index]);e=new Array(h),v(),n=new Array(h),y()}}function v(){if(i)for(var r=0,n=t.length;r&lt;n;++r)e[r]=+h(t[r],r,t)}function y(){if(i)for(var e=0,r=t.length;e&lt;r;++e)n[e]=+p(t[e],e,t)}return null==t&amp;&amp;(t=[]),g.initialize=function(t){i=t,m()},g.links=function(e){return arguments.length?(t=e,m(),g):t},g.id=function(t){return arguments.length?(f=t,g):f},g.iterations=function(t){return arguments.length?(d=+t,g):d},g.strength=function(t){return arguments.length?(h=\&quot;function\&quot;==typeof t?t:a(+t),v(),g):h},g.distance=function(t){return arguments.length?(p=\&quot;function\&quot;==typeof t?t:a(+t),y(),g):p},g},t.forceManyBody=function(){var t,r,n,i,s=a(-30),l=1,c=1/0,u=.81;function p(i){var a,o=t.length,s=e.quadtree(t,f,h).visitAfter(g);for(n=i,a=0;a&lt;o;++a)r=t[a],s.visit(m)}function d(){if(t){var e,r,n=t.length;for(i=new Array(n),e=0;e&lt;n;++e)r=t[e],i[r.index]=+s(r,e,t)}}function g(t){var e,r,n,a,o,s=0,l=0;if(t.length){for(n=a=o=0;o&lt;4;++o)(e=t[o])&amp;&amp;(r=Math.abs(e.value))&amp;&amp;(s+=e.value,l+=r,n+=r*e.x,a+=r*e.y);t.x=n/l,t.y=a/l}else{(e=t).x=e.data.x,e.y=e.data.y;do{s+=i[e.data.index]}while(e=e.next)}t.value=s}function m(t,e,a,s){if(!t.value)return!0;var f=t.x-r.x,h=t.y-r.y,p=s-e,d=f*f+h*h;if(p*p/u&lt;d)return d&lt;c&amp;&amp;(0===f&amp;&amp;(d+=(f=o())*f),0===h&amp;&amp;(d+=(h=o())*h),d&lt;l&amp;&amp;(d=Math.sqrt(l*d)),r.vx+=f*t.value*n/d,r.vy+=h*t.value*n/d),!0;if(!(t.length||d&gt;=c)){(t.data!==r||t.next)&amp;&amp;(0===f&amp;&amp;(d+=(f=o())*f),0===h&amp;&amp;(d+=(h=o())*h),d&lt;l&amp;&amp;(d=Math.sqrt(l*d)));do{t.data!==r&amp;&amp;(p=i[t.data.index]*n/d,r.vx+=f*p,r.vy+=h*p)}while(t=t.next)}}return p.initialize=function(e){t=e,d()},p.strength=function(t){return arguments.length?(s=\&quot;function\&quot;==typeof t?t:a(+t),d(),p):s},p.distanceMin=function(t){return arguments.length?(l=t*t,p):Math.sqrt(l)},p.distanceMax=function(t){return arguments.length?(c=t*t,p):Math.sqrt(c)},p.theta=function(t){return arguments.length?(u=t*t,p):Math.sqrt(u)},p},t.forceRadial=function(t,e,r){var n,i,o,s=a(.1);function l(t){for(var a=0,s=n.length;a&lt;s;++a){var l=n[a],c=l.x-e||1e-6,u=l.y-r||1e-6,f=Math.sqrt(c*c+u*u),h=(o[a]-f)*i[a]*t/f;l.vx+=c*h,l.vy+=u*h}}function c(){if(n){var e,r=n.length;for(i=new Array(r),o=new Array(r),e=0;e&lt;r;++e)o[e]=+t(n[e],e,n),i[e]=isNaN(o[e])?0:+s(n[e],e,n)}}return\&quot;function\&quot;!=typeof t&amp;&amp;(t=a(+t)),null==e&amp;&amp;(e=0),null==r&amp;&amp;(r=0),l.initialize=function(t){n=t,c()},l.strength=function(t){return arguments.length?(s=\&quot;function\&quot;==typeof t?t:a(+t),c(),l):s},l.radius=function(e){return arguments.length?(t=\&quot;function\&quot;==typeof e?e:a(+e),c(),l):t},l.x=function(t){return arguments.length?(e=+t,l):e},l.y=function(t){return arguments.length?(r=+t,l):r},l},t.forceSimulation=function(t){var e,a=1,o=.001,s=1-Math.pow(o,1/300),l=0,c=.6,u=r.map(),f=i.timer(d),h=n.dispatch(\&quot;tick\&quot;,\&quot;end\&quot;);function d(){g(),h.call(\&quot;tick\&quot;,e),a&lt;o&amp;&amp;(f.stop(),h.call(\&quot;end\&quot;,e))}function g(r){var n,i,o=t.length;void 0===r&amp;&amp;(r=1);for(var f=0;f&lt;r;++f)for(a+=(l-a)*s,u.each((function(t){t(a)})),n=0;n&lt;o;++n)null==(i=t[n]).fx?i.x+=i.vx*=c:(i.x=i.fx,i.vx=0),null==i.fy?i.y+=i.vy*=c:(i.y=i.fy,i.vy=0);return e}function m(){for(var e,r=0,n=t.length;r&lt;n;++r){if((e=t[r]).index=r,null!=e.fx&amp;&amp;(e.x=e.fx),null!=e.fy&amp;&amp;(e.y=e.fy),isNaN(e.x)||isNaN(e.y)){var i=10*Math.sqrt(r),a=r*p;e.x=i*Math.cos(a),e.y=i*Math.sin(a)}(isNaN(e.vx)||isNaN(e.vy))&amp;&amp;(e.vx=e.vy=0)}}function v(e){return e.initialize&amp;&amp;e.initialize(t),e}return null==t&amp;&amp;(t=[]),m(),e={tick:g,restart:function(){return f.restart(d),e},stop:function(){return f.stop(),e},nodes:function(r){return arguments.length?(t=r,m(),u.each(v),e):t},alpha:function(t){return arguments.length?(a=+t,e):a},alphaMin:function(t){return arguments.length?(o=+t,e):o},alphaDecay:function(t){return arguments.length?(s=+t,e):+s},alphaTarget:function(t){return arguments.length?(l=+t,e):l},velocityDecay:function(t){return arguments.length?(c=1-t,e):1-c},force:function(t,r){return arguments.length&gt;1?(null==r?u.remove(t):u.set(t,v(r)),e):u.get(t)},find:function(e,r,n){var i,a,o,s,l,c=0,u=t.length;for(null==n?n=1/0:n*=n,c=0;c&lt;u;++c)(o=(i=e-(s=t[c]).x)*i+(a=r-s.y)*a)&lt;n&amp;&amp;(l=s,n=o);return l},on:function(t,r){return arguments.length&gt;1?(h.on(t,r),e):h.on(t)}}},t.forceX=function(t){var e,r,n,i=a(.1);function o(t){for(var i,a=0,o=e.length;a&lt;o;++a)(i=e[a]).vx+=(n[a]-i.x)*r[a]*t}function s(){if(e){var a,o=e.length;for(r=new Array(o),n=new Array(o),a=0;a&lt;o;++a)r[a]=isNaN(n[a]=+t(e[a],a,e))?0:+i(e[a],a,e)}}return\&quot;function\&quot;!=typeof t&amp;&amp;(t=a(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(i=\&quot;function\&quot;==typeof t?t:a(+t),s(),o):i},o.x=function(e){return arguments.length?(t=\&quot;function\&quot;==typeof e?e:a(+e),s(),o):t},o},t.forceY=function(t){var e,r,n,i=a(.1);function o(t){for(var i,a=0,o=e.length;a&lt;o;++a)(i=e[a]).vy+=(n[a]-i.y)*r[a]*t}function s(){if(e){var a,o=e.length;for(r=new Array(o),n=new Array(o),a=0;a&lt;o;++a)r[a]=isNaN(n[a]=+t(e[a],a,e))?0:+i(e[a],a,e)}}return\&quot;function\&quot;!=typeof t&amp;&amp;(t=a(null==t?0:+t)),o.initialize=function(t){e=t,s()},o.strength=function(t){return arguments.length?(i=\&quot;function\&quot;==typeof t?t:a(+t),s(),o):i},o.y=function(e){return arguments.length?(t=\&quot;function\&quot;==typeof e?e:a(+e),s(),o):t},o},Object.defineProperty(t,\&quot;__esModule\&quot;,{value:!0})}))},{\&quot;d3-collection\&quot;:157,\&quot;d3-dispatch\&quot;:159,\&quot;d3-quadtree\&quot;:164,\&quot;d3-timer\&quot;:168}],161:[function(t,e,r){!function(t,n){\&quot;object\&quot;==typeof r&amp;&amp;\&quot;undefined\&quot;!=typeof e?n(r):n((t=t||self).d3=t.d3||{})}(this,(function(t){\&quot;use strict\&quot;;function e(t,e){return t.parent===e.parent?1:2}function r(t,e){return t+e.x}function n(t,e){return Math.max(t,e.y)}function i(t){var e=0,r=t.children,n=r&amp;&amp;r.length;if(n)for(;--n&gt;=0;)e+=r[n].value;else e=1;t.value=e}function a(t,e){var r,n,i,a,s,u=new c(t),f=+t.value&amp;&amp;(u.value=t.value),h=[u];for(null==e&amp;&amp;(e=o);r=h.pop();)if(f&amp;&amp;(r.value=+r.data.value),(i=e(r.data))&amp;&amp;(s=i.length))for(r.children=new Array(s),a=s-1;a&gt;=0;--a)h.push(n=r.children[a]=new c(i[a])),n.parent=r,n.depth=r.depth+1;return u.eachBefore(l)}function o(t){return t.children}function s(t){t.data=t.data.data}function l(t){var e=0;do{t.height=e}while((t=t.parent)&amp;&amp;t.height&lt;++e)}function c(t){this.data=t,this.depth=this.height=0,this.parent=null}c.prototype=a.prototype={constructor:c,count:function(){return this.eachAfter(i)},each:function(t){var e,r,n,i,a=this,o=[a];do{for(e=o.reverse(),o=[];a=e.pop();)if(t(a),r=a.children)for(n=0,i=r.length;n&lt;i;++n)o.push(r[n])}while(o.length);return this},eachAfter:function(t){for(var e,r,n,i=this,a=[i],o=[];i=a.pop();)if(o.push(i),e=i.children)for(r=0,n=e.length;r&lt;n;++r)a.push(e[r]);for(;i=o.pop();)t(i);return this},eachBefore:function(t){for(var e,r,n=this,i=[n];n=i.pop();)if(t(n),e=n.children)for(r=e.length-1;r&gt;=0;--r)i.push(e[r]);return this},sum:function(t){return this.eachAfter((function(e){for(var r=+t(e.data)||0,n=e.children,i=n&amp;&amp;n.length;--i&gt;=0;)r+=n[i].value;e.value=r}))},sort:function(t){return this.eachBefore((function(e){e.children&amp;&amp;e.children.sort(t)}))},path:function(t){for(var e=this,r=function(t,e){if(t===e)return t;var r=t.ancestors(),n=e.ancestors(),i=null;t=r.pop(),e=n.pop();for(;t===e;)i=t,t=r.pop(),e=n.pop();return i}(e,t),n=[e];e!==r;)e=e.parent,n.push(e);for(var i=n.length;t!==r;)n.splice(i,0,t),t=t.parent;return n},ancestors:function(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e},descendants:function(){var t=[];return this.each((function(e){t.push(e)})),t},leaves:function(){var t=[];return this.eachBefore((function(e){e.children||t.push(e)})),t},links:function(){var t=this,e=[];return t.each((function(r){r!==t&amp;&amp;e.push({source:r.parent,target:r})})),e},copy:function(){return a(this).eachBefore(s)}};var u=Array.prototype.slice;function f(t){for(var e,r,n=0,i=(t=function(t){for(var e,r,n=t.length;n;)r=Math.random()*n--|0,e=t[n],t[n]=t[r],t[r]=e;return t}(u.call(t))).length,a=[];n&lt;i;)e=t[n],r&amp;&amp;d(r,e)?++n:(r=m(a=h(a,e)),n=0);return r}function h(t,e){var r,n;if(g(e,t))return[e];for(r=0;r&lt;t.length;++r)if(p(e,t[r])&amp;&amp;g(v(t[r],e),t))return[t[r],e];for(r=0;r&lt;t.length-1;++r)for(n=r+1;n&lt;t.length;++n)if(p(v(t[r],t[n]),e)&amp;&amp;p(v(t[r],e),t[n])&amp;&amp;p(v(t[n],e),t[r])&amp;&amp;g(y(t[r],t[n],e),t))return[t[r],t[n],e];throw new Error}function p(t,e){var r=t.r-e.r,n=e.x-t.x,i=e.y-t.y;return r&lt;0||r*r&lt;n*n+i*i}function d(t,e){var r=t.r-e.r+1e-6,n=e.x-t.x,i=e.y-t.y;return r&gt;0&amp;&amp;r*r&gt;n*n+i*i}function g(t,e){for(var r=0;r&lt;e.length;++r)if(!d(t,e[r]))return!1;return!0}function m(t){switch(t.length){case 1:return{x:(e=t[0]).x,y:e.y,r:e.r};case 2:return v(t[0],t[1]);case 3:return y(t[0],t[1],t[2])}var e}function v(t,e){var r=t.x,n=t.y,i=t.r,a=e.x,o=e.y,s=e.r,l=a-r,c=o-n,u=s-i,f=Math.sqrt(l*l+c*c);return{x:(r+a+l/f*u)/2,y:(n+o+c/f*u)/2,r:(f+i+s)/2}}function y(t,e,r){var n=t.x,i=t.y,a=t.r,o=e.x,s=e.y,l=e.r,c=r.x,u=r.y,f=r.r,h=n-o,p=n-c,d=i-s,g=i-u,m=l-a,v=f-a,y=n*n+i*i-a*a,x=y-o*o-s*s+l*l,b=y-c*c-u*u+f*f,_=p*d-h*g,w=(d*b-g*x)/(2*_)-n,T=(g*m-d*v)/_,k=(p*x-h*b)/(2*_)-i,M=(h*v-p*m)/_,A=T*T+M*M-1,S=2*(a+w*T+k*M),E=w*w+k*k-a*a,C=-(A?(S+Math.sqrt(S*S-4*A*E))/(2*A):E/S);return{x:n+w+T*C,y:i+k+M*C,r:C}}function x(t,e,r){var n,i,a,o,s=t.x-e.x,l=t.y-e.y,c=s*s+l*l;c?(i=e.r+r.r,i*=i,o=t.r+r.r,i&gt;(o*=o)?(n=(c+o-i)/(2*c),a=Math.sqrt(Math.max(0,o/c-n*n)),r.x=t.x-n*s-a*l,r.y=t.y-n*l+a*s):(n=(c+i-o)/(2*c),a=Math.sqrt(Math.max(0,i/c-n*n)),r.x=e.x+n*s-a*l,r.y=e.y+n*l+a*s)):(r.x=e.x+r.r,r.y=e.y)}function b(t,e){var r=t.r+e.r-1e-6,n=e.x-t.x,i=e.y-t.y;return r&gt;0&amp;&amp;r*r&gt;n*n+i*i}function _(t){var e=t._,r=t.next._,n=e.r+r.r,i=(e.x*r.r+r.x*e.r)/n,a=(e.y*r.r+r.y*e.r)/n;return i*i+a*a}function w(t){this._=t,this.next=null,this.previous=null}function T(t){if(!(i=t.length))return 0;var e,r,n,i,a,o,s,l,c,u,h;if((e=t[0]).x=0,e.y=0,!(i&gt;1))return e.r;if(r=t[1],e.x=-r.r,r.x=e.r,r.y=0,!(i&gt;2))return e.r+r.r;x(r,e,n=t[2]),e=new w(e),r=new w(r),n=new w(n),e.next=n.previous=r,r.next=e.previous=n,n.next=r.previous=e;t:for(s=3;s&lt;i;++s){x(e._,r._,n=t[s]),n=new w(n),l=r.next,c=e.previous,u=r._.r,h=e._.r;do{if(u&lt;=h){if(b(l._,n._)){r=l,e.next=r,r.previous=e,--s;continue t}u+=l._.r,l=l.next}else{if(b(c._,n._)){(e=c).next=r,r.previous=e,--s;continue t}h+=c._.r,c=c.previous}}while(l!==c.next);for(n.previous=e,n.next=r,e.next=r.previous=r=n,a=_(e);(n=n.next)!==r;)(o=_(n))&lt;a&amp;&amp;(e=n,a=o);r=e.next}for(e=[r._],n=r;(n=n.next)!==r;)e.push(n._);for(n=f(e),s=0;s&lt;i;++s)(e=t[s]).x-=n.x,e.y-=n.y;return n.r}function k(t){return null==t?null:M(t)}function M(t){if(\&quot;function\&quot;!=typeof t)throw new Error;return t}function A(){return 0}function S(t){return function(){return t}}function E(t){return Math.sqrt(t.value)}function C(t){return function(e){e.children||(e.r=Math.max(0,+t(e)||0))}}function L(t,e){return function(r){if(n=r.children){var n,i,a,o=n.length,s=t(r)*e||0;if(s)for(i=0;i&lt;o;++i)n[i].r+=s;if(a=T(n),s)for(i=0;i&lt;o;++i)n[i].r-=s;r.r=a+s}}}function I(t){return function(e){var r=e.parent;e.r*=t,r&amp;&amp;(e.x=r.x+t*e.x,e.y=r.y+t*e.y)}}function P(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function z(t,e,r,n,i){for(var a,o=t.children,s=-1,l=o.length,c=t.value&amp;&amp;(n-e)/t.value;++s&lt;l;)(a=o[s]).y0=r,a.y1=i,a.x0=e,a.x1=e+=a.value*c}var O={depth:-1},D={};function R(t){return t.id}function F(t){return t.parentId}function B(t,e){return t.parent===e.parent?1:2}function N(t){var e=t.children;return e?e[0]:t.t}function j(t){var e=t.children;return e?e[e.length-1]:t.t}function U(t,e,r){var n=r/(e.i-t.i);e.c-=n,e.s+=r,t.c+=n,e.z+=r,e.m+=r}function V(t,e,r){return t.a.parent===e.parent?t.a:r}function q(t,e){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=e}function H(t,e,r,n,i){for(var a,o=t.children,s=-1,l=o.length,c=t.value&amp;&amp;(i-r)/t.value;++s&lt;l;)(a=o[s]).x0=e,a.x1=n,a.y0=r,a.y1=r+=a.value*c}q.prototype=Object.create(c.prototype);var G=(1+Math.sqrt(5))/2;function Y(t,e,r,n,i,a){for(var o,s,l,c,u,f,h,p,d,g,m,v=[],y=e.children,x=0,b=0,_=y.length,w=e.value;x&lt;_;){l=i-r,c=a-n;do{u=y[b++].value}while(!u&amp;&amp;b&lt;_);for(f=h=u,m=u*u*(g=Math.max(c/l,l/c)/(w*t)),d=Math.max(h/m,m/f);b&lt;_;++b){if(u+=s=y[b].value,s&lt;f&amp;&amp;(f=s),s&gt;h&amp;&amp;(h=s),m=u*u*g,(p=Math.max(h/m,m/f))&gt;d){u-=s;break}d=p}v.push(o={value:u,dice:l&lt;c,children:y.slice(x,b)}),o.dice?z(o,r,n,i,w?n+=c*u/w:a):H(o,r,n,w?r+=l*u/w:i,a),w-=u,x=b}return v}var W=function t(e){function r(t,r,n,i,a){Y(e,t,r,n,i,a)}return r.ratio=function(e){return t((e=+e)&gt;1?e:1)},r}(G);var X=function t(e){function r(t,r,n,i,a){if((o=t._squarify)&amp;&amp;o.ratio===e)for(var o,s,l,c,u,f=-1,h=o.length,p=t.value;++f&lt;h;){for(l=(s=o[f]).children,c=s.value=0,u=l.length;c&lt;u;++c)s.value+=l[c].value;s.dice?z(s,r,n,i,n+=(a-n)*s.value/p):H(s,r,n,r+=(i-r)*s.value/p,a),p-=s.value}else t._squarify=o=Y(e,t,r,n,i,a),o.ratio=e}return r.ratio=function(e){return t((e=+e)&gt;1?e:1)},r}(G);t.cluster=function(){var t=e,i=1,a=1,o=!1;function s(e){var s,l=0;e.eachAfter((function(e){var i=e.children;i?(e.x=function(t){return t.reduce(r,0)/t.length}(i),e.y=function(t){return 1+t.reduce(n,0)}(i)):(e.x=s?l+=t(e,s):0,e.y=0,s=e)}));var c=function(t){for(var e;e=t.children;)t=e[0];return t}(e),u=function(t){for(var e;e=t.children;)t=e[e.length-1];return t}(e),f=c.x-t(c,u)/2,h=u.x+t(u,c)/2;return e.eachAfter(o?function(t){t.x=(t.x-e.x)*i,t.y=(e.y-t.y)*a}:function(t){t.x=(t.x-f)/(h-f)*i,t.y=(1-(e.y?t.y/e.y:1))*a})}return s.separation=function(e){return arguments.length?(t=e,s):t},s.size=function(t){return arguments.length?(o=!1,i=+t[0],a=+t[1],s):o?null:[i,a]},s.nodeSize=function(t){return arguments.length?(o=!0,i=+t[0],a=+t[1],s):o?[i,a]:null},s},t.hierarchy=a,t.pack=function(){var t=null,e=1,r=1,n=A;function i(i){return i.x=e/2,i.y=r/2,t?i.eachBefore(C(t)).eachAfter(L(n,.5)).eachBefore(I(1)):i.eachBefore(C(E)).eachAfter(L(A,1)).eachAfter(L(n,i.r/Math.min(e,r))).eachBefore(I(Math.min(e,r)/(2*i.r))),i}return i.radius=function(e){return arguments.length?(t=k(e),i):t},i.size=function(t){return arguments.length?(e=+t[0],r=+t[1],i):[e,r]},i.padding=function(t){return arguments.length?(n=\&quot;function\&quot;==typeof t?t:S(+t),i):n},i},t.packEnclose=f,t.packSiblings=function(t){return T(t),t},t.partition=function(){var t=1,e=1,r=0,n=!1;function i(i){var a=i.height+1;return i.x0=i.y0=r,i.x1=t,i.y1=e/a,i.eachBefore(function(t,e){return function(n){n.children&amp;&amp;z(n,n.x0,t*(n.depth+1)/e,n.x1,t*(n.depth+2)/e);var i=n.x0,a=n.y0,o=n.x1-r,s=n.y1-r;o&lt;i&amp;&amp;(i=o=(i+o)/2),s&lt;a&amp;&amp;(a=s=(a+s)/2),n.x0=i,n.y0=a,n.x1=o,n.y1=s}}(e,a)),n&amp;&amp;i.eachBefore(P),i}return i.round=function(t){return arguments.length?(n=!!t,i):n},i.size=function(r){return arguments.length?(t=+r[0],e=+r[1],i):[t,e]},i.padding=function(t){return arguments.length?(r=+t,i):r},i},t.stratify=function(){var t=R,e=F;function r(r){var n,i,a,o,s,u,f,h=r.length,p=new Array(h),d={};for(i=0;i&lt;h;++i)n=r[i],s=p[i]=new c(n),null!=(u=t(n,i,r))&amp;&amp;(u+=\&quot;\&quot;)&amp;&amp;(d[f=\&quot;$\&quot;+(s.id=u)]=f in d?D:s);for(i=0;i&lt;h;++i)if(s=p[i],null!=(u=e(r[i],i,r))&amp;&amp;(u+=\&quot;\&quot;)){if(!(o=d[\&quot;$\&quot;+u]))throw new Error(\&quot;missing: \&quot;+u);if(o===D)throw new Error(\&quot;ambiguous: \&quot;+u);o.children?o.children.push(s):o.children=[s],s.parent=o}else{if(a)throw new Error(\&quot;multiple roots\&quot;);a=s}if(!a)throw new Error(\&quot;no root\&quot;);if(a.parent=O,a.eachBefore((function(t){t.depth=t.parent.depth+1,--h})).eachBefore(l),a.parent=null,h&gt;0)throw new Error(\&quot;cycle\&quot;);return a}return r.id=function(e){return arguments.length?(t=M(e),r):t},r.parentId=function(t){return arguments.length?(e=M(t),r):e},r},t.tree=function(){var t=B,e=1,r=1,n=null;function i(i){var l=function(t){for(var e,r,n,i,a,o=new q(t,0),s=[o];e=s.pop();)if(n=e._.children)for(e.children=new Array(a=n.length),i=a-1;i&gt;=0;--i)s.push(r=e.children[i]=new q(n[i],i)),r.parent=e;return(o.parent=new q(null,0)).children=[o],o}(i);if(l.eachAfter(a),l.parent.m=-l.z,l.eachBefore(o),n)i.eachBefore(s);else{var c=i,u=i,f=i;i.eachBefore((function(t){t.x&lt;c.x&amp;&amp;(c=t),t.x&gt;u.x&amp;&amp;(u=t),t.depth&gt;f.depth&amp;&amp;(f=t)}));var h=c===u?1:t(c,u)/2,p=h-c.x,d=e/(u.x+h+p),g=r/(f.depth||1);i.eachBefore((function(t){t.x=(t.x+p)*d,t.y=t.depth*g}))}return i}function a(e){var r=e.children,n=e.parent.children,i=e.i?n[e.i-1]:null;if(r){!function(t){for(var e,r=0,n=0,i=t.children,a=i.length;--a&gt;=0;)(e=i[a]).z+=r,e.m+=r,r+=e.s+(n+=e.c)}(e);var a=(r[0].z+r[r.length-1].z)/2;i?(e.z=i.z+t(e._,i._),e.m=e.z-a):e.z=a}else i&amp;&amp;(e.z=i.z+t(e._,i._));e.parent.A=function(e,r,n){if(r){for(var i,a=e,o=e,s=r,l=a.parent.children[0],c=a.m,u=o.m,f=s.m,h=l.m;s=j(s),a=N(a),s&amp;&amp;a;)l=N(l),(o=j(o)).a=e,(i=s.z+f-a.z-c+t(s._,a._))&gt;0&amp;&amp;(U(V(s,e,n),e,i),c+=i,u+=i),f+=s.m,c+=a.m,h+=l.m,u+=o.m;s&amp;&amp;!j(o)&amp;&amp;(o.t=s,o.m+=f-u),a&amp;&amp;!N(l)&amp;&amp;(l.t=a,l.m+=c-h,n=e)}return n}(e,i,e.parent.A||n[0])}function o(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function s(t){t.x*=e,t.y=t.depth*r}return i.separation=function(e){return arguments.length?(t=e,i):t},i.size=function(t){return arguments.length?(n=!1,e=+t[0],r=+t[1],i):n?null:[e,r]},i.nodeSize=function(t){return arguments.length?(n=!0,e=+t[0],r=+t[1],i):n?[e,r]:null},i},t.treemap=function(){var t=W,e=!1,r=1,n=1,i=[0],a=A,o=A,s=A,l=A,c=A;function u(t){return t.x0=t.y0=0,t.x1=r,t.y1=n,t.eachBefore(f),i=[0],e&amp;&amp;t.eachBefore(P),t}function f(e){var r=i[e.depth],n=e.x0+r,u=e.y0+r,f=e.x1-r,h=e.y1-r;f&lt;n&amp;&amp;(n=f=(n+f)/2),h&lt;u&amp;&amp;(u=h=(u+h)/2),e.x0=n,e.y0=u,e.x1=f,e.y1=h,e.children&amp;&amp;(r=i[e.depth+1]=a(e)/2,n+=c(e)-r,u+=o(e)-r,(f-=s(e)-r)&lt;n&amp;&amp;(n=f=(n+f)/2),(h-=l(e)-r)&lt;u&amp;&amp;(u=h=(u+h)/2),t(e,n,u,f,h))}return u.round=function(t){return arguments.length?(e=!!t,u):e},u.size=function(t){return arguments.length?(r=+t[0],n=+t[1],u):[r,n]},u.tile=function(e){return arguments.length?(t=M(e),u):t},u.padding=function(t){return arguments.length?u.paddingInner(t).paddingOuter(t):u.paddingInner()},u.paddingInner=function(t){return arguments.length?(a=\&quot;function\&quot;==typeof t?t:S(+t),u):a},u.paddingOuter=function(t){return arguments.length?u.paddingTop(t).paddingRight(t).paddingBottom(t).paddingLeft(t):u.paddingTop()},u.paddingTop=function(t){return arguments.length?(o=\&quot;function\&quot;==typeof t?t:S(+t),u):o},u.paddingRight=function(t){return arguments.length?(s=\&quot;function\&quot;==typeof t?t:S(+t),u):s},u.paddingBottom=function(t){return arguments.length?(l=\&quot;function\&quot;==typeof t?t:S(+t),u):l},u.paddingLeft=function(t){return arguments.length?(c=\&quot;function\&quot;==typeof t?t:S(+t),u):c},u},t.treemapBinary=function(t,e,r,n,i){var a,o,s=t.children,l=s.length,c=new Array(l+1);for(c[0]=o=a=0;a&lt;l;++a)c[a+1]=o+=s[a].value;!function t(e,r,n,i,a,o,l){if(e&gt;=r-1){var u=s[e];return u.x0=i,u.y0=a,u.x1=o,void(u.y1=l)}var f=c[e],h=n/2+f,p=e+1,d=r-1;for(;p&lt;d;){var g=p+d&gt;&gt;&gt;1;c[g]&lt;h?p=g+1:d=g}h-c[p-1]&lt;c[p]-h&amp;&amp;e+1&lt;p&amp;&amp;--p;var m=c[p]-f,v=n-m;if(o-i&gt;l-a){var y=(i*v+o*m)/n;t(e,p,m,i,a,y,l),t(p,r,v,y,a,o,l)}else{var x=(a*v+l*m)/n;t(e,p,m,i,a,o,x),t(p,r,v,i,x,o,l)}}(0,l,t.value,e,r,n,i)},t.treemapDice=z,t.treemapResquarify=X,t.treemapSlice=H,t.treemapSliceDice=function(t,e,r,n,i){(1&amp;t.depth?H:z)(t,e,r,n,i)},t.treemapSquarify=W,Object.defineProperty(t,\&quot;__esModule\&quot;,{value:!0})}))},{}],162:[function(t,e,r){!function(n,i){\&quot;object\&quot;==typeof r&amp;&amp;\&quot;undefined\&quot;!=typeof e?i(r,t(\&quot;d3-color\&quot;)):i((n=n||self).d3=n.d3||{},n.d3)}(this,(function(t,e){\&quot;use strict\&quot;;function r(t,e,r,n,i){var a=t*t,o=a*t;return((1-3*t+3*a-o)*e+(4-6*a+3*o)*r+(1+3*t+3*a-3*o)*n+o*i)/6}function n(t){var e=t.length-1;return function(n){var i=n&lt;=0?n=0:n&gt;=1?(n=1,e-1):Math.floor(n*e),a=t[i],o=t[i+1],s=i&gt;0?t[i-1]:2*a-o,l=i&lt;e-1?t[i+2]:2*o-a;return r((n-i/e)*e,s,a,o,l)}}function i(t){var e=t.length;return function(n){var i=Math.floor(((n%=1)&lt;0?++n:n)*e),a=t[(i+e-1)%e],o=t[i%e],s=t[(i+1)%e],l=t[(i+2)%e];return r((n-i/e)*e,a,o,s,l)}}function a(t){return function(){return t}}function o(t,e){return function(r){return t+r*e}}function s(t,e){var r=e-t;return r?o(t,r&gt;180||r&lt;-180?r-360*Math.round(r/360):r):a(isNaN(t)?e:t)}function l(t){return 1==(t=+t)?c:function(e,r){return r-e?function(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}(e,r,t):a(isNaN(e)?r:e)}}function c(t,e){var r=e-t;return r?o(t,r):a(isNaN(t)?e:t)}var u=function t(r){var n=l(r);function i(t,r){var i=n((t=e.rgb(t)).r,(r=e.rgb(r)).r),a=n(t.g,r.g),o=n(t.b,r.b),s=c(t.opacity,r.opacity);return function(e){return t.r=i(e),t.g=a(e),t.b=o(e),t.opacity=s(e),t+\&quot;\&quot;}}return i.gamma=t,i}(1);function f(t){return function(r){var n,i,a=r.length,o=new Array(a),s=new Array(a),l=new Array(a);for(n=0;n&lt;a;++n)i=e.rgb(r[n]),o[n]=i.r||0,s[n]=i.g||0,l[n]=i.b||0;return o=t(o),s=t(s),l=t(l),i.opacity=1,function(t){return i.r=o(t),i.g=s(t),i.b=l(t),i+\&quot;\&quot;}}}var h=f(n),p=f(i);function d(t,e){e||(e=[]);var r,n=t?Math.min(e.length,t.length):0,i=e.slice();return function(a){for(r=0;r&lt;n;++r)i[r]=t[r]*(1-a)+e[r]*a;return i}}function g(t){return ArrayBuffer.isView(t)&amp;&amp;!(t instanceof DataView)}function m(t,e){var r,n=e?e.length:0,i=t?Math.min(n,t.length):0,a=new Array(i),o=new Array(n);for(r=0;r&lt;i;++r)a[r]=T(t[r],e[r]);for(;r&lt;n;++r)o[r]=e[r];return function(t){for(r=0;r&lt;i;++r)o[r]=a[r](t);return o}}function v(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function y(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function x(t,e){var r,n={},i={};for(r in null!==t&amp;&amp;\&quot;object\&quot;==typeof t||(t={}),null!==e&amp;&amp;\&quot;object\&quot;==typeof e||(e={}),e)r in t?n[r]=T(t[r],e[r]):i[r]=e[r];return function(t){for(r in n)i[r]=n[r](t);return i}}var b=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,_=new RegExp(b.source,\&quot;g\&quot;);function w(t,e){var r,n,i,a=b.lastIndex=_.lastIndex=0,o=-1,s=[],l=[];for(t+=\&quot;\&quot;,e+=\&quot;\&quot;;(r=b.exec(t))&amp;&amp;(n=_.exec(e));)(i=n.index)&gt;a&amp;&amp;(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:y(r,n)})),a=_.lastIndex;return a&lt;e.length&amp;&amp;(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length&lt;2?l[0]?function(t){return function(e){return t(e)+\&quot;\&quot;}}(l[0].x):function(t){return function(){return t}}(e):(e=l.length,function(t){for(var r,n=0;n&lt;e;++n)s[(r=l[n]).i]=r.x(t);return s.join(\&quot;\&quot;)})}function T(t,r){var n,i=typeof r;return null==r||\&quot;boolean\&quot;===i?a(r):(\&quot;number\&quot;===i?y:\&quot;string\&quot;===i?(n=e.color(r))?(r=n,u):w:r instanceof e.color?u:r instanceof Date?v:g(r)?d:Array.isArray(r)?m:\&quot;function\&quot;!=typeof r.valueOf&amp;&amp;\&quot;function\&quot;!=typeof r.toString||isNaN(r)?x:y)(t,r)}var k,M,A,S,E=180/Math.PI,C={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function L(t,e,r,n,i,a){var o,s,l;return(o=Math.sqrt(t*t+e*e))&amp;&amp;(t/=o,e/=o),(l=t*r+e*n)&amp;&amp;(r-=t*l,n-=e*l),(s=Math.sqrt(r*r+n*n))&amp;&amp;(r/=s,n/=s,l/=s),t*n&lt;e*r&amp;&amp;(t=-t,e=-e,l=-l,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(e,t)*E,skewX:Math.atan(l)*E,scaleX:o,scaleY:s}}function I(t,e,r,n){function i(t){return t.length?t.pop()+\&quot; \&quot;:\&quot;\&quot;}return function(a,o){var s=[],l=[];return a=t(a),o=t(o),function(t,n,i,a,o,s){if(t!==i||n!==a){var l=o.push(\&quot;translate(\&quot;,null,e,null,r);s.push({i:l-4,x:y(t,i)},{i:l-2,x:y(n,a)})}else(i||a)&amp;&amp;o.push(\&quot;translate(\&quot;+i+e+a+r)}(a.translateX,a.translateY,o.translateX,o.translateY,s,l),function(t,e,r,a){t!==e?(t-e&gt;180?e+=360:e-t&gt;180&amp;&amp;(t+=360),a.push({i:r.push(i(r)+\&quot;rotate(\&quot;,null,n)-2,x:y(t,e)})):e&amp;&amp;r.push(i(r)+\&quot;rotate(\&quot;+e+n)}(a.rotate,o.rotate,s,l),function(t,e,r,a){t!==e?a.push({i:r.push(i(r)+\&quot;skewX(\&quot;,null,n)-2,x:y(t,e)}):e&amp;&amp;r.push(i(r)+\&quot;skewX(\&quot;+e+n)}(a.skewX,o.skewX,s,l),function(t,e,r,n,a,o){if(t!==r||e!==n){var s=a.push(i(a)+\&quot;scale(\&quot;,null,\&quot;,\&quot;,null,\&quot;)\&quot;);o.push({i:s-4,x:y(t,r)},{i:s-2,x:y(e,n)})}else 1===r&amp;&amp;1===n||a.push(i(a)+\&quot;scale(\&quot;+r+\&quot;,\&quot;+n+\&quot;)\&quot;)}(a.scaleX,a.scaleY,o.scaleX,o.scaleY,s,l),a=o=null,function(t){for(var e,r=-1,n=l.length;++r&lt;n;)s[(e=l[r]).i]=e.x(t);return s.join(\&quot;\&quot;)}}}var P=I((function(t){return\&quot;none\&quot;===t?C:(k||(k=document.createElement(\&quot;DIV\&quot;),M=document.documentElement,A=document.defaultView),k.style.transform=t,t=A.getComputedStyle(M.appendChild(k),null).getPropertyValue(\&quot;transform\&quot;),M.removeChild(k),L(+(t=t.slice(7,-1).split(\&quot;,\&quot;))[0],+t[1],+t[2],+t[3],+t[4],+t[5]))}),\&quot;px, \&quot;,\&quot;px)\&quot;,\&quot;deg)\&quot;),z=I((function(t){return null==t?C:(S||(S=document.createElementNS(\&quot;http://www.w3.org/2000/svg\&quot;,\&quot;g\&quot;)),S.setAttribute(\&quot;transform\&quot;,t),(t=S.transform.baseVal.consolidate())?L((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):C)}),\&quot;, \&quot;,\&quot;)\&quot;,\&quot;)\&quot;),O=Math.SQRT2;function D(t){return((t=Math.exp(t))+1/t)/2}function R(t){return function(r,n){var i=t((r=e.hsl(r)).h,(n=e.hsl(n)).h),a=c(r.s,n.s),o=c(r.l,n.l),s=c(r.opacity,n.opacity);return function(t){return r.h=i(t),r.s=a(t),r.l=o(t),r.opacity=s(t),r+\&quot;\&quot;}}}var F=R(s),B=R(c);function N(t){return function(r,n){var i=t((r=e.hcl(r)).h,(n=e.hcl(n)).h),a=c(r.c,n.c),o=c(r.l,n.l),s=c(r.opacity,n.opacity);return function(t){return r.h=i(t),r.c=a(t),r.l=o(t),r.opacity=s(t),r+\&quot;\&quot;}}}var j=N(s),U=N(c);function V(t){return function r(n){function i(r,i){var a=t((r=e.cubehelix(r)).h,(i=e.cubehelix(i)).h),o=c(r.s,i.s),s=c(r.l,i.l),l=c(r.opacity,i.opacity);return function(t){return r.h=a(t),r.s=o(t),r.l=s(Math.pow(t,n)),r.opacity=l(t),r+\&quot;\&quot;}}return n=+n,i.gamma=r,i}(1)}var q=V(s),H=V(c);t.interpolate=T,t.interpolateArray=function(t,e){return(g(e)?d:m)(t,e)},t.interpolateBasis=n,t.interpolateBasisClosed=i,t.interpolateCubehelix=q,t.interpolateCubehelixLong=H,t.interpolateDate=v,t.interpolateDiscrete=function(t){var e=t.length;return function(r){return t[Math.max(0,Math.min(e-1,Math.floor(r*e)))]}},t.interpolateHcl=j,t.interpolateHclLong=U,t.interpolateHsl=F,t.interpolateHslLong=B,t.interpolateHue=function(t,e){var r=s(+t,+e);return function(t){var e=r(t);return e-360*Math.floor(e/360)}},t.interpolateLab=function(t,r){var n=c((t=e.lab(t)).l,(r=e.lab(r)).l),i=c(t.a,r.a),a=c(t.b,r.b),o=c(t.opacity,r.opacity);return function(e){return t.l=n(e),t.a=i(e),t.b=a(e),t.opacity=o(e),t+\&quot;\&quot;}},t.interpolateNumber=y,t.interpolateNumberArray=d,t.interpolateObject=x,t.interpolateRgb=u,t.interpolateRgbBasis=h,t.interpolateRgbBasisClosed=p,t.interpolateRound=function(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}},t.interpolateString=w,t.interpolateTransformCss=P,t.interpolateTransformSvg=z,t.interpolateZoom=function(t,e){var r,n,i=t[0],a=t[1],o=t[2],s=e[0],l=e[1],c=e[2],u=s-i,f=l-a,h=u*u+f*f;if(h&lt;1e-12)n=Math.log(c/o)/O,r=function(t){return[i+t*u,a+t*f,o*Math.exp(O*t*n)]};else{var p=Math.sqrt(h),d=(c*c-o*o+4*h)/(2*o*2*p),g=(c*c-o*o-4*h)/(2*c*2*p),m=Math.log(Math.sqrt(d*d+1)-d),v=Math.log(Math.sqrt(g*g+1)-g);n=(v-m)/O,r=function(t){var e,r=t*n,s=D(m),l=o/(2*p)*(s*(e=O*r+m,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[i+l*u,a+l*f,o*s/D(O*r+m)]}}return r.duration=1e3*n,r},t.piecewise=function(t,e){for(var r=0,n=e.length-1,i=e[0],a=new Array(n&lt;0?0:n);r&lt;n;)a[r]=t(i,i=e[++r]);return function(t){var e=Math.max(0,Math.min(n-1,Math.floor(t*=n)));return a[e](t-e)}},t.quantize=function(t,e){for(var r=new Array(e),n=0;n&lt;e;++n)r[n]=t(n/(e-1));return r},Object.defineProperty(t,\&quot;__esModule\&quot;,{value:!0})}))},{\&quot;d3-color\&quot;:158}],163:[function(t,e,r){!function(t,n){\&quot;object\&quot;==typeof r&amp;&amp;\&quot;undefined\&quot;!=typeof e?n(r):n((t=t||self).d3=t.d3||{})}(this,(function(t){\&quot;use strict\&quot;;var e=Math.PI,r=2*e,n=r-1e-6;function i(){this._x0=this._y0=this._x1=this._y1=null,this._=\&quot;\&quot;}function a(){return new i}i.prototype=a.prototype={constructor:i,moveTo:function(t,e){this._+=\&quot;M\&quot;+(this._x0=this._x1=+t)+\&quot;,\&quot;+(this._y0=this._y1=+e)},closePath:function(){null!==this._x1&amp;&amp;(this._x1=this._x0,this._y1=this._y0,this._+=\&quot;Z\&quot;)},lineTo:function(t,e){this._+=\&quot;L\&quot;+(this._x1=+t)+\&quot;,\&quot;+(this._y1=+e)},quadraticCurveTo:function(t,e,r,n){this._+=\&quot;Q\&quot;+ +t+\&quot;,\&quot;+ +e+\&quot;,\&quot;+(this._x1=+r)+\&quot;,\&quot;+(this._y1=+n)},bezierCurveTo:function(t,e,r,n,i,a){this._+=\&quot;C\&quot;+ +t+\&quot;,\&quot;+ +e+\&quot;,\&quot;+ +r+\&quot;,\&quot;+ +n+\&quot;,\&quot;+(this._x1=+i)+\&quot;,\&quot;+(this._y1=+a)},arcTo:function(t,r,n,i,a){t=+t,r=+r,n=+n,i=+i,a=+a;var o=this._x1,s=this._y1,l=n-t,c=i-r,u=o-t,f=s-r,h=u*u+f*f;if(a&lt;0)throw new Error(\&quot;negative radius: \&quot;+a);if(null===this._x1)this._+=\&quot;M\&quot;+(this._x1=t)+\&quot;,\&quot;+(this._y1=r);else if(h&gt;1e-6)if(Math.abs(f*l-c*u)&gt;1e-6&amp;&amp;a){var p=n-o,d=i-s,g=l*l+c*c,m=p*p+d*d,v=Math.sqrt(g),y=Math.sqrt(h),x=a*Math.tan((e-Math.acos((g+h-m)/(2*v*y)))/2),b=x/y,_=x/v;Math.abs(b-1)&gt;1e-6&amp;&amp;(this._+=\&quot;L\&quot;+(t+b*u)+\&quot;,\&quot;+(r+b*f)),this._+=\&quot;A\&quot;+a+\&quot;,\&quot;+a+\&quot;,0,0,\&quot;+ +(f*p&gt;u*d)+\&quot;,\&quot;+(this._x1=t+_*l)+\&quot;,\&quot;+(this._y1=r+_*c)}else this._+=\&quot;L\&quot;+(this._x1=t)+\&quot;,\&quot;+(this._y1=r);else;},arc:function(t,i,a,o,s,l){t=+t,i=+i,l=!!l;var c=(a=+a)*Math.cos(o),u=a*Math.sin(o),f=t+c,h=i+u,p=1^l,d=l?o-s:s-o;if(a&lt;0)throw new Error(\&quot;negative radius: \&quot;+a);null===this._x1?this._+=\&quot;M\&quot;+f+\&quot;,\&quot;+h:(Math.abs(this._x1-f)&gt;1e-6||Math.abs(this._y1-h)&gt;1e-6)&amp;&amp;(this._+=\&quot;L\&quot;+f+\&quot;,\&quot;+h),a&amp;&amp;(d&lt;0&amp;&amp;(d=d%r+r),d&gt;n?this._+=\&quot;A\&quot;+a+\&quot;,\&quot;+a+\&quot;,0,1,\&quot;+p+\&quot;,\&quot;+(t-c)+\&quot;,\&quot;+(i-u)+\&quot;A\&quot;+a+\&quot;,\&quot;+a+\&quot;,0,1,\&quot;+p+\&quot;,\&quot;+(this._x1=f)+\&quot;,\&quot;+(this._y1=h):d&gt;1e-6&amp;&amp;(this._+=\&quot;A\&quot;+a+\&quot;,\&quot;+a+\&quot;,0,\&quot;+ +(d&gt;=e)+\&quot;,\&quot;+p+\&quot;,\&quot;+(this._x1=t+a*Math.cos(s))+\&quot;,\&quot;+(this._y1=i+a*Math.sin(s))))},rect:function(t,e,r,n){this._+=\&quot;M\&quot;+(this._x0=this._x1=+t)+\&quot;,\&quot;+(this._y0=this._y1=+e)+\&quot;h\&quot;+ +r+\&quot;v\&quot;+ +n+\&quot;h\&quot;+-r+\&quot;Z\&quot;},toString:function(){return this._}},t.path=a,Object.defineProperty(t,\&quot;__esModule\&quot;,{value:!0})}))},{}],164:[function(t,e,r){!function(t,n){\&quot;object\&quot;==typeof r&amp;&amp;\&quot;undefined\&quot;!=typeof e?n(r):n((t=t||self).d3=t.d3||{})}(this,(function(t){\&quot;use strict\&quot;;function e(t,e,r,n){if(isNaN(e)||isNaN(r))return t;var i,a,o,s,l,c,u,f,h,p=t._root,d={data:n},g=t._x0,m=t._y0,v=t._x1,y=t._y1;if(!p)return t._root=d,t;for(;p.length;)if((c=e&gt;=(a=(g+v)/2))?g=a:v=a,(u=r&gt;=(o=(m+y)/2))?m=o:y=o,i=p,!(p=p[f=u&lt;&lt;1|c]))return i[f]=d,t;if(s=+t._x.call(null,p.data),l=+t._y.call(null,p.data),e===s&amp;&amp;r===l)return d.next=p,i?i[f]=d:t._root=d,t;do{i=i?i[f]=new Array(4):t._root=new Array(4),(c=e&gt;=(a=(g+v)/2))?g=a:v=a,(u=r&gt;=(o=(m+y)/2))?m=o:y=o}while((f=u&lt;&lt;1|c)==(h=(l&gt;=o)&lt;&lt;1|s&gt;=a));return i[h]=p,i[f]=d,t}function r(t,e,r,n,i){this.node=t,this.x0=e,this.y0=r,this.x1=n,this.y1=i}function n(t){return t[0]}function i(t){return t[1]}function a(t,e,r){var a=new o(null==e?n:e,null==r?i:r,NaN,NaN,NaN,NaN);return null==t?a:a.addAll(t)}function o(t,e,r,n,i,a){this._x=t,this._y=e,this._x0=r,this._y0=n,this._x1=i,this._y1=a,this._root=void 0}function s(t){for(var e={data:t.data},r=e;t=t.next;)r=r.next={data:t.data};return e}var l=a.prototype=o.prototype;l.copy=function(){var t,e,r=new o(this._x,this._y,this._x0,this._y0,this._x1,this._y1),n=this._root;if(!n)return r;if(!n.length)return r._root=s(n),r;for(t=[{source:n,target:r._root=new Array(4)}];n=t.pop();)for(var i=0;i&lt;4;++i)(e=n.source[i])&amp;&amp;(e.length?t.push({source:e,target:n.target[i]=new Array(4)}):n.target[i]=s(e));return r},l.add=function(t){var r=+this._x.call(null,t),n=+this._y.call(null,t);return e(this.cover(r,n),r,n,t)},l.addAll=function(t){var r,n,i,a,o=t.length,s=new Array(o),l=new Array(o),c=1/0,u=1/0,f=-1/0,h=-1/0;for(n=0;n&lt;o;++n)isNaN(i=+this._x.call(null,r=t[n]))||isNaN(a=+this._y.call(null,r))||(s[n]=i,l[n]=a,i&lt;c&amp;&amp;(c=i),i&gt;f&amp;&amp;(f=i),a&lt;u&amp;&amp;(u=a),a&gt;h&amp;&amp;(h=a));if(c&gt;f||u&gt;h)return this;for(this.cover(c,u).cover(f,h),n=0;n&lt;o;++n)e(this,s[n],l[n],t[n]);return this},l.cover=function(t,e){if(isNaN(t=+t)||isNaN(e=+e))return this;var r=this._x0,n=this._y0,i=this._x1,a=this._y1;if(isNaN(r))i=(r=Math.floor(t))+1,a=(n=Math.floor(e))+1;else{for(var o,s,l=i-r,c=this._root;r&gt;t||t&gt;=i||n&gt;e||e&gt;=a;)switch(s=(e&lt;n)&lt;&lt;1|t&lt;r,(o=new Array(4))[s]=c,c=o,l*=2,s){case 0:i=r+l,a=n+l;break;case 1:r=i-l,a=n+l;break;case 2:i=r+l,n=a-l;break;case 3:r=i-l,n=a-l}this._root&amp;&amp;this._root.length&amp;&amp;(this._root=c)}return this._x0=r,this._y0=n,this._x1=i,this._y1=a,this},l.data=function(){var t=[];return this.visit((function(e){if(!e.length)do{t.push(e.data)}while(e=e.next)})),t},l.extent=function(t){return arguments.length?this.cover(+t[0][0],+t[0][1]).cover(+t[1][0],+t[1][1]):isNaN(this._x0)?void 0:[[this._x0,this._y0],[this._x1,this._y1]]},l.find=function(t,e,n){var i,a,o,s,l,c,u,f=this._x0,h=this._y0,p=this._x1,d=this._y1,g=[],m=this._root;for(m&amp;&amp;g.push(new r(m,f,h,p,d)),null==n?n=1/0:(f=t-n,h=e-n,p=t+n,d=e+n,n*=n);c=g.pop();)if(!(!(m=c.node)||(a=c.x0)&gt;p||(o=c.y0)&gt;d||(s=c.x1)&lt;f||(l=c.y1)&lt;h))if(m.length){var v=(a+s)/2,y=(o+l)/2;g.push(new r(m[3],v,y,s,l),new r(m[2],a,y,v,l),new r(m[1],v,o,s,y),new r(m[0],a,o,v,y)),(u=(e&gt;=y)&lt;&lt;1|t&gt;=v)&amp;&amp;(c=g[g.length-1],g[g.length-1]=g[g.length-1-u],g[g.length-1-u]=c)}else{var x=t-+this._x.call(null,m.data),b=e-+this._y.call(null,m.data),_=x*x+b*b;if(_&lt;n){var w=Math.sqrt(n=_);f=t-w,h=e-w,p=t+w,d=e+w,i=m.data}}return i},l.remove=function(t){if(isNaN(a=+this._x.call(null,t))||isNaN(o=+this._y.call(null,t)))return this;var e,r,n,i,a,o,s,l,c,u,f,h,p=this._root,d=this._x0,g=this._y0,m=this._x1,v=this._y1;if(!p)return this;if(p.length)for(;;){if((c=a&gt;=(s=(d+m)/2))?d=s:m=s,(u=o&gt;=(l=(g+v)/2))?g=l:v=l,e=p,!(p=p[f=u&lt;&lt;1|c]))return this;if(!p.length)break;(e[f+1&amp;3]||e[f+2&amp;3]||e[f+3&amp;3])&amp;&amp;(r=e,h=f)}for(;p.data!==t;)if(n=p,!(p=p.next))return this;return(i=p.next)&amp;&amp;delete p.next,n?(i?n.next=i:delete n.next,this):e?(i?e[f]=i:delete e[f],(p=e[0]||e[1]||e[2]||e[3])&amp;&amp;p===(e[3]||e[2]||e[1]||e[0])&amp;&amp;!p.length&amp;&amp;(r?r[h]=p:this._root=p),this):(this._root=i,this)},l.removeAll=function(t){for(var e=0,r=t.length;e&lt;r;++e)this.remove(t[e]);return this},l.root=function(){return this._root},l.size=function(){var t=0;return this.visit((function(e){if(!e.length)do{++t}while(e=e.next)})),t},l.visit=function(t){var e,n,i,a,o,s,l=[],c=this._root;for(c&amp;&amp;l.push(new r(c,this._x0,this._y0,this._x1,this._y1));e=l.pop();)if(!t(c=e.node,i=e.x0,a=e.y0,o=e.x1,s=e.y1)&amp;&amp;c.length){var u=(i+o)/2,f=(a+s)/2;(n=c[3])&amp;&amp;l.push(new r(n,u,f,o,s)),(n=c[2])&amp;&amp;l.push(new r(n,i,f,u,s)),(n=c[1])&amp;&amp;l.push(new r(n,u,a,o,f)),(n=c[0])&amp;&amp;l.push(new r(n,i,a,u,f))}return this},l.visitAfter=function(t){var e,n=[],i=[];for(this._root&amp;&amp;n.push(new r(this._root,this._x0,this._y0,this._x1,this._y1));e=n.pop();){var a=e.node;if(a.length){var o,s=e.x0,l=e.y0,c=e.x1,u=e.y1,f=(s+c)/2,h=(l+u)/2;(o=a[0])&amp;&amp;n.push(new r(o,s,l,f,h)),(o=a[1])&amp;&amp;n.push(new r(o,f,l,c,h)),(o=a[2])&amp;&amp;n.push(new r(o,s,h,f,u)),(o=a[3])&amp;&amp;n.push(new r(o,f,h,c,u))}i.push(e)}for(;e=i.pop();)t(e.node,e.x0,e.y0,e.x1,e.y1);return this},l.x=function(t){return arguments.length?(this._x=t,this):this._x},l.y=function(t){return arguments.length?(this._y=t,this):this._y},t.quadtree=a,Object.defineProperty(t,\&quot;__esModule\&quot;,{value:!0})}))},{}],165:[function(t,e,r){!function(n,i){\&quot;object\&quot;==typeof r&amp;&amp;\&quot;undefined\&quot;!=typeof e?i(r,t(\&quot;d3-path\&quot;)):i((n=n||self).d3=n.d3||{},n.d3)}(this,(function(t,e){\&quot;use strict\&quot;;function r(t){return function(){return t}}var n=Math.abs,i=Math.atan2,a=Math.cos,o=Math.max,s=Math.min,l=Math.sin,c=Math.sqrt,u=Math.PI,f=u/2,h=2*u;function p(t){return t&gt;1?0:t&lt;-1?u:Math.acos(t)}function d(t){return t&gt;=1?f:t&lt;=-1?-f:Math.asin(t)}function g(t){return t.innerRadius}function m(t){return t.outerRadius}function v(t){return t.startAngle}function y(t){return t.endAngle}function x(t){return t&amp;&amp;t.padAngle}function b(t,e,r,n,i,a,o,s){var l=r-t,c=n-e,u=o-i,f=s-a,h=f*l-u*c;if(!(h*h&lt;1e-12))return[t+(h=(u*(e-a)-f*(t-i))/h)*l,e+h*c]}function _(t,e,r,n,i,a,s){var l=t-r,u=e-n,f=(s?a:-a)/c(l*l+u*u),h=f*u,p=-f*l,d=t+h,g=e+p,m=r+h,v=n+p,y=(d+m)/2,x=(g+v)/2,b=m-d,_=v-g,w=b*b+_*_,T=i-a,k=d*v-m*g,M=(_&lt;0?-1:1)*c(o(0,T*T*w-k*k)),A=(k*_-b*M)/w,S=(-k*b-_*M)/w,E=(k*_+b*M)/w,C=(-k*b+_*M)/w,L=A-y,I=S-x,P=E-y,z=C-x;return L*L+I*I&gt;P*P+z*z&amp;&amp;(A=E,S=C),{cx:A,cy:S,x01:-h,y01:-p,x11:A*(i/T-1),y11:S*(i/T-1)}}function w(t){this._context=t}function T(t){return new w(t)}function k(t){return t[0]}function M(t){return t[1]}function A(){var t=k,n=M,i=r(!0),a=null,o=T,s=null;function l(r){var l,c,u,f=r.length,h=!1;for(null==a&amp;&amp;(s=o(u=e.path())),l=0;l&lt;=f;++l)!(l&lt;f&amp;&amp;i(c=r[l],l,r))===h&amp;&amp;((h=!h)?s.lineStart():s.lineEnd()),h&amp;&amp;s.point(+t(c,l,r),+n(c,l,r));if(u)return s=null,u+\&quot;\&quot;||null}return l.x=function(e){return arguments.length?(t=\&quot;function\&quot;==typeof e?e:r(+e),l):t},l.y=function(t){return arguments.length?(n=\&quot;function\&quot;==typeof t?t:r(+t),l):n},l.defined=function(t){return arguments.length?(i=\&quot;function\&quot;==typeof t?t:r(!!t),l):i},l.curve=function(t){return arguments.length?(o=t,null!=a&amp;&amp;(s=o(a)),l):o},l.context=function(t){return arguments.length?(null==t?a=s=null:s=o(a=t),l):a},l}function S(){var t=k,n=null,i=r(0),a=M,o=r(!0),s=null,l=T,c=null;function u(r){var u,f,h,p,d,g=r.length,m=!1,v=new Array(g),y=new Array(g);for(null==s&amp;&amp;(c=l(d=e.path())),u=0;u&lt;=g;++u){if(!(u&lt;g&amp;&amp;o(p=r[u],u,r))===m)if(m=!m)f=u,c.areaStart(),c.lineStart();else{for(c.lineEnd(),c.lineStart(),h=u-1;h&gt;=f;--h)c.point(v[h],y[h]);c.lineEnd(),c.areaEnd()}m&amp;&amp;(v[u]=+t(p,u,r),y[u]=+i(p,u,r),c.point(n?+n(p,u,r):v[u],a?+a(p,u,r):y[u]))}if(d)return c=null,d+\&quot;\&quot;||null}function f(){return A().defined(o).curve(l).context(s)}return u.x=function(e){return arguments.length?(t=\&quot;function\&quot;==typeof e?e:r(+e),n=null,u):t},u.x0=function(e){return arguments.length?(t=\&quot;function\&quot;==typeof e?e:r(+e),u):t},u.x1=function(t){return arguments.length?(n=null==t?null:\&quot;function\&quot;==typeof t?t:r(+t),u):n},u.y=function(t){return arguments.length?(i=\&quot;function\&quot;==typeof t?t:r(+t),a=null,u):i},u.y0=function(t){return arguments.length?(i=\&quot;function\&quot;==typeof t?t:r(+t),u):i},u.y1=function(t){return arguments.length?(a=null==t?null:\&quot;function\&quot;==typeof t?t:r(+t),u):a},u.lineX0=u.lineY0=function(){return f().x(t).y(i)},u.lineY1=function(){return f().x(t).y(a)},u.lineX1=function(){return f().x(n).y(i)},u.defined=function(t){return arguments.length?(o=\&quot;function\&quot;==typeof t?t:r(!!t),u):o},u.curve=function(t){return arguments.length?(l=t,null!=s&amp;&amp;(c=l(s)),u):l},u.context=function(t){return arguments.length?(null==t?s=c=null:c=l(s=t),u):s},u}function E(t,e){return e&lt;t?-1:e&gt;t?1:e&gt;=t?0:NaN}function C(t){return t}w.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||0!==this._line&amp;&amp;1===this._point)&amp;&amp;this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e)}}};var L=P(T);function I(t){this._curve=t}function P(t){function e(e){return new I(t(e))}return e._curve=t,e}function z(t){var e=t.curve;return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t.curve=function(t){return arguments.length?e(P(t)):e()._curve},t}function O(){return z(A().curve(L))}function D(){var t=S().curve(L),e=t.curve,r=t.lineX0,n=t.lineX1,i=t.lineY0,a=t.lineY1;return t.angle=t.x,delete t.x,t.startAngle=t.x0,delete t.x0,t.endAngle=t.x1,delete t.x1,t.radius=t.y,delete t.y,t.innerRadius=t.y0,delete t.y0,t.outerRadius=t.y1,delete t.y1,t.lineStartAngle=function(){return z(r())},delete t.lineX0,t.lineEndAngle=function(){return z(n())},delete t.lineX1,t.lineInnerRadius=function(){return z(i())},delete t.lineY0,t.lineOuterRadius=function(){return z(a())},delete t.lineY1,t.curve=function(t){return arguments.length?e(P(t)):e()._curve},t}function R(t,e){return[(e=+e)*Math.cos(t-=Math.PI/2),e*Math.sin(t)]}I.prototype={areaStart:function(){this._curve.areaStart()},areaEnd:function(){this._curve.areaEnd()},lineStart:function(){this._curve.lineStart()},lineEnd:function(){this._curve.lineEnd()},point:function(t,e){this._curve.point(e*Math.sin(t),e*-Math.cos(t))}};var F=Array.prototype.slice;function B(t){return t.source}function N(t){return t.target}function j(t){var n=B,i=N,a=k,o=M,s=null;function l(){var r,l=F.call(arguments),c=n.apply(this,l),u=i.apply(this,l);if(s||(s=r=e.path()),t(s,+a.apply(this,(l[0]=c,l)),+o.apply(this,l),+a.apply(this,(l[0]=u,l)),+o.apply(this,l)),r)return s=null,r+\&quot;\&quot;||null}return l.source=function(t){return arguments.length?(n=t,l):n},l.target=function(t){return arguments.length?(i=t,l):i},l.x=function(t){return arguments.length?(a=\&quot;function\&quot;==typeof t?t:r(+t),l):a},l.y=function(t){return arguments.length?(o=\&quot;function\&quot;==typeof t?t:r(+t),l):o},l.context=function(t){return arguments.length?(s=null==t?null:t,l):s},l}function U(t,e,r,n,i){t.moveTo(e,r),t.bezierCurveTo(e=(e+n)/2,r,e,i,n,i)}function V(t,e,r,n,i){t.moveTo(e,r),t.bezierCurveTo(e,r=(r+i)/2,n,r,n,i)}function q(t,e,r,n,i){var a=R(e,r),o=R(e,r=(r+i)/2),s=R(n,r),l=R(n,i);t.moveTo(a[0],a[1]),t.bezierCurveTo(o[0],o[1],s[0],s[1],l[0],l[1])}var H={draw:function(t,e){var r=Math.sqrt(e/u);t.moveTo(r,0),t.arc(0,0,r,0,h)}},G={draw:function(t,e){var r=Math.sqrt(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},Y=Math.sqrt(1/3),W=2*Y,X={draw:function(t,e){var r=Math.sqrt(e/W),n=r*Y;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Z=Math.sin(u/10)/Math.sin(7*u/10),J=Math.sin(h/10)*Z,K=-Math.cos(h/10)*Z,Q={draw:function(t,e){var r=Math.sqrt(.8908130915292852*e),n=J*r,i=K*r;t.moveTo(0,-r),t.lineTo(n,i);for(var a=1;a&lt;5;++a){var o=h*a/5,s=Math.cos(o),l=Math.sin(o);t.lineTo(l*r,-s*r),t.lineTo(s*n-l*i,l*n+s*i)}t.closePath()}},$={draw:function(t,e){var r=Math.sqrt(e),n=-r/2;t.rect(n,n,r,r)}},tt=Math.sqrt(3),et={draw:function(t,e){var r=-Math.sqrt(e/(3*tt));t.moveTo(0,2*r),t.lineTo(-tt*r,-r),t.lineTo(tt*r,-r),t.closePath()}},rt=-.5,nt=Math.sqrt(3)/2,it=1/Math.sqrt(12),at=3*(it/2+1),ot={draw:function(t,e){var r=Math.sqrt(e/at),n=r/2,i=r*it,a=n,o=r*it+r,s=-a,l=o;t.moveTo(n,i),t.lineTo(a,o),t.lineTo(s,l),t.lineTo(rt*n-nt*i,nt*n+rt*i),t.lineTo(rt*a-nt*o,nt*a+rt*o),t.lineTo(rt*s-nt*l,nt*s+rt*l),t.lineTo(rt*n+nt*i,rt*i-nt*n),t.lineTo(rt*a+nt*o,rt*o-nt*a),t.lineTo(rt*s+nt*l,rt*l-nt*s),t.closePath()}},st=[H,G,X,$,Q,et,ot];function lt(){}function ct(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function ut(t){this._context=t}function ft(t){this._context=t}function ht(t){this._context=t}function pt(t,e){this._basis=new ut(t),this._beta=e}ut.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ct(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1)}(this._line||0!==this._line&amp;&amp;1===this._point)&amp;&amp;this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ct(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},ft.prototype={areaStart:lt,areaEnd:lt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x2,this._y2),this._context.closePath();break;case 2:this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break;case 3:this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ct(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},ht.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&amp;&amp;3===this._point)&amp;&amp;this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ct(this,t,e)}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}},pt.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,r=t.length-1;if(r&gt;0)for(var n,i=t[0],a=e[0],o=t[r]-i,s=e[r]-a,l=-1;++l&lt;=r;)n=l/r,this._basis.point(this._beta*t[l]+(1-this._beta)*(i+n*o),this._beta*e[l]+(1-this._beta)*(a+n*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};var dt=function t(e){function r(t){return 1===e?new ut(t):new pt(t,e)}return r.beta=function(e){return t(+e)},r}(.85);function gt(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function mt(t,e){this._context=t,this._k=(1-e)/6}mt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:gt(this,this._x1,this._y1)}(this._line||0!==this._line&amp;&amp;1===this._point)&amp;&amp;this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:gt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var vt=function t(e){function r(t){return new mt(t,e)}return r.tension=function(e){return t(+e)},r}(0);function yt(t,e){this._context=t,this._k=(1-e)/6}yt.prototype={areaStart:lt,areaEnd:lt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:gt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var xt=function t(e){function r(t){return new yt(t,e)}return r.tension=function(e){return t(+e)},r}(0);function bt(t,e){this._context=t,this._k=(1-e)/6}bt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||0!==this._line&amp;&amp;3===this._point)&amp;&amp;this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:gt(this,t,e)}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var _t=function t(e){function r(t){return new bt(t,e)}return r.tension=function(e){return t(+e)},r}(0);function wt(t,e,r){var n=t._x1,i=t._y1,a=t._x2,o=t._y2;if(t._l01_a&gt;1e-12){var s=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,l=3*t._l01_a*(t._l01_a+t._l12_a);n=(n*s-t._x0*t._l12_2a+t._x2*t._l01_2a)/l,i=(i*s-t._y0*t._l12_2a+t._y2*t._l01_2a)/l}if(t._l23_a&gt;1e-12){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,u=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*c+t._x1*t._l23_2a-e*t._l12_2a)/u,o=(o*c+t._y1*t._l23_2a-r*t._l12_2a)/u}t._context.bezierCurveTo(n,i,a,o,t._x2,t._y2)}function Tt(t,e){this._context=t,this._alpha=e}Tt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2)}(this._line||0!==this._line&amp;&amp;1===this._point)&amp;&amp;this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:wt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var kt=function t(e){function r(t){return e?new Tt(t,e):new mt(t,0)}return r.alpha=function(e){return t(+e)},r}(.5);function Mt(t,e){this._context=t,this._alpha=e}Mt.prototype={areaStart:lt,areaEnd:lt,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:this._context.moveTo(this._x3,this._y3),this._context.closePath();break;case 2:this._context.lineTo(this._x3,this._y3),this._context.closePath();break;case 3:this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5)}},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:wt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var At=function t(e){function r(t){return e?new Mt(t,e):new yt(t,0)}return r.alpha=function(e){return t(+e)},r}(.5);function St(t,e){this._context=t,this._alpha=e}St.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||0!==this._line&amp;&amp;3===this._point)&amp;&amp;this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:wt(this,t,e)}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};var Et=function t(e){function r(t){return e?new St(t,e):new bt(t,0)}return r.alpha=function(e){return t(+e)},r}(.5);function Ct(t){this._context=t}function Lt(t){return t&lt;0?-1:1}function It(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i&lt;0&amp;&amp;-0),o=(r-t._y1)/(i||n&lt;0&amp;&amp;-0),s=(a*i+o*n)/(n+i);return(Lt(a)+Lt(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(s))||0}function Pt(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function zt(t,e,r){var n=t._x0,i=t._y0,a=t._x1,o=t._y1,s=(a-n)/3;t._context.bezierCurveTo(n+s,i+s*e,a-s,o-s*r,a,o)}function Ot(t){this._context=t}function Dt(t){this._context=new Rt(t)}function Rt(t){this._context=t}function Ft(t){this._context=t}function Bt(t){var e,r,n=t.length-1,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=t[0]+2*t[1],e=1;e&lt;n-1;++e)i[e]=1,a[e]=4,o[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*t[n-1]+t[n],e=1;e&lt;n;++e)r=i[e]/a[e-1],a[e]-=r,o[e]-=r*o[e-1];for(i[n-1]=o[n-1]/a[n-1],e=n-2;e&gt;=0;--e)i[e]=(o[e]-i[e+1])/a[e];for(a[n-1]=(t[n]+i[n-1])/2,e=0;e&lt;n-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function Nt(t,e){this._context=t,this._t=e}function jt(t,e){if((i=t.length)&gt;1)for(var r,n,i,a=1,o=t[e[0]],s=o.length;a&lt;i;++a)for(n=o,o=t[e[a]],r=0;r&lt;s;++r)o[r][1]+=o[r][0]=isNaN(n[r][1])?n[r][0]:n[r][1]}function Ut(t){for(var e=t.length,r=new Array(e);--e&gt;=0;)r[e]=e;return r}function Vt(t,e){return t[e]}function qt(t){var e=t.map(Ht);return Ut(t).sort((function(t,r){return e[t]-e[r]}))}function Ht(t){for(var e,r=-1,n=0,i=t.length,a=-1/0;++r&lt;i;)(e=+t[r][1])&gt;a&amp;&amp;(a=e,n=r);return n}function Gt(t){var e=t.map(Yt);return Ut(t).sort((function(t,r){return e[t]-e[r]}))}function Yt(t){for(var e,r=0,n=-1,i=t.length;++n&lt;i;)(e=+t[n][1])&amp;&amp;(r+=e);return r}Ct.prototype={areaStart:lt,areaEnd:lt,lineStart:function(){this._point=0},lineEnd:function(){this._point&amp;&amp;this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}},Ot.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:zt(this,this._t0,Pt(this,this._t0))}(this._line||0!==this._line&amp;&amp;1===this._point)&amp;&amp;this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(e=+e,(t=+t)!==this._x1||e!==this._y1){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,zt(this,Pt(this,r=It(this,t,e)),r);break;default:zt(this,this._t0,r=It(this,t,e))}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}},(Dt.prototype=Object.create(Ot.prototype)).point=function(t,e){Ot.prototype.point.call(this,e,t)},Rt.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}},Ft.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),2===r)this._context.lineTo(t[1],e[1]);else for(var n=Bt(t),i=Bt(e),a=0,o=1;o&lt;r;++a,++o)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[o],e[o]);(this._line||0!==this._line&amp;&amp;1===r)&amp;&amp;this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}},Nt.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0&lt;this._t&amp;&amp;this._t&lt;1&amp;&amp;2===this._point&amp;&amp;this._context.lineTo(this._x,this._y),(this._line||0!==this._line&amp;&amp;1===this._point)&amp;&amp;this._context.closePath(),this._line&gt;=0&amp;&amp;(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:if(this._t&lt;=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}}this._x=t,this._y=e}},t.arc=function(){var t=g,o=m,w=r(0),T=null,k=v,M=y,A=x,S=null;function E(){var r,g,m=+t.apply(this,arguments),v=+o.apply(this,arguments),y=k.apply(this,arguments)-f,x=M.apply(this,arguments)-f,E=n(x-y),C=x&gt;y;if(S||(S=r=e.path()),v&lt;m&amp;&amp;(g=v,v=m,m=g),v&gt;1e-12)if(E&gt;h-1e-12)S.moveTo(v*a(y),v*l(y)),S.arc(0,0,v,y,x,!C),m&gt;1e-12&amp;&amp;(S.moveTo(m*a(x),m*l(x)),S.arc(0,0,m,x,y,C));else{var L,I,P=y,z=x,O=y,D=x,R=E,F=E,B=A.apply(this,arguments)/2,N=B&gt;1e-12&amp;&amp;(T?+T.apply(this,arguments):c(m*m+v*v)),j=s(n(v-m)/2,+w.apply(this,arguments)),U=j,V=j;if(N&gt;1e-12){var q=d(N/m*l(B)),H=d(N/v*l(B));(R-=2*q)&gt;1e-12?(O+=q*=C?1:-1,D-=q):(R=0,O=D=(y+x)/2),(F-=2*H)&gt;1e-12?(P+=H*=C?1:-1,z-=H):(F=0,P=z=(y+x)/2)}var G=v*a(P),Y=v*l(P),W=m*a(D),X=m*l(D);if(j&gt;1e-12){var Z,J=v*a(z),K=v*l(z),Q=m*a(O),$=m*l(O);if(E&lt;u&amp;&amp;(Z=b(G,Y,Q,$,J,K,W,X))){var tt=G-Z[0],et=Y-Z[1],rt=J-Z[0],nt=K-Z[1],it=1/l(p((tt*rt+et*nt)/(c(tt*tt+et*et)*c(rt*rt+nt*nt)))/2),at=c(Z[0]*Z[0]+Z[1]*Z[1]);U=s(j,(m-at)/(it-1)),V=s(j,(v-at)/(it+1))}}F&gt;1e-12?V&gt;1e-12?(L=_(Q,$,G,Y,v,V,C),I=_(J,K,W,X,v,V,C),S.moveTo(L.cx+L.x01,L.cy+L.y01),V&lt;j?S.arc(L.cx,L.cy,V,i(L.y01,L.x01),i(I.y01,I.x01),!C):(S.arc(L.cx,L.cy,V,i(L.y01,L.x01),i(L.y11,L.x11),!C),S.arc(0,0,v,i(L.cy+L.y11,L.cx+L.x11),i(I.cy+I.y11,I.cx+I.x11),!C),S.arc(I.cx,I.cy,V,i(I.y11,I.x11),i(I.y01,I.x01),!C))):(S.moveTo(G,Y),S.arc(0,0,v,P,z,!C)):S.moveTo(G,Y),m&gt;1e-12&amp;&amp;R&gt;1e-12?U&gt;1e-12?(L=_(W,X,J,K,m,-U,C),I=_(G,Y,Q,$,m,-U,C),S.lineTo(L.cx+L.x01,L.cy+L.y01),U&lt;j?S.arc(L.cx,L.cy,U,i(L.y01,L.x01),i(I.y01,I.x01),!C):(S.arc(L.cx,L.cy,U,i(L.y01,L.x01),i(L.y11,L.x11),!C),S.arc(0,0,m,i(L.cy+L.y11,L.cx+L.x11),i(I.cy+I.y11,I.cx+I.x11),C),S.arc(I.cx,I.cy,U,i(I.y11,I.x11),i(I.y01,I.x01),!C))):S.arc(0,0,m,D,O,C):S.lineTo(W,X)}else S.moveTo(0,0);if(S.closePath(),r)return S=null,r+\&quot;\&quot;||null}return E.centroid=function(){var e=(+t.apply(this,arguments)+ +o.apply(this,arguments))/2,r=(+k.apply(this,arguments)+ +M.apply(this,arguments))/2-u/2;return[a(r)*e,l(r)*e]},E.innerRadius=function(e){return arguments.length?(t=\&quot;function\&quot;==typeof e?e:r(+e),E):t},E.outerRadius=function(t){return arguments.length?(o=\&quot;function\&quot;==typeof t?t:r(+t),E):o},E.cornerRadius=function(t){return arguments.length?(w=\&quot;function\&quot;==typeof t?t:r(+t),E):w},E.padRadius=function(t){return arguments.length?(T=null==t?null:\&quot;function\&quot;==typeof t?t:r(+t),E):T},E.startAngle=function(t){return arguments.length?(k=\&quot;function\&quot;==typeof t?t:r(+t),E):k},E.endAngle=function(t){return arguments.length?(M=\&quot;function\&quot;==typeof t?t:r(+t),E):M},E.padAngle=function(t){return arguments.length?(A=\&quot;function\&quot;==typeof t?t:r(+t),E):A},E.context=function(t){return arguments.length?(S=null==t?null:t,E):S},E},t.area=S,t.areaRadial=D,t.curveBasis=function(t){return new ut(t)},t.curveBasisClosed=function(t){return new ft(t)},t.curveBasisOpen=function(t){return new ht(t)},t.curveBundle=dt,t.curveCardinal=vt,t.curveCardinalClosed=xt,t.curveCardinalOpen=_t,t.curveCatmullRom=kt,t.curveCatmullRomClosed=At,t.curveCatmullRomOpen=Et,t.curveLinear=T,t.curveLinearClosed=function(t){return new Ct(t)},t.curveMonotoneX=function(t){return new Ot(t)},t.curveMonotoneY=function(t){return new Dt(t)},t.curveNatural=function(t){return new Ft(t)},t.curveStep=function(t){return new Nt(t,.5)},t.curveStepAfter=function(t){return new Nt(t,1)},t.curveStepBefore=function(t){return new Nt(t,0)},t.line=A,t.lineRadial=O,t.linkHorizontal=function(){return j(U)},t.linkRadial=function(){var t=j(q);return t.angle=t.x,delete t.x,t.radius=t.y,delete t.y,t},t.linkVertical=function(){return j(V)},t.pie=function(){var t=C,e=E,n=null,i=r(0),a=r(h),o=r(0);function s(r){var s,l,c,u,f,p=r.length,d=0,g=new Array(p),m=new Array(p),v=+i.apply(this,arguments),y=Math.min(h,Math.max(-h,a.apply(this,arguments)-v)),x=Math.min(Math.abs(y)/p,o.apply(this,arguments)),b=x*(y&lt;0?-1:1);for(s=0;s&lt;p;++s)(f=m[g[s]=s]=+t(r[s],s,r))&gt;0&amp;&amp;(d+=f);for(null!=e?g.sort((function(t,r){return e(m[t],m[r])})):null!=n&amp;&amp;g.sort((function(t,e){return n(r[t],r[e])})),s=0,c=d?(y-p*b)/d:0;s&lt;p;++s,v=u)l=g[s],u=v+((f=m[l])&gt;0?f*c:0)+b,m[l]={data:r[l],index:s,value:f,startAngle:v,endAngle:u,padAngle:x};return m}return s.value=function(e){return arguments.length?(t=\&quot;function\&quot;==typeof e?e:r(+e),s):t},s.sortValues=function(t){return arguments.length?(e=t,n=null,s):e},s.sort=function(t){return arguments.length?(n=t,e=null,s):n},s.startAngle=function(t){return arguments.length?(i=\&quot;function\&quot;==typeof t?t:r(+t),s):i},s.endAngle=function(t){return arguments.length?(a=\&quot;function\&quot;==typeof t?t:r(+t),s):a},s.padAngle=function(t){return arguments.length?(o=\&quot;function\&quot;==typeof t?t:r(+t),s):o},s},t.pointRadial=R,t.radialArea=D,t.radialLine=O,t.stack=function(){var t=r([]),e=Ut,n=jt,i=Vt;function a(r){var a,o,s=t.apply(this,arguments),l=r.length,c=s.length,u=new Array(c);for(a=0;a&lt;c;++a){for(var f,h=s[a],p=u[a]=new Array(l),d=0;d&lt;l;++d)p[d]=f=[0,+i(r[d],h,d,r)],f.data=r[d];p.key=h}for(a=0,o=e(u);a&lt;c;++a)u[o[a]].index=a;return n(u,o),u}return a.keys=function(e){return arguments.length?(t=\&quot;function\&quot;==typeof e?e:r(F.call(e)),a):t},a.value=function(t){return arguments.length?(i=\&quot;function\&quot;==typeof t?t:r(+t),a):i},a.order=function(t){return arguments.length?(e=null==t?Ut:\&quot;function\&quot;==typeof t?t:r(F.call(t)),a):e},a.offset=function(t){return arguments.length?(n=null==t?jt:t,a):n},a},t.stackOffsetDiverging=function(t,e){if((s=t.length)&gt;0)for(var r,n,i,a,o,s,l=0,c=t[e[0]].length;l&lt;c;++l)for(a=o=0,r=0;r&lt;s;++r)(i=(n=t[e[r]][l])[1]-n[0])&gt;0?(n[0]=a,n[1]=a+=i):i&lt;0?(n[1]=o,n[0]=o+=i):(n[0]=0,n[1]=i)},t.stackOffsetExpand=function(t,e){if((n=t.length)&gt;0){for(var r,n,i,a=0,o=t[0].length;a&lt;o;++a){for(i=r=0;r&lt;n;++r)i+=t[r][a][1]||0;if(i)for(r=0;r&lt;n;++r)t[r][a][1]/=i}jt(t,e)}},t.stackOffsetNone=jt,t.stackOffsetSilhouette=function(t,e){if((r=t.length)&gt;0){for(var r,n=0,i=t[e[0]],a=i.length;n&lt;a;++n){for(var o=0,s=0;o&lt;r;++o)s+=t[o][n][1]||0;i[n][1]+=i[n][0]=-s/2}jt(t,e)}},t.stackOffsetWiggle=function(t,e){if((i=t.length)&gt;0&amp;&amp;(n=(r=t[e[0]]).length)&gt;0){for(var r,n,i,a=0,o=1;o&lt;n;++o){for(var s=0,l=0,c=0;s&lt;i;++s){for(var u=t[e[s]],f=u[o][1]||0,h=(f-(u[o-1][1]||0))/2,p=0;p&lt;s;++p){var d=t[e[p]];h+=(d[o][1]||0)-(d[o-1][1]||0)}l+=f,c+=h*f}r[o-1][1]+=r[o-1][0]=a,l&amp;&amp;(a-=c/l)}r[o-1][1]+=r[o-1][0]=a,jt(t,e)}},t.stackOrderAppearance=qt,t.stackOrderAscending=Gt,t.stackOrderDescending=function(t){return Gt(t).reverse()},t.stackOrderInsideOut=function(t){var e,r,n=t.length,i=t.map(Yt),a=qt(t),o=0,s=0,l=[],c=[];for(e=0;e&lt;n;++e)r=a[e],o&lt;s?(o+=i[r],l.push(r)):(s+=i[r],c.push(r));return c.reverse().concat(l)},t.stackOrderNone=Ut,t.stackOrderReverse=function(t){return Ut(t).reverse()},t.symbol=function(){var t=r(H),n=r(64),i=null;function a(){var r;if(i||(i=r=e.path()),t.apply(this,arguments).draw(i,+n.apply(this,arguments)),r)return i=null,r+\&quot;\&quot;||null}return a.type=function(e){return arguments.length?(t=\&quot;function\&quot;==typeof e?e:r(e),a):t},a.size=function(t){return arguments.length?(n=\&quot;function\&quot;==typeof t?t:r(+t),a):n},a.context=function(t){return arguments.length?(i=null==t?null:t,a):i},a},t.symbolCircle=H,t.symbolCross=G,t.symbolDiamond=X,t.symbolSquare=$,t.symbolStar=Q,t.symbolTriangle=et,t.symbolWye=ot,t.symbols=st,Object.defineProperty(t,\&quot;__esModule\&quot;,{value:!0})}))},{\&quot;d3-path\&quot;:163}],166:[function(t,e,r){!function(n,i){\&quot;object\&quot;==typeof r&amp;&amp;\&quot;undefined\&quot;!=typeof e?i(r,t(\&quot;d3-time\&quot;)):i((n=n||self).d3=n.d3||{},n.d3)}(this,(function(t,e){\&quot;use strict\&quot;;function r(t){if(0&lt;=t.y&amp;&amp;t.y&lt;100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function n(t){if(0&lt;=t.y&amp;&amp;t.y&lt;100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function i(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function a(t){var a=t.dateTime,o=t.date,l=t.time,c=t.periods,u=t.days,f=t.shortDays,h=t.months,yt=t.shortMonths,xt=p(c),bt=d(c),_t=p(u),wt=d(u),Tt=p(f),kt=d(f),Mt=p(h),At=d(h),St=p(yt),Et=d(yt),Ct={a:function(t){return f[t.getDay()]},A:function(t){return u[t.getDay()]},b:function(t){return yt[t.getMonth()]},B:function(t){return h[t.getMonth()]},c:null,d:D,e:D,f:j,H:R,I:F,j:B,L:N,m:U,M:V,p:function(t){return c[+(t.getHours()&gt;=12)]},q:function(t){return 1+~~(t.getMonth()/3)},Q:mt,s:vt,S:q,u:H,U:G,V:Y,w:W,W:X,x:null,X:null,y:Z,Y:J,Z:K,\&quot;%\&quot;:gt},Lt={a:function(t){return f[t.getUTCDay()]},A:function(t){return u[t.getUTCDay()]},b:function(t){return yt[t.getUTCMonth()]},B:function(t){return h[t.getUTCMonth()]},c:null,d:Q,e:Q,f:nt,H:$,I:tt,j:et,L:rt,m:it,M:at,p:function(t){return c[+(t.getUTCHours()&gt;=12)]},q:function(t){return 1+~~(t.getUTCMonth()/3)},Q:mt,s:vt,S:ot,u:st,U:lt,V:ct,w:ut,W:ft,x:null,X:null,y:ht,Y:pt,Z:dt,\&quot;%\&quot;:gt},It={a:function(t,e,r){var n=Tt.exec(e.slice(r));return n?(t.w=kt[n[0].toLowerCase()],r+n[0].length):-1},A:function(t,e,r){var n=_t.exec(e.slice(r));return n?(t.w=wt[n[0].toLowerCase()],r+n[0].length):-1},b:function(t,e,r){var n=St.exec(e.slice(r));return n?(t.m=Et[n[0].toLowerCase()],r+n[0].length):-1},B:function(t,e,r){var n=Mt.exec(e.slice(r));return n?(t.m=At[n[0].toLowerCase()],r+n[0].length):-1},c:function(t,e,r){return Ot(t,a,e,r)},d:M,e:M,f:I,H:S,I:S,j:A,L:L,m:k,M:E,p:function(t,e,r){var n=xt.exec(e.slice(r));return n?(t.p=bt[n[0].toLowerCase()],r+n[0].length):-1},q:T,Q:z,s:O,S:C,u:m,U:v,V:y,w:g,W:x,x:function(t,e,r){return Ot(t,o,e,r)},X:function(t,e,r){return Ot(t,l,e,r)},y:_,Y:b,Z:w,\&quot;%\&quot;:P};function Pt(t,e){return function(r){var n,i,a,o=[],l=-1,c=0,u=t.length;for(r instanceof Date||(r=new Date(+r));++l&lt;u;)37===t.charCodeAt(l)&amp;&amp;(o.push(t.slice(c,l)),null!=(i=s[n=t.charAt(++l)])?n=t.charAt(++l):i=\&quot;e\&quot;===n?\&quot; \&quot;:\&quot;0\&quot;,(a=e[n])&amp;&amp;(n=a(r,i)),o.push(n),c=l+1);return o.push(t.slice(c,l)),o.join(\&quot;\&quot;)}}function zt(t,a){return function(o){var s,l,c=i(1900,void 0,1);if(Ot(c,t,o+=\&quot;\&quot;,0)!=o.length)return null;if(\&quot;Q\&quot;in c)return new Date(c.Q);if(\&quot;s\&quot;in c)return new Date(1e3*c.s+(\&quot;L\&quot;in c?c.L:0));if(a&amp;&amp;!(\&quot;Z\&quot;in c)&amp;&amp;(c.Z=0),\&quot;p\&quot;in c&amp;&amp;(c.H=c.H%12+12*c.p),void 0===c.m&amp;&amp;(c.m=\&quot;q\&quot;in c?c.q:0),\&quot;V\&quot;in c){if(c.V&lt;1||c.V&gt;53)return null;\&quot;w\&quot;in c||(c.w=1),\&quot;Z\&quot;in c?(l=(s=n(i(c.y,0,1))).getUTCDay(),s=l&gt;4||0===l?e.utcMonday.ceil(s):e.utcMonday(s),s=e.utcDay.offset(s,7*(c.V-1)),c.y=s.getUTCFullYear(),c.m=s.getUTCMonth(),c.d=s.getUTCDate()+(c.w+6)%7):(l=(s=r(i(c.y,0,1))).getDay(),s=l&gt;4||0===l?e.timeMonday.ceil(s):e.timeMonday(s),s=e.timeDay.offset(s,7*(c.V-1)),c.y=s.getFullYear(),c.m=s.getMonth(),c.d=s.getDate()+(c.w+6)%7)}else(\&quot;W\&quot;in c||\&quot;U\&quot;in c)&amp;&amp;(\&quot;w\&quot;in c||(c.w=\&quot;u\&quot;in c?c.u%7:\&quot;W\&quot;in c?1:0),l=\&quot;Z\&quot;in c?n(i(c.y,0,1)).getUTCDay():r(i(c.y,0,1)).getDay(),c.m=0,c.d=\&quot;W\&quot;in c?(c.w+6)%7+7*c.W-(l+5)%7:c.w+7*c.U-(l+6)%7);return\&quot;Z\&quot;in c?(c.H+=c.Z/100|0,c.M+=c.Z%100,n(c)):r(c)}}function Ot(t,e,r,n){for(var i,a,o=0,l=e.length,c=r.length;o&lt;l;){if(n&gt;=c)return-1;if(37===(i=e.charCodeAt(o++))){if(i=e.charAt(o++),!(a=It[i in s?e.charAt(o++):i])||(n=a(t,r,n))&lt;0)return-1}else if(i!=r.charCodeAt(n++))return-1}return n}return Ct.x=Pt(o,Ct),Ct.X=Pt(l,Ct),Ct.c=Pt(a,Ct),Lt.x=Pt(o,Lt),Lt.X=Pt(l,Lt),Lt.c=Pt(a,Lt),{format:function(t){var e=Pt(t+=\&quot;\&quot;,Ct);return e.toString=function(){return t},e},parse:function(t){var e=zt(t+=\&quot;\&quot;,!1);return e.toString=function(){return t},e},utcFormat:function(t){var e=Pt(t+=\&quot;\&quot;,Lt);return e.toString=function(){return t},e},utcParse:function(t){var e=zt(t+=\&quot;\&quot;,!0);return e.toString=function(){return t},e}}}var o,s={\&quot;-\&quot;:\&quot;\&quot;,_:\&quot; \&quot;,0:\&quot;0\&quot;},l=/^\\s*\\d+/,c=/^%/,u=/[\\\\^$*+?|[\\]().{}]/g;function f(t,e,r){var n=t&lt;0?\&quot;-\&quot;:\&quot;\&quot;,i=(n?-t:t)+\&quot;\&quot;,a=i.length;return n+(a&lt;r?new Array(r-a+1).join(e)+i:i)}function h(t){return t.replace(u,\&quot;\\\\$&amp;\&quot;)}function p(t){return new RegExp(\&quot;^(?:\&quot;+t.map(h).join(\&quot;|\&quot;)+\&quot;)\&quot;,\&quot;i\&quot;)}function d(t){for(var e={},r=-1,n=t.length;++r&lt;n;)e[t[r].toLowerCase()]=r;return e}function g(t,e,r){var n=l.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function m(t,e,r){var n=l.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function v(t,e,r){var n=l.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function y(t,e,r){var n=l.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function x(t,e,r){var n=l.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function b(t,e,r){var n=l.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function _(t,e,r){var n=l.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]&gt;68?1900:2e3),r+n[0].length):-1}function w(t,e,r){var n=/^(Z)|([+-]\\d\\d)(?::?(\\d\\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||\&quot;00\&quot;)),r+n[0].length):-1}function T(t,e,r){var n=l.exec(e.slice(r,r+1));return n?(t.q=3*n[0]-3,r+n[0].length):-1}function k(t,e,r){var n=l.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function M(t,e,r){var n=l.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function A(t,e,r){var n=l.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function S(t,e,r){var n=l.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function E(t,e,r){var n=l.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function C(t,e,r){var n=l.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function L(t,e,r){var n=l.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function I(t,e,r){var n=l.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function P(t,e,r){var n=c.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function z(t,e,r){var n=l.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function O(t,e,r){var n=l.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function D(t,e){return f(t.getDate(),e,2)}function R(t,e){return f(t.getHours(),e,2)}function F(t,e){return f(t.getHours()%12||12,e,2)}function B(t,r){return f(1+e.timeDay.count(e.timeYear(t),t),r,3)}function N(t,e){return f(t.getMilliseconds(),e,3)}function j(t,e){return N(t,e)+\&quot;000\&quot;}function U(t,e){return f(t.getMonth()+1,e,2)}function V(t,e){return f(t.getMinutes(),e,2)}function q(t,e){return f(t.getSeconds(),e,2)}function H(t){var e=t.getDay();return 0===e?7:e}function G(t,r){return f(e.timeSunday.count(e.timeYear(t)-1,t),r,2)}function Y(t,r){var n=t.getDay();return t=n&gt;=4||0===n?e.timeThursday(t):e.timeThursday.ceil(t),f(e.timeThursday.count(e.timeYear(t),t)+(4===e.timeYear(t).getDay()),r,2)}function W(t){return t.getDay()}function X(t,r){return f(e.timeMonday.count(e.timeYear(t)-1,t),r,2)}function Z(t,e){return f(t.getFullYear()%100,e,2)}function J(t,e){return f(t.getFullYear()%1e4,e,4)}function K(t){var e=t.getTimezoneOffset();return(e&gt;0?\&quot;-\&quot;:(e*=-1,\&quot;+\&quot;))+f(e/60|0,\&quot;0\&quot;,2)+f(e%60,\&quot;0\&quot;,2)}function Q(t,e){return f(t.getUTCDate(),e,2)}function $(t,e){return f(t.getUTCHours(),e,2)}function tt(t,e){return f(t.getUTCHours()%12||12,e,2)}function et(t,r){return f(1+e.utcDay.count(e.utcYear(t),t),r,3)}function rt(t,e){return f(t.getUTCMilliseconds(),e,3)}function nt(t,e){return rt(t,e)+\&quot;000\&quot;}function it(t,e){return f(t.getUTCMonth()+1,e,2)}function at(t,e){return f(t.getUTCMinutes(),e,2)}function ot(t,e){return f(t.getUTCSeconds(),e,2)}function st(t){var e=t.getUTCDay();return 0===e?7:e}function lt(t,r){return f(e.utcSunday.count(e.utcYear(t)-1,t),r,2)}function ct(t,r){var n=t.getUTCDay();return t=n&gt;=4||0===n?e.utcThursday(t):e.utcThursday.ceil(t),f(e.utcThursday.count(e.utcYear(t),t)+(4===e.utcYear(t).getUTCDay()),r,2)}function ut(t){return t.getUTCDay()}function ft(t,r){return f(e.utcMonday.count(e.utcYear(t)-1,t),r,2)}function ht(t,e){return f(t.getUTCFullYear()%100,e,2)}function pt(t,e){return f(t.getUTCFullYear()%1e4,e,4)}function dt(){return\&quot;+0000\&quot;}function gt(){return\&quot;%\&quot;}function mt(t){return+t}function vt(t){return Math.floor(+t/1e3)}function yt(e){return o=a(e),t.timeFormat=o.format,t.timeParse=o.parse,t.utcFormat=o.utcFormat,t.utcParse=o.utcParse,o}yt({dateTime:\&quot;%x, %X\&quot;,date:\&quot;%-m/%-d/%Y\&quot;,time:\&quot;%-I:%M:%S %p\&quot;,periods:[\&quot;AM\&quot;,\&quot;PM\&quot;],days:[\&quot;Sunday\&quot;,\&quot;Monday\&quot;,\&quot;Tuesday\&quot;,\&quot;Wednesday\&quot;,\&quot;Thursday\&quot;,\&quot;Friday\&quot;,\&quot;Saturday\&quot;],shortDays:[\&quot;Sun\&quot;,\&quot;Mon\&quot;,\&quot;Tue\&quot;,\&quot;Wed\&quot;,\&quot;Thu\&quot;,\&quot;Fri\&quot;,\&quot;Sat\&quot;],months:[\&quot;January\&quot;,\&quot;February\&quot;,\&quot;March\&quot;,\&quot;April\&quot;,\&quot;May\&quot;,\&quot;June\&quot;,\&quot;July\&quot;,\&quot;August\&quot;,\&quot;September\&quot;,\&quot;October\&quot;,\&quot;November\&quot;,\&quot;December\&quot;],shortMonths:[\&quot;Jan\&quot;,\&quot;Feb\&quot;,\&quot;Mar\&quot;,\&quot;Apr\&quot;,\&quot;May\&quot;,\&quot;Jun\&quot;,\&quot;Jul\&quot;,\&quot;Aug\&quot;,\&quot;Sep\&quot;,\&quot;Oct\&quot;,\&quot;Nov\&quot;,\&quot;Dec\&quot;]});var xt=Date.prototype.toISOString?function(t){return t.toISOString()}:t.utcFormat(\&quot;%Y-%m-%dT%H:%M:%S.%LZ\&quot;);var bt=+new Date(\&quot;2000-01-01T00:00:00.000Z\&quot;)?function(t){var e=new Date(t);return isNaN(e)?null:e}:t.utcParse(\&quot;%Y-%m-%dT%H:%M:%S.%LZ\&quot;);t.isoFormat=xt,t.isoParse=bt,t.timeFormatDefaultLocale=yt,t.timeFormatLocale=a,Object.defineProperty(t,\&quot;__esModule\&quot;,{value:!0})}))},{\&quot;d3-time\&quot;:167}],167:[function(t,e,r){!function(t,n){\&quot;object\&quot;==typeof r&amp;&amp;\&quot;undefined\&quot;!=typeof e?n(r):n((t=t||self).d3=t.d3||{})}(this,(function(t){\&quot;use strict\&quot;;var e=new Date,r=new Date;function n(t,i,a,o){function s(e){return t(e=0===arguments.length?new Date:new Date(+e)),e}return s.floor=function(e){return t(e=new Date(+e)),e},s.ceil=function(e){return t(e=new Date(e-1)),i(e,1),t(e),e},s.round=function(t){var e=s(t),r=s.ceil(t);return t-e&lt;r-t?e:r},s.offset=function(t,e){return i(t=new Date(+t),null==e?1:Math.floor(e)),t},s.range=function(e,r,n){var a,o=[];if(e=s.ceil(e),n=null==n?1:Math.floor(n),!(e&lt;r&amp;&amp;n&gt;0))return o;do{o.push(a=new Date(+e)),i(e,n),t(e)}while(a&lt;e&amp;&amp;e&lt;r);return o},s.filter=function(e){return n((function(r){if(r&gt;=r)for(;t(r),!e(r);)r.setTime(r-1)}),(function(t,r){if(t&gt;=t)if(r&lt;0)for(;++r&lt;=0;)for(;i(t,-1),!e(t););else for(;--r&gt;=0;)for(;i(t,1),!e(t););}))},a&amp;&amp;(s.count=function(n,i){return e.setTime(+n),r.setTime(+i),t(e),t(r),Math.floor(a(e,r))},s.every=function(t){return t=Math.floor(t),isFinite(t)&amp;&amp;t&gt;0?t&gt;1?s.filter(o?function(e){return o(e)%t==0}:function(e){return s.count(0,e)%t==0}):s:null}),s}var i=n((function(){}),(function(t,e){t.setTime(+t+e)}),(function(t,e){return e-t}));i.every=function(t){return t=Math.floor(t),isFinite(t)&amp;&amp;t&gt;0?t&gt;1?n((function(e){e.setTime(Math.floor(e/t)*t)}),(function(e,r){e.setTime(+e+r*t)}),(function(e,r){return(r-e)/t})):i:null};var a=i.range,o=n((function(t){t.setTime(t-t.getMilliseconds())}),(function(t,e){t.setTime(+t+1e3*e)}),(function(t,e){return(e-t)/1e3}),(function(t){return t.getUTCSeconds()})),s=o.range,l=n((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds())}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getMinutes()})),c=l.range,u=n((function(t){t.setTime(t-t.getMilliseconds()-1e3*t.getSeconds()-6e4*t.getMinutes())}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getHours()})),f=u.range,h=n((function(t){t.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5}),(function(t){return t.getDate()-1})),p=h.range;function d(t){return n((function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)}),(function(t,e){t.setDate(t.getDate()+7*e)}),(function(t,e){return(e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/6048e5}))}var g=d(0),m=d(1),v=d(2),y=d(3),x=d(4),b=d(5),_=d(6),w=g.range,T=m.range,k=v.range,M=y.range,A=x.range,S=b.range,E=_.range,C=n((function(t){t.setDate(1),t.setHours(0,0,0,0)}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t,e){return e.getMonth()-t.getMonth()+12*(e.getFullYear()-t.getFullYear())}),(function(t){return t.getMonth()})),L=C.range,I=n((function(t){t.setMonth(0,1),t.setHours(0,0,0,0)}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t,e){return e.getFullYear()-t.getFullYear()}),(function(t){return t.getFullYear()}));I.every=function(t){return isFinite(t=Math.floor(t))&amp;&amp;t&gt;0?n((function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)}),(function(e,r){e.setFullYear(e.getFullYear()+r*t)})):null};var P=I.range,z=n((function(t){t.setUTCSeconds(0,0)}),(function(t,e){t.setTime(+t+6e4*e)}),(function(t,e){return(e-t)/6e4}),(function(t){return t.getUTCMinutes()})),O=z.range,D=n((function(t){t.setUTCMinutes(0,0,0)}),(function(t,e){t.setTime(+t+36e5*e)}),(function(t,e){return(e-t)/36e5}),(function(t){return t.getUTCHours()})),R=D.range,F=n((function(t){t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+e)}),(function(t,e){return(e-t)/864e5}),(function(t){return t.getUTCDate()-1})),B=F.range;function N(t){return n((function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCDate(t.getUTCDate()+7*e)}),(function(t,e){return(e-t)/6048e5}))}var j=N(0),U=N(1),V=N(2),q=N(3),H=N(4),G=N(5),Y=N(6),W=j.range,X=U.range,Z=V.range,J=q.range,K=H.range,Q=G.range,$=Y.range,tt=n((function(t){t.setUTCDate(1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCMonth(t.getUTCMonth()+e)}),(function(t,e){return e.getUTCMonth()-t.getUTCMonth()+12*(e.getUTCFullYear()-t.getUTCFullYear())}),(function(t){return t.getUTCMonth()})),et=tt.range,rt=n((function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)}),(function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)}),(function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()}),(function(t){return t.getUTCFullYear()}));rt.every=function(t){return isFinite(t=Math.floor(t))&amp;&amp;t&gt;0?n((function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)}),(function(e,r){e.setUTCFullYear(e.getUTCFullYear()+r*t)})):null};var nt=rt.range;t.timeDay=h,t.timeDays=p,t.timeFriday=b,t.timeFridays=S,t.timeHour=u,t.timeHours=f,t.timeInterval=n,t.timeMillisecond=i,t.timeMilliseconds=a,t.timeMinute=l,t.timeMinutes=c,t.timeMonday=m,t.timeMondays=T,t.timeMonth=C,t.timeMonths=L,t.timeSaturday=_,t.timeSaturdays=E,t.timeSecond=o,t.timeSeconds=s,t.timeSunday=g,t.timeSundays=w,t.timeThursday=x,t.timeThursdays=A,t.timeTuesday=v,t.timeTuesdays=k,t.timeWednesday=y,t.timeWednesdays=M,t.timeWeek=g,t.timeWeeks=w,t.timeYear=I,t.timeYears=P,t.utcDay=F,t.utcDays=B,t.utcFriday=G,t.utcFridays=Q,t.utcHour=D,t.utcHours=R,t.utcMillisecond=i,t.utcMilliseconds=a,t.utcMinute=z,t.utcMinutes=O,t.utcMonday=U,t.utcMondays=X,t.utcMonth=tt,t.utcMonths=et,t.utcSaturday=Y,t.utcSaturdays=$,t.utcSecond=o,t.utcSeconds=s,t.utcSunday=j,t.utcSundays=W,t.utcThursday=H,t.utcThursdays=K,t.utcTuesday=V,t.utcTuesdays=Z,t.utcWednesday=q,t.utcWednesdays=J,t.utcWeek=j,t.utcWeeks=W,t.utcYear=rt,t.utcYears=nt,Object.defineProperty(t,\&quot;__esModule\&quot;,{value:!0})}))},{}],168:[function(t,e,r){!function(t,n){\&quot;object\&quot;==typeof r&amp;&amp;\&quot;undefined\&quot;!=typeof e?n(r):n((t=t||self).d3=t.d3||{})}(this,(function(t){\&quot;use strict\&quot;;var e,r,n=0,i=0,a=0,o=0,s=0,l=0,c=\&quot;object\&quot;==typeof performance&amp;&amp;performance.now?performance:Date,u=\&quot;object\&quot;==typeof window&amp;&amp;window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function f(){return s||(u(h),s=c.now()+l)}function h(){s=0}function p(){this._call=this._time=this._next=null}function d(t,e,r){var n=new p;return n.restart(t,e,r),n}function g(){f(),++n;for(var t,r=e;r;)(t=s-r._time)&gt;=0&amp;&amp;r._call.call(null,t),r=r._next;--n}function m(){s=(o=c.now())+l,n=i=0;try{g()}finally{n=0,function(){var t,n,i=e,a=1/0;for(;i;)i._call?(a&gt;i._time&amp;&amp;(a=i._time),t=i,i=i._next):(n=i._next,i._next=null,i=t?t._next=n:e=n);r=t,y(a)}(),s=0}}function v(){var t=c.now(),e=t-o;e&gt;1e3&amp;&amp;(l-=e,o=t)}function y(t){n||(i&amp;&amp;(i=clearTimeout(i)),t-s&gt;24?(t&lt;1/0&amp;&amp;(i=setTimeout(m,t-c.now()-l)),a&amp;&amp;(a=clearInterval(a))):(a||(o=c.now(),a=setInterval(v,1e3)),n=1,u(m)))}p.prototype=d.prototype={constructor:p,restart:function(t,n,i){if(\&quot;function\&quot;!=typeof t)throw new TypeError(\&quot;callback is not a function\&quot;);i=(null==i?f():+i)+(null==n?0:+n),this._next||r===this||(r?r._next=this:e=this,r=this),this._call=t,this._time=i,y()},stop:function(){this._call&amp;&amp;(this._call=null,this._time=1/0,y())}},t.interval=function(t,e,r){var n=new p,i=e;return null==e?(n.restart(t,e,r),n):(e=+e,r=null==r?f():+r,n.restart((function a(o){o+=i,n.restart(a,i+=e,r),t(o)}),e,r),n)},t.now=f,t.timeout=function(t,e,r){var n=new p;return e=null==e?0:+e,n.restart((function(r){n.stop(),t(r+e)}),e,r),n},t.timer=d,t.timerFlush=g,Object.defineProperty(t,\&quot;__esModule\&quot;,{value:!0})}))},{}],169:[function(t,e,r){!function(){var t={version:\&quot;3.5.17\&quot;},r=[].slice,n=function(t){return r.call(t)},i=this.document;function a(t){return t&amp;&amp;(t.ownerDocument||t.document||t).documentElement}function o(t){return t&amp;&amp;(t.ownerDocument&amp;&amp;t.ownerDocument.defaultView||t.document&amp;&amp;t||t.defaultView)}if(i)try{n(i.documentElement.childNodes)[0].nodeType}catch(t){n=function(t){for(var e=t.length,r=new Array(e);e--;)r[e]=t[e];return r}}if(Date.now||(Date.now=function(){return+new Date}),i)try{i.createElement(\&quot;DIV\&quot;).style.setProperty(\&quot;opacity\&quot;,0,\&quot;\&quot;)}catch(t){var s=this.Element.prototype,l=s.setAttribute,c=s.setAttributeNS,u=this.CSSStyleDeclaration.prototype,f=u.setProperty;s.setAttribute=function(t,e){l.call(this,t,e+\&quot;\&quot;)},s.setAttributeNS=function(t,e,r){c.call(this,t,e,r+\&quot;\&quot;)},u.setProperty=function(t,e,r){f.call(this,t,e+\&quot;\&quot;,r)}}function h(t,e){return t&lt;e?-1:t&gt;e?1:t&gt;=e?0:NaN}function p(t){return null===t?NaN:+t}function d(t){return!isNaN(t)}function g(t){return{left:function(e,r,n,i){for(arguments.length&lt;3&amp;&amp;(n=0),arguments.length&lt;4&amp;&amp;(i=e.length);n&lt;i;){var a=n+i&gt;&gt;&gt;1;t(e[a],r)&lt;0?n=a+1:i=a}return n},right:function(e,r,n,i){for(arguments.length&lt;3&amp;&amp;(n=0),arguments.length&lt;4&amp;&amp;(i=e.length);n&lt;i;){var a=n+i&gt;&gt;&gt;1;t(e[a],r)&gt;0?i=a:n=a+1}return n}}}t.ascending=h,t.descending=function(t,e){return e&lt;t?-1:e&gt;t?1:e&gt;=t?0:NaN},t.min=function(t,e){var r,n,i=-1,a=t.length;if(1===arguments.length){for(;++i&lt;a;)if(null!=(n=t[i])&amp;&amp;n&gt;=n){r=n;break}for(;++i&lt;a;)null!=(n=t[i])&amp;&amp;r&gt;n&amp;&amp;(r=n)}else{for(;++i&lt;a;)if(null!=(n=e.call(t,t[i],i))&amp;&amp;n&gt;=n){r=n;break}for(;++i&lt;a;)null!=(n=e.call(t,t[i],i))&amp;&amp;r&gt;n&amp;&amp;(r=n)}return r},t.max=function(t,e){var r,n,i=-1,a=t.length;if(1===arguments.length){for(;++i&lt;a;)if(null!=(n=t[i])&amp;&amp;n&gt;=n){r=n;break}for(;++i&lt;a;)null!=(n=t[i])&amp;&amp;n&gt;r&amp;&amp;(r=n)}else{for(;++i&lt;a;)if(null!=(n=e.call(t,t[i],i))&amp;&amp;n&gt;=n){r=n;break}for(;++i&lt;a;)null!=(n=e.call(t,t[i],i))&amp;&amp;n&gt;r&amp;&amp;(r=n)}return r},t.extent=function(t,e){var r,n,i,a=-1,o=t.length;if(1===arguments.length){for(;++a&lt;o;)if(null!=(n=t[a])&amp;&amp;n&gt;=n){r=i=n;break}for(;++a&lt;o;)null!=(n=t[a])&amp;&amp;(r&gt;n&amp;&amp;(r=n),i&lt;n&amp;&amp;(i=n))}else{for(;++a&lt;o;)if(null!=(n=e.call(t,t[a],a))&amp;&amp;n&gt;=n){r=i=n;break}for(;++a&lt;o;)null!=(n=e.call(t,t[a],a))&amp;&amp;(r&gt;n&amp;&amp;(r=n),i&lt;n&amp;&amp;(i=n))}return[r,i]},t.sum=function(t,e){var r,n=0,i=t.length,a=-1;if(1===arguments.length)for(;++a&lt;i;)d(r=+t[a])&amp;&amp;(n+=r);else for(;++a&lt;i;)d(r=+e.call(t,t[a],a))&amp;&amp;(n+=r);return n},t.mean=function(t,e){var r,n=0,i=t.length,a=-1,o=i;if(1===arguments.length)for(;++a&lt;i;)d(r=p(t[a]))?n+=r:--o;else for(;++a&lt;i;)d(r=p(e.call(t,t[a],a)))?n+=r:--o;if(o)return n/o},t.quantile=function(t,e){var r=(t.length-1)*e+1,n=Math.floor(r),i=+t[n-1],a=r-n;return a?i+a*(t[n]-i):i},t.median=function(e,r){var n,i=[],a=e.length,o=-1;if(1===arguments.length)for(;++o&lt;a;)d(n=p(e[o]))&amp;&amp;i.push(n);else for(;++o&lt;a;)d(n=p(r.call(e,e[o],o)))&amp;&amp;i.push(n);if(i.length)return t.quantile(i.sort(h),.5)},t.variance=function(t,e){var r,n,i=t.length,a=0,o=0,s=-1,l=0;if(1===arguments.length)for(;++s&lt;i;)d(r=p(t[s]))&amp;&amp;(o+=(n=r-a)*(r-(a+=n/++l)));else for(;++s&lt;i;)d(r=p(e.call(t,t[s],s)))&amp;&amp;(o+=(n=r-a)*(r-(a+=n/++l)));if(l&gt;1)return o/(l-1)},t.deviation=function(){var e=t.variance.apply(this,arguments);return e?Math.sqrt(e):e};var m=g(h);function v(t){return t.length}t.bisectLeft=m.left,t.bisect=t.bisectRight=m.right,t.bisector=function(t){return g(1===t.length?function(e,r){return h(t(e),r)}:t)},t.shuffle=function(t,e,r){(a=arguments.length)&lt;3&amp;&amp;(r=t.length,a&lt;2&amp;&amp;(e=0));for(var n,i,a=r-e;a;)i=Math.random()*a--|0,n=t[a+e],t[a+e]=t[i+e],t[i+e]=n;return t},t.permute=function(t,e){for(var r=e.length,n=new Array(r);r--;)n[r]=t[e[r]];return n},t.pairs=function(t){for(var e=0,r=t.length-1,n=t[0],i=new Array(r&lt;0?0:r);e&lt;r;)i[e]=[n,n=t[++e]];return i},t.transpose=function(e){if(!(a=e.length))return[];for(var r=-1,n=t.min(e,v),i=new Array(n);++r&lt;n;)for(var a,o=-1,s=i[r]=new Array(a);++o&lt;a;)s[o]=e[o][r];return i},t.zip=function(){return t.transpose(arguments)},t.keys=function(t){var e=[];for(var r in t)e.push(r);return e},t.values=function(t){var e=[];for(var r in t)e.push(t[r]);return e},t.entries=function(t){var e=[];for(var r in t)e.push({key:r,value:t[r]});return e},t.merge=function(t){for(var e,r,n,i=t.length,a=-1,o=0;++a&lt;i;)o+=t[a].length;for(r=new Array(o);--i&gt;=0;)for(e=(n=t[i]).length;--e&gt;=0;)r[--o]=n[e];return r};var y=Math.abs;function x(t){for(var e=1;t*e%1;)e*=10;return e}function b(t,e){for(var r in e)Object.defineProperty(t.prototype,r,{value:e[r],enumerable:!1})}function _(){this._=Object.create(null)}t.range=function(t,e,r){if(arguments.length&lt;3&amp;&amp;(r=1,arguments.length&lt;2&amp;&amp;(e=t,t=0)),(e-t)/r==1/0)throw new Error(\&quot;infinite range\&quot;);var n,i=[],a=x(y(r)),o=-1;if(t*=a,e*=a,(r*=a)&lt;0)for(;(n=t+r*++o)&gt;e;)i.push(n/a);else for(;(n=t+r*++o)&lt;e;)i.push(n/a);return i},t.map=function(t,e){var r=new _;if(t instanceof _)t.forEach((function(t,e){r.set(t,e)}));else if(Array.isArray(t)){var n,i=-1,a=t.length;if(1===arguments.length)for(;++i&lt;a;)r.set(i,t[i]);else for(;++i&lt;a;)r.set(e.call(t,n=t[i],i),n)}else for(var o in t)r.set(o,t[o]);return r};function w(t){return\&quot;__proto__\&quot;==(t+=\&quot;\&quot;)||\&quot;\\0\&quot;===t[0]?\&quot;\\0\&quot;+t:t}function T(t){return\&quot;\\0\&quot;===(t+=\&quot;\&quot;)[0]?t.slice(1):t}function k(t){return w(t)in this._}function M(t){return(t=w(t))in this._&amp;&amp;delete this._[t]}function A(){var t=[];for(var e in this._)t.push(T(e));return t}function S(){var t=0;for(var e in this._)++t;return t}function E(){for(var t in this._)return!1;return!0}function C(){this._=Object.create(null)}function L(t){return t}function I(t,e,r){return function(){var n=r.apply(e,arguments);return n===e?t:n}}function P(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var r=0,n=z.length;r&lt;n;++r){var i=z[r]+e;if(i in t)return i}}b(_,{has:k,get:function(t){return this._[w(t)]},set:function(t,e){return this._[w(t)]=e},remove:M,keys:A,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:T(e),value:this._[e]});return t},size:S,empty:E,forEach:function(t){for(var e in this._)t.call(this,T(e),this._[e])}}),t.nest=function(){var e,r,n={},i=[],a=[];function o(t,a,s){if(s&gt;=i.length)return r?r.call(n,a):e?a.sort(e):a;for(var l,c,u,f,h=-1,p=a.length,d=i[s++],g=new _;++h&lt;p;)(f=g.get(l=d(c=a[h])))?f.push(c):g.set(l,[c]);return t?(c=t(),u=function(e,r){c.set(e,o(t,r,s))}):(c={},u=function(e,r){c[e]=o(t,r,s)}),g.forEach(u),c}return n.map=function(t,e){return o(e,t,0)},n.entries=function(e){return function t(e,r){if(r&gt;=i.length)return e;var n=[],o=a[r++];return e.forEach((function(e,i){n.push({key:e,values:t(i,r)})})),o?n.sort((function(t,e){return o(t.key,e.key)})):n}(o(t.map,e,0),0)},n.key=function(t){return i.push(t),n},n.sortKeys=function(t){return a[i.length-1]=t,n},n.sortValues=function(t){return e=t,n},n.rollup=function(t){return r=t,n},n},t.set=function(t){var e=new C;if(t)for(var r=0,n=t.length;r&lt;n;++r)e.add(t[r]);return e},b(C,{has:k,add:function(t){return this._[w(t+=\&quot;\&quot;)]=!0,t},remove:M,values:A,size:S,empty:E,forEach:function(t){for(var e in this._)t.call(this,T(e))}}),t.behavior={},t.rebind=function(t,e){for(var r,n=1,i=arguments.length;++n&lt;i;)t[r=arguments[n]]=I(t,e,e[r]);return t};var z=[\&quot;webkit\&quot;,\&quot;ms\&quot;,\&quot;moz\&quot;,\&quot;Moz\&quot;,\&quot;o\&quot;,\&quot;O\&quot;];function O(){}function D(){}function R(t){var e=[],r=new _;function n(){for(var r,n=e,i=-1,a=n.length;++i&lt;a;)(r=n[i].on)&amp;&amp;r.apply(this,arguments);return t}return n.on=function(n,i){var a,o=r.get(n);return arguments.length&lt;2?o&amp;&amp;o.on:(o&amp;&amp;(o.on=null,e=e.slice(0,a=e.indexOf(o)).concat(e.slice(a+1)),r.remove(n)),i&amp;&amp;e.push(r.set(n,{on:i})),t)},n}function F(){t.event.preventDefault()}function B(){for(var e,r=t.event;e=r.sourceEvent;)r=e;return r}function N(e){for(var r=new D,n=0,i=arguments.length;++n&lt;i;)r[arguments[n]]=R(r);return r.of=function(n,i){return function(a){try{var o=a.sourceEvent=t.event;a.target=e,t.event=a,r[a.type].apply(n,i)}finally{t.event=o}}},r}t.dispatch=function(){for(var t=new D,e=-1,r=arguments.length;++e&lt;r;)t[arguments[e]]=R(t);return t},D.prototype.on=function(t,e){var r=t.indexOf(\&quot;.\&quot;),n=\&quot;\&quot;;if(r&gt;=0&amp;&amp;(n=t.slice(r+1),t=t.slice(0,r)),t)return arguments.length&lt;2?this[t].on(n):this[t].on(n,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&amp;&amp;this[t].on(n,null);return this}},t.event=null,t.requote=function(t){return t.replace(j,\&quot;\\\\$&amp;\&quot;)};var j=/[\\\\\\^\\$\\*\\+\\?\\|\\[\\]\\(\\)\\.\\{\\}]/g,U={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var r in e)t[r]=e[r]};function V(t){return U(t,Y),t}var q=function(t,e){return e.querySelector(t)},H=function(t,e){return e.querySelectorAll(t)},G=function(t,e){var r=t.matches||t[P(t,\&quot;matchesSelector\&quot;)];return(G=function(t,e){return r.call(t,e)})(t,e)};\&quot;function\&quot;==typeof Sizzle&amp;&amp;(q=function(t,e){return Sizzle(t,e)[0]||null},H=Sizzle,G=Sizzle.matchesSelector),t.selection=function(){return t.select(i.documentElement)};var Y=t.selection.prototype=[];function W(t){return\&quot;function\&quot;==typeof t?t:function(){return q(t,this)}}function X(t){return\&quot;function\&quot;==typeof t?t:function(){return H(t,this)}}Y.select=function(t){var e,r,n,i,a=[];t=W(t);for(var o=-1,s=this.length;++o&lt;s;){a.push(e=[]),e.parentNode=(n=this[o]).parentNode;for(var l=-1,c=n.length;++l&lt;c;)(i=n[l])?(e.push(r=t.call(i,i.__data__,l,o)),r&amp;&amp;\&quot;__data__\&quot;in i&amp;&amp;(r.__data__=i.__data__)):e.push(null)}return V(a)},Y.selectAll=function(t){var e,r,i=[];t=X(t);for(var a=-1,o=this.length;++a&lt;o;)for(var s=this[a],l=-1,c=s.length;++l&lt;c;)(r=s[l])&amp;&amp;(i.push(e=n(t.call(r,r.__data__,l,a))),e.parentNode=r);return V(i)};var Z=\&quot;http://www.w3.org/1999/xhtml\&quot;,J={svg:\&quot;http://www.w3.org/2000/svg\&quot;,xhtml:Z,xlink:\&quot;http://www.w3.org/1999/xlink\&quot;,xml:\&quot;http://www.w3.org/XML/1998/namespace\&quot;,xmlns:\&quot;http://www.w3.org/2000/xmlns/\&quot;};function K(e,r){return e=t.ns.qualify(e),null==r?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:\&quot;function\&quot;==typeof r?e.local?function(){var t=r.apply(this,arguments);null==t?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,t)}:function(){var t=r.apply(this,arguments);null==t?this.removeAttribute(e):this.setAttribute(e,t)}:e.local?function(){this.setAttributeNS(e.space,e.local,r)}:function(){this.setAttribute(e,r)}}function Q(t){return t.trim().replace(/\\s+/g,\&quot; \&quot;)}function $(e){return new RegExp(\&quot;(?:^|\\\\s+)\&quot;+t.requote(e)+\&quot;(?:\\\\s+|$)\&quot;,\&quot;g\&quot;)}function tt(t){return(t+\&quot;\&quot;).trim().split(/^|\\s+/)}function et(t,e){var r=(t=tt(t).map(rt)).length;return\&quot;function\&quot;==typeof e?function(){for(var n=-1,i=e.apply(this,arguments);++n&lt;r;)t[n](this,i)}:function(){for(var n=-1;++n&lt;r;)t[n](this,e)}}function rt(t){var e=$(t);return function(r,n){if(i=r.classList)return n?i.add(t):i.remove(t);var i=r.getAttribute(\&quot;class\&quot;)||\&quot;\&quot;;n?(e.lastIndex=0,e.test(i)||r.setAttribute(\&quot;class\&quot;,Q(i+\&quot; \&quot;+t))):r.setAttribute(\&quot;class\&quot;,Q(i.replace(e,\&quot; \&quot;)))}}function nt(t,e,r){return null==e?function(){this.style.removeProperty(t)}:\&quot;function\&quot;==typeof e?function(){var n=e.apply(this,arguments);null==n?this.style.removeProperty(t):this.style.setProperty(t,n,r)}:function(){this.style.setProperty(t,e,r)}}function it(t,e){return null==e?function(){delete this[t]}:\&quot;function\&quot;==typeof e?function(){var r=e.apply(this,arguments);null==r?delete this[t]:this[t]=r}:function(){this[t]=e}}function at(e){return\&quot;function\&quot;==typeof e?e:(e=t.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){var t=this.ownerDocument,r=this.namespaceURI;return r===Z&amp;&amp;t.documentElement.namespaceURI===Z?t.createElement(e):t.createElementNS(r,e)}}function ot(){var t=this.parentNode;t&amp;&amp;t.removeChild(this)}function st(t){return{__data__:t}}function lt(t){return function(){return G(this,t)}}function ct(t){return arguments.length||(t=h),function(e,r){return e&amp;&amp;r?t(e.__data__,r.__data__):!e-!r}}function ut(t,e){for(var r=0,n=t.length;r&lt;n;r++)for(var i,a=t[r],o=0,s=a.length;o&lt;s;o++)(i=a[o])&amp;&amp;e(i,o,r);return t}function ft(t){return U(t,ht),t}t.ns={prefix:J,qualify:function(t){var e=t.indexOf(\&quot;:\&quot;),r=t;return e&gt;=0&amp;&amp;\&quot;xmlns\&quot;!==(r=t.slice(0,e))&amp;&amp;(t=t.slice(e+1)),J.hasOwnProperty(r)?{space:J[r],local:t}:t}},Y.attr=function(e,r){if(arguments.length&lt;2){if(\&quot;string\&quot;==typeof e){var n=this.node();return(e=t.ns.qualify(e)).local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(r in e)this.each(K(r,e[r]));return this}return this.each(K(e,r))},Y.classed=function(t,e){if(arguments.length&lt;2){if(\&quot;string\&quot;==typeof t){var r=this.node(),n=(t=tt(t)).length,i=-1;if(e=r.classList){for(;++i&lt;n;)if(!e.contains(t[i]))return!1}else for(e=r.getAttribute(\&quot;class\&quot;);++i&lt;n;)if(!$(t[i]).test(e))return!1;return!0}for(e in t)this.each(et(e,t[e]));return this}return this.each(et(t,e))},Y.style=function(t,e,r){var n=arguments.length;if(n&lt;3){if(\&quot;string\&quot;!=typeof t){for(r in n&lt;2&amp;&amp;(e=\&quot;\&quot;),t)this.each(nt(r,t[r],e));return this}if(n&lt;2){var i=this.node();return o(i).getComputedStyle(i,null).getPropertyValue(t)}r=\&quot;\&quot;}return this.each(nt(t,e,r))},Y.property=function(t,e){if(arguments.length&lt;2){if(\&quot;string\&quot;==typeof t)return this.node()[t];for(e in t)this.each(it(e,t[e]));return this}return this.each(it(t,e))},Y.text=function(t){return arguments.length?this.each(\&quot;function\&quot;==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?\&quot;\&quot;:e}:null==t?function(){this.textContent=\&quot;\&quot;}:function(){this.textContent=t}):this.node().textContent},Y.html=function(t){return arguments.length?this.each(\&quot;function\&quot;==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?\&quot;\&quot;:e}:null==t?function(){this.innerHTML=\&quot;\&quot;}:function(){this.innerHTML=t}):this.node().innerHTML},Y.append=function(t){return t=at(t),this.select((function(){return this.appendChild(t.apply(this,arguments))}))},Y.insert=function(t,e){return t=at(t),e=W(e),this.select((function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)}))},Y.remove=function(){return this.each(ot)},Y.data=function(t,e){var r,n,i=-1,a=this.length;if(!arguments.length){for(t=new Array(a=(r=this[0]).length);++i&lt;a;)(n=r[i])&amp;&amp;(t[i]=n.__data__);return t}function o(t,r){var n,i,a,o=t.length,u=r.length,f=Math.min(o,u),h=new Array(u),p=new Array(u),d=new Array(o);if(e){var g,m=new _,v=new Array(o);for(n=-1;++n&lt;o;)(i=t[n])&amp;&amp;(m.has(g=e.call(i,i.__data__,n))?d[n]=i:m.set(g,i),v[n]=g);for(n=-1;++n&lt;u;)(i=m.get(g=e.call(r,a=r[n],n)))?!0!==i&amp;&amp;(h[n]=i,i.__data__=a):p[n]=st(a),m.set(g,!0);for(n=-1;++n&lt;o;)n in v&amp;&amp;!0!==m.get(v[n])&amp;&amp;(d[n]=t[n])}else{for(n=-1;++n&lt;f;)i=t[n],a=r[n],i?(i.__data__=a,h[n]=i):p[n]=st(a);for(;n&lt;u;++n)p[n]=st(r[n]);for(;n&lt;o;++n)d[n]=t[n]}p.update=h,p.parentNode=h.parentNode=d.parentNode=t.parentNode,s.push(p),l.push(h),c.push(d)}var s=ft([]),l=V([]),c=V([]);if(\&quot;function\&quot;==typeof t)for(;++i&lt;a;)o(r=this[i],t.call(r,r.parentNode.__data__,i));else for(;++i&lt;a;)o(r=this[i],t);return l.enter=function(){return s},l.exit=function(){return c},l},Y.datum=function(t){return arguments.length?this.property(\&quot;__data__\&quot;,t):this.property(\&quot;__data__\&quot;)},Y.filter=function(t){var e,r,n,i=[];\&quot;function\&quot;!=typeof t&amp;&amp;(t=lt(t));for(var a=0,o=this.length;a&lt;o;a++){i.push(e=[]),e.parentNode=(r=this[a]).parentNode;for(var s=0,l=r.length;s&lt;l;s++)(n=r[s])&amp;&amp;t.call(n,n.__data__,s,a)&amp;&amp;e.push(n)}return V(i)},Y.order=function(){for(var t=-1,e=this.length;++t&lt;e;)for(var r,n=this[t],i=n.length-1,a=n[i];--i&gt;=0;)(r=n[i])&amp;&amp;(a&amp;&amp;a!==r.nextSibling&amp;&amp;a.parentNode.insertBefore(r,a),a=r);return this},Y.sort=function(t){t=ct.apply(this,arguments);for(var e=-1,r=this.length;++e&lt;r;)this[e].sort(t);return this.order()},Y.each=function(t){return ut(this,(function(e,r,n){t.call(e,e.__data__,r,n)}))},Y.call=function(t){var e=n(arguments);return t.apply(e[0]=this,e),this},Y.empty=function(){return!this.node()},Y.node=function(){for(var t=0,e=this.length;t&lt;e;t++)for(var r=this[t],n=0,i=r.length;n&lt;i;n++){var a=r[n];if(a)return a}return null},Y.size=function(){var t=0;return ut(this,(function(){++t})),t};var ht=[];function pt(t){var e,r;return function(n,i,a){var o,s=t[a].update,l=s.length;for(a!=r&amp;&amp;(r=a,e=0),i&gt;=e&amp;&amp;(e=i+1);!(o=s[e])&amp;&amp;++e&lt;l;);return o}}function dt(e,r,i){var a=\&quot;__on\&quot;+e,o=e.indexOf(\&quot;.\&quot;),s=mt;o&gt;0&amp;&amp;(e=e.slice(0,o));var l=gt.get(e);function c(){var t=this[a];t&amp;&amp;(this.removeEventListener(e,t,t.$),delete this[a])}return l&amp;&amp;(e=l,s=vt),o?r?function(){var t=s(r,n(arguments));c.call(this),this.addEventListener(e,this[a]=t,t.$=i),t._=r}:c:r?O:function(){var r,n=new RegExp(\&quot;^__on([^.]+)\&quot;+t.requote(e)+\&quot;$\&quot;);for(var i in this)if(r=i.match(n)){var a=this[i];this.removeEventListener(r[1],a,a.$),delete this[i]}}}t.selection.enter=ft,t.selection.enter.prototype=ht,ht.append=Y.append,ht.empty=Y.empty,ht.node=Y.node,ht.call=Y.call,ht.size=Y.size,ht.select=function(t){for(var e,r,n,i,a,o=[],s=-1,l=this.length;++s&lt;l;){n=(i=this[s]).update,o.push(e=[]),e.parentNode=i.parentNode;for(var c=-1,u=i.length;++c&lt;u;)(a=i[c])?(e.push(n[c]=r=t.call(i.parentNode,a.__data__,c,s)),r.__data__=a.__data__):e.push(null)}return V(o)},ht.insert=function(t,e){return arguments.length&lt;2&amp;&amp;(e=pt(this)),Y.insert.call(this,t,e)},t.select=function(t){var e;return\&quot;string\&quot;==typeof t?(e=[q(t,i)]).parentNode=i.documentElement:(e=[t]).parentNode=a(t),V([e])},t.selectAll=function(t){var e;return\&quot;string\&quot;==typeof t?(e=n(H(t,i))).parentNode=i.documentElement:(e=n(t)).parentNode=null,V([e])},Y.on=function(t,e,r){var n=arguments.length;if(n&lt;3){if(\&quot;string\&quot;!=typeof t){for(r in n&lt;2&amp;&amp;(e=!1),t)this.each(dt(r,t[r],e));return this}if(n&lt;2)return(n=this.node()[\&quot;__on\&quot;+t])&amp;&amp;n._;r=!1}return this.each(dt(t,e,r))};var gt=t.map({mouseenter:\&quot;mouseover\&quot;,mouseleave:\&quot;mouseout\&quot;});function mt(e,r){return function(n){var i=t.event;t.event=n,r[0]=this.__data__;try{e.apply(this,r)}finally{t.event=i}}}function vt(t,e){var r=mt(t,e);return function(t){var e=t.relatedTarget;e&amp;&amp;(e===this||8&amp;e.compareDocumentPosition(this))||r.call(this,t)}}i&amp;&amp;gt.forEach((function(t){\&quot;on\&quot;+t in i&amp;&amp;gt.remove(t)}));var yt,xt=0;function bt(e){var r=\&quot;.dragsuppress-\&quot;+ ++xt,n=\&quot;click\&quot;+r,i=t.select(o(e)).on(\&quot;touchmove\&quot;+r,F).on(\&quot;dragstart\&quot;+r,F).on(\&quot;selectstart\&quot;+r,F);if(null==yt&amp;&amp;(yt=!(\&quot;onselectstart\&quot;in e)&amp;&amp;P(e.style,\&quot;userSelect\&quot;)),yt){var s=a(e).style,l=s[yt];s[yt]=\&quot;none\&quot;}return function(t){if(i.on(r,null),yt&amp;&amp;(s[yt]=l),t){var e=function(){i.on(n,null)};i.on(n,(function(){F(),e()}),!0),setTimeout(e,0)}}}t.mouse=function(t){return wt(t,B())};var _t=this.navigator&amp;&amp;/WebKit/.test(this.navigator.userAgent)?-1:0;function wt(e,r){r.changedTouches&amp;&amp;(r=r.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();if(_t&lt;0){var a=o(e);if(a.scrollX||a.scrollY){var s=(n=t.select(\&quot;body\&quot;).append(\&quot;svg\&quot;).style({position:\&quot;absolute\&quot;,top:0,left:0,margin:0,padding:0,border:\&quot;none\&quot;},\&quot;important\&quot;))[0][0].getScreenCTM();_t=!(s.f||s.e),n.remove()}}return _t?(i.x=r.pageX,i.y=r.pageY):(i.x=r.clientX,i.y=r.clientY),[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var l=e.getBoundingClientRect();return[r.clientX-l.left-e.clientLeft,r.clientY-l.top-e.clientTop]}function Tt(){return t.event.changedTouches[0].identifier}t.touch=function(t,e,r){if(arguments.length&lt;3&amp;&amp;(r=e,e=B().changedTouches),e)for(var n,i=0,a=e.length;i&lt;a;++i)if((n=e[i]).identifier===r)return wt(t,n)},t.behavior.drag=function(){var e=N(a,\&quot;drag\&quot;,\&quot;dragstart\&quot;,\&quot;dragend\&quot;),r=null,n=s(O,t.mouse,o,\&quot;mousemove\&quot;,\&quot;mouseup\&quot;),i=s(Tt,t.touch,L,\&quot;touchmove\&quot;,\&quot;touchend\&quot;);function a(){this.on(\&quot;mousedown.drag\&quot;,n).on(\&quot;touchstart.drag\&quot;,i)}function s(n,i,a,o,s){return function(){var l,c=this,u=t.event.target.correspondingElement||t.event.target,f=c.parentNode,h=e.of(c,arguments),p=0,d=n(),g=\&quot;.drag\&quot;+(null==d?\&quot;\&quot;:\&quot;-\&quot;+d),m=t.select(a(u)).on(o+g,x).on(s+g,b),v=bt(u),y=i(f,d);function x(){var t,e,r=i(f,d);r&amp;&amp;(t=r[0]-y[0],e=r[1]-y[1],p|=t|e,y=r,h({type:\&quot;drag\&quot;,x:r[0]+l[0],y:r[1]+l[1],dx:t,dy:e}))}function b(){i(f,d)&amp;&amp;(m.on(o+g,null).on(s+g,null),v(p),h({type:\&quot;dragend\&quot;}))}l=r?[(l=r.apply(c,arguments)).x-y[0],l.y-y[1]]:[0,0],h({type:\&quot;dragstart\&quot;})}}return a.origin=function(t){return arguments.length?(r=t,a):r},t.rebind(a,e,\&quot;on\&quot;)},t.touches=function(t,e){return arguments.length&lt;2&amp;&amp;(e=B().touches),e?n(e).map((function(e){var r=wt(t,e);return r.identifier=e.identifier,r})):[]};var kt=1e-6,Mt=1e-12,At=Math.PI,St=2*At,Et=St-kt,Ct=At/2,Lt=At/180,It=180/At;function Pt(t){return t&gt;0?1:t&lt;0?-1:0}function zt(t,e,r){return(e[0]-t[0])*(r[1]-t[1])-(e[1]-t[1])*(r[0]-t[0])}function Ot(t){return t&gt;1?0:t&lt;-1?At:Math.acos(t)}function Dt(t){return t&gt;1?Ct:t&lt;-1?-Ct:Math.asin(t)}function Rt(t){return((t=Math.exp(t))+1/t)/2}function Ft(t){return(t=Math.sin(t/2))*t}var Bt=Math.SQRT2;t.interpolateZoom=function(t,e){var r,n,i=t[0],a=t[1],o=t[2],s=e[0],l=e[1],c=e[2],u=s-i,f=l-a,h=u*u+f*f;if(h&lt;Mt)n=Math.log(c/o)/Bt,r=function(t){return[i+t*u,a+t*f,o*Math.exp(Bt*t*n)]};else{var p=Math.sqrt(h),d=(c*c-o*o+4*h)/(2*o*2*p),g=(c*c-o*o-4*h)/(2*c*2*p),m=Math.log(Math.sqrt(d*d+1)-d),v=Math.log(Math.sqrt(g*g+1)-g);n=(v-m)/Bt,r=function(t){var e,r=t*n,s=Rt(m),l=o/(2*p)*(s*(e=Bt*r+m,((e=Math.exp(2*e))-1)/(e+1))-function(t){return((t=Math.exp(t))-1/t)/2}(m));return[i+l*u,a+l*f,o*s/Rt(Bt*r+m)]}}return r.duration=1e3*n,r},t.behavior.zoom=function(){var e,r,n,a,s,l,c,u,f,h={x:0,y:0,k:1},p=[960,500],d=Ut,g=250,m=0,v=\&quot;mousedown.zoom\&quot;,y=\&quot;mousemove.zoom\&quot;,x=\&quot;mouseup.zoom\&quot;,b=\&quot;touchstart.zoom\&quot;,_=N(w,\&quot;zoomstart\&quot;,\&quot;zoom\&quot;,\&quot;zoomend\&quot;);function w(t){t.on(v,I).on(jt+\&quot;.zoom\&quot;,z).on(\&quot;dblclick.zoom\&quot;,O).on(b,P)}function T(t){return[(t[0]-h.x)/h.k,(t[1]-h.y)/h.k]}function k(t){h.k=Math.max(d[0],Math.min(d[1],t))}function M(t,e){e=function(t){return[t[0]*h.k+h.x,t[1]*h.k+h.y]}(e),h.x+=t[0]-e[0],h.y+=t[1]-e[1]}function A(e,n,i,a){e.__chart__={x:h.x,y:h.y,k:h.k},k(Math.pow(2,a)),M(r=n,i),e=t.select(e),g&gt;0&amp;&amp;(e=e.transition().duration(g)),e.call(w.event)}function S(){c&amp;&amp;c.domain(l.range().map((function(t){return(t-h.x)/h.k})).map(l.invert)),f&amp;&amp;f.domain(u.range().map((function(t){return(t-h.y)/h.k})).map(u.invert))}function E(t){m++||t({type:\&quot;zoomstart\&quot;})}function C(t){S(),t({type:\&quot;zoom\&quot;,scale:h.k,translate:[h.x,h.y]})}function L(t){--m||(t({type:\&quot;zoomend\&quot;}),r=null)}function I(){var e=this,r=_.of(e,arguments),n=0,i=t.select(o(e)).on(y,l).on(x,c),a=T(t.mouse(e)),s=bt(e);function l(){n=1,M(t.mouse(e),a),C(r)}function c(){i.on(y,null).on(x,null),s(n),L(r)}vs.call(e),E(r)}function P(){var e,r=this,n=_.of(r,arguments),i={},a=0,o=\&quot;.zoom-\&quot;+t.event.changedTouches[0].identifier,l=\&quot;touchmove\&quot;+o,c=\&quot;touchend\&quot;+o,u=[],f=t.select(r),p=bt(r);function d(){var n=t.touches(r);return e=h.k,n.forEach((function(t){t.identifier in i&amp;&amp;(i[t.identifier]=T(t))})),n}function g(){var e=t.event.target;t.select(e).on(l,m).on(c,y),u.push(e);for(var n=t.event.changedTouches,o=0,f=n.length;o&lt;f;++o)i[n[o].identifier]=null;var p=d(),g=Date.now();if(1===p.length){if(g-s&lt;500){var v=p[0];A(r,v,i[v.identifier],Math.floor(Math.log(h.k)/Math.LN2)+1),F()}s=g}else if(p.length&gt;1){v=p[0];var x=p[1],b=v[0]-x[0],_=v[1]-x[1];a=b*b+_*_}}function m(){var o,l,c,u,f=t.touches(r);vs.call(r);for(var h=0,p=f.length;h&lt;p;++h,u=null)if(c=f[h],u=i[c.identifier]){if(l)break;o=c,l=u}if(u){var d=(d=c[0]-o[0])*d+(d=c[1]-o[1])*d,g=a&amp;&amp;Math.sqrt(d/a);o=[(o[0]+c[0])/2,(o[1]+c[1])/2],l=[(l[0]+u[0])/2,(l[1]+u[1])/2],k(g*e)}s=null,M(o,l),C(n)}function y(){if(t.event.touches.length){for(var e=t.event.changedTouches,r=0,a=e.length;r&lt;a;++r)delete i[e[r].identifier];for(var s in i)return void d()}t.selectAll(u).on(o,null),f.on(v,I).on(b,P),p(),L(n)}g(),E(n),f.on(v,null).on(b,g)}function z(){var i=_.of(this,arguments);a?clearTimeout(a):(vs.call(this),e=T(r=n||t.mouse(this)),E(i)),a=setTimeout((function(){a=null,L(i)}),50),F(),k(Math.pow(2,.002*Nt())*h.k),M(r,e),C(i)}function O(){var e=t.mouse(this),r=Math.log(h.k)/Math.LN2;A(this,e,T(e),t.event.shiftKey?Math.ceil(r)-1:Math.floor(r)+1)}return jt||(jt=\&quot;onwheel\&quot;in i?(Nt=function(){return-t.event.deltaY*(t.event.deltaMode?120:1)},\&quot;wheel\&quot;):\&quot;onmousewheel\&quot;in i?(Nt=function(){return t.event.wheelDelta},\&quot;mousewheel\&quot;):(Nt=function(){return-t.event.detail},\&quot;MozMousePixelScroll\&quot;)),w.event=function(e){e.each((function(){var e=_.of(this,arguments),n=h;bs?t.select(this).transition().each(\&quot;start.zoom\&quot;,(function(){h=this.__chart__||{x:0,y:0,k:1},E(e)})).tween(\&quot;zoom:zoom\&quot;,(function(){var i=p[0],a=p[1],o=r?r[0]:i/2,s=r?r[1]:a/2,l=t.interpolateZoom([(o-h.x)/h.k,(s-h.y)/h.k,i/h.k],[(o-n.x)/n.k,(s-n.y)/n.k,i/n.k]);return function(t){var r=l(t),n=i/r[2];this.__chart__=h={x:o-r[0]*n,y:s-r[1]*n,k:n},C(e)}})).each(\&quot;interrupt.zoom\&quot;,(function(){L(e)})).each(\&quot;end.zoom\&quot;,(function(){L(e)})):(this.__chart__=h,E(e),C(e),L(e))}))},w.translate=function(t){return arguments.length?(h={x:+t[0],y:+t[1],k:h.k},S(),w):[h.x,h.y]},w.scale=function(t){return arguments.length?(h={x:h.x,y:h.y,k:null},k(+t),S(),w):h.k},w.scaleExtent=function(t){return arguments.length?(d=null==t?Ut:[+t[0],+t[1]],w):d},w.center=function(t){return arguments.length?(n=t&amp;&amp;[+t[0],+t[1]],w):n},w.size=function(t){return arguments.length?(p=t&amp;&amp;[+t[0],+t[1]],w):p},w.duration=function(t){return arguments.length?(g=+t,w):g},w.x=function(t){return arguments.length?(c=t,l=t.copy(),h={x:0,y:0,k:1},w):c},w.y=function(t){return arguments.length?(f=t,u=t.copy(),h={x:0,y:0,k:1},w):f},t.rebind(w,_,\&quot;on\&quot;)};var Nt,jt,Ut=[0,1/0];function Vt(){}function qt(t,e,r){return this instanceof qt?(this.h=+t,this.s=+e,void(this.l=+r)):arguments.length&lt;2?t instanceof qt?new qt(t.h,t.s,t.l):le(\&quot;\&quot;+t,ce,qt):new qt(t,e,r)}t.color=Vt,Vt.prototype.toString=function(){return this.rgb()+\&quot;\&quot;},t.hsl=qt;var Ht=qt.prototype=new Vt;function Gt(t,e,r){var n,i;function a(t){return Math.round(255*function(t){return t&gt;360?t-=360:t&lt;0&amp;&amp;(t+=360),t&lt;60?n+(i-n)*t/60:t&lt;180?i:t&lt;240?n+(i-n)*(240-t)/60:n}(t))}return t=isNaN(t)?0:(t%=360)&lt;0?t+360:t,e=isNaN(e)||e&lt;0?0:e&gt;1?1:e,n=2*(r=r&lt;0?0:r&gt;1?1:r)-(i=r&lt;=.5?r*(1+e):r+e-r*e),new ne(a(t+120),a(t),a(t-120))}function Yt(e,r,n){return this instanceof Yt?(this.h=+e,this.c=+r,void(this.l=+n)):arguments.length&lt;2?e instanceof Yt?new Yt(e.h,e.c,e.l):$t(e instanceof Zt?e.l:(e=ue((e=t.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new Yt(e,r,n)}Ht.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new qt(this.h,this.s,this.l/t)},Ht.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new qt(this.h,this.s,t*this.l)},Ht.rgb=function(){return Gt(this.h,this.s,this.l)},t.hcl=Yt;var Wt=Yt.prototype=new Vt;function Xt(t,e,r){return isNaN(t)&amp;&amp;(t=0),isNaN(e)&amp;&amp;(e=0),new Zt(r,Math.cos(t*=Lt)*e,Math.sin(t)*e)}function Zt(t,e,r){return this instanceof Zt?(this.l=+t,this.a=+e,void(this.b=+r)):arguments.length&lt;2?t instanceof Zt?new Zt(t.l,t.a,t.b):t instanceof Yt?Xt(t.h,t.c,t.l):ue((t=ne(t)).r,t.g,t.b):new Zt(t,e,r)}Wt.brighter=function(t){return new Yt(this.h,this.c,Math.min(100,this.l+Jt*(arguments.length?t:1)))},Wt.darker=function(t){return new Yt(this.h,this.c,Math.max(0,this.l-Jt*(arguments.length?t:1)))},Wt.rgb=function(){return Xt(this.h,this.c,this.l).rgb()},t.lab=Zt;var Jt=18,Kt=Zt.prototype=new Vt;function Qt(t,e,r){var n=(t+16)/116,i=n+e/500,a=n-r/200;return new ne(re(3.2404542*(i=.95047*te(i))-1.5371385*(n=1*te(n))-.4985314*(a=1.08883*te(a))),re(-.969266*i+1.8760108*n+.041556*a),re(.0556434*i-.2040259*n+1.0572252*a))}function $t(t,e,r){return t&gt;0?new Yt(Math.atan2(r,e)*It,Math.sqrt(e*e+r*r),t):new Yt(NaN,NaN,t)}function te(t){return t&gt;.206893034?t*t*t:(t-4/29)/7.787037}function ee(t){return t&gt;.008856?Math.pow(t,1/3):7.787037*t+4/29}function re(t){return Math.round(255*(t&lt;=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function ne(t,e,r){return this instanceof ne?(this.r=~~t,this.g=~~e,void(this.b=~~r)):arguments.length&lt;2?t instanceof ne?new ne(t.r,t.g,t.b):le(\&quot;\&quot;+t,ne,Gt):new ne(t,e,r)}function ie(t){return new ne(t&gt;&gt;16,t&gt;&gt;8&amp;255,255&amp;t)}function ae(t){return ie(t)+\&quot;\&quot;}Kt.brighter=function(t){return new Zt(Math.min(100,this.l+Jt*(arguments.length?t:1)),this.a,this.b)},Kt.darker=function(t){return new Zt(Math.max(0,this.l-Jt*(arguments.length?t:1)),this.a,this.b)},Kt.rgb=function(){return Qt(this.l,this.a,this.b)},t.rgb=ne;var oe=ne.prototype=new Vt;function se(t){return t&lt;16?\&quot;0\&quot;+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function le(t,e,r){var n,i,a,o=0,s=0,l=0;if(n=/([a-z]+)\\((.*)\\)/.exec(t=t.toLowerCase()))switch(i=n[2].split(\&quot;,\&quot;),n[1]){case\&quot;hsl\&quot;:return r(parseFloat(i[0]),parseFloat(i[1])/100,parseFloat(i[2])/100);case\&quot;rgb\&quot;:return e(he(i[0]),he(i[1]),he(i[2]))}return(a=pe.get(t))?e(a.r,a.g,a.b):(null==t||\&quot;#\&quot;!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&amp;a)&gt;&gt;4,o|=o&gt;&gt;4,s=240&amp;a,s|=s&gt;&gt;4,l=15&amp;a,l|=l&lt;&lt;4):7===t.length&amp;&amp;(o=(16711680&amp;a)&gt;&gt;16,s=(65280&amp;a)&gt;&gt;8,l=255&amp;a)),e(o,s,l))}function ce(t,e,r){var n,i,a=Math.min(t/=255,e/=255,r/=255),o=Math.max(t,e,r),s=o-a,l=(o+a)/2;return s?(i=l&lt;.5?s/(o+a):s/(2-o-a),n=t==o?(e-r)/s+(e&lt;r?6:0):e==o?(r-t)/s+2:(t-e)/s+4,n*=60):(n=NaN,i=l&gt;0&amp;&amp;l&lt;1?0:n),new qt(n,i,l)}function ue(t,e,r){var n=ee((.4124564*(t=fe(t))+.3575761*(e=fe(e))+.1804375*(r=fe(r)))/.95047),i=ee((.2126729*t+.7151522*e+.072175*r)/1);return Zt(116*i-16,500*(n-i),200*(i-ee((.0193339*t+.119192*e+.9503041*r)/1.08883)))}function fe(t){return(t/=255)&lt;=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function he(t){var e=parseFloat(t);return\&quot;%\&quot;===t.charAt(t.length-1)?Math.round(2.55*e):e}oe.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,r=this.g,n=this.b,i=30;return e||r||n?(e&amp;&amp;e&lt;i&amp;&amp;(e=i),r&amp;&amp;r&lt;i&amp;&amp;(r=i),n&amp;&amp;n&lt;i&amp;&amp;(n=i),new ne(Math.min(255,e/t),Math.min(255,r/t),Math.min(255,n/t))):new ne(i,i,i)},oe.darker=function(t){return new ne((t=Math.pow(.7,arguments.length?t:1))*this.r,t*this.g,t*this.b)},oe.hsl=function(){return ce(this.r,this.g,this.b)},oe.toString=function(){return\&quot;#\&quot;+se(this.r)+se(this.g)+se(this.b)};var pe=t.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function de(t){return\&quot;function\&quot;==typeof t?t:function(){return t}}function ge(t){return function(e,r,n){return 2===arguments.length&amp;&amp;\&quot;function\&quot;==typeof r&amp;&amp;(n=r,r=null),me(e,r,t,n)}}function me(e,r,i,a){var o={},s=t.dispatch(\&quot;beforesend\&quot;,\&quot;progress\&quot;,\&quot;load\&quot;,\&quot;error\&quot;),l={},c=new XMLHttpRequest,u=null;function f(){var t,e=c.status;if(!e&amp;&amp;function(t){var e=t.responseType;return e&amp;&amp;\&quot;text\&quot;!==e?t.response:t.responseText}(c)||e&gt;=200&amp;&amp;e&lt;300||304===e){try{t=i.call(o,c)}catch(t){return void s.error.call(o,t)}s.load.call(o,t)}else s.error.call(o,c)}return this.XDomainRequest&amp;&amp;!(\&quot;withCredentials\&quot;in c)&amp;&amp;/^(http(s)?:)?\\/\\//.test(e)&amp;&amp;(c=new XDomainRequest),\&quot;onload\&quot;in c?c.onload=c.onerror=f:c.onreadystatechange=function(){c.readyState&gt;3&amp;&amp;f()},c.onprogress=function(e){var r=t.event;t.event=e;try{s.progress.call(o,c)}finally{t.event=r}},o.header=function(t,e){return t=(t+\&quot;\&quot;).toLowerCase(),arguments.length&lt;2?l[t]:(null==e?delete l[t]:l[t]=e+\&quot;\&quot;,o)},o.mimeType=function(t){return arguments.length?(r=null==t?null:t+\&quot;\&quot;,o):r},o.responseType=function(t){return arguments.length?(u=t,o):u},o.response=function(t){return i=t,o},[\&quot;get\&quot;,\&quot;post\&quot;].forEach((function(t){o[t]=function(){return o.send.apply(o,[t].concat(n(arguments)))}})),o.send=function(t,n,i){if(2===arguments.length&amp;&amp;\&quot;function\&quot;==typeof n&amp;&amp;(i=n,n=null),c.open(t,e,!0),null==r||\&quot;accept\&quot;in l||(l.accept=r+\&quot;,*/*\&quot;),c.setRequestHeader)for(var a in l)c.setRequestHeader(a,l[a]);return null!=r&amp;&amp;c.overrideMimeType&amp;&amp;c.overrideMimeType(r),null!=u&amp;&amp;(c.responseType=u),null!=i&amp;&amp;o.on(\&quot;error\&quot;,i).on(\&quot;load\&quot;,(function(t){i(null,t)})),s.beforesend.call(o,c),c.send(null==n?null:n),o},o.abort=function(){return c.abort(),o},t.rebind(o,s,\&quot;on\&quot;),null==a?o:o.get(function(t){return 1===t.length?function(e,r){t(null==e?r:null)}:t}(a))}pe.forEach((function(t,e){pe.set(t,ie(e))})),t.functor=de,t.xhr=ge(L),t.dsv=function(t,e){var r=new RegExp('[\&quot;'+t+\&quot;\\n]\&quot;),n=t.charCodeAt(0);function i(t,r,n){arguments.length&lt;3&amp;&amp;(n=r,r=null);var i=me(t,e,null==r?a:o(r),n);return i.row=function(t){return arguments.length?i.response(null==(r=t)?a:o(t)):r},i}function a(t){return i.parse(t.responseText)}function o(t){return function(e){return i.parse(e.responseText,t)}}function s(e){return e.map(l).join(t)}function l(t){return r.test(t)?'\&quot;'+t.replace(/\\\&quot;/g,'\&quot;\&quot;')+'\&quot;':t}return i.parse=function(t,e){var r;return i.parseRows(t,(function(t,n){if(r)return r(t,n-1);var i=new Function(\&quot;d\&quot;,\&quot;return {\&quot;+t.map((function(t,e){return JSON.stringify(t)+\&quot;: d[\&quot;+e+\&quot;]\&quot;})).join(\&quot;,\&quot;)+\&quot;}\&quot;);r=e?function(t,r){return e(i(t),r)}:i}))},i.parseRows=function(t,e){var r,i,a={},o={},s=[],l=t.length,c=0,u=0;function f(){if(c&gt;=l)return o;if(i)return i=!1,a;var e=c;if(34===t.charCodeAt(e)){for(var r=e;r++&lt;l;)if(34===t.charCodeAt(r)){if(34!==t.charCodeAt(r+1))break;++r}return c=r+2,13===(s=t.charCodeAt(r+1))?(i=!0,10===t.charCodeAt(r+2)&amp;&amp;++c):10===s&amp;&amp;(i=!0),t.slice(e+1,r).replace(/\&quot;\&quot;/g,'\&quot;')}for(;c&lt;l;){var s,u=1;if(10===(s=t.charCodeAt(c++)))i=!0;else if(13===s)i=!0,10===t.charCodeAt(c)&amp;&amp;(++c,++u);else if(s!==n)continue;return t.slice(e,c-u)}return t.slice(e)}for(;(r=f())!==o;){for(var h=[];r!==a&amp;&amp;r!==o;)h.push(r),r=f();e&amp;&amp;null==(h=e(h,u++))||s.push(h)}return s},i.format=function(e){if(Array.isArray(e[0]))return i.formatRows(e);var r=new C,n=[];return e.forEach((function(t){for(var e in t)r.has(e)||n.push(r.add(e))})),[n.map(l).join(t)].concat(e.map((function(e){return n.map((function(t){return l(e[t])})).join(t)}))).join(\&quot;\\n\&quot;)},i.formatRows=function(t){return t.map(s).join(\&quot;\\n\&quot;)},i},t.csv=t.dsv(\&quot;,\&quot;,\&quot;text/csv\&quot;),t.tsv=t.dsv(\&quot;\\t\&quot;,\&quot;text/tab-separated-values\&quot;);var ve,ye,xe,be,_e=this[P(this,\&quot;requestAnimationFrame\&quot;)]||function(t){setTimeout(t,17)};function we(t,e,r){var n=arguments.length;n&lt;2&amp;&amp;(e=0),n&lt;3&amp;&amp;(r=Date.now());var i=r+e,a={c:t,t:i,n:null};return ye?ye.n=a:ve=a,ye=a,xe||(be=clearTimeout(be),xe=1,_e(Te)),a}function Te(){var t=ke(),e=Me()-t;e&gt;24?(isFinite(e)&amp;&amp;(clearTimeout(be),be=setTimeout(Te,e)),xe=0):(xe=1,_e(Te))}function ke(){for(var t=Date.now(),e=ve;e;)t&gt;=e.t&amp;&amp;e.c(t-e.t)&amp;&amp;(e.c=null),e=e.n;return t}function Me(){for(var t,e=ve,r=1/0;e;)e.c?(e.t&lt;r&amp;&amp;(r=e.t),e=(t=e).n):e=t?t.n=e.n:ve=e.n;return ye=t,r}function Ae(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}t.timer=function(){we.apply(this,arguments)},t.timer.flush=function(){ke(),Me()},t.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var Se=[\&quot;y\&quot;,\&quot;z\&quot;,\&quot;a\&quot;,\&quot;f\&quot;,\&quot;p\&quot;,\&quot;n\&quot;,\&quot;\\xb5\&quot;,\&quot;m\&quot;,\&quot;\&quot;,\&quot;k\&quot;,\&quot;M\&quot;,\&quot;G\&quot;,\&quot;T\&quot;,\&quot;P\&quot;,\&quot;E\&quot;,\&quot;Z\&quot;,\&quot;Y\&quot;].map((function(t,e){var r=Math.pow(10,3*y(8-e));return{scale:e&gt;8?function(t){return t/r}:function(t){return t*r},symbol:t}}));function Ee(e){var r=e.decimal,n=e.thousands,i=e.grouping,a=e.currency,o=i&amp;&amp;n?function(t,e){for(var r=t.length,a=[],o=0,s=i[0],l=0;r&gt;0&amp;&amp;s&gt;0&amp;&amp;(l+s+1&gt;e&amp;&amp;(s=Math.max(1,e-l)),a.push(t.substring(r-=s,r+s)),!((l+=s+1)&gt;e));)s=i[o=(o+1)%i.length];return a.reverse().join(n)}:L;return function(e){var n=Ce.exec(e),i=n[1]||\&quot; \&quot;,s=n[2]||\&quot;&gt;\&quot;,l=n[3]||\&quot;-\&quot;,c=n[4]||\&quot;\&quot;,u=n[5],f=+n[6],h=n[7],p=n[8],d=n[9],g=1,m=\&quot;\&quot;,v=\&quot;\&quot;,y=!1,x=!0;switch(p&amp;&amp;(p=+p.substring(1)),(u||\&quot;0\&quot;===i&amp;&amp;\&quot;=\&quot;===s)&amp;&amp;(u=i=\&quot;0\&quot;,s=\&quot;=\&quot;),d){case\&quot;n\&quot;:h=!0,d=\&quot;g\&quot;;break;case\&quot;%\&quot;:g=100,v=\&quot;%\&quot;,d=\&quot;f\&quot;;break;case\&quot;p\&quot;:g=100,v=\&quot;%\&quot;,d=\&quot;r\&quot;;break;case\&quot;b\&quot;:case\&quot;o\&quot;:case\&quot;x\&quot;:case\&quot;X\&quot;:\&quot;#\&quot;===c&amp;&amp;(m=\&quot;0\&quot;+d.toLowerCase());case\&quot;c\&quot;:x=!1;case\&quot;d\&quot;:y=!0,p=0;break;case\&quot;s\&quot;:g=-1,d=\&quot;r\&quot;}\&quot;$\&quot;===c&amp;&amp;(m=a[0],v=a[1]),\&quot;r\&quot;!=d||p||(d=\&quot;g\&quot;),null!=p&amp;&amp;(\&quot;g\&quot;==d?p=Math.max(1,Math.min(21,p)):\&quot;e\&quot;!=d&amp;&amp;\&quot;f\&quot;!=d||(p=Math.max(0,Math.min(20,p)))),d=Le.get(d)||Ie;var b=u&amp;&amp;h;return function(e){var n=v;if(y&amp;&amp;e%1)return\&quot;\&quot;;var a=e&lt;0||0===e&amp;&amp;1/e&lt;0?(e=-e,\&quot;-\&quot;):\&quot;-\&quot;===l?\&quot;\&quot;:l;if(g&lt;0){var c=t.formatPrefix(e,p);e=c.scale(e),n=c.symbol+v}else e*=g;var _,w,T=(e=d(e,p)).lastIndexOf(\&quot;.\&quot;);if(T&lt;0){var k=x?e.lastIndexOf(\&quot;e\&quot;):-1;k&lt;0?(_=e,w=\&quot;\&quot;):(_=e.substring(0,k),w=e.substring(k))}else _=e.substring(0,T),w=r+e.substring(T+1);!u&amp;&amp;h&amp;&amp;(_=o(_,1/0));var M=m.length+_.length+w.length+(b?0:a.length),A=M&lt;f?new Array(M=f-M+1).join(i):\&quot;\&quot;;return b&amp;&amp;(_=o(A+_,A.length?f-w.length:1/0)),a+=m,e=_+w,(\&quot;&lt;\&quot;===s?a+e+A:\&quot;&gt;\&quot;===s?A+a+e:\&quot;^\&quot;===s?A.substring(0,M&gt;&gt;=1)+a+e+A.substring(M):a+(b?e:A+e))+n}}}t.formatPrefix=function(e,r){var n=0;return(e=+e)&amp;&amp;(e&lt;0&amp;&amp;(e*=-1),r&amp;&amp;(e=t.round(e,Ae(e,r))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Se[8+n/3]};var Ce=/(?:([^{])?([&lt;&gt;=^]))?([+\\- ])?([$#])?(0)?(\\d+)?(,)?(\\.-?\\d+)?([a-z%])?/i,Le=t.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(e,r){return(e=t.round(e,Ae(e,r))).toFixed(Math.max(0,Math.min(20,Ae(e*(1+1e-15),r))))}});function Ie(t){return t+\&quot;\&quot;}var Pe=t.time={},ze=Date;function Oe(){this._=new Date(arguments.length&gt;1?Date.UTC.apply(this,arguments):arguments[0])}Oe.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){De.setUTCDate.apply(this._,arguments)},setDay:function(){De.setUTCDay.apply(this._,arguments)},setFullYear:function(){De.setUTCFullYear.apply(this._,arguments)},setHours:function(){De.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){De.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){De.setUTCMinutes.apply(this._,arguments)},setMonth:function(){De.setUTCMonth.apply(this._,arguments)},setSeconds:function(){De.setUTCSeconds.apply(this._,arguments)},setTime:function(){De.setTime.apply(this._,arguments)}};var De=Date.prototype;function Re(t,e,r){function n(e){var r=t(e),n=a(r,1);return e-r&lt;n-e?r:n}function i(r){return e(r=t(new ze(r-1)),1),r}function a(t,r){return e(t=new ze(+t),r),t}function o(t,n,a){var o=i(t),s=[];if(a&gt;1)for(;o&lt;n;)r(o)%a||s.push(new Date(+o)),e(o,1);else for(;o&lt;n;)s.push(new Date(+o)),e(o,1);return s}t.floor=t,t.round=n,t.ceil=i,t.offset=a,t.range=o;var s=t.utc=Fe(t);return s.floor=s,s.round=Fe(n),s.ceil=Fe(i),s.offset=Fe(a),s.range=function(t,e,r){try{ze=Oe;var n=new Oe;return n._=t,o(n,e,r)}finally{ze=Date}},t}function Fe(t){return function(e,r){try{ze=Oe;var n=new Oe;return n._=e,t(n,r)._}finally{ze=Date}}}function Be(e){var r=e.dateTime,n=e.date,i=e.time,a=e.periods,o=e.days,s=e.shortDays,l=e.months,c=e.shortMonths;function u(t){var e=t.length;function r(r){for(var n,i,a,o=[],s=-1,l=0;++s&lt;e;)37===t.charCodeAt(s)&amp;&amp;(o.push(t.slice(l,s)),null!=(i=Ne[n=t.charAt(++s)])&amp;&amp;(n=t.charAt(++s)),(a=_[n])&amp;&amp;(n=a(r,null==i?\&quot;e\&quot;===n?\&quot; \&quot;:\&quot;0\&quot;:i)),o.push(n),l=s+1);return o.push(t.slice(l,s)),o.join(\&quot;\&quot;)}return r.parse=function(e){var r={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(f(r,t,e,0)!=e.length)return null;\&quot;p\&quot;in r&amp;&amp;(r.H=r.H%12+12*r.p);var n=null!=r.Z&amp;&amp;ze!==Oe,i=new(n?Oe:ze);return\&quot;j\&quot;in r?i.setFullYear(r.y,0,r.j):\&quot;W\&quot;in r||\&quot;U\&quot;in r?(\&quot;w\&quot;in r||(r.w=\&quot;W\&quot;in r?1:0),i.setFullYear(r.y,0,1),i.setFullYear(r.y,0,\&quot;W\&quot;in r?(r.w+6)%7+7*r.W-(i.getDay()+5)%7:r.w+7*r.U-(i.getDay()+6)%7)):i.setFullYear(r.y,r.m,r.d),i.setHours(r.H+(r.Z/100|0),r.M+r.Z%100,r.S,r.L),n?i._:i},r.toString=function(){return t},r}function f(t,e,r,n){for(var i,a,o,s=0,l=e.length,c=r.length;s&lt;l;){if(n&gt;=c)return-1;if(37===(i=e.charCodeAt(s++))){if(o=e.charAt(s++),!(a=w[o in Ne?e.charAt(s++):o])||(n=a(t,r,n))&lt;0)return-1}else if(i!=r.charCodeAt(n++))return-1}return n}u.utc=function(t){var e=u(t);function r(t){try{var r=new(ze=Oe);return r._=t,e(r)}finally{ze=Date}}return r.parse=function(t){try{ze=Oe;var r=e.parse(t);return r&amp;&amp;r._}finally{ze=Date}},r.toString=e.toString,r},u.multi=u.utc.multi=or;var h=t.map(),p=qe(o),d=He(o),g=qe(s),m=He(s),v=qe(l),y=He(l),x=qe(c),b=He(c);a.forEach((function(t,e){h.set(t.toLowerCase(),e)}));var _={a:function(t){return s[t.getDay()]},A:function(t){return o[t.getDay()]},b:function(t){return c[t.getMonth()]},B:function(t){return l[t.getMonth()]},c:u(r),d:function(t,e){return Ve(t.getDate(),e,2)},e:function(t,e){return Ve(t.getDate(),e,2)},H:function(t,e){return Ve(t.getHours(),e,2)},I:function(t,e){return Ve(t.getHours()%12||12,e,2)},j:function(t,e){return Ve(1+Pe.dayOfYear(t),e,3)},L:function(t,e){return Ve(t.getMilliseconds(),e,3)},m:function(t,e){return Ve(t.getMonth()+1,e,2)},M:function(t,e){return Ve(t.getMinutes(),e,2)},p:function(t){return a[+(t.getHours()&gt;=12)]},S:function(t,e){return Ve(t.getSeconds(),e,2)},U:function(t,e){return Ve(Pe.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Ve(Pe.mondayOfYear(t),e,2)},x:u(n),X:u(i),y:function(t,e){return Ve(t.getFullYear()%100,e,2)},Y:function(t,e){return Ve(t.getFullYear()%1e4,e,4)},Z:ir,\&quot;%\&quot;:function(){return\&quot;%\&quot;}},w={a:function(t,e,r){g.lastIndex=0;var n=g.exec(e.slice(r));return n?(t.w=m.get(n[0].toLowerCase()),r+n[0].length):-1},A:function(t,e,r){p.lastIndex=0;var n=p.exec(e.slice(r));return n?(t.w=d.get(n[0].toLowerCase()),r+n[0].length):-1},b:function(t,e,r){x.lastIndex=0;var n=x.exec(e.slice(r));return n?(t.m=b.get(n[0].toLowerCase()),r+n[0].length):-1},B:function(t,e,r){v.lastIndex=0;var n=v.exec(e.slice(r));return n?(t.m=y.get(n[0].toLowerCase()),r+n[0].length):-1},c:function(t,e,r){return f(t,_.c.toString(),e,r)},d:Qe,e:Qe,H:tr,I:tr,j:$e,L:nr,m:Ke,M:er,p:function(t,e,r){var n=h.get(e.slice(r,r+=2).toLowerCase());return null==n?-1:(t.p=n,r)},S:rr,U:Ye,w:Ge,W:We,x:function(t,e,r){return f(t,_.x.toString(),e,r)},X:function(t,e,r){return f(t,_.X.toString(),e,r)},y:Ze,Y:Xe,Z:Je,\&quot;%\&quot;:ar};return u}Pe.year=Re((function(t){return(t=Pe.day(t)).setMonth(0,1),t}),(function(t,e){t.setFullYear(t.getFullYear()+e)}),(function(t){return t.getFullYear()})),Pe.years=Pe.year.range,Pe.years.utc=Pe.year.utc.range,Pe.day=Re((function(t){var e=new ze(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e}),(function(t,e){t.setDate(t.getDate()+e)}),(function(t){return t.getDate()-1})),Pe.days=Pe.day.range,Pe.days.utc=Pe.day.utc.range,Pe.dayOfYear=function(t){var e=Pe.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},[\&quot;sunday\&quot;,\&quot;monday\&quot;,\&quot;tuesday\&quot;,\&quot;wednesday\&quot;,\&quot;thursday\&quot;,\&quot;friday\&quot;,\&quot;saturday\&quot;].forEach((function(t,e){e=7-e;var r=Pe[t]=Re((function(t){return(t=Pe.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t}),(function(t,e){t.setDate(t.getDate()+7*Math.floor(e))}),(function(t){var r=Pe.year(t).getDay();return Math.floor((Pe.dayOfYear(t)+(r+e)%7)/7)-(r!==e)}));Pe[t+\&quot;s\&quot;]=r.range,Pe[t+\&quot;s\&quot;].utc=r.utc.range,Pe[t+\&quot;OfYear\&quot;]=function(t){var r=Pe.year(t).getDay();return Math.floor((Pe.dayOfYear(t)+(r+e)%7)/7)}})),Pe.week=Pe.sunday,Pe.weeks=Pe.sunday.range,Pe.weeks.utc=Pe.sunday.utc.range,Pe.weekOfYear=Pe.sundayOfYear;var Ne={\&quot;-\&quot;:\&quot;\&quot;,_:\&quot; \&quot;,0:\&quot;0\&quot;},je=/^\\s*\\d+/,Ue=/^%/;function Ve(t,e,r){var n=t&lt;0?\&quot;-\&quot;:\&quot;\&quot;,i=(n?-t:t)+\&quot;\&quot;,a=i.length;return n+(a&lt;r?new Array(r-a+1).join(e)+i:i)}function qe(e){return new RegExp(\&quot;^(?:\&quot;+e.map(t.requote).join(\&quot;|\&quot;)+\&quot;)\&quot;,\&quot;i\&quot;)}function He(t){for(var e=new _,r=-1,n=t.length;++r&lt;n;)e.set(t[r].toLowerCase(),r);return e}function Ge(t,e,r){je.lastIndex=0;var n=je.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function Ye(t,e,r){je.lastIndex=0;var n=je.exec(e.slice(r));return n?(t.U=+n[0],r+n[0].length):-1}function We(t,e,r){je.lastIndex=0;var n=je.exec(e.slice(r));return n?(t.W=+n[0],r+n[0].length):-1}function Xe(t,e,r){je.lastIndex=0;var n=je.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Ze(t,e,r){je.lastIndex=0;var n,i=je.exec(e.slice(r,r+2));return i?(t.y=(n=+i[0])+(n&gt;68?1900:2e3),r+i[0].length):-1}function Je(t,e,r){return/^[+-]\\d{4}$/.test(e=e.slice(r,r+5))?(t.Z=-e,r+5):-1}function Ke(t,e,r){je.lastIndex=0;var n=je.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function Qe(t,e,r){je.lastIndex=0;var n=je.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function $e(t,e,r){je.lastIndex=0;var n=je.exec(e.slice(r,r+3));return n?(t.j=+n[0],r+n[0].length):-1}function tr(t,e,r){je.lastIndex=0;var n=je.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function er(t,e,r){je.lastIndex=0;var n=je.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function rr(t,e,r){je.lastIndex=0;var n=je.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function nr(t,e,r){je.lastIndex=0;var n=je.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function ir(t){var e=t.getTimezoneOffset(),r=e&gt;0?\&quot;-\&quot;:\&quot;+\&quot;,n=y(e)/60|0,i=y(e)%60;return r+Ve(n,\&quot;0\&quot;,2)+Ve(i,\&quot;0\&quot;,2)}function ar(t,e,r){Ue.lastIndex=0;var n=Ue.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function or(t){for(var e=t.length,r=-1;++r&lt;e;)t[r][0]=this(t[r][0]);return function(e){for(var r=0,n=t[r];!n[1](e);)n=t[++r];return n[0](e)}}t.locale=function(t){return{numberFormat:Ee(t),timeFormat:Be(t)}};var sr=t.locale({decimal:\&quot;.\&quot;,thousands:\&quot;,\&quot;,grouping:[3],currency:[\&quot;$\&quot;,\&quot;\&quot;],dateTime:\&quot;%a %b %e %X %Y\&quot;,date:\&quot;%m/%d/%Y\&quot;,time:\&quot;%H:%M:%S\&quot;,periods:[\&quot;AM\&quot;,\&quot;PM\&quot;],days:[\&quot;Sunday\&quot;,\&quot;Monday\&quot;,\&quot;Tuesday\&quot;,\&quot;Wednesday\&quot;,\&quot;Thursday\&quot;,\&quot;Friday\&quot;,\&quot;Saturday\&quot;],shortDays:[\&quot;Sun\&quot;,\&quot;Mon\&quot;,\&quot;Tue\&quot;,\&quot;Wed\&quot;,\&quot;Thu\&quot;,\&quot;Fri\&quot;,\&quot;Sat\&quot;],months:[\&quot;January\&quot;,\&quot;February\&quot;,\&quot;March\&quot;,\&quot;April\&quot;,\&quot;May\&quot;,\&quot;June\&quot;,\&quot;July\&quot;,\&quot;August\&quot;,\&quot;September\&quot;,\&quot;October\&quot;,\&quot;November\&quot;,\&quot;December\&quot;],shortMonths:[\&quot;Jan\&quot;,\&quot;Feb\&quot;,\&quot;Mar\&quot;,\&quot;Apr\&quot;,\&quot;May\&quot;,\&quot;Jun\&quot;,\&quot;Jul\&quot;,\&quot;Aug\&quot;,\&quot;Sep\&quot;,\&quot;Oct\&quot;,\&quot;Nov\&quot;,\&quot;Dec\&quot;]});function lr(){}t.format=sr.numberFormat,t.geo={},lr.prototype={s:0,t:0,add:function(t){ur(t,this.t,cr),ur(cr.s,this.s,this),this.s?this.t+=cr.t:this.s=cr.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var cr=new lr;function ur(t,e,r){var n=r.s=t+e,i=n-t,a=n-i;r.t=t-a+(e-i)}function fr(t,e){t&amp;&amp;pr.hasOwnProperty(t.type)&amp;&amp;pr[t.type](t,e)}t.geo.stream=function(t,e){t&amp;&amp;hr.hasOwnProperty(t.type)?hr[t.type](t,e):fr(t,e)};var hr={Feature:function(t,e){fr(t.geometry,e)},FeatureCollection:function(t,e){for(var r=t.features,n=-1,i=r.length;++n&lt;i;)fr(r[n].geometry,e)}},pr={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n&lt;i;)t=r[n],e.point(t[0],t[1],t[2])},LineString:function(t,e){dr(t.coordinates,e,0)},MultiLineString:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n&lt;i;)dr(r[n],e,0)},Polygon:function(t,e){gr(t.coordinates,e)},MultiPolygon:function(t,e){for(var r=t.coordinates,n=-1,i=r.length;++n&lt;i;)gr(r[n],e)},GeometryCollection:function(t,e){for(var r=t.geometries,n=-1,i=r.length;++n&lt;i;)fr(r[n],e)}};function dr(t,e,r){var n,i=-1,a=t.length-r;for(e.lineStart();++i&lt;a;)n=t[i],e.point(n[0],n[1],n[2]);e.lineEnd()}function gr(t,e){var r=-1,n=t.length;for(e.polygonStart();++r&lt;n;)dr(t[r],e,1);e.polygonEnd()}t.geo.area=function(e){return mr=0,t.geo.stream(e,Cr),mr};var mr,vr,yr,xr,br,_r,wr,Tr,kr,Mr,Ar,Sr,Er=new lr,Cr={sphere:function(){mr+=4*At},point:O,lineStart:O,lineEnd:O,polygonStart:function(){Er.reset(),Cr.lineStart=Lr},polygonEnd:function(){var t=2*Er;mr+=t&lt;0?4*At+t:t,Cr.lineStart=Cr.lineEnd=Cr.point=O}};function Lr(){var t,e,r,n,i;function a(t,e){e=e*Lt/2+At/4;var a=(t*=Lt)-r,o=a&gt;=0?1:-1,s=o*a,l=Math.cos(e),c=Math.sin(e),u=i*c,f=n*l+u*Math.cos(s),h=u*o*Math.sin(s);Er.add(Math.atan2(h,f)),r=t,n=l,i=c}Cr.point=function(o,s){Cr.point=a,r=(t=o)*Lt,n=Math.cos(s=(e=s)*Lt/2+At/4),i=Math.sin(s)},Cr.lineEnd=function(){a(t,e)}}function Ir(t){var e=t[0],r=t[1],n=Math.cos(r);return[n*Math.cos(e),n*Math.sin(e),Math.sin(r)]}function Pr(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function zr(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Or(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Dr(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Rr(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Fr(t){return[Math.atan2(t[1],t[0]),Dt(t[2])]}function Br(t,e){return y(t[0]-e[0])&lt;kt&amp;&amp;y(t[1]-e[1])&lt;kt}t.geo.bounds=function(){var e,r,n,i,a,o,s,l,c,u,f,h={point:p,lineStart:g,lineEnd:m,polygonStart:function(){h.point=v,h.lineStart=x,h.lineEnd=b,c=0,Cr.polygonStart()},polygonEnd:function(){Cr.polygonEnd(),h.point=p,h.lineStart=g,h.lineEnd=m,Er&lt;0?(e=-(n=180),r=-(i=90)):c&gt;kt?i=90:c&lt;-kt&amp;&amp;(r=-90),f[0]=e,f[1]=n}};function p(t,a){u.push(f=[e=t,n=t]),a&lt;r&amp;&amp;(r=a),a&gt;i&amp;&amp;(i=a)}function d(t,o){var s=Ir([t*Lt,o*Lt]);if(l){var c=zr(l,s),u=zr([c[1],-c[0],0],c);Rr(u),u=Fr(u);var f=t-a,h=f&gt;0?1:-1,d=u[0]*It*h,g=y(f)&gt;180;if(g^(h*a&lt;d&amp;&amp;d&lt;h*t))(m=u[1]*It)&gt;i&amp;&amp;(i=m);else if(g^(h*a&lt;(d=(d+360)%360-180)&amp;&amp;d&lt;h*t)){var m;(m=-u[1]*It)&lt;r&amp;&amp;(r=m)}else o&lt;r&amp;&amp;(r=o),o&gt;i&amp;&amp;(i=o);g?t&lt;a?_(e,t)&gt;_(e,n)&amp;&amp;(n=t):_(t,n)&gt;_(e,n)&amp;&amp;(e=t):n&gt;=e?(t&lt;e&amp;&amp;(e=t),t&gt;n&amp;&amp;(n=t)):t&gt;a?_(e,t)&gt;_(e,n)&amp;&amp;(n=t):_(t,n)&gt;_(e,n)&amp;&amp;(e=t)}else p(t,o);l=s,a=t}function g(){h.point=d}function m(){f[0]=e,f[1]=n,h.point=p,l=null}function v(t,e){if(l){var r=t-a;c+=y(r)&gt;180?r+(r&gt;0?360:-360):r}else o=t,s=e;Cr.point(t,e),d(t,e)}function x(){Cr.lineStart()}function b(){v(o,s),Cr.lineEnd(),y(c)&gt;kt&amp;&amp;(e=-(n=180)),f[0]=e,f[1]=n,l=null}function _(t,e){return(e-=t)&lt;0?e+360:e}function w(t,e){return t[0]-e[0]}function T(t,e){return e[0]&lt;=e[1]?e[0]&lt;=t&amp;&amp;t&lt;=e[1]:t&lt;e[0]||e[1]&lt;t}return function(a){if(i=n=-(e=r=1/0),u=[],t.geo.stream(a,h),c=u.length){u.sort(w);for(var o=1,s=[g=u[0]];o&lt;c;++o)T((p=u[o])[0],g)||T(p[1],g)?(_(g[0],p[1])&gt;_(g[0],g[1])&amp;&amp;(g[1]=p[1]),_(p[0],g[1])&gt;_(g[0],g[1])&amp;&amp;(g[0]=p[0])):s.push(g=p);for(var l,c,p,d=-1/0,g=(o=0,s[c=s.length-1]);o&lt;=c;g=p,++o)p=s[o],(l=_(g[1],p[0]))&gt;d&amp;&amp;(d=l,e=p[0],n=g[1])}return u=f=null,e===1/0||r===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,r],[n,i]]}}(),t.geo.centroid=function(e){vr=yr=xr=br=_r=wr=Tr=kr=Mr=Ar=Sr=0,t.geo.stream(e,Nr);var r=Mr,n=Ar,i=Sr,a=r*r+n*n+i*i;return a&lt;Mt&amp;&amp;(r=wr,n=Tr,i=kr,yr&lt;kt&amp;&amp;(r=xr,n=br,i=_r),(a=r*r+n*n+i*i)&lt;Mt)?[NaN,NaN]:[Math.atan2(n,r)*It,Dt(i/Math.sqrt(a))*It]};var Nr={sphere:O,point:jr,lineStart:Vr,lineEnd:qr,polygonStart:function(){Nr.lineStart=Hr},polygonEnd:function(){Nr.lineStart=Vr}};function jr(t,e){t*=Lt;var r=Math.cos(e*=Lt);Ur(r*Math.cos(t),r*Math.sin(t),Math.sin(e))}function Ur(t,e,r){++vr,xr+=(t-xr)/vr,br+=(e-br)/vr,_r+=(r-_r)/vr}function Vr(){var t,e,r;function n(n,i){n*=Lt;var a=Math.cos(i*=Lt),o=a*Math.cos(n),s=a*Math.sin(n),l=Math.sin(i),c=Math.atan2(Math.sqrt((c=e*l-r*s)*c+(c=r*o-t*l)*c+(c=t*s-e*o)*c),t*o+e*s+r*l);yr+=c,wr+=c*(t+(t=o)),Tr+=c*(e+(e=s)),kr+=c*(r+(r=l)),Ur(t,e,r)}Nr.point=function(i,a){i*=Lt;var o=Math.cos(a*=Lt);t=o*Math.cos(i),e=o*Math.sin(i),r=Math.sin(a),Nr.point=n,Ur(t,e,r)}}function qr(){Nr.point=jr}function Hr(){var t,e,r,n,i;function a(t,e){t*=Lt;var a=Math.cos(e*=Lt),o=a*Math.cos(t),s=a*Math.sin(t),l=Math.sin(e),c=n*l-i*s,u=i*o-r*l,f=r*s-n*o,h=Math.sqrt(c*c+u*u+f*f),p=r*o+n*s+i*l,d=h&amp;&amp;-Ot(p)/h,g=Math.atan2(h,p);Mr+=d*c,Ar+=d*u,Sr+=d*f,yr+=g,wr+=g*(r+(r=o)),Tr+=g*(n+(n=s)),kr+=g*(i+(i=l)),Ur(r,n,i)}Nr.point=function(o,s){t=o,e=s,Nr.point=a,o*=Lt;var l=Math.cos(s*=Lt);r=l*Math.cos(o),n=l*Math.sin(o),i=Math.sin(s),Ur(r,n,i)},Nr.lineEnd=function(){a(t,e),Nr.lineEnd=qr,Nr.point=jr}}function Gr(t,e){function r(r,n){return r=t(r,n),e(r[0],r[1])}return t.invert&amp;&amp;e.invert&amp;&amp;(r.invert=function(r,n){return(r=e.invert(r,n))&amp;&amp;t.invert(r[0],r[1])}),r}function Yr(){return!0}function Wr(t,e,r,n,i){var a=[],o=[];if(t.forEach((function(t){if(!((e=t.length-1)&lt;=0)){var e,r=t[0],n=t[e];if(Br(r,n)){i.lineStart();for(var s=0;s&lt;e;++s)i.point((r=t[s])[0],r[1]);i.lineEnd()}else{var l=new Zr(r,t,null,!0),c=new Zr(r,null,l,!1);l.o=c,a.push(l),o.push(c),l=new Zr(n,t,null,!1),c=new Zr(n,null,l,!0),l.o=c,a.push(l),o.push(c)}}})),o.sort(e),Xr(a),Xr(o),a.length){for(var s=0,l=r,c=o.length;s&lt;c;++s)o[s].e=l=!l;for(var u,f,h=a[0];;){for(var p=h,d=!0;p.v;)if((p=p.n)===h)return;u=p.z,i.lineStart();do{if(p.v=p.o.v=!0,p.e){if(d)for(s=0,c=u.length;s&lt;c;++s)i.point((f=u[s])[0],f[1]);else n(p.x,p.n.x,1,i);p=p.n}else{if(d)for(s=(u=p.p.z).length-1;s&gt;=0;--s)i.point((f=u[s])[0],f[1]);else n(p.x,p.p.x,-1,i);p=p.p}u=(p=p.o).z,d=!d}while(!p.v);i.lineEnd()}}}function Xr(t){if(e=t.length){for(var e,r,n=0,i=t[0];++n&lt;e;)i.n=r=t[n],r.p=i,i=r;i.n=r=t[0],r.p=i}}function Zr(t,e,r,n){this.x=t,this.z=e,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function Jr(e,r,n,i){return function(a,o){var s,l=r(o),c=a.invert(i[0],i[1]),u={point:f,lineStart:p,lineEnd:d,polygonStart:function(){u.point=b,u.lineStart=_,u.lineEnd=w,s=[],g=[]},polygonEnd:function(){u.point=f,u.lineStart=p,u.lineEnd=d,s=t.merge(s);var e=function(t,e){var r=t[0],n=t[1],i=[Math.sin(r),-Math.cos(r),0],a=0,o=0;Er.reset();for(var s=0,l=e.length;s&lt;l;++s){var c=e[s],u=c.length;if(u)for(var f=c[0],h=f[0],p=f[1]/2+At/4,d=Math.sin(p),g=Math.cos(p),m=1;;){m===u&amp;&amp;(m=0);var v=(t=c[m])[0],y=t[1]/2+At/4,x=Math.sin(y),b=Math.cos(y),_=v-h,w=_&gt;=0?1:-1,T=w*_,k=T&gt;At,M=d*x;if(Er.add(Math.atan2(M*w*Math.sin(T),g*b+M*Math.cos(T))),a+=k?_+w*St:_,k^h&gt;=r^v&gt;=r){var A=zr(Ir(f),Ir(t));Rr(A);var S=zr(i,A);Rr(S);var E=(k^_&gt;=0?-1:1)*Dt(S[2]);(n&gt;E||n===E&amp;&amp;(A[0]||A[1]))&amp;&amp;(o+=k^_&gt;=0?1:-1)}if(!m++)break;h=v,d=x,g=b,f=t}}return(a&lt;-kt||a&lt;kt&amp;&amp;Er&lt;-kt)^1&amp;o}(c,g);s.length?(x||(o.polygonStart(),x=!0),Wr(s,$r,e,n,o)):e&amp;&amp;(x||(o.polygonStart(),x=!0),o.lineStart(),n(null,null,1,o),o.lineEnd()),x&amp;&amp;(o.polygonEnd(),x=!1),s=g=null},sphere:function(){o.polygonStart(),o.lineStart(),n(null,null,1,o),o.lineEnd(),o.polygonEnd()}};function f(t,r){var n=a(t,r);e(t=n[0],r=n[1])&amp;&amp;o.point(t,r)}function h(t,e){var r=a(t,e);l.point(r[0],r[1])}function p(){u.point=h,l.lineStart()}function d(){u.point=f,l.lineEnd()}var g,m,v=Qr(),y=r(v),x=!1;function b(t,e){m.push([t,e]);var r=a(t,e);y.point(r[0],r[1])}function _(){y.lineStart(),m=[]}function w(){b(m[0][0],m[0][1]),y.lineEnd();var t,e=y.clean(),r=v.buffer(),n=r.length;if(m.pop(),g.push(m),m=null,n)if(1&amp;e){var i,a=-1;if((n=(t=r[0]).length-1)&gt;0){for(x||(o.polygonStart(),x=!0),o.lineStart();++a&lt;n;)o.point((i=t[a])[0],i[1]);o.lineEnd()}}else n&gt;1&amp;&amp;2&amp;e&amp;&amp;r.push(r.pop().concat(r.shift())),s.push(r.filter(Kr))}return u}}function Kr(t){return t.length&gt;1}function Qr(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,r){t.push([e,r])},lineEnd:O,buffer:function(){var r=e;return e=[],t=null,r},rejoin:function(){e.length&gt;1&amp;&amp;e.push(e.pop().concat(e.shift()))}}}function $r(t,e){return((t=t.x)[0]&lt;0?t[1]-Ct-kt:Ct-t[1])-((e=e.x)[0]&lt;0?e[1]-Ct-kt:Ct-e[1])}var tn=Jr(Yr,(function(t){var e,r=NaN,n=NaN,i=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a&gt;0?At:-At,l=y(a-r);y(l-At)&lt;kt?(t.point(r,n=(n+o)/2&gt;0?Ct:-Ct),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(s,n),t.point(a,n),e=0):i!==s&amp;&amp;l&gt;=At&amp;&amp;(y(r-i)&lt;kt&amp;&amp;(r-=i*kt),y(a-s)&lt;kt&amp;&amp;(a-=s*kt),n=function(t,e,r,n){var i,a,o=Math.sin(t-r);return y(o)&gt;kt?Math.atan((Math.sin(e)*(a=Math.cos(n))*Math.sin(r)-Math.sin(n)*(i=Math.cos(e))*Math.sin(t))/(i*a*o)):(e+n)/2}(r,n,a,o),t.point(i,n),t.lineEnd(),t.lineStart(),t.point(s,n),e=0),t.point(r=a,n=o),i=s},lineEnd:function(){t.lineEnd(),r=n=NaN},clean:function(){return 2-e}}}),(function(t,e,r,n){var i;if(null==t)i=r*Ct,n.point(-At,i),n.point(0,i),n.point(At,i),n.point(At,0),n.point(At,-i),n.point(0,-i),n.point(-At,-i),n.point(-At,0),n.point(-At,i);else if(y(t[0]-e[0])&gt;kt){var a=t[0]&lt;e[0]?At:-At;i=r*a/2,n.point(-a,i),n.point(0,i),n.point(a,i)}else n.point(e[0],e[1])}),[-At,-At/2]);function en(t){var e=Math.cos(t),r=e&gt;0,n=y(e)&gt;kt;return Jr(i,(function(t){var e,s,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(f,h){var p,d=[f,h],g=i(f,h),m=r?g?0:o(f,h):g?o(f+(f&lt;0?At:-At),h):0;if(!e&amp;&amp;(c=l=g)&amp;&amp;t.lineStart(),g!==l&amp;&amp;(p=a(e,d),(Br(e,p)||Br(d,p))&amp;&amp;(d[0]+=kt,d[1]+=kt,g=i(d[0],d[1]))),g!==l)u=0,g?(t.lineStart(),p=a(d,e),t.point(p[0],p[1])):(p=a(e,d),t.point(p[0],p[1]),t.lineEnd()),e=p;else if(n&amp;&amp;e&amp;&amp;r^g){var v;m&amp;s||!(v=a(d,e,!0))||(u=0,r?(t.lineStart(),t.point(v[0][0],v[0][1]),t.point(v[1][0],v[1][1]),t.lineEnd()):(t.point(v[1][0],v[1][1]),t.lineEnd(),t.lineStart(),t.point(v[0][0],v[0][1])))}!g||e&amp;&amp;Br(e,d)||t.point(d[0],d[1]),e=d,l=g,s=m},lineEnd:function(){l&amp;&amp;t.lineEnd(),e=null},clean:function(){return u|(c&amp;&amp;l)&lt;&lt;1}}}),Bn(t,6*Lt),r?[0,-t]:[-At,t-At]);function i(t,r){return Math.cos(t)*Math.cos(r)&gt;e}function a(t,r,n){var i=[1,0,0],a=zr(Ir(t),Ir(r)),o=Pr(a,a),s=a[0],l=o-s*s;if(!l)return!n&amp;&amp;t;var c=e*o/l,u=-e*s/l,f=zr(i,a),h=Dr(i,c);Or(h,Dr(a,u));var p=f,d=Pr(h,p),g=Pr(p,p),m=d*d-g*(Pr(h,h)-1);if(!(m&lt;0)){var v=Math.sqrt(m),x=Dr(p,(-d-v)/g);if(Or(x,h),x=Fr(x),!n)return x;var b,_=t[0],w=r[0],T=t[1],k=r[1];w&lt;_&amp;&amp;(b=_,_=w,w=b);var M=w-_,A=y(M-At)&lt;kt;if(!A&amp;&amp;k&lt;T&amp;&amp;(b=T,T=k,k=b),A||M&lt;kt?A?T+k&gt;0^x[1]&lt;(y(x[0]-_)&lt;kt?T:k):T&lt;=x[1]&amp;&amp;x[1]&lt;=k:M&gt;At^(_&lt;=x[0]&amp;&amp;x[0]&lt;=w)){var S=Dr(p,(-d+v)/g);return Or(S,h),[x,Fr(S)]}}}function o(e,n){var i=r?t:At-t,a=0;return e&lt;-i?a|=1:e&gt;i&amp;&amp;(a|=2),n&lt;-i?a|=4:n&gt;i&amp;&amp;(a|=8),a}}function rn(t,e,r,n){return function(i){var a,o=i.a,s=i.b,l=o.x,c=o.y,u=0,f=1,h=s.x-l,p=s.y-c;if(a=t-l,h||!(a&gt;0)){if(a/=h,h&lt;0){if(a&lt;u)return;a&lt;f&amp;&amp;(f=a)}else if(h&gt;0){if(a&gt;f)return;a&gt;u&amp;&amp;(u=a)}if(a=r-l,h||!(a&lt;0)){if(a/=h,h&lt;0){if(a&gt;f)return;a&gt;u&amp;&amp;(u=a)}else if(h&gt;0){if(a&lt;u)return;a&lt;f&amp;&amp;(f=a)}if(a=e-c,p||!(a&gt;0)){if(a/=p,p&lt;0){if(a&lt;u)return;a&lt;f&amp;&amp;(f=a)}else if(p&gt;0){if(a&gt;f)return;a&gt;u&amp;&amp;(u=a)}if(a=n-c,p||!(a&lt;0)){if(a/=p,p&lt;0){if(a&gt;f)return;a&gt;u&amp;&amp;(u=a)}else if(p&gt;0){if(a&lt;u)return;a&lt;f&amp;&amp;(f=a)}return u&gt;0&amp;&amp;(i.a={x:l+u*h,y:c+u*p}),f&lt;1&amp;&amp;(i.b={x:l+f*h,y:c+f*p}),i}}}}}}function nn(e,r,n,i){return function(l){var c,u,f,h,p,d,g,m,v,y,x,b=l,_=Qr(),w=rn(e,r,n,i),T={point:A,lineStart:function(){T.point=S,u&amp;&amp;u.push(f=[]);y=!0,v=!1,g=m=NaN},lineEnd:function(){c&amp;&amp;(S(h,p),d&amp;&amp;v&amp;&amp;_.rejoin(),c.push(_.buffer()));T.point=A,v&amp;&amp;l.lineEnd()},polygonStart:function(){l=_,c=[],u=[],x=!0},polygonEnd:function(){l=b,c=t.merge(c);var r=function(t){for(var e=0,r=u.length,n=t[1],i=0;i&lt;r;++i)for(var a,o=1,s=u[i],l=s.length,c=s[0];o&lt;l;++o)a=s[o],c[1]&lt;=n?a[1]&gt;n&amp;&amp;zt(c,a,t)&gt;0&amp;&amp;++e:a[1]&lt;=n&amp;&amp;zt(c,a,t)&lt;0&amp;&amp;--e,c=a;return 0!==e}([e,i]),n=x&amp;&amp;r,a=c.length;(n||a)&amp;&amp;(l.polygonStart(),n&amp;&amp;(l.lineStart(),k(null,null,1,l),l.lineEnd()),a&amp;&amp;Wr(c,o,r,k,l),l.polygonEnd()),c=u=f=null}};function k(t,o,l,c){var u=0,f=0;if(null==t||(u=a(t,l))!==(f=a(o,l))||s(t,o)&lt;0^l&gt;0)do{c.point(0===u||3===u?e:n,u&gt;1?i:r)}while((u=(u+l+4)%4)!==f);else c.point(o[0],o[1])}function M(t,a){return e&lt;=t&amp;&amp;t&lt;=n&amp;&amp;r&lt;=a&amp;&amp;a&lt;=i}function A(t,e){M(t,e)&amp;&amp;l.point(t,e)}function S(t,e){var r=M(t=Math.max(-1e9,Math.min(1e9,t)),e=Math.max(-1e9,Math.min(1e9,e)));if(u&amp;&amp;f.push([t,e]),y)h=t,p=e,d=r,y=!1,r&amp;&amp;(l.lineStart(),l.point(t,e));else if(r&amp;&amp;v)l.point(t,e);else{var n={a:{x:g,y:m},b:{x:t,y:e}};w(n)?(v||(l.lineStart(),l.point(n.a.x,n.a.y)),l.point(n.b.x,n.b.y),r||l.lineEnd(),x=!1):r&amp;&amp;(l.lineStart(),l.point(t,e),x=!1)}g=t,m=e,v=r}return T};function a(t,i){return y(t[0]-e)&lt;kt?i&gt;0?0:3:y(t[0]-n)&lt;kt?i&gt;0?2:1:y(t[1]-r)&lt;kt?i&gt;0?1:0:i&gt;0?3:2}function o(t,e){return s(t.x,e.x)}function s(t,e){var r=a(t,1),n=a(e,1);return r!==n?r-n:0===r?e[1]-t[1]:1===r?t[0]-e[0]:2===r?t[1]-e[1]:e[0]-t[0]}}function an(t){var e=0,r=At/3,n=Ln(t),i=n(e,r);return i.parallels=function(t){return arguments.length?n(e=t[0]*At/180,r=t[1]*At/180):[e/At*180,r/At*180]},i}function on(t,e){var r=Math.sin(t),n=(r+Math.sin(e))/2,i=1+r*(2*n-r),a=Math.sqrt(i)/n;function o(t,e){var r=Math.sqrt(i-2*n*Math.sin(e))/n;return[r*Math.sin(t*=n),a-r*Math.cos(t)]}return o.invert=function(t,e){var r=a-e;return[Math.atan2(t,r)/n,Dt((i-(t*t+r*r)*n*n)/(2*n))]},o}t.geo.clipExtent=function(){var t,e,r,n,i,a,o={stream:function(t){return i&amp;&amp;(i.valid=!1),(i=a(t)).valid=!0,i},extent:function(s){return arguments.length?(a=nn(t=+s[0][0],e=+s[0][1],r=+s[1][0],n=+s[1][1]),i&amp;&amp;(i.valid=!1,i=null),o):[[t,e],[r,n]]}};return o.extent([[0,0],[960,500]])},(t.geo.conicEqualArea=function(){return an(on)}).raw=on,t.geo.albers=function(){return t.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},t.geo.albersUsa=function(){var e,r,n,i,a=t.geo.albers(),o=t.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=t.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,r){e=[t,r]}};function c(t){var a=t[0],o=t[1];return e=null,r(a,o),e||(n(a,o),e)||i(a,o),e}return c.invert=function(t){var e=a.scale(),r=a.translate(),n=(t[0]-r[0])/e,i=(t[1]-r[1])/e;return(i&gt;=.12&amp;&amp;i&lt;.234&amp;&amp;n&gt;=-.425&amp;&amp;n&lt;-.214?o:i&gt;=.166&amp;&amp;i&lt;.234&amp;&amp;n&gt;=-.214&amp;&amp;n&lt;-.115?s:a).invert(t)},c.stream=function(t){var e=a.stream(t),r=o.stream(t),n=s.stream(t);return{point:function(t,i){e.point(t,i),r.point(t,i),n.point(t,i)},sphere:function(){e.sphere(),r.sphere(),n.sphere()},lineStart:function(){e.lineStart(),r.lineStart(),n.lineStart()},lineEnd:function(){e.lineEnd(),r.lineEnd(),n.lineEnd()},polygonStart:function(){e.polygonStart(),r.polygonStart(),n.polygonStart()},polygonEnd:function(){e.polygonEnd(),r.polygonEnd(),n.polygonEnd()}}},c.precision=function(t){return arguments.length?(a.precision(t),o.precision(t),s.precision(t),c):a.precision()},c.scale=function(t){return arguments.length?(a.scale(t),o.scale(.35*t),s.scale(t),c.translate(a.translate())):a.scale()},c.translate=function(t){if(!arguments.length)return a.translate();var e=a.scale(),u=+t[0],f=+t[1];return r=a.translate(t).clipExtent([[u-.455*e,f-.238*e],[u+.455*e,f+.238*e]]).stream(l).point,n=o.translate([u-.307*e,f+.201*e]).clipExtent([[u-.425*e+kt,f+.12*e+kt],[u-.214*e-kt,f+.234*e-kt]]).stream(l).point,i=s.translate([u-.205*e,f+.212*e]).clipExtent([[u-.214*e+kt,f+.166*e+kt],[u-.115*e-kt,f+.234*e-kt]]).stream(l).point,c},c.scale(1070)};var sn,ln,cn,un,fn,hn,pn={point:O,lineStart:O,lineEnd:O,polygonStart:function(){ln=0,pn.lineStart=dn},polygonEnd:function(){pn.lineStart=pn.lineEnd=pn.point=O,sn+=y(ln/2)}};function dn(){var t,e,r,n;function i(t,e){ln+=n*t-r*e,r=t,n=e}pn.point=function(a,o){pn.point=i,t=r=a,e=n=o},pn.lineEnd=function(){i(t,e)}}var gn={point:function(t,e){t&lt;cn&amp;&amp;(cn=t);t&gt;fn&amp;&amp;(fn=t);e&lt;un&amp;&amp;(un=e);e&gt;hn&amp;&amp;(hn=e)},lineStart:O,lineEnd:O,polygonStart:O,polygonEnd:O};function mn(){var t=vn(4.5),e=[],r={point:n,lineStart:function(){r.point=i},lineEnd:o,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=o,r.point=n},pointRadius:function(e){return t=vn(e),r},result:function(){if(e.length){var t=e.join(\&quot;\&quot;);return e=[],t}}};function n(r,n){e.push(\&quot;M\&quot;,r,\&quot;,\&quot;,n,t)}function i(t,n){e.push(\&quot;M\&quot;,t,\&quot;,\&quot;,n),r.point=a}function a(t,r){e.push(\&quot;L\&quot;,t,\&quot;,\&quot;,r)}function o(){r.point=n}function s(){e.push(\&quot;Z\&quot;)}return r}function vn(t){return\&quot;m0,\&quot;+t+\&quot;a\&quot;+t+\&quot;,\&quot;+t+\&quot; 0 1,1 0,\&quot;+-2*t+\&quot;a\&quot;+t+\&quot;,\&quot;+t+\&quot; 0 1,1 0,\&quot;+2*t+\&quot;z\&quot;}var yn,xn={point:bn,lineStart:_n,lineEnd:wn,polygonStart:function(){xn.lineStart=Tn},polygonEnd:function(){xn.point=bn,xn.lineStart=_n,xn.lineEnd=wn}};function bn(t,e){xr+=t,br+=e,++_r}function _n(){var t,e;function r(r,n){var i=r-t,a=n-e,o=Math.sqrt(i*i+a*a);wr+=o*(t+r)/2,Tr+=o*(e+n)/2,kr+=o,bn(t=r,e=n)}xn.point=function(n,i){xn.point=r,bn(t=n,e=i)}}function wn(){xn.point=bn}function Tn(){var t,e,r,n;function i(t,e){var i=t-r,a=e-n,o=Math.sqrt(i*i+a*a);wr+=o*(r+t)/2,Tr+=o*(n+e)/2,kr+=o,Mr+=(o=n*t-r*e)*(r+t),Ar+=o*(n+e),Sr+=3*o,bn(r=t,n=e)}xn.point=function(a,o){xn.point=i,bn(t=r=a,e=n=o)},xn.lineEnd=function(){i(t,e)}}function kn(t){var e=4.5,r={point:n,lineStart:function(){r.point=i},lineEnd:o,polygonStart:function(){r.lineEnd=s},polygonEnd:function(){r.lineEnd=o,r.point=n},pointRadius:function(t){return e=t,r},result:O};function n(r,n){t.moveTo(r+e,n),t.arc(r,n,e,0,St)}function i(e,n){t.moveTo(e,n),r.point=a}function a(e,r){t.lineTo(e,r)}function o(){r.point=n}function s(){t.closePath()}return r}function Mn(t){var e=.5,r=Math.cos(30*Lt),n=16;function i(t){return(n?o:a)(t)}function a(e){return En(e,(function(r,n){r=t(r,n),e.point(r[0],r[1])}))}function o(e){var r,i,a,o,l,c,u,f,h,p,d,g,m={point:v,lineStart:y,lineEnd:b,polygonStart:function(){e.polygonStart(),m.lineStart=_},polygonEnd:function(){e.polygonEnd(),m.lineStart=y}};function v(r,n){r=t(r,n),e.point(r[0],r[1])}function y(){f=NaN,m.point=x,e.lineStart()}function x(r,i){var a=Ir([r,i]),o=t(r,i);s(f,h,u,p,d,g,f=o[0],h=o[1],u=r,p=a[0],d=a[1],g=a[2],n,e),e.point(f,h)}function b(){m.point=v,e.lineEnd()}function _(){y(),m.point=w,m.lineEnd=T}function w(t,e){x(r=t,e),i=f,a=h,o=p,l=d,c=g,m.point=x}function T(){s(f,h,u,p,d,g,i,a,r,o,l,c,n,e),m.lineEnd=b,b()}return m}function s(n,i,a,o,l,c,u,f,h,p,d,g,m,v){var x=u-n,b=f-i,_=x*x+b*b;if(_&gt;4*e&amp;&amp;m--){var w=o+p,T=l+d,k=c+g,M=Math.sqrt(w*w+T*T+k*k),A=Math.asin(k/=M),S=y(y(k)-1)&lt;kt||y(a-h)&lt;kt?(a+h)/2:Math.atan2(T,w),E=t(S,A),C=E[0],L=E[1],I=C-n,P=L-i,z=b*I-x*P;(z*z/_&gt;e||y((x*I+b*P)/_-.5)&gt;.3||o*p+l*d+c*g&lt;r)&amp;&amp;(s(n,i,a,o,l,c,C,L,S,w/=M,T/=M,k,m,v),v.point(C,L),s(C,L,S,w,T,k,u,f,h,p,d,g,m,v))}}return i.precision=function(t){return arguments.length?(n=(e=t*t)&gt;0&amp;&amp;16,i):Math.sqrt(e)},i}function An(t){var e=Mn((function(e,r){return t([e*It,r*It])}));return function(t){return In(e(t))}}function Sn(t){this.stream=t}function En(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function Cn(t){return Ln((function(){return t}))()}function Ln(e){var r,n,i,a,o,s,l=Mn((function(t,e){return[(t=r(t,e))[0]*c+a,o-t[1]*c]})),c=150,u=480,f=250,h=0,p=0,d=0,g=0,m=0,v=tn,y=L,x=null,b=null;function _(t){return[(t=i(t[0]*Lt,t[1]*Lt))[0]*c+a,o-t[1]*c]}function w(t){return(t=i.invert((t[0]-a)/c,(o-t[1])/c))&amp;&amp;[t[0]*It,t[1]*It]}function T(){i=Gr(n=On(d,g,m),r);var t=r(h,p);return a=u-t[0]*c,o=f+t[1]*c,k()}function k(){return s&amp;&amp;(s.valid=!1,s=null),_}return _.stream=function(t){return s&amp;&amp;(s.valid=!1),(s=In(v(n,l(y(t))))).valid=!0,s},_.clipAngle=function(t){return arguments.length?(v=null==t?(x=t,tn):en((x=+t)*Lt),k()):x},_.clipExtent=function(t){return arguments.length?(b=t,y=t?nn(t[0][0],t[0][1],t[1][0],t[1][1]):L,k()):b},_.scale=function(t){return arguments.length?(c=+t,T()):c},_.translate=function(t){return arguments.length?(u=+t[0],f=+t[1],T()):[u,f]},_.center=function(t){return arguments.length?(h=t[0]%360*Lt,p=t[1]%360*Lt,T()):[h*It,p*It]},_.rotate=function(t){return arguments.length?(d=t[0]%360*Lt,g=t[1]%360*Lt,m=t.length&gt;2?t[2]%360*Lt:0,T()):[d*It,g*It,m*It]},t.rebind(_,l,\&quot;precision\&quot;),function(){return r=e.apply(this,arguments),_.invert=r.invert&amp;&amp;w,T()}}function In(t){return En(t,(function(e,r){t.point(e*Lt,r*Lt)}))}function Pn(t,e){return[t,e]}function zn(t,e){return[t&gt;At?t-St:t&lt;-At?t+St:t,e]}function On(t,e,r){return t?e||r?Gr(Rn(t),Fn(e,r)):Rn(t):e||r?Fn(e,r):zn}function Dn(t){return function(e,r){return[(e+=t)&gt;At?e-St:e&lt;-At?e+St:e,r]}}function Rn(t){var e=Dn(t);return e.invert=Dn(-t),e}function Fn(t,e){var r=Math.cos(t),n=Math.sin(t),i=Math.cos(e),a=Math.sin(e);function o(t,e){var o=Math.cos(e),s=Math.cos(t)*o,l=Math.sin(t)*o,c=Math.sin(e),u=c*r+s*n;return[Math.atan2(l*i-u*a,s*r-c*n),Dt(u*i+l*a)]}return o.invert=function(t,e){var o=Math.cos(e),s=Math.cos(t)*o,l=Math.sin(t)*o,c=Math.sin(e),u=c*i-l*a;return[Math.atan2(l*i+c*a,s*r+u*n),Dt(u*r-s*n)]},o}function Bn(t,e){var r=Math.cos(t),n=Math.sin(t);return function(i,a,o,s){var l=o*e;null!=i?(i=Nn(r,i),a=Nn(r,a),(o&gt;0?i&lt;a:i&gt;a)&amp;&amp;(i+=o*St)):(i=t+o*St,a=t-.5*l);for(var c,u=i;o&gt;0?u&gt;a:u&lt;a;u-=l)s.point((c=Fr([r,-n*Math.cos(u),-n*Math.sin(u)]))[0],c[1])}}function Nn(t,e){var r=Ir(e);r[0]-=t,Rr(r);var n=Ot(-r[1]);return((-r[2]&lt;0?-n:n)+2*Math.PI-kt)%(2*Math.PI)}function jn(e,r,n){var i=t.range(e,r-kt,n).concat(r);return function(t){return i.map((function(e){return[t,e]}))}}function Un(e,r,n){var i=t.range(e,r-kt,n).concat(r);return function(t){return i.map((function(e){return[e,t]}))}}function Vn(t){return t.source}function qn(t){return t.target}t.geo.path=function(){var e,r,n,i,a,o=4.5;function s(e){return e&amp;&amp;(\&quot;function\&quot;==typeof o&amp;&amp;i.pointRadius(+o.apply(this,arguments)),a&amp;&amp;a.valid||(a=n(i)),t.geo.stream(e,a)),i.result()}function l(){return a=null,s}return s.area=function(e){return sn=0,t.geo.stream(e,n(pn)),sn},s.centroid=function(e){return xr=br=_r=wr=Tr=kr=Mr=Ar=Sr=0,t.geo.stream(e,n(xn)),Sr?[Mr/Sr,Ar/Sr]:kr?[wr/kr,Tr/kr]:_r?[xr/_r,br/_r]:[NaN,NaN]},s.bounds=function(e){return fn=hn=-(cn=un=1/0),t.geo.stream(e,n(gn)),[[cn,un],[fn,hn]]},s.projection=function(t){return arguments.length?(n=(e=t)?t.stream||An(t):L,l()):e},s.context=function(t){return arguments.length?(i=null==(r=t)?new mn:new kn(t),\&quot;function\&quot;!=typeof o&amp;&amp;i.pointRadius(o),l()):r},s.pointRadius=function(t){return arguments.length?(o=\&quot;function\&quot;==typeof t?t:(i.pointRadius(+t),+t),s):o},s.projection(t.geo.albersUsa()).context(null)},t.geo.transform=function(t){return{stream:function(e){var r=new Sn(e);for(var n in t)r[n]=t[n];return r}}},Sn.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},t.geo.projection=Cn,t.geo.projectionMutator=Ln,(t.geo.equirectangular=function(){return Cn(Pn)}).raw=Pn.invert=Pn,t.geo.rotation=function(t){function e(e){return(e=t(e[0]*Lt,e[1]*Lt))[0]*=It,e[1]*=It,e}return t=On(t[0]%360*Lt,t[1]*Lt,t.length&gt;2?t[2]*Lt:0),e.invert=function(e){return(e=t.invert(e[0]*Lt,e[1]*Lt))[0]*=It,e[1]*=It,e},e},zn.invert=Pn,t.geo.circle=function(){var t,e,r=[0,0],n=6;function i(){var t=\&quot;function\&quot;==typeof r?r.apply(this,arguments):r,n=On(-t[0]*Lt,-t[1]*Lt,0).invert,i=[];return e(null,null,1,{point:function(t,e){i.push(t=n(t,e)),t[0]*=It,t[1]*=It}}),{type:\&quot;Polygon\&quot;,coordinates:[i]}}return i.origin=function(t){return arguments.length?(r=t,i):r},i.angle=function(r){return arguments.length?(e=Bn((t=+r)*Lt,n*Lt),i):t},i.precision=function(r){return arguments.length?(e=Bn(t*Lt,(n=+r)*Lt),i):n},i.angle(90)},t.geo.distance=function(t,e){var r,n=(e[0]-t[0])*Lt,i=t[1]*Lt,a=e[1]*Lt,o=Math.sin(n),s=Math.cos(n),l=Math.sin(i),c=Math.cos(i),u=Math.sin(a),f=Math.cos(a);return Math.atan2(Math.sqrt((r=f*o)*r+(r=c*u-l*f*s)*r),l*u+c*f*s)},t.geo.graticule=function(){var e,r,n,i,a,o,s,l,c,u,f,h,p=10,d=p,g=90,m=360,v=2.5;function x(){return{type:\&quot;MultiLineString\&quot;,coordinates:b()}}function b(){return t.range(Math.ceil(i/g)*g,n,g).map(f).concat(t.range(Math.ceil(l/m)*m,s,m).map(h)).concat(t.range(Math.ceil(r/p)*p,e,p).filter((function(t){return y(t%g)&gt;kt})).map(c)).concat(t.range(Math.ceil(o/d)*d,a,d).filter((function(t){return y(t%m)&gt;kt})).map(u))}return x.lines=function(){return b().map((function(t){return{type:\&quot;LineString\&quot;,coordinates:t}}))},x.outline=function(){return{type:\&quot;Polygon\&quot;,coordinates:[f(i).concat(h(s).slice(1),f(n).reverse().slice(1),h(l).reverse().slice(1))]}},x.extent=function(t){return arguments.length?x.majorExtent(t).minorExtent(t):x.minorExtent()},x.majorExtent=function(t){return arguments.length?(i=+t[0][0],n=+t[1][0],l=+t[0][1],s=+t[1][1],i&gt;n&amp;&amp;(t=i,i=n,n=t),l&gt;s&amp;&amp;(t=l,l=s,s=t),x.precision(v)):[[i,l],[n,s]]},x.minorExtent=function(t){return arguments.length?(r=+t[0][0],e=+t[1][0],o=+t[0][1],a=+t[1][1],r&gt;e&amp;&amp;(t=r,r=e,e=t),o&gt;a&amp;&amp;(t=o,o=a,a=t),x.precision(v)):[[r,o],[e,a]]},x.step=function(t){return arguments.length?x.majorStep(t).minorStep(t):x.minorStep()},x.majorStep=function(t){return arguments.length?(g=+t[0],m=+t[1],x):[g,m]},x.minorStep=function(t){return arguments.length?(p=+t[0],d=+t[1],x):[p,d]},x.precision=function(t){return arguments.length?(v=+t,c=jn(o,a,90),u=Un(r,e,v),f=jn(l,s,90),h=Un(i,n,v),x):v},x.majorExtent([[-180,-90+kt],[180,90-kt]]).minorExtent([[-180,-80-kt],[180,80+kt]])},t.geo.greatArc=function(){var e,r,n=Vn,i=qn;function a(){return{type:\&quot;LineString\&quot;,coordinates:[e||n.apply(this,arguments),r||i.apply(this,arguments)]}}return a.distance=function(){return t.geo.distance(e||n.apply(this,arguments),r||i.apply(this,arguments))},a.source=function(t){return arguments.length?(n=t,e=\&quot;function\&quot;==typeof t?null:t,a):n},a.target=function(t){return arguments.length?(i=t,r=\&quot;function\&quot;==typeof t?null:t,a):i},a.precision=function(){return arguments.length?a:0},a},t.geo.interpolate=function(t,e){return r=t[0]*Lt,n=t[1]*Lt,i=e[0]*Lt,a=e[1]*Lt,o=Math.cos(n),s=Math.sin(n),l=Math.cos(a),c=Math.sin(a),u=o*Math.cos(r),f=o*Math.sin(r),h=l*Math.cos(i),p=l*Math.sin(i),d=2*Math.asin(Math.sqrt(Ft(a-n)+o*l*Ft(i-r))),g=1/Math.sin(d),(m=d?function(t){var e=Math.sin(t*=d)*g,r=Math.sin(d-t)*g,n=r*u+e*h,i=r*f+e*p,a=r*s+e*c;return[Math.atan2(i,n)*It,Math.atan2(a,Math.sqrt(n*n+i*i))*It]}:function(){return[r*It,n*It]}).distance=d,m;var r,n,i,a,o,s,l,c,u,f,h,p,d,g,m},t.geo.length=function(e){return yn=0,t.geo.stream(e,Hn),yn};var Hn={sphere:O,point:O,lineStart:function(){var t,e,r;function n(n,i){var a=Math.sin(i*=Lt),o=Math.cos(i),s=y((n*=Lt)-t),l=Math.cos(s);yn+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=r*a-e*o*l)*s),e*a+r*o*l),t=n,e=a,r=o}Hn.point=function(i,a){t=i*Lt,e=Math.sin(a*=Lt),r=Math.cos(a),Hn.point=n},Hn.lineEnd=function(){Hn.point=Hn.lineEnd=O}},lineEnd:O,polygonStart:O,polygonEnd:O};function Gn(t,e){function r(e,r){var n=Math.cos(e),i=Math.cos(r),a=t(n*i);return[a*i*Math.sin(e),a*Math.sin(r)]}return r.invert=function(t,r){var n=Math.sqrt(t*t+r*r),i=e(n),a=Math.sin(i),o=Math.cos(i);return[Math.atan2(t*a,n*o),Math.asin(n&amp;&amp;r*a/n)]},r}var Yn=Gn((function(t){return Math.sqrt(2/(1+t))}),(function(t){return 2*Math.asin(t/2)}));(t.geo.azimuthalEqualArea=function(){return Cn(Yn)}).raw=Yn;var Wn=Gn((function(t){var e=Math.acos(t);return e&amp;&amp;e/Math.sin(e)}),L);function Xn(t,e){var r=Math.cos(t),n=function(t){return Math.tan(At/4+t/2)},i=t===e?Math.sin(t):Math.log(r/Math.cos(e))/Math.log(n(e)/n(t)),a=r*Math.pow(n(t),i)/i;if(!i)return Kn;function o(t,e){a&gt;0?e&lt;-Ct+kt&amp;&amp;(e=-Ct+kt):e&gt;Ct-kt&amp;&amp;(e=Ct-kt);var r=a/Math.pow(n(e),i);return[r*Math.sin(i*t),a-r*Math.cos(i*t)]}return o.invert=function(t,e){var r=a-e,n=Pt(i)*Math.sqrt(t*t+r*r);return[Math.atan2(t,r)/i,2*Math.atan(Math.pow(a/n,1/i))-Ct]},o}function Zn(t,e){var r=Math.cos(t),n=t===e?Math.sin(t):(r-Math.cos(e))/(e-t),i=r/n+t;if(y(n)&lt;kt)return Pn;function a(t,e){var r=i-e;return[r*Math.sin(n*t),i-r*Math.cos(n*t)]}return a.invert=function(t,e){var r=i-e;return[Math.atan2(t,r)/n,i-Pt(n)*Math.sqrt(t*t+r*r)]},a}(t.geo.azimuthalEquidistant=function(){return Cn(Wn)}).raw=Wn,(t.geo.conicConformal=function(){return an(Xn)}).raw=Xn,(t.geo.conicEquidistant=function(){return an(Zn)}).raw=Zn;var Jn=Gn((function(t){return 1/t}),Math.atan);function Kn(t,e){return[t,Math.log(Math.tan(At/4+e/2))]}function Qn(t){var e,r=Cn(t),n=r.scale,i=r.translate,a=r.clipExtent;return r.scale=function(){var t=n.apply(r,arguments);return t===r?e?r.clipExtent(null):r:t},r.translate=function(){var t=i.apply(r,arguments);return t===r?e?r.clipExtent(null):r:t},r.clipExtent=function(t){var o=a.apply(r,arguments);if(o===r){if(e=null==t){var s=At*n(),l=i();a([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&amp;&amp;(o=null);return o},r.clipExtent(null)}(t.geo.gnomonic=function(){return Cn(Jn)}).raw=Jn,Kn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Ct]},(t.geo.mercator=function(){return Qn(Kn)}).raw=Kn;var $n=Gn((function(){return 1}),Math.asin);(t.geo.orthographic=function(){return Cn($n)}).raw=$n;var ti=Gn((function(t){return 1/(1+t)}),(function(t){return 2*Math.atan(t)}));function ei(t,e){return[Math.log(Math.tan(At/4+e/2)),-t]}function ri(t){return t[0]}function ni(t){return t[1]}function ii(t){for(var e=t.length,r=[0,1],n=2,i=2;i&lt;e;i++){for(;n&gt;1&amp;&amp;zt(t[r[n-2]],t[r[n-1]],t[i])&lt;=0;)--n;r[n++]=i}return r.slice(0,n)}function ai(t,e){return t[0]-e[0]||t[1]-e[1]}(t.geo.stereographic=function(){return Cn(ti)}).raw=ti,ei.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Ct]},(t.geo.transverseMercator=function(){var t=Qn(ei),e=t.center,r=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):[(t=e())[1],-t[0]]},t.rotate=function(t){return t?r([t[0],t[1],t.length&gt;2?t[2]+90:90]):[(t=r())[0],t[1],t[2]-90]},r([0,0,90])}).raw=ei,t.geom={},t.geom.hull=function(t){var e=ri,r=ni;if(arguments.length)return n(t);function n(t){if(t.length&lt;3)return[];var n,i=de(e),a=de(r),o=t.length,s=[],l=[];for(n=0;n&lt;o;n++)s.push([+i.call(this,t[n],n),+a.call(this,t[n],n),n]);for(s.sort(ai),n=0;n&lt;o;n++)l.push([s[n][0],-s[n][1]]);var c=ii(s),u=ii(l),f=u[0]===c[0],h=u[u.length-1]===c[c.length-1],p=[];for(n=c.length-1;n&gt;=0;--n)p.push(t[s[c[n]][2]]);for(n=+f;n&lt;u.length-h;++n)p.push(t[s[u[n]][2]]);return p}return n.x=function(t){return arguments.length?(e=t,n):e},n.y=function(t){return arguments.length?(r=t,n):r},n},t.geom.polygon=function(t){return U(t,oi),t};var oi=t.geom.polygon.prototype=[];function si(t,e,r){return(r[0]-e[0])*(t[1]-e[1])&lt;(r[1]-e[1])*(t[0]-e[0])}function li(t,e,r,n){var i=t[0],a=r[0],o=e[0]-i,s=n[0]-a,l=t[1],c=r[1],u=e[1]-l,f=n[1]-c,h=(s*(l-c)-f*(i-a))/(f*o-s*u);return[i+h*o,l+h*u]}function ci(t){var e=t[0],r=t[t.length-1];return!(e[0]-r[0]||e[1]-r[1])}oi.area=function(){for(var t,e=-1,r=this.length,n=this[r-1],i=0;++e&lt;r;)t=n,n=this[e],i+=t[1]*n[0]-t[0]*n[1];return.5*i},oi.centroid=function(t){var e,r,n=-1,i=this.length,a=0,o=0,s=this[i-1];for(arguments.length||(t=-1/(6*this.area()));++n&lt;i;)e=s,s=this[n],r=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*r,o+=(e[1]+s[1])*r;return[a*t,o*t]},oi.clip=function(t){for(var e,r,n,i,a,o,s=ci(t),l=-1,c=this.length-ci(this),u=this[c-1];++l&lt;c;){for(e=t.slice(),t.length=0,i=this[l],a=e[(n=e.length-s)-1],r=-1;++r&lt;n;)si(o=e[r],u,i)?(si(a,u,i)||t.push(li(a,o,u,i)),t.push(o)):si(a,u,i)&amp;&amp;t.push(li(a,o,u,i)),a=o;s&amp;&amp;t.push(t[0]),u=i}return t};var ui,fi,hi,pi,di,gi=[],mi=[];function vi(){Ri(this),this.edge=this.site=this.circle=null}function yi(t){var e=gi.pop()||new vi;return e.site=t,e}function xi(t){Ei(t),hi.remove(t),gi.push(t),Ri(t)}function bi(t){var e=t.circle,r=e.x,n=e.cy,i={x:r,y:n},a=t.P,o=t.N,s=[t];xi(t);for(var l=a;l.circle&amp;&amp;y(r-l.circle.x)&lt;kt&amp;&amp;y(n-l.circle.cy)&lt;kt;)a=l.P,s.unshift(l),xi(l),l=a;s.unshift(l),Ei(l);for(var c=o;c.circle&amp;&amp;y(r-c.circle.x)&lt;kt&amp;&amp;y(n-c.circle.cy)&lt;kt;)o=c.N,s.push(c),xi(c),c=o;s.push(c),Ei(c);var u,f=s.length;for(u=1;u&lt;f;++u)c=s[u],l=s[u-1],zi(c.edge,l.site,c.site,i);l=s[0],(c=s[f-1]).edge=Ii(l.site,c.site,null,i),Si(l),Si(c)}function _i(t){for(var e,r,n,i,a=t.x,o=t.y,s=hi._;s;)if((n=wi(s,o)-a)&gt;kt)s=s.L;else{if(!((i=a-Ti(s,o))&gt;kt)){n&gt;-kt?(e=s.P,r=s):i&gt;-kt?(e=s,r=s.N):e=r=s;break}if(!s.R){e=s;break}s=s.R}var l=yi(t);if(hi.insert(e,l),e||r){if(e===r)return Ei(e),r=yi(e.site),hi.insert(l,r),l.edge=r.edge=Ii(e.site,l.site),Si(e),void Si(r);if(r){Ei(e),Ei(r);var c=e.site,u=c.x,f=c.y,h=t.x-u,p=t.y-f,d=r.site,g=d.x-u,m=d.y-f,v=2*(h*m-p*g),y=h*h+p*p,x=g*g+m*m,b={x:(m*y-p*x)/v+u,y:(h*x-g*y)/v+f};zi(r.edge,c,d,b),l.edge=Ii(c,t,null,b),r.edge=Ii(t,d,null,b),Si(e),Si(r)}else l.edge=Ii(e.site,l.site)}}function wi(t,e){var r=t.site,n=r.x,i=r.y,a=i-e;if(!a)return n;var o=t.P;if(!o)return-1/0;var s=(r=o.site).x,l=r.y,c=l-e;if(!c)return s;var u=s-n,f=1/a-1/c,h=u/c;return f?(-h+Math.sqrt(h*h-2*f*(u*u/(-2*c)-l+c/2+i-a/2)))/f+n:(n+s)/2}function Ti(t,e){var r=t.N;if(r)return wi(r,e);var n=t.site;return n.y===e?n.x:1/0}function ki(t){this.site=t,this.edges=[]}function Mi(t,e){return e.angle-t.angle}function Ai(){Ri(this),this.x=this.y=this.arc=this.site=this.cy=null}function Si(t){var e=t.P,r=t.N;if(e&amp;&amp;r){var n=e.site,i=t.site,a=r.site;if(n!==a){var o=i.x,s=i.y,l=n.x-o,c=n.y-s,u=a.x-o,f=2*(l*(m=a.y-s)-c*u);if(!(f&gt;=-Mt)){var h=l*l+c*c,p=u*u+m*m,d=(m*h-c*p)/f,g=(l*p-u*h)/f,m=g+s,v=mi.pop()||new Ai;v.arc=t,v.site=i,v.x=d+o,v.y=m+Math.sqrt(d*d+g*g),v.cy=m,t.circle=v;for(var y=null,x=di._;x;)if(v.y&lt;x.y||v.y===x.y&amp;&amp;v.x&lt;=x.x){if(!x.L){y=x.P;break}x=x.L}else{if(!x.R){y=x;break}x=x.R}di.insert(y,v),y||(pi=v)}}}}function Ei(t){var e=t.circle;e&amp;&amp;(e.P||(pi=e.N),di.remove(e),mi.push(e),Ri(e),t.circle=null)}function Ci(t,e){var r=t.b;if(r)return!0;var n,i,a=t.a,o=e[0][0],s=e[1][0],l=e[0][1],c=e[1][1],u=t.l,f=t.r,h=u.x,p=u.y,d=f.x,g=f.y,m=(h+d)/2,v=(p+g)/2;if(g===p){if(m&lt;o||m&gt;=s)return;if(h&gt;d){if(a){if(a.y&gt;=c)return}else a={x:m,y:l};r={x:m,y:c}}else{if(a){if(a.y&lt;l)return}else a={x:m,y:c};r={x:m,y:l}}}else if(i=v-(n=(h-d)/(g-p))*m,n&lt;-1||n&gt;1)if(h&gt;d){if(a){if(a.y&gt;=c)return}else a={x:(l-i)/n,y:l};r={x:(c-i)/n,y:c}}else{if(a){if(a.y&lt;l)return}else a={x:(c-i)/n,y:c};r={x:(l-i)/n,y:l}}else if(p&lt;g){if(a){if(a.x&gt;=s)return}else a={x:o,y:n*o+i};r={x:s,y:n*s+i}}else{if(a){if(a.x&lt;o)return}else a={x:s,y:n*s+i};r={x:o,y:n*o+i}}return t.a=a,t.b=r,!0}function Li(t,e){this.l=t,this.r=e,this.a=this.b=null}function Ii(t,e,r,n){var i=new Li(t,e);return ui.push(i),r&amp;&amp;zi(i,t,e,r),n&amp;&amp;zi(i,e,t,n),fi[t.i].edges.push(new Oi(i,t,e)),fi[e.i].edges.push(new Oi(i,e,t)),i}function Pi(t,e,r){var n=new Li(t,null);return n.a=e,n.b=r,ui.push(n),n}function zi(t,e,r,n){t.a||t.b?t.l===r?t.b=n:t.a=n:(t.a=n,t.l=e,t.r=r)}function Oi(t,e,r){var n=t.a,i=t.b;this.edge=t,this.site=e,this.angle=r?Math.atan2(r.y-e.y,r.x-e.x):t.l===e?Math.atan2(i.x-n.x,n.y-i.y):Math.atan2(n.x-i.x,i.y-n.y)}function Di(){this._=null}function Ri(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function Fi(t,e){var r=e,n=e.R,i=r.U;i?i.L===r?i.L=n:i.R=n:t._=n,n.U=i,r.U=n,r.R=n.L,r.R&amp;&amp;(r.R.U=r),n.L=r}function Bi(t,e){var r=e,n=e.L,i=r.U;i?i.L===r?i.L=n:i.R=n:t._=n,n.U=i,r.U=n,r.L=n.R,r.L&amp;&amp;(r.L.U=r),n.R=r}function Ni(t){for(;t.L;)t=t.L;return t}function ji(t,e){var r,n,i,a=t.sort(Ui).pop();for(ui=[],fi=new Array(t.length),hi=new Di,di=new Di;;)if(i=pi,a&amp;&amp;(!i||a.y&lt;i.y||a.y===i.y&amp;&amp;a.x&lt;i.x))a.x===r&amp;&amp;a.y===n||(fi[a.i]=new ki(a),_i(a),r=a.x,n=a.y),a=t.pop();else{if(!i)break;bi(i.arc)}e&amp;&amp;(function(t){for(var e,r=ui,n=rn(t[0][0],t[0][1],t[1][0],t[1][1]),i=r.length;i--;)(!Ci(e=r[i],t)||!n(e)||y(e.a.x-e.b.x)&lt;kt&amp;&amp;y(e.a.y-e.b.y)&lt;kt)&amp;&amp;(e.a=e.b=null,r.splice(i,1))}(e),function(t){for(var e,r,n,i,a,o,s,l,c,u,f=t[0][0],h=t[1][0],p=t[0][1],d=t[1][1],g=fi,m=g.length;m--;)if((a=g[m])&amp;&amp;a.prepare())for(l=(s=a.edges).length,o=0;o&lt;l;)n=(u=s[o].end()).x,i=u.y,e=(c=s[++o%l].start()).x,r=c.y,(y(n-e)&gt;kt||y(i-r)&gt;kt)&amp;&amp;(s.splice(o,0,new Oi(Pi(a.site,u,y(n-f)&lt;kt&amp;&amp;d-i&gt;kt?{x:f,y:y(e-f)&lt;kt?r:d}:y(i-d)&lt;kt&amp;&amp;h-n&gt;kt?{x:y(r-d)&lt;kt?e:h,y:d}:y(n-h)&lt;kt&amp;&amp;i-p&gt;kt?{x:h,y:y(e-h)&lt;kt?r:p}:y(i-p)&lt;kt&amp;&amp;n-f&gt;kt?{x:y(r-p)&lt;kt?e:f,y:p}:null),a.site,null)),++l)}(e));var o={cells:fi,edges:ui};return hi=di=ui=fi=null,o}function Ui(t,e){return e.y-t.y||e.x-t.x}ki.prototype.prepare=function(){for(var t,e=this.edges,r=e.length;r--;)(t=e[r].edge).b&amp;&amp;t.a||e.splice(r,1);return e.sort(Mi),e.length},Oi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Di.prototype={insert:function(t,e){var r,n,i;if(t){if(e.P=t,e.N=t.N,t.N&amp;&amp;(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;r=t}else this._?(t=Ni(this._),e.P=null,e.N=t,t.P=t.L=e,r=t):(e.P=e.N=null,this._=e,r=null);for(e.L=e.R=null,e.U=r,e.C=!0,t=e;r&amp;&amp;r.C;)r===(n=r.U).L?(i=n.R)&amp;&amp;i.C?(r.C=i.C=!1,n.C=!0,t=n):(t===r.R&amp;&amp;(Fi(this,r),r=(t=r).U),r.C=!1,n.C=!0,Bi(this,n)):(i=n.L)&amp;&amp;i.C?(r.C=i.C=!1,n.C=!0,t=n):(t===r.L&amp;&amp;(Bi(this,r),r=(t=r).U),r.C=!1,n.C=!0,Fi(this,n)),r=t.U;this._.C=!1},remove:function(t){t.N&amp;&amp;(t.N.P=t.P),t.P&amp;&amp;(t.P.N=t.N),t.N=t.P=null;var e,r,n,i=t.U,a=t.L,o=t.R;if(r=a?o?Ni(o):a:o,i?i.L===t?i.L=r:i.R=r:this._=r,a&amp;&amp;o?(n=r.C,r.C=t.C,r.L=a,a.U=r,r!==o?(i=r.U,r.U=t.U,t=r.R,i.L=t,r.R=o,o.U=r):(r.U=i,i=r,t=r.R)):(n=t.C,t=r),t&amp;&amp;(t.U=i),!n)if(t&amp;&amp;t.C)t.C=!1;else{do{if(t===this._)break;if(t===i.L){if((e=i.R).C&amp;&amp;(e.C=!1,i.C=!0,Fi(this,i),e=i.R),e.L&amp;&amp;e.L.C||e.R&amp;&amp;e.R.C){e.R&amp;&amp;e.R.C||(e.L.C=!1,e.C=!0,Bi(this,e),e=i.R),e.C=i.C,i.C=e.R.C=!1,Fi(this,i),t=this._;break}}else if((e=i.L).C&amp;&amp;(e.C=!1,i.C=!0,Bi(this,i),e=i.L),e.L&amp;&amp;e.L.C||e.R&amp;&amp;e.R.C){e.L&amp;&amp;e.L.C||(e.R.C=!1,e.C=!0,Fi(this,e),e=i.L),e.C=i.C,i.C=e.L.C=!1,Bi(this,i),t=this._;break}e.C=!0,t=i,i=i.U}while(!t.C);t&amp;&amp;(t.C=!1)}}},t.geom.voronoi=function(t){var e=ri,r=ni,n=e,i=r,a=Vi;if(t)return o(t);function o(t){var e=new Array(t.length),r=a[0][0],n=a[0][1],i=a[1][0],o=a[1][1];return ji(s(t),a).cells.forEach((function(a,s){var l=a.edges,c=a.site;(e[s]=l.length?l.map((function(t){var e=t.start();return[e.x,e.y]})):c.x&gt;=r&amp;&amp;c.x&lt;=i&amp;&amp;c.y&gt;=n&amp;&amp;c.y&lt;=o?[[r,o],[i,o],[i,n],[r,n]]:[]).point=t[s]})),e}function s(t){return t.map((function(t,e){return{x:Math.round(n(t,e)/kt)*kt,y:Math.round(i(t,e)/kt)*kt,i:e}}))}return o.links=function(t){return ji(s(t)).edges.filter((function(t){return t.l&amp;&amp;t.r})).map((function(e){return{source:t[e.l.i],target:t[e.r.i]}}))},o.triangles=function(t){var e=[];return ji(s(t)).cells.forEach((function(r,n){for(var i,a,o,s,l=r.site,c=r.edges.sort(Mi),u=-1,f=c.length,h=c[f-1].edge,p=h.l===l?h.r:h.l;++u&lt;f;)h,i=p,p=(h=c[u].edge).l===l?h.r:h.l,n&lt;i.i&amp;&amp;n&lt;p.i&amp;&amp;(o=i,s=p,((a=l).x-s.x)*(o.y-a.y)-(a.x-o.x)*(s.y-a.y)&lt;0)&amp;&amp;e.push([t[n],t[i.i],t[p.i]])})),e},o.x=function(t){return arguments.length?(n=de(e=t),o):e},o.y=function(t){return arguments.length?(i=de(r=t),o):r},o.clipExtent=function(t){return arguments.length?(a=null==t?Vi:t,o):a===Vi?null:a},o.size=function(t){return arguments.length?o.clipExtent(t&amp;&amp;[[0,0],t]):a===Vi?null:a&amp;&amp;a[1]},o};var Vi=[[-1e6,-1e6],[1e6,1e6]];function qi(t){return t.x}function Hi(t){return t.y}function Gi(t,e,r,n,i,a){if(!t(e,r,n,i,a)){var o=.5*(r+i),s=.5*(n+a),l=e.nodes;l[0]&amp;&amp;Gi(t,l[0],r,n,o,s),l[1]&amp;&amp;Gi(t,l[1],o,n,i,s),l[2]&amp;&amp;Gi(t,l[2],r,s,o,a),l[3]&amp;&amp;Gi(t,l[3],o,s,i,a)}}function Yi(t,e,r,n,i,a,o){var s,l=1/0;return function t(c,u,f,h,p){if(!(u&gt;a||f&gt;o||h&lt;n||p&lt;i)){if(d=c.point){var d,g=e-c.x,m=r-c.y,v=g*g+m*m;if(v&lt;l){var y=Math.sqrt(l=v);n=e-y,i=r-y,a=e+y,o=r+y,s=d}}for(var x=c.nodes,b=.5*(u+h),_=.5*(f+p),w=(r&gt;=_)&lt;&lt;1|e&gt;=b,T=w+4;w&lt;T;++w)if(c=x[3&amp;w])switch(3&amp;w){case 0:t(c,u,f,b,_);break;case 1:t(c,b,f,h,_);break;case 2:t(c,u,_,b,p);break;case 3:t(c,b,_,h,p)}}}(t,n,i,a,o),s}function Wi(e,r){e=t.rgb(e),r=t.rgb(r);var n=e.r,i=e.g,a=e.b,o=r.r-n,s=r.g-i,l=r.b-a;return function(t){return\&quot;#\&quot;+se(Math.round(n+o*t))+se(Math.round(i+s*t))+se(Math.round(a+l*t))}}function Xi(t,e){var r,n={},i={};for(r in t)r in e?n[r]=$i(t[r],e[r]):i[r]=t[r];for(r in e)r in t||(i[r]=e[r]);return function(t){for(r in n)i[r]=n[r](t);return i}}function Zi(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Ji(t,e){var r,n,i,a=Ki.lastIndex=Qi.lastIndex=0,o=-1,s=[],l=[];for(t+=\&quot;\&quot;,e+=\&quot;\&quot;;(r=Ki.exec(t))&amp;&amp;(n=Qi.exec(e));)(i=n.index)&gt;a&amp;&amp;(i=e.slice(a,i),s[o]?s[o]+=i:s[++o]=i),(r=r[0])===(n=n[0])?s[o]?s[o]+=n:s[++o]=n:(s[++o]=null,l.push({i:o,x:Zi(r,n)})),a=Qi.lastIndex;return a&lt;e.length&amp;&amp;(i=e.slice(a),s[o]?s[o]+=i:s[++o]=i),s.length&lt;2?l[0]?(e=l[0].x,function(t){return e(t)+\&quot;\&quot;}):function(){return e}:(e=l.length,function(t){for(var r,n=0;n&lt;e;++n)s[(r=l[n]).i]=r.x(t);return s.join(\&quot;\&quot;)})}t.geom.delaunay=function(e){return t.geom.voronoi().triangles(e)},t.geom.quadtree=function(t,e,r,n,i){var a,o=ri,s=ni;if(a=arguments.length)return o=qi,s=Hi,3===a&amp;&amp;(i=r,n=e,r=e=0),l(t);function l(t){var l,c,u,f,h,p,d,g,m,v=de(o),x=de(s);if(null!=e)p=e,d=r,g=n,m=i;else if(g=m=-(p=d=1/0),c=[],u=[],h=t.length,a)for(f=0;f&lt;h;++f)(l=t[f]).x&lt;p&amp;&amp;(p=l.x),l.y&lt;d&amp;&amp;(d=l.y),l.x&gt;g&amp;&amp;(g=l.x),l.y&gt;m&amp;&amp;(m=l.y),c.push(l.x),u.push(l.y);else for(f=0;f&lt;h;++f){var b=+v(l=t[f],f),_=+x(l,f);b&lt;p&amp;&amp;(p=b),_&lt;d&amp;&amp;(d=_),b&gt;g&amp;&amp;(g=b),_&gt;m&amp;&amp;(m=_),c.push(b),u.push(_)}var w=g-p,T=m-d;function k(t,e,r,n,i,a,o,s){if(!isNaN(r)&amp;&amp;!isNaN(n))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(y(l-r)+y(c-n)&lt;.01)M(t,e,r,n,i,a,o,s);else{var u=t.point;t.x=t.y=t.point=null,M(t,u,l,c,i,a,o,s),M(t,e,r,n,i,a,o,s)}else t.x=r,t.y=n,t.point=e}else M(t,e,r,n,i,a,o,s)}function M(t,e,r,n,i,a,o,s){var l=.5*(i+o),c=.5*(a+s),u=r&gt;=l,f=n&gt;=c,h=f&lt;&lt;1|u;t.leaf=!1,u?i=l:o=l,f?a=c:s=c,k(t=t.nodes[h]||(t.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null}),e,r,n,i,a,o,s)}w&gt;T?m=d+w:g=p+T;var A={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(t){k(A,t,+v(t,++f),+x(t,f),p,d,g,m)},visit:function(t){Gi(t,A,p,d,g,m)},find:function(t){return Yi(A,t[0],t[1],p,d,g,m)}};if(f=-1,null==e){for(;++f&lt;h;)k(A,t[f],c[f],u[f],p,d,g,m);--f}else t.forEach(A.add);return c=u=t=l=null,A}return l.x=function(t){return arguments.length?(o=t,l):o},l.y=function(t){return arguments.length?(s=t,l):s},l.extent=function(t){return arguments.length?(null==t?e=r=n=i=null:(e=+t[0][0],r=+t[0][1],n=+t[1][0],i=+t[1][1]),l):null==e?null:[[e,r],[n,i]]},l.size=function(t){return arguments.length?(null==t?e=r=n=i=null:(e=r=0,n=+t[0],i=+t[1]),l):null==e?null:[n-e,i-r]},l},t.interpolateRgb=Wi,t.interpolateObject=Xi,t.interpolateNumber=Zi,t.interpolateString=Ji;var Ki=/[-+]?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]?\\d+)?/g,Qi=new RegExp(Ki.source,\&quot;g\&quot;);function $i(e,r){for(var n,i=t.interpolators.length;--i&gt;=0&amp;&amp;!(n=t.interpolators[i](e,r)););return n}function ta(t,e){var r,n=[],i=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(r=0;r&lt;s;++r)n.push($i(t[r],e[r]));for(;r&lt;a;++r)i[r]=t[r];for(;r&lt;o;++r)i[r]=e[r];return function(t){for(r=0;r&lt;s;++r)i[r]=n[r](t);return i}}t.interpolate=$i,t.interpolators=[function(t,e){var r=typeof e;return(\&quot;string\&quot;===r?pe.has(e.toLowerCase())||/^(#|rgb\\(|hsl\\()/i.test(e)?Wi:Ji:e instanceof Vt?Wi:Array.isArray(e)?ta:\&quot;object\&quot;===r&amp;&amp;isNaN(e)?Xi:Zi)(t,e)}],t.interpolateArray=ta;var ea=function(){return L},ra=t.map({linear:ea,poly:function(t){return function(e){return Math.pow(e,t)}},quad:function(){return sa},cubic:function(){return la},sin:function(){return ua},exp:function(){return fa},circle:function(){return ha},elastic:function(t,e){var r;arguments.length&lt;2&amp;&amp;(e=.45);arguments.length?r=e/St*Math.asin(1/t):(t=1,r=e/4);return function(n){return 1+t*Math.pow(2,-10*n)*Math.sin((n-r)*St/e)}},back:function(t){t||(t=1.70158);return function(e){return e*e*((t+1)*e-t)}},bounce:function(){return pa}}),na=t.map({in:L,out:aa,\&quot;in-out\&quot;:oa,\&quot;out-in\&quot;:function(t){return oa(aa(t))}});function ia(t){return function(e){return e&lt;=0?0:e&gt;=1?1:t(e)}}function aa(t){return function(e){return 1-t(1-e)}}function oa(t){return function(e){return.5*(e&lt;.5?t(2*e):2-t(2-2*e))}}function sa(t){return t*t}function la(t){return t*t*t}function ca(t){if(t&lt;=0)return 0;if(t&gt;=1)return 1;var e=t*t,r=e*t;return 4*(t&lt;.5?r:3*(t-e)+r-.75)}function ua(t){return 1-Math.cos(t*Ct)}function fa(t){return Math.pow(2,10*(t-1))}function ha(t){return 1-Math.sqrt(1-t*t)}function pa(t){return t&lt;1/2.75?7.5625*t*t:t&lt;2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t&lt;2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function da(t,e){return e-=t,function(r){return Math.round(t+e*r)}}function ga(t){var e,r,n,i=[t.a,t.b],a=[t.c,t.d],o=va(i),s=ma(i,a),l=va(((e=a)[0]+=(n=-s)*(r=i)[0],e[1]+=n*r[1],e))||0;i[0]*a[1]&lt;a[0]*i[1]&amp;&amp;(i[0]*=-1,i[1]*=-1,o*=-1,s*=-1),this.rotate=(o?Math.atan2(i[1],i[0]):Math.atan2(-a[0],a[1]))*It,this.translate=[t.e,t.f],this.scale=[o,l],this.skew=l?Math.atan2(s,l)*It:0}function ma(t,e){return t[0]*e[0]+t[1]*e[1]}function va(t){var e=Math.sqrt(ma(t,t));return e&amp;&amp;(t[0]/=e,t[1]/=e),e}t.ease=function(t){var e=t.indexOf(\&quot;-\&quot;),n=e&gt;=0?t.slice(0,e):t,i=e&gt;=0?t.slice(e+1):\&quot;in\&quot;;return n=ra.get(n)||ea,ia((i=na.get(i)||L)(n.apply(null,r.call(arguments,1))))},t.interpolateHcl=function(e,r){e=t.hcl(e),r=t.hcl(r);var n=e.h,i=e.c,a=e.l,o=r.h-n,s=r.c-i,l=r.l-a;isNaN(s)&amp;&amp;(s=0,i=isNaN(i)?r.c:i);isNaN(o)?(o=0,n=isNaN(n)?r.h:n):o&gt;180?o-=360:o&lt;-180&amp;&amp;(o+=360);return function(t){return Xt(n+o*t,i+s*t,a+l*t)+\&quot;\&quot;}},t.interpolateHsl=function(e,r){e=t.hsl(e),r=t.hsl(r);var n=e.h,i=e.s,a=e.l,o=r.h-n,s=r.s-i,l=r.l-a;isNaN(s)&amp;&amp;(s=0,i=isNaN(i)?r.s:i);isNaN(o)?(o=0,n=isNaN(n)?r.h:n):o&gt;180?o-=360:o&lt;-180&amp;&amp;(o+=360);return function(t){return Gt(n+o*t,i+s*t,a+l*t)+\&quot;\&quot;}},t.interpolateLab=function(e,r){e=t.lab(e),r=t.lab(r);var n=e.l,i=e.a,a=e.b,o=r.l-n,s=r.a-i,l=r.b-a;return function(t){return Qt(n+o*t,i+s*t,a+l*t)+\&quot;\&quot;}},t.interpolateRound=da,t.transform=function(e){var r=i.createElementNS(t.ns.prefix.svg,\&quot;g\&quot;);return(t.transform=function(t){if(null!=t){r.setAttribute(\&quot;transform\&quot;,t);var e=r.transform.baseVal.consolidate()}return new ga(e?e.matrix:ya)})(e)},ga.prototype.toString=function(){return\&quot;translate(\&quot;+this.translate+\&quot;)rotate(\&quot;+this.rotate+\&quot;)skewX(\&quot;+this.skew+\&quot;)scale(\&quot;+this.scale+\&quot;)\&quot;};var ya={a:1,b:0,c:0,d:1,e:0,f:0};function xa(t){return t.length?t.pop()+\&quot;,\&quot;:\&quot;\&quot;}function ba(e,r){var n=[],i=[];return e=t.transform(e),r=t.transform(r),function(t,e,r,n){if(t[0]!==e[0]||t[1]!==e[1]){var i=r.push(\&quot;translate(\&quot;,null,\&quot;,\&quot;,null,\&quot;)\&quot;);n.push({i:i-4,x:Zi(t[0],e[0])},{i:i-2,x:Zi(t[1],e[1])})}else(e[0]||e[1])&amp;&amp;r.push(\&quot;translate(\&quot;+e+\&quot;)\&quot;)}(e.translate,r.translate,n,i),function(t,e,r,n){t!==e?(t-e&gt;180?e+=360:e-t&gt;180&amp;&amp;(t+=360),n.push({i:r.push(xa(r)+\&quot;rotate(\&quot;,null,\&quot;)\&quot;)-2,x:Zi(t,e)})):e&amp;&amp;r.push(xa(r)+\&quot;rotate(\&quot;+e+\&quot;)\&quot;)}(e.rotate,r.rotate,n,i),function(t,e,r,n){t!==e?n.push({i:r.push(xa(r)+\&quot;skewX(\&quot;,null,\&quot;)\&quot;)-2,x:Zi(t,e)}):e&amp;&amp;r.push(xa(r)+\&quot;skewX(\&quot;+e+\&quot;)\&quot;)}(e.skew,r.skew,n,i),function(t,e,r,n){if(t[0]!==e[0]||t[1]!==e[1]){var i=r.push(xa(r)+\&quot;scale(\&quot;,null,\&quot;,\&quot;,null,\&quot;)\&quot;);n.push({i:i-4,x:Zi(t[0],e[0])},{i:i-2,x:Zi(t[1],e[1])})}else 1===e[0]&amp;&amp;1===e[1]||r.push(xa(r)+\&quot;scale(\&quot;+e+\&quot;)\&quot;)}(e.scale,r.scale,n,i),e=r=null,function(t){for(var e,r=-1,a=i.length;++r&lt;a;)n[(e=i[r]).i]=e.x(t);return n.join(\&quot;\&quot;)}}function _a(t,e){return e=(e-=t=+t)||1/e,function(r){return(r-t)/e}}function wa(t,e){return e=(e-=t=+t)||1/e,function(r){return Math.max(0,Math.min(1,(r-t)/e))}}function Ta(t){for(var e=t.source,r=t.target,n=function(t,e){if(t===e)return t;var r=ka(t),n=ka(e),i=r.pop(),a=n.pop(),o=null;for(;i===a;)o=i,i=r.pop(),a=n.pop();return o}(e,r),i=[e];e!==n;)e=e.parent,i.push(e);for(var a=i.length;r!==n;)i.splice(a,0,r),r=r.parent;return i}function ka(t){for(var e=[],r=t.parent;null!=r;)e.push(t),t=r,r=r.parent;return e.push(t),e}function Ma(t){t.fixed|=2}function Aa(t){t.fixed&amp;=-7}function Sa(t){t.fixed|=4,t.px=t.x,t.py=t.y}function Ea(t){t.fixed&amp;=-5}t.interpolateTransform=ba,t.layout={},t.layout.bundle=function(){return function(t){for(var e=[],r=-1,n=t.length;++r&lt;n;)e.push(Ta(t[r]));return e}},t.layout.chord=function(){var e,r,n,i,a,o,s,l={},c=0;function u(){var l,u,h,p,d,g={},m=[],v=t.range(i),y=[];for(e=[],r=[],l=0,p=-1;++p&lt;i;){for(u=0,d=-1;++d&lt;i;)u+=n[p][d];m.push(u),y.push(t.range(i)),l+=u}for(a&amp;&amp;v.sort((function(t,e){return a(m[t],m[e])})),o&amp;&amp;y.forEach((function(t,e){t.sort((function(t,r){return o(n[e][t],n[e][r])}))})),l=(St-c*i)/l,u=0,p=-1;++p&lt;i;){for(h=u,d=-1;++d&lt;i;){var x=v[p],b=y[x][d],_=n[x][b],w=u,T=u+=_*l;g[x+\&quot;-\&quot;+b]={index:x,subindex:b,startAngle:w,endAngle:T,value:_}}r[x]={index:x,startAngle:h,endAngle:u,value:m[x]},u+=c}for(p=-1;++p&lt;i;)for(d=p-1;++d&lt;i;){var k=g[p+\&quot;-\&quot;+d],M=g[d+\&quot;-\&quot;+p];(k.value||M.value)&amp;&amp;e.push(k.value&lt;M.value?{source:M,target:k}:{source:k,target:M})}s&amp;&amp;f()}function f(){e.sort((function(t,e){return s((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)}))}return l.matrix=function(t){return arguments.length?(i=(n=t)&amp;&amp;n.length,e=r=null,l):n},l.padding=function(t){return arguments.length?(c=t,e=r=null,l):c},l.sortGroups=function(t){return arguments.length?(a=t,e=r=null,l):a},l.sortSubgroups=function(t){return arguments.length?(o=t,e=null,l):o},l.sortChords=function(t){return arguments.length?(s=t,e&amp;&amp;f(),l):s},l.chords=function(){return e||u(),e},l.groups=function(){return r||u(),r},l},t.layout.force=function(){var e,r,n,i,a,o,s={},l=t.dispatch(\&quot;start\&quot;,\&quot;tick\&quot;,\&quot;end\&quot;),c=[1,1],u=.9,f=Ca,h=La,p=-30,d=Ia,g=.1,m=.64,v=[],y=[];function x(t){return function(e,r,n,i){if(e.point!==t){var a=e.cx-t.x,o=e.cy-t.y,s=i-r,l=a*a+o*o;if(s*s/m&lt;l){if(l&lt;d){var c=e.charge/l;t.px-=a*c,t.py-=o*c}return!0}if(e.point&amp;&amp;l&amp;&amp;l&lt;d){c=e.pointCharge/l;t.px-=a*c,t.py-=o*c}}return!e.charge}}function b(e){e.px=t.event.x,e.py=t.event.y,s.resume()}return s.tick=function(){if((n*=.99)&lt;.005)return e=null,l.end({type:\&quot;end\&quot;,alpha:n=0}),!0;var r,s,f,h,d,m,b,_,w,T=v.length,k=y.length;for(s=0;s&lt;k;++s)h=(f=y[s]).source,(m=(_=(d=f.target).x-h.x)*_+(w=d.y-h.y)*w)&amp;&amp;(_*=m=n*a[s]*((m=Math.sqrt(m))-i[s])/m,w*=m,d.x-=_*(b=h.weight+d.weight?h.weight/(h.weight+d.weight):.5),d.y-=w*b,h.x+=_*(b=1-b),h.y+=w*b);if((b=n*g)&amp;&amp;(_=c[0]/2,w=c[1]/2,s=-1,b))for(;++s&lt;T;)(f=v[s]).x+=(_-f.x)*b,f.y+=(w-f.y)*b;if(p)for(!function t(e,r,n){var i=0,a=0;if(e.charge=0,!e.leaf)for(var o,s=e.nodes,l=s.length,c=-1;++c&lt;l;)null!=(o=s[c])&amp;&amp;(t(o,r,n),e.charge+=o.charge,i+=o.charge*o.cx,a+=o.charge*o.cy);if(e.point){e.leaf||(e.point.x+=Math.random()-.5,e.point.y+=Math.random()-.5);var u=r*n[e.point.index];e.charge+=e.pointCharge=u,i+=u*e.point.x,a+=u*e.point.y}e.cx=i/e.charge,e.cy=a/e.charge}(r=t.geom.quadtree(v),n,o),s=-1;++s&lt;T;)(f=v[s]).fixed||r.visit(x(f));for(s=-1;++s&lt;T;)(f=v[s]).fixed?(f.x=f.px,f.y=f.py):(f.x-=(f.px-(f.px=f.x))*u,f.y-=(f.py-(f.py=f.y))*u);l.tick({type:\&quot;tick\&quot;,alpha:n})},s.nodes=function(t){return arguments.length?(v=t,s):v},s.links=function(t){return arguments.length?(y=t,s):y},s.size=function(t){return arguments.length?(c=t,s):c},s.linkDistance=function(t){return arguments.length?(f=\&quot;function\&quot;==typeof t?t:+t,s):f},s.distance=s.linkDistance,s.linkStrength=function(t){return arguments.length?(h=\&quot;function\&quot;==typeof t?t:+t,s):h},s.friction=function(t){return arguments.length?(u=+t,s):u},s.charge=function(t){return arguments.length?(p=\&quot;function\&quot;==typeof t?t:+t,s):p},s.chargeDistance=function(t){return arguments.length?(d=t*t,s):Math.sqrt(d)},s.gravity=function(t){return arguments.length?(g=+t,s):g},s.theta=function(t){return arguments.length?(m=t*t,s):Math.sqrt(m)},s.alpha=function(t){return arguments.length?(t=+t,n?t&gt;0?n=t:(e.c=null,e.t=NaN,e=null,l.end({type:\&quot;end\&quot;,alpha:n=0})):t&gt;0&amp;&amp;(l.start({type:\&quot;start\&quot;,alpha:n=t}),e=we(s.tick)),s):n},s.start=function(){var t,e,r,n=v.length,l=y.length,u=c[0],d=c[1];for(t=0;t&lt;n;++t)(r=v[t]).index=t,r.weight=0;for(t=0;t&lt;l;++t)\&quot;number\&quot;==typeof(r=y[t]).source&amp;&amp;(r.source=v[r.source]),\&quot;number\&quot;==typeof r.target&amp;&amp;(r.target=v[r.target]),++r.source.weight,++r.target.weight;for(t=0;t&lt;n;++t)r=v[t],isNaN(r.x)&amp;&amp;(r.x=g(\&quot;x\&quot;,u)),isNaN(r.y)&amp;&amp;(r.y=g(\&quot;y\&quot;,d)),isNaN(r.px)&amp;&amp;(r.px=r.x),isNaN(r.py)&amp;&amp;(r.py=r.y);if(i=[],\&quot;function\&quot;==typeof f)for(t=0;t&lt;l;++t)i[t]=+f.call(this,y[t],t);else for(t=0;t&lt;l;++t)i[t]=f;if(a=[],\&quot;function\&quot;==typeof h)for(t=0;t&lt;l;++t)a[t]=+h.call(this,y[t],t);else for(t=0;t&lt;l;++t)a[t]=h;if(o=[],\&quot;function\&quot;==typeof p)for(t=0;t&lt;n;++t)o[t]=+p.call(this,v[t],t);else for(t=0;t&lt;n;++t)o[t]=p;function g(r,i){if(!e){for(e=new Array(n),c=0;c&lt;n;++c)e[c]=[];for(c=0;c&lt;l;++c){var a=y[c];e[a.source.index].push(a.target),e[a.target.index].push(a.source)}}for(var o,s=e[t],c=-1,u=s.length;++c&lt;u;)if(!isNaN(o=s[c][r]))return o;return Math.random()*i}return s.resume()},s.resume=function(){return s.alpha(.1)},s.stop=function(){return s.alpha(0)},s.drag=function(){if(r||(r=t.behavior.drag().origin(L).on(\&quot;dragstart.force\&quot;,Ma).on(\&quot;drag.force\&quot;,b).on(\&quot;dragend.force\&quot;,Aa)),!arguments.length)return r;this.on(\&quot;mouseover.force\&quot;,Sa).on(\&quot;mouseout.force\&quot;,Ea).call(r)},t.rebind(s,l,\&quot;on\&quot;)};var Ca=20,La=1,Ia=1/0;function Pa(e,r){return t.rebind(e,r,\&quot;sort\&quot;,\&quot;children\&quot;,\&quot;value\&quot;),e.nodes=e,e.links=Ba,e}function za(t,e){for(var r=[t];null!=(t=r.pop());)if(e(t),(i=t.children)&amp;&amp;(n=i.length))for(var n,i;--n&gt;=0;)r.push(i[n])}function Oa(t,e){for(var r=[t],n=[];null!=(t=r.pop());)if(n.push(t),(a=t.children)&amp;&amp;(i=a.length))for(var i,a,o=-1;++o&lt;i;)r.push(a[o]);for(;null!=(t=n.pop());)e(t)}function Da(t){return t.children}function Ra(t){return t.value}function Fa(t,e){return e.value-t.value}function Ba(e){return t.merge(e.map((function(t){return(t.children||[]).map((function(e){return{source:t,target:e}}))})))}t.layout.hierarchy=function(){var t=Fa,e=Da,r=Ra;function n(i){var a,o=[i],s=[];for(i.depth=0;null!=(a=o.pop());)if(s.push(a),(c=e.call(n,a,a.depth))&amp;&amp;(l=c.length)){for(var l,c,u;--l&gt;=0;)o.push(u=c[l]),u.parent=a,u.depth=a.depth+1;r&amp;&amp;(a.value=0),a.children=c}else r&amp;&amp;(a.value=+r.call(n,a,a.depth)||0),delete a.children;return Oa(i,(function(e){var n,i;t&amp;&amp;(n=e.children)&amp;&amp;n.sort(t),r&amp;&amp;(i=e.parent)&amp;&amp;(i.value+=e.value)})),s}return n.sort=function(e){return arguments.length?(t=e,n):t},n.children=function(t){return arguments.length?(e=t,n):e},n.value=function(t){return arguments.length?(r=t,n):r},n.revalue=function(t){return r&amp;&amp;(za(t,(function(t){t.children&amp;&amp;(t.value=0)})),Oa(t,(function(t){var e;t.children||(t.value=+r.call(n,t,t.depth)||0),(e=t.parent)&amp;&amp;(e.value+=t.value)}))),t},n},t.layout.partition=function(){var e=t.layout.hierarchy(),r=[1,1];function n(t,n){var i=e.call(this,t,n);return function t(e,r,n,i){var a=e.children;if(e.x=r,e.y=e.depth*i,e.dx=n,e.dy=i,a&amp;&amp;(o=a.length)){var o,s,l,c=-1;for(n=e.value?n/e.value:0;++c&lt;o;)t(s=a[c],r,l=s.value*n,i),r+=l}}(i[0],0,r[0],r[1]/function t(e){var r=e.children,n=0;if(r&amp;&amp;(i=r.length))for(var i,a=-1;++a&lt;i;)n=Math.max(n,t(r[a]));return 1+n}(i[0])),i}return n.size=function(t){return arguments.length?(r=t,n):r},Pa(n,e)},t.layout.pie=function(){var e=Number,r=Na,n=0,i=St,a=0;function o(s){var l,c=s.length,u=s.map((function(t,r){return+e.call(o,t,r)})),f=+(\&quot;function\&quot;==typeof n?n.apply(this,arguments):n),h=(\&quot;function\&quot;==typeof i?i.apply(this,arguments):i)-f,p=Math.min(Math.abs(h)/c,+(\&quot;function\&quot;==typeof a?a.apply(this,arguments):a)),d=p*(h&lt;0?-1:1),g=t.sum(u),m=g?(h-c*d)/g:0,v=t.range(c),y=[];return null!=r&amp;&amp;v.sort(r===Na?function(t,e){return u[e]-u[t]}:function(t,e){return r(s[t],s[e])}),v.forEach((function(t){y[t]={data:s[t],value:l=u[t],startAngle:f,endAngle:f+=l*m+d,padAngle:p}})),y}return o.value=function(t){return arguments.length?(e=t,o):e},o.sort=function(t){return arguments.length?(r=t,o):r},o.startAngle=function(t){return arguments.length?(n=t,o):n},o.endAngle=function(t){return arguments.length?(i=t,o):i},o.padAngle=function(t){return arguments.length?(a=t,o):a},o};var Na={};function ja(t){return t.x}function Ua(t){return t.y}function Va(t,e,r){t.y0=e,t.y=r}t.layout.stack=function(){var e=L,r=Ga,n=Ya,i=Va,a=ja,o=Ua;function s(l,c){if(!(p=l.length))return l;var u=l.map((function(t,r){return e.call(s,t,r)})),f=u.map((function(t){return t.map((function(t,e){return[a.call(s,t,e),o.call(s,t,e)]}))})),h=r.call(s,f,c);u=t.permute(u,h),f=t.permute(f,h);var p,d,g,m,v=n.call(s,f,c),y=u[0].length;for(g=0;g&lt;y;++g)for(i.call(s,u[0][g],m=v[g],f[0][g][1]),d=1;d&lt;p;++d)i.call(s,u[d][g],m+=f[d-1][g][1],f[d][g][1]);return l}return s.values=function(t){return arguments.length?(e=t,s):e},s.order=function(t){return arguments.length?(r=\&quot;function\&quot;==typeof t?t:qa.get(t)||Ga,s):r},s.offset=function(t){return arguments.length?(n=\&quot;function\&quot;==typeof t?t:Ha.get(t)||Ya,s):n},s.x=function(t){return arguments.length?(a=t,s):a},s.y=function(t){return arguments.length?(o=t,s):o},s.out=function(t){return arguments.length?(i=t,s):i},s};var qa=t.map({\&quot;inside-out\&quot;:function(e){var r,n,i=e.length,a=e.map(Wa),o=e.map(Xa),s=t.range(i).sort((function(t,e){return a[t]-a[e]})),l=0,c=0,u=[],f=[];for(r=0;r&lt;i;++r)n=s[r],l&lt;c?(l+=o[n],u.push(n)):(c+=o[n],f.push(n));return f.reverse().concat(u)},reverse:function(e){return t.range(e.length).reverse()},default:Ga}),Ha=t.map({silhouette:function(t){var e,r,n,i=t.length,a=t[0].length,o=[],s=0,l=[];for(r=0;r&lt;a;++r){for(e=0,n=0;e&lt;i;e++)n+=t[e][r][1];n&gt;s&amp;&amp;(s=n),o.push(n)}for(r=0;r&lt;a;++r)l[r]=(s-o[r])/2;return l},wiggle:function(t){var e,r,n,i,a,o,s,l,c,u=t.length,f=t[0],h=f.length,p=[];for(p[0]=l=c=0,r=1;r&lt;h;++r){for(e=0,i=0;e&lt;u;++e)i+=t[e][r][1];for(e=0,a=0,s=f[r][0]-f[r-1][0];e&lt;u;++e){for(n=0,o=(t[e][r][1]-t[e][r-1][1])/(2*s);n&lt;e;++n)o+=(t[n][r][1]-t[n][r-1][1])/s;a+=o*t[e][r][1]}p[r]=l-=i?a/i*s:0,l&lt;c&amp;&amp;(c=l)}for(r=0;r&lt;h;++r)p[r]-=c;return p},expand:function(t){var e,r,n,i=t.length,a=t[0].length,o=1/i,s=[];for(r=0;r&lt;a;++r){for(e=0,n=0;e&lt;i;e++)n+=t[e][r][1];if(n)for(e=0;e&lt;i;e++)t[e][r][1]/=n;else for(e=0;e&lt;i;e++)t[e][r][1]=o}for(r=0;r&lt;a;++r)s[r]=0;return s},zero:Ya});function Ga(e){return t.range(e.length)}function Ya(t){for(var e=-1,r=t[0].length,n=[];++e&lt;r;)n[e]=0;return n}function Wa(t){for(var e,r=1,n=0,i=t[0][1],a=t.length;r&lt;a;++r)(e=t[r][1])&gt;i&amp;&amp;(n=r,i=e);return n}function Xa(t){return t.reduce(Za,0)}function Za(t,e){return t+e[1]}function Ja(t,e){return Ka(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Ka(t,e){for(var r=-1,n=+t[0],i=(t[1]-n)/e,a=[];++r&lt;=e;)a[r]=i*r+n;return a}function Qa(e){return[t.min(e),t.max(e)]}function $a(t,e){return t.value-e.value}function to(t,e){var r=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=r,r._pack_prev=e}function eo(t,e){t._pack_next=e,e._pack_prev=t}function ro(t,e){var r=e.x-t.x,n=e.y-t.y,i=t.r+e.r;return.999*i*i&gt;r*r+n*n}function no(t){if((e=t.children)&amp;&amp;(l=e.length)){var e,r,n,i,a,o,s,l,c=1/0,u=-1/0,f=1/0,h=-1/0;if(e.forEach(io),(r=e[0]).x=-r.r,r.y=0,x(r),l&gt;1&amp;&amp;((n=e[1]).x=n.r,n.y=0,x(n),l&gt;2))for(oo(r,n,i=e[2]),x(i),to(r,i),r._pack_prev=i,to(i,n),n=r._pack_next,a=3;a&lt;l;a++){oo(r,n,i=e[a]);var p=0,d=1,g=1;for(o=n._pack_next;o!==n;o=o._pack_next,d++)if(ro(o,i)){p=1;break}if(1==p)for(s=r._pack_prev;s!==o._pack_prev&amp;&amp;!ro(s,i);s=s._pack_prev,g++);p?(d&lt;g||d==g&amp;&amp;n.r&lt;r.r?eo(r,n=o):eo(r=s,n),a--):(to(r,i),n=i,x(i))}var m=(c+u)/2,v=(f+h)/2,y=0;for(a=0;a&lt;l;a++)(i=e[a]).x-=m,i.y-=v,y=Math.max(y,i.r+Math.sqrt(i.x*i.x+i.y*i.y));t.r=y,e.forEach(ao)}function x(t){c=Math.min(t.x-t.r,c),u=Math.max(t.x+t.r,u),f=Math.min(t.y-t.r,f),h=Math.max(t.y+t.r,h)}}function io(t){t._pack_next=t._pack_prev=t}function ao(t){delete t._pack_next,delete t._pack_prev}function oo(t,e,r){var n=t.r+r.r,i=e.x-t.x,a=e.y-t.y;if(n&amp;&amp;(i||a)){var o=e.r+r.r,s=i*i+a*a,l=.5+((n*=n)-(o*=o))/(2*s),c=Math.sqrt(Math.max(0,2*o*(n+s)-(n-=s)*n-o*o))/(2*s);r.x=t.x+l*i+c*a,r.y=t.y+l*a-c*i}else r.x=t.x+n,r.y=t.y}function so(t,e){return t.parent==e.parent?1:2}function lo(t){var e=t.children;return e.length?e[0]:t.t}function co(t){var e,r=t.children;return(e=r.length)?r[e-1]:t.t}function uo(t,e,r){var n=r/(e.i-t.i);e.c-=n,e.s+=r,t.c+=n,e.z+=r,e.m+=r}function fo(t,e,r){return t.a.parent===e.parent?t.a:r}function ho(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function po(t,e){var r=t.x+e[3],n=t.y+e[0],i=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return i&lt;0&amp;&amp;(r+=i/2,i=0),a&lt;0&amp;&amp;(n+=a/2,a=0),{x:r,y:n,dx:i,dy:a}}function go(t){var e=t[0],r=t[t.length-1];return e&lt;r?[e,r]:[r,e]}function mo(t){return t.rangeExtent?t.rangeExtent():go(t.range())}function vo(t,e,r,n){var i=r(t[0],t[1]),a=n(e[0],e[1]);return function(t){return a(i(t))}}function yo(t,e){var r,n=0,i=t.length-1,a=t[n],o=t[i];return o&lt;a&amp;&amp;(r=n,n=i,i=r,r=a,a=o,o=r),t[n]=e.floor(a),t[i]=e.ceil(o),t}function xo(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:bo}t.layout.histogram=function(){var e=!0,r=Number,n=Qa,i=Ja;function a(a,o){for(var s,l,c=[],u=a.map(r,this),f=n.call(this,u,o),h=i.call(this,f,u,o),p=(o=-1,u.length),d=h.length-1,g=e?1:1/p;++o&lt;d;)(s=c[o]=[]).dx=h[o+1]-(s.x=h[o]),s.y=0;if(d&gt;0)for(o=-1;++o&lt;p;)(l=u[o])&gt;=f[0]&amp;&amp;l&lt;=f[1]&amp;&amp;((s=c[t.bisect(h,l,1,d)-1]).y+=g,s.push(a[o]));return c}return a.value=function(t){return arguments.length?(r=t,a):r},a.range=function(t){return arguments.length?(n=de(t),a):n},a.bins=function(t){return arguments.length?(i=\&quot;number\&quot;==typeof t?function(e){return Ka(e,t)}:de(t),a):i},a.frequency=function(t){return arguments.length?(e=!!t,a):e},a},t.layout.pack=function(){var e,r=t.layout.hierarchy().sort($a),n=0,i=[1,1];function a(t,a){var o=r.call(this,t,a),s=o[0],l=i[0],c=i[1],u=null==e?Math.sqrt:\&quot;function\&quot;==typeof e?e:function(){return e};if(s.x=s.y=0,Oa(s,(function(t){t.r=+u(t.value)})),Oa(s,no),n){var f=n*(e?1:Math.max(2*s.r/l,2*s.r/c))/2;Oa(s,(function(t){t.r+=f})),Oa(s,no),Oa(s,(function(t){t.r-=f}))}return function t(e,r,n,i){var a=e.children;if(e.x=r+=i*e.x,e.y=n+=i*e.y,e.r*=i,a)for(var o=-1,s=a.length;++o&lt;s;)t(a[o],r,n,i)}(s,l/2,c/2,e?1:1/Math.max(2*s.r/l,2*s.r/c)),o}return a.size=function(t){return arguments.length?(i=t,a):i},a.radius=function(t){return arguments.length?(e=null==t||\&quot;function\&quot;==typeof t?t:+t,a):e},a.padding=function(t){return arguments.length?(n=+t,a):n},Pa(a,r)},t.layout.tree=function(){var e=t.layout.hierarchy().sort(null).value(null),r=so,n=[1,1],i=null;function a(t,a){var c=e.call(this,t,a),u=c[0],f=function(t){var e,r={A:null,children:[t]},n=[r];for(;null!=(e=n.pop());)for(var i,a=e.children,o=0,s=a.length;o&lt;s;++o)n.push((a[o]=i={_:a[o],parent:e,children:(i=a[o].children)&amp;&amp;i.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=i);return r.children[0]}(u);if(Oa(f,o),f.parent.m=-f.z,za(f,s),i)za(u,l);else{var h=u,p=u,d=u;za(u,(function(t){t.x&lt;h.x&amp;&amp;(h=t),t.x&gt;p.x&amp;&amp;(p=t),t.depth&gt;d.depth&amp;&amp;(d=t)}));var g=r(h,p)/2-h.x,m=n[0]/(p.x+r(p,h)/2+g),v=n[1]/(d.depth||1);za(u,(function(t){t.x=(t.x+g)*m,t.y=t.depth*v}))}return c}function o(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){!function(t){var e,r=0,n=0,i=t.children,a=i.length;for(;--a&gt;=0;)(e=i[a]).z+=r,e.m+=r,r+=e.s+(n+=e.c)}(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+r(t._,i._),t.m=t.z-a):t.z=a}else i&amp;&amp;(t.z=i.z+r(t._,i._));t.parent.A=function(t,e,n){if(e){for(var i,a=t,o=t,s=e,l=a.parent.children[0],c=a.m,u=o.m,f=s.m,h=l.m;s=co(s),a=lo(a),s&amp;&amp;a;)l=lo(l),(o=co(o)).a=t,(i=s.z+f-a.z-c+r(s._,a._))&gt;0&amp;&amp;(uo(fo(s,t,n),t,i),c+=i,u+=i),f+=s.m,c+=a.m,h+=l.m,u+=o.m;s&amp;&amp;!co(o)&amp;&amp;(o.t=s,o.m+=f-u),a&amp;&amp;!lo(l)&amp;&amp;(l.t=a,l.m+=c-h,n=t)}return n}(t,i,t.parent.A||n[0])}function s(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function l(t){t.x*=n[0],t.y=t.depth*n[1]}return a.separation=function(t){return arguments.length?(r=t,a):r},a.size=function(t){return arguments.length?(i=null==(n=t)?l:null,a):i?null:n},a.nodeSize=function(t){return arguments.length?(i=null==(n=t)?null:l,a):i?n:null},Pa(a,e)},t.layout.cluster=function(){var e=t.layout.hierarchy().sort(null).value(null),r=so,n=[1,1],i=!1;function a(a,o){var s,l=e.call(this,a,o),c=l[0],u=0;Oa(c,(function(e){var n=e.children;n&amp;&amp;n.length?(e.x=function(t){return t.reduce((function(t,e){return t+e.x}),0)/t.length}(n),e.y=function(e){return 1+t.max(e,(function(t){return t.y}))}(n)):(e.x=s?u+=r(e,s):0,e.y=0,s=e)}));var f=function t(e){var r=e.children;return r&amp;&amp;r.length?t(r[0]):e}(c),h=function t(e){var r,n=e.children;return n&amp;&amp;(r=n.length)?t(n[r-1]):e}(c),p=f.x-r(f,h)/2,d=h.x+r(h,f)/2;return Oa(c,i?function(t){t.x=(t.x-c.x)*n[0],t.y=(c.y-t.y)*n[1]}:function(t){t.x=(t.x-p)/(d-p)*n[0],t.y=(1-(c.y?t.y/c.y:1))*n[1]}),l}return a.separation=function(t){return arguments.length?(r=t,a):r},a.size=function(t){return arguments.length?(i=null==(n=t),a):i?null:n},a.nodeSize=function(t){return arguments.length?(i=null!=(n=t),a):i?n:null},Pa(a,e)},t.layout.treemap=function(){var e,r=t.layout.hierarchy(),n=Math.round,i=[1,1],a=null,o=ho,s=!1,l=\&quot;squarify\&quot;,c=.5*(1+Math.sqrt(5));function u(t,e){for(var r,n,i=-1,a=t.length;++i&lt;a;)n=(r=t[i]).value*(e&lt;0?0:e),r.area=isNaN(n)||n&lt;=0?0:n}function f(t){var e=t.children;if(e&amp;&amp;e.length){var r,n,i,a=o(t),s=[],c=e.slice(),h=1/0,g=\&quot;slice\&quot;===l?a.dx:\&quot;dice\&quot;===l?a.dy:\&quot;slice-dice\&quot;===l?1&amp;t.depth?a.dy:a.dx:Math.min(a.dx,a.dy);for(u(c,a.dx*a.dy/t.value),s.area=0;(i=c.length)&gt;0;)s.push(r=c[i-1]),s.area+=r.area,\&quot;squarify\&quot;!==l||(n=p(s,g))&lt;=h?(c.pop(),h=n):(s.area-=s.pop().area,d(s,g,a,!1),g=Math.min(a.dx,a.dy),s.length=s.area=0,h=1/0);s.length&amp;&amp;(d(s,g,a,!0),s.length=s.area=0),e.forEach(f)}}function h(t){var e=t.children;if(e&amp;&amp;e.length){var r,n=o(t),i=e.slice(),a=[];for(u(i,n.dx*n.dy/t.value),a.area=0;r=i.pop();)a.push(r),a.area+=r.area,null!=r.z&amp;&amp;(d(a,r.z?n.dx:n.dy,n,!i.length),a.length=a.area=0);e.forEach(h)}}function p(t,e){for(var r,n=t.area,i=0,a=1/0,o=-1,s=t.length;++o&lt;s;)(r=t[o].area)&amp;&amp;(r&lt;a&amp;&amp;(a=r),r&gt;i&amp;&amp;(i=r));return e*=e,(n*=n)?Math.max(e*i*c/n,n/(e*a*c)):1/0}function d(t,e,r,i){var a,o=-1,s=t.length,l=r.x,c=r.y,u=e?n(t.area/e):0;if(e==r.dx){for((i||u&gt;r.dy)&amp;&amp;(u=r.dy);++o&lt;s;)(a=t[o]).x=l,a.y=c,a.dy=u,l+=a.dx=Math.min(r.x+r.dx-l,u?n(a.area/u):0);a.z=!0,a.dx+=r.x+r.dx-l,r.y+=u,r.dy-=u}else{for((i||u&gt;r.dx)&amp;&amp;(u=r.dx);++o&lt;s;)(a=t[o]).x=l,a.y=c,a.dx=u,c+=a.dy=Math.min(r.y+r.dy-c,u?n(a.area/u):0);a.z=!1,a.dy+=r.y+r.dy-c,r.x+=u,r.dx-=u}}function g(t){var n=e||r(t),a=n[0];return a.x=a.y=0,a.value?(a.dx=i[0],a.dy=i[1]):a.dx=a.dy=0,e&amp;&amp;r.revalue(a),u([a],a.dx*a.dy/a.value),(e?h:f)(a),s&amp;&amp;(e=n),n}return g.size=function(t){return arguments.length?(i=t,g):i},g.padding=function(t){if(!arguments.length)return a;function e(e){var r=t.call(g,e,e.depth);return null==r?ho(e):po(e,\&quot;number\&quot;==typeof r?[r,r,r,r]:r)}function r(e){return po(e,t)}var n;return o=null==(a=t)?ho:\&quot;function\&quot;==(n=typeof t)?e:\&quot;number\&quot;===n?(t=[t,t,t,t],r):r,g},g.round=function(t){return arguments.length?(n=t?Math.round:Number,g):n!=Number},g.sticky=function(t){return arguments.length?(s=t,e=null,g):s},g.ratio=function(t){return arguments.length?(c=t,g):c},g.mode=function(t){return arguments.length?(l=t+\&quot;\&quot;,g):l},Pa(g,r)},t.random={normal:function(t,e){var r=arguments.length;return r&lt;2&amp;&amp;(e=1),r&lt;1&amp;&amp;(t=0),function(){var r,n,i;do{i=(r=2*Math.random()-1)*r+(n=2*Math.random()-1)*n}while(!i||i&gt;1);return t+e*r*Math.sqrt(-2*Math.log(i)/i)}},logNormal:function(){var e=t.random.normal.apply(t,arguments);return function(){return Math.exp(e())}},bates:function(e){var r=t.random.irwinHall(e);return function(){return r()/e}},irwinHall:function(t){return function(){for(var e=0,r=0;r&lt;t;r++)e+=Math.random();return e}}},t.scale={};var bo={floor:L,ceil:L};function _o(e,r,n,i){var a=[],o=[],s=0,l=Math.min(e.length,r.length)-1;for(e[l]&lt;e[0]&amp;&amp;(e=e.slice().reverse(),r=r.slice().reverse());++s&lt;=l;)a.push(n(e[s-1],e[s])),o.push(i(r[s-1],r[s]));return function(r){var n=t.bisect(e,r,1,l)-1;return o[n](a[n](r))}}function wo(e,r){return t.rebind(e,r,\&quot;range\&quot;,\&quot;rangeRound\&quot;,\&quot;interpolate\&quot;,\&quot;clamp\&quot;)}function To(t,e){return yo(t,xo(ko(t,e)[2])),yo(t,xo(ko(t,e)[2])),t}function ko(t,e){null==e&amp;&amp;(e=10);var r=go(t),n=r[1]-r[0],i=Math.pow(10,Math.floor(Math.log(n/e)/Math.LN10)),a=e/n*i;return a&lt;=.15?i*=10:a&lt;=.35?i*=5:a&lt;=.75&amp;&amp;(i*=2),r[0]=Math.ceil(r[0]/i)*i,r[1]=Math.floor(r[1]/i)*i+.5*i,r[2]=i,r}function Mo(e,r){return t.range.apply(t,ko(e,r))}function Ao(e,r,n){var i=ko(e,r);if(n){var a=Ce.exec(n);if(a.shift(),\&quot;s\&quot;===a[8]){var o=t.formatPrefix(Math.max(y(i[0]),y(i[1])));return a[7]||(a[7]=\&quot;.\&quot;+Eo(o.scale(i[2]))),a[8]=\&quot;f\&quot;,n=t.format(a.join(\&quot;\&quot;)),function(t){return n(o.scale(t))+o.symbol}}a[7]||(a[7]=\&quot;.\&quot;+function(t,e){var r=Eo(e[2]);return t in So?Math.abs(r-Eo(Math.max(y(e[0]),y(e[1]))))+ +(\&quot;e\&quot;!==t):r-2*(\&quot;%\&quot;===t)}(a[8],i)),n=a.join(\&quot;\&quot;)}else n=\&quot;,.\&quot;+Eo(i[2])+\&quot;f\&quot;;return t.format(n)}t.scale.linear=function(){return function t(e,r,n,i){var a,o;function s(){var t=Math.min(e.length,r.length)&gt;2?_o:vo,s=i?wa:_a;return a=t(e,r,s,n),o=t(r,e,s,$i),l}function l(t){return a(t)}return l.invert=function(t){return o(t)},l.domain=function(t){return arguments.length?(e=t.map(Number),s()):e},l.range=function(t){return arguments.length?(r=t,s()):r},l.rangeRound=function(t){return l.range(t).interpolate(da)},l.clamp=function(t){return arguments.length?(i=t,s()):i},l.interpolate=function(t){return arguments.length?(n=t,s()):n},l.ticks=function(t){return Mo(e,t)},l.tickFormat=function(t,r){return Ao(e,t,r)},l.nice=function(t){return To(e,t),s()},l.copy=function(){return t(e,r,n,i)},s()}([0,1],[0,1],$i,!1)};var So={s:1,g:1,p:1,r:1,e:1};function Eo(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}t.scale.log=function(){return function e(r,n,i,a){function o(t){return(i?Math.log(t&lt;0?0:t):-Math.log(t&gt;0?0:-t))/Math.log(n)}function s(t){return i?Math.pow(n,t):-Math.pow(n,-t)}function l(t){return r(o(t))}return l.invert=function(t){return s(r.invert(t))},l.domain=function(t){return arguments.length?(i=t[0]&gt;=0,r.domain((a=t.map(Number)).map(o)),l):a},l.base=function(t){return arguments.length?(n=+t,r.domain(a.map(o)),l):n},l.nice=function(){var t=yo(a.map(o),i?Math:Lo);return r.domain(t),a=t.map(s),l},l.ticks=function(){var t=go(a),e=[],r=t[0],l=t[1],c=Math.floor(o(r)),u=Math.ceil(o(l)),f=n%1?2:n;if(isFinite(u-c)){if(i){for(;c&lt;u;c++)for(var h=1;h&lt;f;h++)e.push(s(c)*h);e.push(s(c))}else for(e.push(s(c));c++&lt;u;)for(h=f-1;h&gt;0;h--)e.push(s(c)*h);for(c=0;e[c]&lt;r;c++);for(u=e.length;e[u-1]&gt;l;u--);e=e.slice(c,u)}return e},l.tickFormat=function(e,r){if(!arguments.length)return Co;arguments.length&lt;2?r=Co:\&quot;function\&quot;!=typeof r&amp;&amp;(r=t.format(r));var i=Math.max(1,n*e/l.ticks().length);return function(t){var e=t/s(Math.round(o(t)));return e*n&lt;n-.5&amp;&amp;(e*=n),e&lt;=i?r(t):\&quot;\&quot;}},l.copy=function(){return e(r.copy(),n,i,a)},wo(l,r)}(t.scale.linear().domain([0,1]),10,!0,[1,10])};var Co=t.format(\&quot;.0e\&quot;),Lo={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};function Io(t){return function(e){return e&lt;0?-Math.pow(-e,t):Math.pow(e,t)}}t.scale.pow=function(){return function t(e,r,n){var i=Io(r),a=Io(1/r);function o(t){return e(i(t))}return o.invert=function(t){return a(e.invert(t))},o.domain=function(t){return arguments.length?(e.domain((n=t.map(Number)).map(i)),o):n},o.ticks=function(t){return Mo(n,t)},o.tickFormat=function(t,e){return Ao(n,t,e)},o.nice=function(t){return o.domain(To(n,t))},o.exponent=function(t){return arguments.length?(i=Io(r=t),a=Io(1/r),e.domain(n.map(i)),o):r},o.copy=function(){return t(e.copy(),r,n)},wo(o,e)}(t.scale.linear(),1,[0,1])},t.scale.sqrt=function(){return t.scale.pow().exponent(.5)},t.scale.ordinal=function(){return function e(r,n){var i,a,o;function s(t){return a[((i.get(t)||(\&quot;range\&quot;===n.t?i.set(t,r.push(t)):NaN))-1)%a.length]}function l(e,n){return t.range(r.length).map((function(t){return e+n*t}))}return s.domain=function(t){if(!arguments.length)return r;r=[],i=new _;for(var e,a=-1,o=t.length;++a&lt;o;)i.has(e=t[a])||i.set(e,r.push(e));return s[n.t].apply(s,n.a)},s.range=function(t){return arguments.length?(a=t,o=0,n={t:\&quot;range\&quot;,a:arguments},s):a},s.rangePoints=function(t,e){arguments.length&lt;2&amp;&amp;(e=0);var i=t[0],c=t[1],u=r.length&lt;2?(i=(i+c)/2,0):(c-i)/(r.length-1+e);return a=l(i+u*e/2,u),o=0,n={t:\&quot;rangePoints\&quot;,a:arguments},s},s.rangeRoundPoints=function(t,e){arguments.length&lt;2&amp;&amp;(e=0);var i=t[0],c=t[1],u=r.length&lt;2?(i=c=Math.round((i+c)/2),0):(c-i)/(r.length-1+e)|0;return a=l(i+Math.round(u*e/2+(c-i-(r.length-1+e)*u)/2),u),o=0,n={t:\&quot;rangeRoundPoints\&quot;,a:arguments},s},s.rangeBands=function(t,e,i){arguments.length&lt;2&amp;&amp;(e=0),arguments.length&lt;3&amp;&amp;(i=e);var c=t[1]&lt;t[0],u=t[c-0],f=t[1-c],h=(f-u)/(r.length-e+2*i);return a=l(u+h*i,h),c&amp;&amp;a.reverse(),o=h*(1-e),n={t:\&quot;rangeBands\&quot;,a:arguments},s},s.rangeRoundBands=function(t,e,i){arguments.length&lt;2&amp;&amp;(e=0),arguments.length&lt;3&amp;&amp;(i=e);var c=t[1]&lt;t[0],u=t[c-0],f=t[1-c],h=Math.floor((f-u)/(r.length-e+2*i));return a=l(u+Math.round((f-u-(r.length-e)*h)/2),h),c&amp;&amp;a.reverse(),o=Math.round(h*(1-e)),n={t:\&quot;rangeRoundBands\&quot;,a:arguments},s},s.rangeBand=function(){return o},s.rangeExtent=function(){return go(n.a[0])},s.copy=function(){return e(r,n)},s.domain(r)}([],{t:\&quot;range\&quot;,a:[[]]})},t.scale.category10=function(){return t.scale.ordinal().range(Po)},t.scale.category20=function(){return t.scale.ordinal().range(zo)},t.scale.category20b=function(){return t.scale.ordinal().range(Oo)},t.scale.category20c=function(){return t.scale.ordinal().range(Do)};var Po=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(ae),zo=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(ae),Oo=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(ae),Do=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(ae);function Ro(){return 0}t.scale.quantile=function(){return function e(r,n){var i;function a(){var e=0,a=n.length;for(i=[];++e&lt;a;)i[e-1]=t.quantile(r,e/a);return o}function o(e){if(!isNaN(e=+e))return n[t.bisect(i,e)]}return o.domain=function(t){return arguments.length?(r=t.map(p).filter(d).sort(h),a()):r},o.range=function(t){return arguments.length?(n=t,a()):n},o.quantiles=function(){return i},o.invertExtent=function(t){return(t=n.indexOf(t))&lt;0?[NaN,NaN]:[t&gt;0?i[t-1]:r[0],t&lt;i.length?i[t]:r[r.length-1]]},o.copy=function(){return e(r,n)},a()}([],[])},t.scale.quantize=function(){return function t(e,r,n){var i,a;function o(t){return n[Math.max(0,Math.min(a,Math.floor(i*(t-e))))]}function s(){return i=n.length/(r-e),a=n.length-1,o}return o.domain=function(t){return arguments.length?(e=+t[0],r=+t[t.length-1],s()):[e,r]},o.range=function(t){return arguments.length?(n=t,s()):n},o.invertExtent=function(t){return[t=(t=n.indexOf(t))&lt;0?NaN:t/i+e,t+1/i]},o.copy=function(){return t(e,r,n)},s()}(0,1,[0,1])},t.scale.threshold=function(){return function e(r,n){function i(e){if(e&lt;=e)return n[t.bisect(r,e)]}return i.domain=function(t){return arguments.length?(r=t,i):r},i.range=function(t){return arguments.length?(n=t,i):n},i.invertExtent=function(t){return t=n.indexOf(t),[r[t-1],r[t]]},i.copy=function(){return e(r,n)},i}([.5],[0,1])},t.scale.identity=function(){return function t(e){function r(t){return+t}return r.invert=r,r.domain=r.range=function(t){return arguments.length?(e=t.map(r),r):e},r.ticks=function(t){return Mo(e,t)},r.tickFormat=function(t,r){return Ao(e,t,r)},r.copy=function(){return t(e)},r}([0,1])},t.svg={},t.svg.arc=function(){var t=Bo,e=No,r=Ro,n=Fo,i=jo,a=Uo,o=Vo;function s(){var s=Math.max(0,+t.apply(this,arguments)),c=Math.max(0,+e.apply(this,arguments)),u=i.apply(this,arguments)-Ct,f=a.apply(this,arguments)-Ct,h=Math.abs(f-u),p=u&gt;f?0:1;if(c&lt;s&amp;&amp;(d=c,c=s,s=d),h&gt;=Et)return l(c,p)+(s?l(s,1-p):\&quot;\&quot;)+\&quot;Z\&quot;;var d,g,m,v,y,x,b,_,w,T,k,M,A=0,S=0,E=[];if((v=(+o.apply(this,arguments)||0)/2)&amp;&amp;(m=n===Fo?Math.sqrt(s*s+c*c):+n.apply(this,arguments),p||(S*=-1),c&amp;&amp;(S=Dt(m/c*Math.sin(v))),s&amp;&amp;(A=Dt(m/s*Math.sin(v)))),c){y=c*Math.cos(u+S),x=c*Math.sin(u+S),b=c*Math.cos(f-S),_=c*Math.sin(f-S);var C=Math.abs(f-u-2*S)&lt;=At?0:1;if(S&amp;&amp;qo(y,x,b,_)===p^C){var L=(u+f)/2;y=c*Math.cos(L),x=c*Math.sin(L),b=_=null}}else y=x=0;if(s){w=s*Math.cos(f-A),T=s*Math.sin(f-A),k=s*Math.cos(u+A),M=s*Math.sin(u+A);var I=Math.abs(u-f+2*A)&lt;=At?0:1;if(A&amp;&amp;qo(w,T,k,M)===1-p^I){var P=(u+f)/2;w=s*Math.cos(P),T=s*Math.sin(P),k=M=null}}else w=T=0;if(h&gt;kt&amp;&amp;(d=Math.min(Math.abs(c-s)/2,+r.apply(this,arguments)))&gt;.001){g=s&lt;c^p?0:1;var z=d,O=d;if(h&lt;At){var D=null==k?[w,T]:null==b?[y,x]:li([y,x],[k,M],[b,_],[w,T]),R=y-D[0],F=x-D[1],B=b-D[0],N=_-D[1],j=1/Math.sin(Math.acos((R*B+F*N)/(Math.sqrt(R*R+F*F)*Math.sqrt(B*B+N*N)))/2),U=Math.sqrt(D[0]*D[0]+D[1]*D[1]);O=Math.min(d,(s-U)/(j-1)),z=Math.min(d,(c-U)/(j+1))}if(null!=b){var V=Ho(null==k?[w,T]:[k,M],[y,x],c,z,p),q=Ho([b,_],[w,T],c,z,p);d===z?E.push(\&quot;M\&quot;,V[0],\&quot;A\&quot;,z,\&quot;,\&quot;,z,\&quot; 0 0,\&quot;,g,\&quot; \&quot;,V[1],\&quot;A\&quot;,c,\&quot;,\&quot;,c,\&quot; 0 \&quot;,1-p^qo(V[1][0],V[1][1],q[1][0],q[1][1]),\&quot;,\&quot;,p,\&quot; \&quot;,q[1],\&quot;A\&quot;,z,\&quot;,\&quot;,z,\&quot; 0 0,\&quot;,g,\&quot; \&quot;,q[0]):E.push(\&quot;M\&quot;,V[0],\&quot;A\&quot;,z,\&quot;,\&quot;,z,\&quot; 0 1,\&quot;,g,\&quot; \&quot;,q[0])}else E.push(\&quot;M\&quot;,y,\&quot;,\&quot;,x);if(null!=k){var H=Ho([y,x],[k,M],s,-O,p),G=Ho([w,T],null==b?[y,x]:[b,_],s,-O,p);d===O?E.push(\&quot;L\&quot;,G[0],\&quot;A\&quot;,O,\&quot;,\&quot;,O,\&quot; 0 0,\&quot;,g,\&quot; \&quot;,G[1],\&quot;A\&quot;,s,\&quot;,\&quot;,s,\&quot; 0 \&quot;,p^qo(G[1][0],G[1][1],H[1][0],H[1][1]),\&quot;,\&quot;,1-p,\&quot; \&quot;,H[1],\&quot;A\&quot;,O,\&quot;,\&quot;,O,\&quot; 0 0,\&quot;,g,\&quot; \&quot;,H[0]):E.push(\&quot;L\&quot;,G[0],\&quot;A\&quot;,O,\&quot;,\&quot;,O,\&quot; 0 0,\&quot;,g,\&quot; \&quot;,H[0])}else E.push(\&quot;L\&quot;,w,\&quot;,\&quot;,T)}else E.push(\&quot;M\&quot;,y,\&quot;,\&quot;,x),null!=b&amp;&amp;E.push(\&quot;A\&quot;,c,\&quot;,\&quot;,c,\&quot; 0 \&quot;,C,\&quot;,\&quot;,p,\&quot; \&quot;,b,\&quot;,\&quot;,_),E.push(\&quot;L\&quot;,w,\&quot;,\&quot;,T),null!=k&amp;&amp;E.push(\&quot;A\&quot;,s,\&quot;,\&quot;,s,\&quot; 0 \&quot;,I,\&quot;,\&quot;,1-p,\&quot; \&quot;,k,\&quot;,\&quot;,M);return E.push(\&quot;Z\&quot;),E.join(\&quot;\&quot;)}function l(t,e){return\&quot;M0,\&quot;+t+\&quot;A\&quot;+t+\&quot;,\&quot;+t+\&quot; 0 1,\&quot;+e+\&quot; 0,\&quot;+-t+\&quot;A\&quot;+t+\&quot;,\&quot;+t+\&quot; 0 1,\&quot;+e+\&quot; 0,\&quot;+t}return s.innerRadius=function(e){return arguments.length?(t=de(e),s):t},s.outerRadius=function(t){return arguments.length?(e=de(t),s):e},s.cornerRadius=function(t){return arguments.length?(r=de(t),s):r},s.padRadius=function(t){return arguments.length?(n=t==Fo?Fo:de(t),s):n},s.startAngle=function(t){return arguments.length?(i=de(t),s):i},s.endAngle=function(t){return arguments.length?(a=de(t),s):a},s.padAngle=function(t){return arguments.length?(o=de(t),s):o},s.centroid=function(){var r=(+t.apply(this,arguments)+ +e.apply(this,arguments))/2,n=(+i.apply(this,arguments)+ +a.apply(this,arguments))/2-Ct;return[Math.cos(n)*r,Math.sin(n)*r]},s};var Fo=\&quot;auto\&quot;;function Bo(t){return t.innerRadius}function No(t){return t.outerRadius}function jo(t){return t.startAngle}function Uo(t){return t.endAngle}function Vo(t){return t&amp;&amp;t.padAngle}function qo(t,e,r,n){return(t-r)*e-(e-n)*t&gt;0?0:1}function Ho(t,e,r,n,i){var a=t[0]-e[0],o=t[1]-e[1],s=(i?n:-n)/Math.sqrt(a*a+o*o),l=s*o,c=-s*a,u=t[0]+l,f=t[1]+c,h=e[0]+l,p=e[1]+c,d=(u+h)/2,g=(f+p)/2,m=h-u,v=p-f,y=m*m+v*v,x=r-n,b=u*p-h*f,_=(v&lt;0?-1:1)*Math.sqrt(Math.max(0,x*x*y-b*b)),w=(b*v-m*_)/y,T=(-b*m-v*_)/y,k=(b*v+m*_)/y,M=(-b*m+v*_)/y,A=w-d,S=T-g,E=k-d,C=M-g;return A*A+S*S&gt;E*E+C*C&amp;&amp;(w=k,T=M),[[w-l,T-c],[w*r/x,T*r/x]]}function Go(t){var e=ri,r=ni,n=Yr,i=Wo,a=i.key,o=.7;function s(a){var s,l=[],c=[],u=-1,f=a.length,h=de(e),p=de(r);function d(){l.push(\&quot;M\&quot;,i(t(c),o))}for(;++u&lt;f;)n.call(this,s=a[u],u)?c.push([+h.call(this,s,u),+p.call(this,s,u)]):c.length&amp;&amp;(d(),c=[]);return c.length&amp;&amp;d(),l.length?l.join(\&quot;\&quot;):null}return s.x=function(t){return arguments.length?(e=t,s):e},s.y=function(t){return arguments.length?(r=t,s):r},s.defined=function(t){return arguments.length?(n=t,s):n},s.interpolate=function(t){return arguments.length?(a=\&quot;function\&quot;==typeof t?i=t:(i=Yo.get(t)||Wo).key,s):a},s.tension=function(t){return arguments.length?(o=t,s):o},s}t.svg.line=function(){return Go(L)};var Yo=t.map({linear:Wo,\&quot;linear-closed\&quot;:Xo,step:function(t){var e=0,r=t.length,n=t[0],i=[n[0],\&quot;,\&quot;,n[1]];for(;++e&lt;r;)i.push(\&quot;H\&quot;,(n[0]+(n=t[e])[0])/2,\&quot;V\&quot;,n[1]);r&gt;1&amp;&amp;i.push(\&quot;H\&quot;,n[0]);return i.join(\&quot;\&quot;)},\&quot;step-before\&quot;:Zo,\&quot;step-after\&quot;:Jo,basis:$o,\&quot;basis-open\&quot;:function(t){if(t.length&lt;4)return Wo(t);var e,r=[],n=-1,i=t.length,a=[0],o=[0];for(;++n&lt;3;)e=t[n],a.push(e[0]),o.push(e[1]);r.push(ts(ns,a)+\&quot;,\&quot;+ts(ns,o)),--n;for(;++n&lt;i;)e=t[n],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),is(r,a,o);return r.join(\&quot;\&quot;)},\&quot;basis-closed\&quot;:function(t){var e,r,n=-1,i=t.length,a=i+4,o=[],s=[];for(;++n&lt;4;)r=t[n%i],o.push(r[0]),s.push(r[1]);e=[ts(ns,o),\&quot;,\&quot;,ts(ns,s)],--n;for(;++n&lt;a;)r=t[n%i],o.shift(),o.push(r[0]),s.shift(),s.push(r[1]),is(e,o,s);return e.join(\&quot;\&quot;)},bundle:function(t,e){var r=t.length-1;if(r)for(var n,i,a=t[0][0],o=t[0][1],s=t[r][0]-a,l=t[r][1]-o,c=-1;++c&lt;=r;)n=t[c],i=c/r,n[0]=e*n[0]+(1-e)*(a+i*s),n[1]=e*n[1]+(1-e)*(o+i*l);return $o(t)},cardinal:function(t,e){return t.length&lt;3?Wo(t):t[0]+Ko(t,Qo(t,e))},\&quot;cardinal-open\&quot;:function(t,e){return t.length&lt;4?Wo(t):t[1]+Ko(t.slice(1,-1),Qo(t,e))},\&quot;cardinal-closed\&quot;:function(t,e){return t.length&lt;3?Xo(t):t[0]+Ko((t.push(t[0]),t),Qo([t[t.length-2]].concat(t,[t[1]]),e))},monotone:function(t){return t.length&lt;3?Wo(t):t[0]+Ko(t,function(t){var e,r,n,i,a=[],o=function(t){var e=0,r=t.length-1,n=[],i=t[0],a=t[1],o=n[0]=as(i,a);for(;++e&lt;r;)n[e]=(o+(o=as(i=a,a=t[e+1])))/2;return n[e]=o,n}(t),s=-1,l=t.length-1;for(;++s&lt;l;)e=as(t[s],t[s+1]),y(e)&lt;kt?o[s]=o[s+1]=0:(r=o[s]/e,n=o[s+1]/e,(i=r*r+n*n)&gt;9&amp;&amp;(i=3*e/Math.sqrt(i),o[s]=i*r,o[s+1]=i*n));s=-1;for(;++s&lt;=l;)i=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([i||0,o[s]*i||0]);return a}(t))}});function Wo(t){return t.length&gt;1?t.join(\&quot;L\&quot;):t+\&quot;Z\&quot;}function Xo(t){return t.join(\&quot;L\&quot;)+\&quot;Z\&quot;}function Zo(t){for(var e=0,r=t.length,n=t[0],i=[n[0],\&quot;,\&quot;,n[1]];++e&lt;r;)i.push(\&quot;V\&quot;,(n=t[e])[1],\&quot;H\&quot;,n[0]);return i.join(\&quot;\&quot;)}function Jo(t){for(var e=0,r=t.length,n=t[0],i=[n[0],\&quot;,\&quot;,n[1]];++e&lt;r;)i.push(\&quot;H\&quot;,(n=t[e])[0],\&quot;V\&quot;,n[1]);return i.join(\&quot;\&quot;)}function Ko(t,e){if(e.length&lt;1||t.length!=e.length&amp;&amp;t.length!=e.length+2)return Wo(t);var r=t.length!=e.length,n=\&quot;\&quot;,i=t[0],a=t[1],o=e[0],s=o,l=1;if(r&amp;&amp;(n+=\&quot;Q\&quot;+(a[0]-2*o[0]/3)+\&quot;,\&quot;+(a[1]-2*o[1]/3)+\&quot;,\&quot;+a[0]+\&quot;,\&quot;+a[1],i=t[1],l=2),e.length&gt;1){s=e[1],a=t[l],l++,n+=\&quot;C\&quot;+(i[0]+o[0])+\&quot;,\&quot;+(i[1]+o[1])+\&quot;,\&quot;+(a[0]-s[0])+\&quot;,\&quot;+(a[1]-s[1])+\&quot;,\&quot;+a[0]+\&quot;,\&quot;+a[1];for(var c=2;c&lt;e.length;c++,l++)a=t[l],s=e[c],n+=\&quot;S\&quot;+(a[0]-s[0])+\&quot;,\&quot;+(a[1]-s[1])+\&quot;,\&quot;+a[0]+\&quot;,\&quot;+a[1]}if(r){var u=t[l];n+=\&quot;Q\&quot;+(a[0]+2*s[0]/3)+\&quot;,\&quot;+(a[1]+2*s[1]/3)+\&quot;,\&quot;+u[0]+\&quot;,\&quot;+u[1]}return n}function Qo(t,e){for(var r,n=[],i=(1-e)/2,a=t[0],o=t[1],s=1,l=t.length;++s&lt;l;)r=a,a=o,o=t[s],n.push([i*(o[0]-r[0]),i*(o[1]-r[1])]);return n}function $o(t){if(t.length&lt;3)return Wo(t);var e=1,r=t.length,n=t[0],i=n[0],a=n[1],o=[i,i,i,(n=t[1])[0]],s=[a,a,a,n[1]],l=[i,\&quot;,\&quot;,a,\&quot;L\&quot;,ts(ns,o),\&quot;,\&quot;,ts(ns,s)];for(t.push(t[r-1]);++e&lt;=r;)n=t[e],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),is(l,o,s);return t.pop(),l.push(\&quot;L\&quot;,n),l.join(\&quot;\&quot;)}function ts(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}Yo.forEach((function(t,e){e.key=t,e.closed=/-closed$/.test(t)}));var es=[0,2/3,1/3,0],rs=[0,1/3,2/3,0],ns=[0,1/6,2/3,1/6];function is(t,e,r){t.push(\&quot;C\&quot;,ts(es,e),\&quot;,\&quot;,ts(es,r),\&quot;,\&quot;,ts(rs,e),\&quot;,\&quot;,ts(rs,r),\&quot;,\&quot;,ts(ns,e),\&quot;,\&quot;,ts(ns,r))}function as(t,e){return(e[1]-t[1])/(e[0]-t[0])}function os(t){for(var e,r,n,i=-1,a=t.length;++i&lt;a;)r=(e=t[i])[0],n=e[1]-Ct,e[0]=r*Math.cos(n),e[1]=r*Math.sin(n);return t}function ss(t){var e=ri,r=ri,n=0,i=ni,a=Yr,o=Wo,s=o.key,l=o,c=\&quot;L\&quot;,u=.7;function f(s){var f,h,p,d=[],g=[],m=[],v=-1,y=s.length,x=de(e),b=de(n),_=e===r?function(){return h}:de(r),w=n===i?function(){return p}:de(i);function T(){d.push(\&quot;M\&quot;,o(t(m),u),c,l(t(g.reverse()),u),\&quot;Z\&quot;)}for(;++v&lt;y;)a.call(this,f=s[v],v)?(g.push([h=+x.call(this,f,v),p=+b.call(this,f,v)]),m.push([+_.call(this,f,v),+w.call(this,f,v)])):g.length&amp;&amp;(T(),g=[],m=[]);return g.length&amp;&amp;T(),d.length?d.join(\&quot;\&quot;):null}return f.x=function(t){return arguments.length?(e=r=t,f):r},f.x0=function(t){return arguments.length?(e=t,f):e},f.x1=function(t){return arguments.length?(r=t,f):r},f.y=function(t){return arguments.length?(n=i=t,f):i},f.y0=function(t){return arguments.length?(n=t,f):n},f.y1=function(t){return arguments.length?(i=t,f):i},f.defined=function(t){return arguments.length?(a=t,f):a},f.interpolate=function(t){return arguments.length?(s=\&quot;function\&quot;==typeof t?o=t:(o=Yo.get(t)||Wo).key,l=o.reverse||o,c=o.closed?\&quot;M\&quot;:\&quot;L\&quot;,f):s},f.tension=function(t){return arguments.length?(u=t,f):u},f}function ls(t){return t.radius}function cs(t){return[t.x,t.y]}function us(t){return function(){var e=t.apply(this,arguments),r=e[0],n=e[1]-Ct;return[r*Math.cos(n),r*Math.sin(n)]}}function fs(){return 64}function hs(){return\&quot;circle\&quot;}function ps(t){var e=Math.sqrt(t/At);return\&quot;M0,\&quot;+e+\&quot;A\&quot;+e+\&quot;,\&quot;+e+\&quot; 0 1,1 0,\&quot;+-e+\&quot;A\&quot;+e+\&quot;,\&quot;+e+\&quot; 0 1,1 0,\&quot;+e+\&quot;Z\&quot;}t.svg.line.radial=function(){var t=Go(os);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Zo.reverse=Jo,Jo.reverse=Zo,t.svg.area=function(){return ss(L)},t.svg.area.radial=function(){var t=ss(os);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},t.svg.chord=function(){var t=Vn,e=qn,r=ls,n=jo,i=Uo;function a(r,n){var i,a,c=o(this,t,r,n),u=o(this,e,r,n);return\&quot;M\&quot;+c.p0+s(c.r,c.p1,c.a1-c.a0)+(a=u,((i=c).a0==a.a0&amp;&amp;i.a1==a.a1?l(c.r,c.p1,c.r,c.p0):l(c.r,c.p1,u.r,u.p0)+s(u.r,u.p1,u.a1-u.a0)+l(u.r,u.p1,c.r,c.p0))+\&quot;Z\&quot;)}function o(t,e,a,o){var s=e.call(t,a,o),l=r.call(t,s,o),c=n.call(t,s,o)-Ct,u=i.call(t,s,o)-Ct;return{r:l,a0:c,a1:u,p0:[l*Math.cos(c),l*Math.sin(c)],p1:[l*Math.cos(u),l*Math.sin(u)]}}function s(t,e,r){return\&quot;A\&quot;+t+\&quot;,\&quot;+t+\&quot; 0 \&quot;+ +(r&gt;At)+\&quot;,1 \&quot;+e}function l(t,e,r,n){return\&quot;Q 0,0 \&quot;+n}return a.radius=function(t){return arguments.length?(r=de(t),a):r},a.source=function(e){return arguments.length?(t=de(e),a):t},a.target=function(t){return arguments.length?(e=de(t),a):e},a.startAngle=function(t){return arguments.length?(n=de(t),a):n},a.endAngle=function(t){return arguments.length?(i=de(t),a):i},a},t.svg.diagonal=function(){var t=Vn,e=qn,r=cs;function n(n,i){var a=t.call(this,n,i),o=e.call(this,n,i),s=(a.y+o.y)/2,l=[a,{x:a.x,y:s},{x:o.x,y:s},o];return\&quot;M\&quot;+(l=l.map(r))[0]+\&quot;C\&quot;+l[1]+\&quot; \&quot;+l[2]+\&quot; \&quot;+l[3]}return n.source=function(e){return arguments.length?(t=de(e),n):t},n.target=function(t){return arguments.length?(e=de(t),n):e},n.projection=function(t){return arguments.length?(r=t,n):r},n},t.svg.diagonal.radial=function(){var e=t.svg.diagonal(),r=cs,n=e.projection;return e.projection=function(t){return arguments.length?n(us(r=t)):r},e},t.svg.symbol=function(){var t=hs,e=fs;function r(r,n){return(ds.get(t.call(this,r,n))||ps)(e.call(this,r,n))}return r.type=function(e){return arguments.length?(t=de(e),r):t},r.size=function(t){return arguments.length?(e=de(t),r):e},r};var ds=t.map({circle:ps,cross:function(t){var e=Math.sqrt(t/5)/2;return\&quot;M\&quot;+-3*e+\&quot;,\&quot;+-e+\&quot;H\&quot;+-e+\&quot;V\&quot;+-3*e+\&quot;H\&quot;+e+\&quot;V\&quot;+-e+\&quot;H\&quot;+3*e+\&quot;V\&quot;+e+\&quot;H\&quot;+e+\&quot;V\&quot;+3*e+\&quot;H\&quot;+-e+\&quot;V\&quot;+e+\&quot;H\&quot;+-3*e+\&quot;Z\&quot;},diamond:function(t){var e=Math.sqrt(t/(2*ms)),r=e*ms;return\&quot;M0,\&quot;+-e+\&quot;L\&quot;+r+\&quot;,0 0,\&quot;+e+\&quot; \&quot;+-r+\&quot;,0Z\&quot;},square:function(t){var e=Math.sqrt(t)/2;return\&quot;M\&quot;+-e+\&quot;,\&quot;+-e+\&quot;L\&quot;+e+\&quot;,\&quot;+-e+\&quot; \&quot;+e+\&quot;,\&quot;+e+\&quot; \&quot;+-e+\&quot;,\&quot;+e+\&quot;Z\&quot;},\&quot;triangle-down\&quot;:function(t){var e=Math.sqrt(t/gs),r=e*gs/2;return\&quot;M0,\&quot;+r+\&quot;L\&quot;+e+\&quot;,\&quot;+-r+\&quot; \&quot;+-e+\&quot;,\&quot;+-r+\&quot;Z\&quot;},\&quot;triangle-up\&quot;:function(t){var e=Math.sqrt(t/gs),r=e*gs/2;return\&quot;M0,\&quot;+-r+\&quot;L\&quot;+e+\&quot;,\&quot;+r+\&quot; \&quot;+-e+\&quot;,\&quot;+r+\&quot;Z\&quot;}});t.svg.symbolTypes=ds.keys();var gs=Math.sqrt(3),ms=Math.tan(30*Lt);Y.transition=function(t){for(var e,r,n=bs||++Ts,i=As(t),a=[],o=_s||{time:Date.now(),ease:ca,delay:0,duration:250},s=-1,l=this.length;++s&lt;l;){a.push(e=[]);for(var c=this[s],u=-1,f=c.length;++u&lt;f;)(r=c[u])&amp;&amp;Ss(r,u,i,n,o),e.push(r)}return xs(a,i,n)},Y.interrupt=function(t){return this.each(null==t?vs:ys(As(t)))};var vs=ys(As());function ys(t){return function(){var e,r,n;(e=this[t])&amp;&amp;(n=e[r=e.active])&amp;&amp;(n.timer.c=null,n.timer.t=NaN,--e.count?delete e[r]:delete this[t],e.active+=.5,n.event&amp;&amp;n.event.interrupt.call(this,this.__data__,n.index))}}function xs(t,e,r){return U(t,ws),t.namespace=e,t.id=r,t}var bs,_s,ws=[],Ts=0;function ks(t,e,r,n){var i=t.id,a=t.namespace;return ut(t,\&quot;function\&quot;==typeof r?function(t,o,s){t[a][i].tween.set(e,n(r.call(t,t.__data__,o,s)))}:(r=n(r),function(t){t[a][i].tween.set(e,r)}))}function Ms(t){return null==t&amp;&amp;(t=\&quot;\&quot;),function(){this.textContent=t}}function As(t){return null==t?\&quot;__transition__\&quot;:\&quot;__transition_\&quot;+t+\&quot;__\&quot;}function Ss(t,e,r,n,i){var a,o,s,l,c,u=t[r]||(t[r]={active:0,count:0}),f=u[n];function h(r){var i=u.active,h=u[i];for(var d in h&amp;&amp;(h.timer.c=null,h.timer.t=NaN,--u.count,delete u[i],h.event&amp;&amp;h.event.interrupt.call(t,t.__data__,h.index)),u)if(+d&lt;n){var g=u[d];g.timer.c=null,g.timer.t=NaN,--u.count,delete u[d]}o.c=p,we((function(){return o.c&amp;&amp;p(r||1)&amp;&amp;(o.c=null,o.t=NaN),1}),0,a),u.active=n,f.event&amp;&amp;f.event.start.call(t,t.__data__,e),c=[],f.tween.forEach((function(r,n){(n=n.call(t,t.__data__,e))&amp;&amp;c.push(n)})),l=f.ease,s=f.duration}function p(i){for(var a=i/s,o=l(a),h=c.length;h&gt;0;)c[--h].call(t,o);if(a&gt;=1)return f.event&amp;&amp;f.event.end.call(t,t.__data__,e),--u.count?delete u[n]:delete t[r],1}f||(a=i.time,o=we((function(t){var e=f.delay;if(o.t=e+a,e&lt;=t)return h(t-e);o.c=h}),0,a),f=u[n]={tween:new _,time:a,timer:o,delay:i.delay,duration:i.duration,ease:i.ease,index:e},i=null,++u.count)}ws.call=Y.call,ws.empty=Y.empty,ws.node=Y.node,ws.size=Y.size,t.transition=function(e,r){return e&amp;&amp;e.transition?bs?e.transition(r):e:t.selection().transition(e)},t.transition.prototype=ws,ws.select=function(t){var e,r,n,i=this.id,a=this.namespace,o=[];t=W(t);for(var s=-1,l=this.length;++s&lt;l;){o.push(e=[]);for(var c=this[s],u=-1,f=c.length;++u&lt;f;)(n=c[u])&amp;&amp;(r=t.call(n,n.__data__,u,s))?(\&quot;__data__\&quot;in n&amp;&amp;(r.__data__=n.__data__),Ss(r,u,a,i,n[a][i]),e.push(r)):e.push(null)}return xs(o,a,i)},ws.selectAll=function(t){var e,r,n,i,a,o=this.id,s=this.namespace,l=[];t=X(t);for(var c=-1,u=this.length;++c&lt;u;)for(var f=this[c],h=-1,p=f.length;++h&lt;p;)if(n=f[h]){a=n[s][o],r=t.call(n,n.__data__,h,c),l.push(e=[]);for(var d=-1,g=r.length;++d&lt;g;)(i=r[d])&amp;&amp;Ss(i,d,s,o,a),e.push(i)}return xs(l,s,o)},ws.filter=function(t){var e,r,n=[];\&quot;function\&quot;!=typeof t&amp;&amp;(t=lt(t));for(var i=0,a=this.length;i&lt;a;i++){n.push(e=[]);for(var o,s=0,l=(o=this[i]).length;s&lt;l;s++)(r=o[s])&amp;&amp;t.call(r,r.__data__,s,i)&amp;&amp;e.push(r)}return xs(n,this.namespace,this.id)},ws.tween=function(t,e){var r=this.id,n=this.namespace;return arguments.length&lt;2?this.node()[n][r].tween.get(t):ut(this,null==e?function(e){e[n][r].tween.remove(t)}:function(i){i[n][r].tween.set(t,e)})},ws.attr=function(e,r){if(arguments.length&lt;2){for(r in e)this.attr(r,e[r]);return this}var n=\&quot;transform\&quot;==e?ba:$i,i=t.ns.qualify(e);function a(){this.removeAttribute(i)}function o(){this.removeAttributeNS(i.space,i.local)}function s(t){return null==t?a:(t+=\&quot;\&quot;,function(){var e,r=this.getAttribute(i);return r!==t&amp;&amp;(e=n(r,t),function(t){this.setAttribute(i,e(t))})})}function l(t){return null==t?o:(t+=\&quot;\&quot;,function(){var e,r=this.getAttributeNS(i.space,i.local);return r!==t&amp;&amp;(e=n(r,t),function(t){this.setAttributeNS(i.space,i.local,e(t))})})}return ks(this,\&quot;attr.\&quot;+e,r,i.local?l:s)},ws.attrTween=function(e,r){var n=t.ns.qualify(e);return this.tween(\&quot;attr.\&quot;+e,n.local?function(t,e){var i=r.call(this,t,e,this.getAttributeNS(n.space,n.local));return i&amp;&amp;function(t){this.setAttributeNS(n.space,n.local,i(t))}}:function(t,e){var i=r.call(this,t,e,this.getAttribute(n));return i&amp;&amp;function(t){this.setAttribute(n,i(t))}})},ws.style=function(t,e,r){var n=arguments.length;if(n&lt;3){if(\&quot;string\&quot;!=typeof t){for(r in n&lt;2&amp;&amp;(e=\&quot;\&quot;),t)this.style(r,t[r],e);return this}r=\&quot;\&quot;}function i(){this.style.removeProperty(t)}function a(e){return null==e?i:(e+=\&quot;\&quot;,function(){var n,i=o(this).getComputedStyle(this,null).getPropertyValue(t);return i!==e&amp;&amp;(n=$i(i,e),function(e){this.style.setProperty(t,n(e),r)})})}return ks(this,\&quot;style.\&quot;+t,e,a)},ws.styleTween=function(t,e,r){function n(n,i){var a=e.call(this,n,i,o(this).getComputedStyle(this,null).getPropertyValue(t));return a&amp;&amp;function(e){this.style.setProperty(t,a(e),r)}}return arguments.length&lt;3&amp;&amp;(r=\&quot;\&quot;),this.tween(\&quot;style.\&quot;+t,n)},ws.text=function(t){return ks(this,\&quot;text\&quot;,t,Ms)},ws.remove=function(){var t=this.namespace;return this.each(\&quot;end.transition\&quot;,(function(){var e;this[t].count&lt;2&amp;&amp;(e=this.parentNode)&amp;&amp;e.removeChild(this)}))},ws.ease=function(e){var r=this.id,n=this.namespace;return arguments.length&lt;1?this.node()[n][r].ease:(\&quot;function\&quot;!=typeof e&amp;&amp;(e=t.ease.apply(t,arguments)),ut(this,(function(t){t[n][r].ease=e})))},ws.delay=function(t){var e=this.id,r=this.namespace;return arguments.length&lt;1?this.node()[r][e].delay:ut(this,\&quot;function\&quot;==typeof t?function(n,i,a){n[r][e].delay=+t.call(n,n.__data__,i,a)}:(t=+t,function(n){n[r][e].delay=t}))},ws.duration=function(t){var e=this.id,r=this.namespace;return arguments.length&lt;1?this.node()[r][e].duration:ut(this,\&quot;function\&quot;==typeof t?function(n,i,a){n[r][e].duration=Math.max(1,t.call(n,n.__data__,i,a))}:(t=Math.max(1,t),function(n){n[r][e].duration=t}))},ws.each=function(e,r){var n=this.id,i=this.namespace;if(arguments.length&lt;2){var a=_s,o=bs;try{bs=n,ut(this,(function(t,r,a){_s=t[i][n],e.call(t,t.__data__,r,a)}))}finally{_s=a,bs=o}}else ut(this,(function(a){var o=a[i][n];(o.event||(o.event=t.dispatch(\&quot;start\&quot;,\&quot;end\&quot;,\&quot;interrupt\&quot;))).on(e,r)}));return this},ws.transition=function(){for(var t,e,r,n=this.id,i=++Ts,a=this.namespace,o=[],s=0,l=this.length;s&lt;l;s++){o.push(t=[]);for(var c,u=0,f=(c=this[s]).length;u&lt;f;u++)(e=c[u])&amp;&amp;Ss(e,u,a,i,{time:(r=e[a][n]).time,ease:r.ease,delay:r.delay+r.duration,duration:r.duration}),t.push(e)}return xs(o,a,i)},t.svg.axis=function(){var e,r=t.scale.linear(),i=Es,a=6,o=6,s=3,l=[10],c=null;function u(n){n.each((function(){var n,u=t.select(this),f=this.__chart__||r,h=this.__chart__=r.copy(),p=null==c?h.ticks?h.ticks.apply(h,l):h.domain():c,d=null==e?h.tickFormat?h.tickFormat.apply(h,l):L:e,g=u.selectAll(\&quot;.tick\&quot;).data(p,h),m=g.enter().insert(\&quot;g\&quot;,\&quot;.domain\&quot;).attr(\&quot;class\&quot;,\&quot;tick\&quot;).style(\&quot;opacity\&quot;,kt),v=t.transition(g.exit()).style(\&quot;opacity\&quot;,kt).remove(),y=t.transition(g.order()).style(\&quot;opacity\&quot;,1),x=Math.max(a,0)+s,b=mo(h),_=u.selectAll(\&quot;.domain\&quot;).data([0]),w=(_.enter().append(\&quot;path\&quot;).attr(\&quot;class\&quot;,\&quot;domain\&quot;),t.transition(_));m.append(\&quot;line\&quot;),m.append(\&quot;text\&quot;);var T,k,M,A,S=m.select(\&quot;line\&quot;),E=y.select(\&quot;line\&quot;),C=g.select(\&quot;text\&quot;).text(d),I=m.select(\&quot;text\&quot;),P=y.select(\&quot;text\&quot;),z=\&quot;top\&quot;===i||\&quot;left\&quot;===i?-1:1;if(\&quot;bottom\&quot;===i||\&quot;top\&quot;===i?(n=Ls,T=\&quot;x\&quot;,M=\&quot;y\&quot;,k=\&quot;x2\&quot;,A=\&quot;y2\&quot;,C.attr(\&quot;dy\&quot;,z&lt;0?\&quot;0em\&quot;:\&quot;.71em\&quot;).style(\&quot;text-anchor\&quot;,\&quot;middle\&quot;),w.attr(\&quot;d\&quot;,\&quot;M\&quot;+b[0]+\&quot;,\&quot;+z*o+\&quot;V0H\&quot;+b[1]+\&quot;V\&quot;+z*o)):(n=Is,T=\&quot;y\&quot;,M=\&quot;x\&quot;,k=\&quot;y2\&quot;,A=\&quot;x2\&quot;,C.attr(\&quot;dy\&quot;,\&quot;.32em\&quot;).style(\&quot;text-anchor\&quot;,z&lt;0?\&quot;end\&quot;:\&quot;start\&quot;),w.attr(\&quot;d\&quot;,\&quot;M\&quot;+z*o+\&quot;,\&quot;+b[0]+\&quot;H0V\&quot;+b[1]+\&quot;H\&quot;+z*o)),S.attr(A,z*a),I.attr(M,z*x),E.attr(k,0).attr(A,z*a),P.attr(T,0).attr(M,z*x),h.rangeBand){var O=h,D=O.rangeBand()/2;f=h=function(t){return O(t)+D}}else f.rangeBand?f=h:v.call(n,h,f);m.call(n,f,h),y.call(n,h,h)}))}return u.scale=function(t){return arguments.length?(r=t,u):r},u.orient=function(t){return arguments.length?(i=t in Cs?t+\&quot;\&quot;:Es,u):i},u.ticks=function(){return arguments.length?(l=n(arguments),u):l},u.tickValues=function(t){return arguments.length?(c=t,u):c},u.tickFormat=function(t){return arguments.length?(e=t,u):e},u.tickSize=function(t){var e=arguments.length;return e?(a=+t,o=+arguments[e-1],u):a},u.innerTickSize=function(t){return arguments.length?(a=+t,u):a},u.outerTickSize=function(t){return arguments.length?(o=+t,u):o},u.tickPadding=function(t){return arguments.length?(s=+t,u):s},u.tickSubdivide=function(){return arguments.length&amp;&amp;u},u};var Es=\&quot;bottom\&quot;,Cs={top:1,right:1,bottom:1,left:1};function Ls(t,e,r){t.attr(\&quot;transform\&quot;,(function(t){var n=e(t);return\&quot;translate(\&quot;+(isFinite(n)?n:r(t))+\&quot;,0)\&quot;}))}function Is(t,e,r){t.attr(\&quot;transform\&quot;,(function(t){var n=e(t);return\&quot;translate(0,\&quot;+(isFinite(n)?n:r(t))+\&quot;)\&quot;}))}t.svg.brush=function(){var e,r,n=N(h,\&quot;brushstart\&quot;,\&quot;brush\&quot;,\&quot;brushend\&quot;),i=null,a=null,s=[0,0],l=[0,0],c=!0,u=!0,f=zs[0];function h(e){e.each((function(){var e=t.select(this).style(\&quot;pointer-events\&quot;,\&quot;all\&quot;).style(\&quot;-webkit-tap-highlight-color\&quot;,\&quot;rgba(0,0,0,0)\&quot;).on(\&quot;mousedown.brush\&quot;,m).on(\&quot;touchstart.brush\&quot;,m),r=e.selectAll(\&quot;.background\&quot;).data([0]);r.enter().append(\&quot;rect\&quot;).attr(\&quot;class\&quot;,\&quot;background\&quot;).style(\&quot;visibility\&quot;,\&quot;hidden\&quot;).style(\&quot;cursor\&quot;,\&quot;crosshair\&quot;),e.selectAll(\&quot;.extent\&quot;).data([0]).enter().append(\&quot;rect\&quot;).attr(\&quot;class\&quot;,\&quot;extent\&quot;).style(\&quot;cursor\&quot;,\&quot;move\&quot;);var n=e.selectAll(\&quot;.resize\&quot;).data(f,L);n.exit().remove(),n.enter().append(\&quot;g\&quot;).attr(\&quot;class\&quot;,(function(t){return\&quot;resize \&quot;+t})).style(\&quot;cursor\&quot;,(function(t){return Ps[t]})).append(\&quot;rect\&quot;).attr(\&quot;x\&quot;,(function(t){return/[ew]$/.test(t)?-3:null})).attr(\&quot;y\&quot;,(function(t){return/^[ns]/.test(t)?-3:null})).attr(\&quot;width\&quot;,6).attr(\&quot;height\&quot;,6).style(\&quot;visibility\&quot;,\&quot;hidden\&quot;),n.style(\&quot;display\&quot;,h.empty()?\&quot;none\&quot;:null);var o,s=t.transition(e),l=t.transition(r);i&amp;&amp;(o=mo(i),l.attr(\&quot;x\&quot;,o[0]).attr(\&quot;width\&quot;,o[1]-o[0]),d(s)),a&amp;&amp;(o=mo(a),l.attr(\&quot;y\&quot;,o[0]).attr(\&quot;height\&quot;,o[1]-o[0]),g(s)),p(s)}))}function p(t){t.selectAll(\&quot;.resize\&quot;).attr(\&quot;transform\&quot;,(function(t){return\&quot;translate(\&quot;+s[+/e$/.test(t)]+\&quot;,\&quot;+l[+/^s/.test(t)]+\&quot;)\&quot;}))}function d(t){t.select(\&quot;.extent\&quot;).attr(\&quot;x\&quot;,s[0]),t.selectAll(\&quot;.extent,.n&gt;rect,.s&gt;rect\&quot;).attr(\&quot;width\&quot;,s[1]-s[0])}function g(t){t.select(\&quot;.extent\&quot;).attr(\&quot;y\&quot;,l[0]),t.selectAll(\&quot;.extent,.e&gt;rect,.w&gt;rect\&quot;).attr(\&quot;height\&quot;,l[1]-l[0])}function m(){var f,m,v=this,y=t.select(t.event.target),x=n.of(v,arguments),b=t.select(v),_=y.datum(),w=!/^(n|s)$/.test(_)&amp;&amp;i,T=!/^(e|w)$/.test(_)&amp;&amp;a,k=y.classed(\&quot;extent\&quot;),M=bt(v),A=t.mouse(v),S=t.select(o(v)).on(\&quot;keydown.brush\&quot;,L).on(\&quot;keyup.brush\&quot;,I);if(t.event.changedTouches?S.on(\&quot;touchmove.brush\&quot;,P).on(\&quot;touchend.brush\&quot;,O):S.on(\&quot;mousemove.brush\&quot;,P).on(\&quot;mouseup.brush\&quot;,O),b.interrupt().selectAll(\&quot;*\&quot;).interrupt(),k)A[0]=s[0]-A[0],A[1]=l[0]-A[1];else if(_){var E=+/w$/.test(_),C=+/^n/.test(_);m=[s[1-E]-A[0],l[1-C]-A[1]],A[0]=s[E],A[1]=l[C]}else t.event.altKey&amp;&amp;(f=A.slice());function L(){32==t.event.keyCode&amp;&amp;(k||(f=null,A[0]-=s[1],A[1]-=l[1],k=2),F())}function I(){32==t.event.keyCode&amp;&amp;2==k&amp;&amp;(A[0]+=s[1],A[1]+=l[1],k=0,F())}function P(){var e=t.mouse(v),r=!1;m&amp;&amp;(e[0]+=m[0],e[1]+=m[1]),k||(t.event.altKey?(f||(f=[(s[0]+s[1])/2,(l[0]+l[1])/2]),A[0]=s[+(e[0]&lt;f[0])],A[1]=l[+(e[1]&lt;f[1])]):f=null),w&amp;&amp;z(e,i,0)&amp;&amp;(d(b),r=!0),T&amp;&amp;z(e,a,1)&amp;&amp;(g(b),r=!0),r&amp;&amp;(p(b),x({type:\&quot;brush\&quot;,mode:k?\&quot;move\&quot;:\&quot;resize\&quot;}))}function z(t,n,i){var a,o,h=mo(n),p=h[0],d=h[1],g=A[i],m=i?l:s,v=m[1]-m[0];if(k&amp;&amp;(p-=g,d-=v+g),a=(i?u:c)?Math.max(p,Math.min(d,t[i])):t[i],k?o=(a+=g)+v:(f&amp;&amp;(g=Math.max(p,Math.min(d,2*f[i]-a))),g&lt;a?(o=a,a=g):o=g),m[0]!=a||m[1]!=o)return i?r=null:e=null,m[0]=a,m[1]=o,!0}function O(){P(),b.style(\&quot;pointer-events\&quot;,\&quot;all\&quot;).selectAll(\&quot;.resize\&quot;).style(\&quot;display\&quot;,h.empty()?\&quot;none\&quot;:null),t.select(\&quot;body\&quot;).style(\&quot;cursor\&quot;,null),S.on(\&quot;mousemove.brush\&quot;,null).on(\&quot;mouseup.brush\&quot;,null).on(\&quot;touchmove.brush\&quot;,null).on(\&quot;touchend.brush\&quot;,null).on(\&quot;keydown.brush\&quot;,null).on(\&quot;keyup.brush\&quot;,null),M(),x({type:\&quot;brushend\&quot;})}b.style(\&quot;pointer-events\&quot;,\&quot;none\&quot;).selectAll(\&quot;.resize\&quot;).style(\&quot;display\&quot;,null),t.select(\&quot;body\&quot;).style(\&quot;cursor\&quot;,y.style(\&quot;cursor\&quot;)),x({type:\&quot;brushstart\&quot;}),P()}return h.event=function(i){i.each((function(){var i=n.of(this,arguments),a={x:s,y:l,i:e,j:r},o=this.__chart__||a;this.__chart__=a,bs?t.select(this).transition().each(\&quot;start.brush\&quot;,(function(){e=o.i,r=o.j,s=o.x,l=o.y,i({type:\&quot;brushstart\&quot;})})).tween(\&quot;brush:brush\&quot;,(function(){var t=ta(s,a.x),n=ta(l,a.y);return e=r=null,function(e){s=a.x=t(e),l=a.y=n(e),i({type:\&quot;brush\&quot;,mode:\&quot;resize\&quot;})}})).each(\&quot;end.brush\&quot;,(function(){e=a.i,r=a.j,i({type:\&quot;brush\&quot;,mode:\&quot;resize\&quot;}),i({type:\&quot;brushend\&quot;})})):(i({type:\&quot;brushstart\&quot;}),i({type:\&quot;brush\&quot;,mode:\&quot;resize\&quot;}),i({type:\&quot;brushend\&quot;}))}))},h.x=function(t){return arguments.length?(f=zs[!(i=t)&lt;&lt;1|!a],h):i},h.y=function(t){return arguments.length?(f=zs[!i&lt;&lt;1|!(a=t)],h):a},h.clamp=function(t){return arguments.length?(i&amp;&amp;a?(c=!!t[0],u=!!t[1]):i?c=!!t:a&amp;&amp;(u=!!t),h):i&amp;&amp;a?[c,u]:i?c:a?u:null},h.extent=function(t){var n,o,c,u,f;return arguments.length?(i&amp;&amp;(n=t[0],o=t[1],a&amp;&amp;(n=n[0],o=o[0]),e=[n,o],i.invert&amp;&amp;(n=i(n),o=i(o)),o&lt;n&amp;&amp;(f=n,n=o,o=f),n==s[0]&amp;&amp;o==s[1]||(s=[n,o])),a&amp;&amp;(c=t[0],u=t[1],i&amp;&amp;(c=c[1],u=u[1]),r=[c,u],a.invert&amp;&amp;(c=a(c),u=a(u)),u&lt;c&amp;&amp;(f=c,c=u,u=f),c==l[0]&amp;&amp;u==l[1]||(l=[c,u])),h):(i&amp;&amp;(e?(n=e[0],o=e[1]):(n=s[0],o=s[1],i.invert&amp;&amp;(n=i.invert(n),o=i.invert(o)),o&lt;n&amp;&amp;(f=n,n=o,o=f))),a&amp;&amp;(r?(c=r[0],u=r[1]):(c=l[0],u=l[1],a.invert&amp;&amp;(c=a.invert(c),u=a.invert(u)),u&lt;c&amp;&amp;(f=c,c=u,u=f))),i&amp;&amp;a?[[n,c],[o,u]]:i?[n,o]:a&amp;&amp;[c,u])},h.clear=function(){return h.empty()||(s=[0,0],l=[0,0],e=r=null),h},h.empty=function(){return!!i&amp;&amp;s[0]==s[1]||!!a&amp;&amp;l[0]==l[1]},t.rebind(h,n,\&quot;on\&quot;)};var Ps={n:\&quot;ns-resize\&quot;,e:\&quot;ew-resize\&quot;,s:\&quot;ns-resize\&quot;,w:\&quot;ew-resize\&quot;,nw:\&quot;nwse-resize\&quot;,ne:\&quot;nesw-resize\&quot;,se:\&quot;nwse-resize\&quot;,sw:\&quot;nesw-resize\&quot;},zs=[[\&quot;n\&quot;,\&quot;e\&quot;,\&quot;s\&quot;,\&quot;w\&quot;,\&quot;nw\&quot;,\&quot;ne\&quot;,\&quot;se\&quot;,\&quot;sw\&quot;],[\&quot;e\&quot;,\&quot;w\&quot;],[\&quot;n\&quot;,\&quot;s\&quot;],[]],Os=Pe.format=sr.timeFormat,Ds=Os.utc,Rs=Ds(\&quot;%Y-%m-%dT%H:%M:%S.%LZ\&quot;);function Fs(t){return t.toISOString()}function Bs(e,r,n){function i(t){return e(t)}function a(e,n){var i=(e[1]-e[0])/n,a=t.bisect(js,i);return a==js.length?[r.year,ko(e.map((function(t){return t/31536e6})),n)[2]]:a?r[i/js[a-1]&lt;js[a]/i?a-1:a]:[qs,ko(e,n)[2]]}return i.invert=function(t){return Ns(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain().map(Ns)},i.nice=function(t,e){var r=i.domain(),n=go(r),o=null==t?a(n,10):\&quot;number\&quot;==typeof t&amp;&amp;a(n,t);function s(r){return!isNaN(r)&amp;&amp;!t.range(r,Ns(+r+1),e).length}return o&amp;&amp;(t=o[0],e=o[1]),i.domain(yo(r,e&gt;1?{floor:function(e){for(;s(e=t.floor(e));)e=Ns(e-1);return e},ceil:function(e){for(;s(e=t.ceil(e));)e=Ns(+e+1);return e}}:t))},i.ticks=function(t,e){var r=go(i.domain()),n=null==t?a(r,10):\&quot;number\&quot;==typeof t?a(r,t):!t.range&amp;&amp;[{range:t},e];return n&amp;&amp;(t=n[0],e=n[1]),t.range(r[0],Ns(+r[1]+1),e&lt;1?1:e)},i.tickFormat=function(){return n},i.copy=function(){return Bs(e.copy(),r,n)},wo(i,e)}function Ns(t){return new Date(t)}Os.iso=Date.prototype.toISOString&amp;&amp;+new Date(\&quot;2000-01-01T00:00:00.000Z\&quot;)?Fs:Rs,Fs.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},Fs.toString=Rs.toString,Pe.second=Re((function(t){return new ze(1e3*Math.floor(t/1e3))}),(function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))}),(function(t){return t.getSeconds()})),Pe.seconds=Pe.second.range,Pe.seconds.utc=Pe.second.utc.range,Pe.minute=Re((function(t){return new ze(6e4*Math.floor(t/6e4))}),(function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))}),(function(t){return t.getMinutes()})),Pe.minutes=Pe.minute.range,Pe.minutes.utc=Pe.minute.utc.range,Pe.hour=Re((function(t){var e=t.getTimezoneOffset()/60;return new ze(36e5*(Math.floor(t/36e5-e)+e))}),(function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))}),(function(t){return t.getHours()})),Pe.hours=Pe.hour.range,Pe.hours.utc=Pe.hour.utc.range,Pe.month=Re((function(t){return(t=Pe.day(t)).setDate(1),t}),(function(t,e){t.setMonth(t.getMonth()+e)}),(function(t){return t.getMonth()})),Pe.months=Pe.month.range,Pe.months.utc=Pe.month.utc.range;var js=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],Us=[[Pe.second,1],[Pe.second,5],[Pe.second,15],[Pe.second,30],[Pe.minute,1],[Pe.minute,5],[Pe.minute,15],[Pe.minute,30],[Pe.hour,1],[Pe.hour,3],[Pe.hour,6],[Pe.hour,12],[Pe.day,1],[Pe.day,2],[Pe.week,1],[Pe.month,1],[Pe.month,3],[Pe.year,1]],Vs=Os.multi([[\&quot;.%L\&quot;,function(t){return t.getMilliseconds()}],[\&quot;:%S\&quot;,function(t){return t.getSeconds()}],[\&quot;%I:%M\&quot;,function(t){return t.getMinutes()}],[\&quot;%I %p\&quot;,function(t){return t.getHours()}],[\&quot;%a %d\&quot;,function(t){return t.getDay()&amp;&amp;1!=t.getDate()}],[\&quot;%b %d\&quot;,function(t){return 1!=t.getDate()}],[\&quot;%B\&quot;,function(t){return t.getMonth()}],[\&quot;%Y\&quot;,Yr]]),qs={range:function(e,r,n){return t.range(Math.ceil(e/n)*n,+r,n).map(Ns)},floor:L,ceil:L};Us.year=Pe.year,Pe.scale=function(){return Bs(t.scale.linear(),Us,Vs)};var Hs=Us.map((function(t){return[t[0].utc,t[1]]})),Gs=Ds.multi([[\&quot;.%L\&quot;,function(t){return t.getUTCMilliseconds()}],[\&quot;:%S\&quot;,function(t){return t.getUTCSeconds()}],[\&quot;%I:%M\&quot;,function(t){return t.getUTCMinutes()}],[\&quot;%I %p\&quot;,function(t){return t.getUTCHours()}],[\&quot;%a %d\&quot;,function(t){return t.getUTCDay()&amp;&amp;1!=t.getUTCDate()}],[\&quot;%b %d\&quot;,function(t){return 1!=t.getUTCDate()}],[\&quot;%B\&quot;,function(t){return t.getUTCMonth()}],[\&quot;%Y\&quot;,Yr]]);function Ys(t){return JSON.parse(t.responseText)}function Ws(t){var e=i.createRange();return e.selectNode(i.body),e.createContextualFragment(t.responseText)}Hs.year=Pe.year.utc,Pe.scale.utc=function(){return Bs(t.scale.linear(),Hs,Gs)},t.text=ge((function(t){return t.responseText})),t.json=function(t,e){return me(t,\&quot;application/json\&quot;,Ys,e)},t.html=function(t,e){return me(t,\&quot;text/html\&quot;,Ws,e)},t.xml=ge((function(t){return t.responseXML})),\&quot;object\&quot;==typeof e&amp;&amp;e.exports?e.exports=t:this.d3=t}()},{}],170:[function(t,e,r){e.exports=function(){for(var t=0;t&lt;arguments.length;t++)if(void 0!==arguments[t])return arguments[t]}},{}],171:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;incremental-convex-hull\&quot;),i=t(\&quot;uniq\&quot;);function a(t,e){this.point=t,this.index=e}function o(t,e){for(var r=t.point,n=e.point,i=r.length,a=0;a&lt;i;++a){var o=n[a]-r[a];if(o)return o}return 0}e.exports=function(t,e){var r=t.length;if(0===r)return[];var s=t[0].length;if(s&lt;1)return[];if(1===s)return function(t,e,r){if(1===t)return r?[[-1,0]]:[];var n=e.map((function(t,e){return[t[0],e]}));n.sort((function(t,e){return t[0]-e[0]}));for(var i=new Array(t-1),a=1;a&lt;t;++a){var o=n[a-1],s=n[a];i[a-1]=[o[1],s[1]]}r&amp;&amp;i.push([-1,i[0][1]],[i[t-1][1],-1]);return i}(r,t,e);for(var l=new Array(r),c=1,u=0;u&lt;r;++u){for(var f=t[u],h=new Array(s+1),p=0,d=0;d&lt;s;++d){var g=f[d];h[d]=g,p+=g*g}h[s]=p,l[u]=new a(h,u),c=Math.max(p,c)}i(l,o),r=l.length;var m=new Array(r+s+1),v=new Array(r+s+1),y=(s+1)*(s+1)*c,x=new Array(s+1);for(u=0;u&lt;=s;++u)x[u]=0;x[s]=y,m[0]=x.slice(),v[0]=-1;for(u=0;u&lt;=s;++u){(h=x.slice())[u]=1,m[u+1]=h,v[u+1]=-1}for(u=0;u&lt;r;++u){var b=l[u];m[u+s+1]=b.point,v[u+s+1]=b.index}var _=n(m,!1);_=e?_.filter((function(t){for(var e=0,r=0;r&lt;=s;++r){var n=v[t[r]];if(n&lt;0&amp;&amp;++e&gt;=2)return!1;t[r]=n}return!0})):_.filter((function(t){for(var e=0;e&lt;=s;++e){var r=v[t[e]];if(r&lt;0)return!1;t[e]=r}return!0}));if(1&amp;s)for(u=0;u&lt;_.length;++u){h=(b=_[u])[0];b[0]=b[1],b[1]=h}return _}},{\&quot;incremental-convex-hull\&quot;:459,uniq:597}],172:[function(t,e,r){\&quot;use strict\&quot;;e.exports=a;var n=(a.canvas=document.createElement(\&quot;canvas\&quot;)).getContext(\&quot;2d\&quot;),i=o([32,126]);function a(t,e){Array.isArray(t)&amp;&amp;(t=t.join(\&quot;, \&quot;));var r,a={},s=16,l=.05;e&amp;&amp;(2===e.length&amp;&amp;\&quot;number\&quot;==typeof e[0]?r=o(e):Array.isArray(e)?r=e:(e.o?r=o(e.o):e.pairs&amp;&amp;(r=e.pairs),e.fontSize&amp;&amp;(s=e.fontSize),null!=e.threshold&amp;&amp;(l=e.threshold))),r||(r=i),n.font=s+\&quot;px \&quot;+t;for(var c=0;c&lt;r.length;c++){var u=r[c],f=n.measureText(u[0]).width+n.measureText(u[1]).width,h=n.measureText(u).width;if(Math.abs(f-h)&gt;s*l){var p=(h-f)/s;a[u]=1e3*p}}return a}function o(t){for(var e=[],r=t[0];r&lt;=t[1];r++)for(var n=String.fromCharCode(r),i=t[0];i&lt;t[1];i++){var a=n+String.fromCharCode(i);e.push(a)}return e}a.createPairs=o,a.ascii=i},{}],173:[function(t,e,r){(function(t){(function(){var r=!1;if(\&quot;undefined\&quot;!=typeof Float64Array){var n=new Float64Array(1),i=new Uint32Array(n.buffer);if(n[0]=1,r=!0,1072693248===i[1]){e.exports=function(t){return n[0]=t,[i[0],i[1]]},e.exports.pack=function(t,e){return i[0]=t,i[1]=e,n[0]},e.exports.lo=function(t){return n[0]=t,i[0]},e.exports.hi=function(t){return n[0]=t,i[1]}}else if(1072693248===i[0]){e.exports=function(t){return n[0]=t,[i[1],i[0]]},e.exports.pack=function(t,e){return i[1]=t,i[0]=e,n[0]},e.exports.lo=function(t){return n[0]=t,i[1]},e.exports.hi=function(t){return n[0]=t,i[0]}}else r=!1}if(!r){var a=new t(8);e.exports=function(t){return a.writeDoubleLE(t,0,!0),[a.readUInt32LE(0,!0),a.readUInt32LE(4,!0)]},e.exports.pack=function(t,e){return a.writeUInt32LE(t,0,!0),a.writeUInt32LE(e,4,!0),a.readDoubleLE(0,!0)},e.exports.lo=function(t){return a.writeDoubleLE(t,0,!0),a.readUInt32LE(0,!0)},e.exports.hi=function(t){return a.writeDoubleLE(t,0,!0),a.readUInt32LE(4,!0)}}e.exports.sign=function(t){return e.exports.hi(t)&gt;&gt;&gt;31},e.exports.exponent=function(t){return(e.exports.hi(t)&lt;&lt;1&gt;&gt;&gt;21)-1023},e.exports.fraction=function(t){var r=e.exports.lo(t),n=e.exports.hi(t),i=1048575&amp;n;return 2146435072&amp;n&amp;&amp;(i+=1&lt;&lt;20),[r,i]},e.exports.denormalized=function(t){return!(2146435072&amp;e.exports.hi(t))}}).call(this)}).call(this,t(\&quot;buffer\&quot;).Buffer)},{buffer:111}],174:[function(t,e,r){var n=t(\&quot;abs-svg-path\&quot;),i=t(\&quot;normalize-svg-path\&quot;),a={M:\&quot;moveTo\&quot;,C:\&quot;bezierCurveTo\&quot;};e.exports=function(t,e){t.beginPath(),i(n(e)).forEach((function(e){var r=e[0],n=e.slice(1);t[a[r]].apply(t,n)})),t.closePath()}},{\&quot;abs-svg-path\&quot;:65,\&quot;normalize-svg-path\&quot;:497}],175:[function(t,e,r){e.exports=function(t){switch(t){case\&quot;int8\&quot;:return Int8Array;case\&quot;int16\&quot;:return Int16Array;case\&quot;int32\&quot;:return Int32Array;case\&quot;uint8\&quot;:return Uint8Array;case\&quot;uint16\&quot;:return Uint16Array;case\&quot;uint32\&quot;:return Uint32Array;case\&quot;float32\&quot;:return Float32Array;case\&quot;float64\&quot;:return Float64Array;case\&quot;array\&quot;:return Array;case\&quot;uint8_clamped\&quot;:return Uint8ClampedArray}}},{}],176:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e){switch(\&quot;undefined\&quot;==typeof e&amp;&amp;(e=0),typeof t){case\&quot;number\&quot;:if(t&gt;0)return function(t,e){var r,n;for(r=new Array(t),n=0;n&lt;t;++n)r[n]=e;return r}(0|t,e);break;case\&quot;object\&quot;:if(\&quot;number\&quot;==typeof t.length)return function t(e,r,n){var i=0|e[n];if(i&lt;=0)return[];var a,o=new Array(i);if(n===e.length-1)for(a=0;a&lt;i;++a)o[a]=r;else for(a=0;a&lt;i;++a)o[a]=t(e,r,n+1);return o}(t,e,0)}return[]}},{}],177:[function(t,e,r){\&quot;use strict\&quot;;function n(t,e,r){r=r||2;var n,s,l,c,u,p,d,m=e&amp;&amp;e.length,v=m?e[0]*r:t.length,y=i(t,0,v,r,!0),x=[];if(!y||y.next===y.prev)return x;if(m&amp;&amp;(y=function(t,e,r,n){var o,s,l,c,u,p=[];for(o=0,s=e.length;o&lt;s;o++)l=e[o]*n,c=o&lt;s-1?e[o+1]*n:t.length,(u=i(t,l,c,n,!1))===u.next&amp;&amp;(u.steiner=!0),p.push(g(u));for(p.sort(f),o=0;o&lt;p.length;o++)h(p[o],r),r=a(r,r.next);return r}(t,e,y,r)),t.length&gt;80*r){n=l=t[0],s=c=t[1];for(var b=r;b&lt;v;b+=r)(u=t[b])&lt;n&amp;&amp;(n=u),(p=t[b+1])&lt;s&amp;&amp;(s=p),u&gt;l&amp;&amp;(l=u),p&gt;c&amp;&amp;(c=p);d=0!==(d=Math.max(l-n,c-s))?1/d:0}return o(y,x,r,n,s,d),x}function i(t,e,r,n,i){var a,o;if(i===E(t,e,r,n)&gt;0)for(a=e;a&lt;r;a+=n)o=M(a,t[a],t[a+1],o);else for(a=r-n;a&gt;=e;a-=n)o=M(a,t[a],t[a+1],o);return o&amp;&amp;x(o,o.next)&amp;&amp;(A(o),o=o.next),o}function a(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!x(n,n.next)&amp;&amp;0!==y(n.prev,n,n.next))n=n.next;else{if(A(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function o(t,e,r,n,i,f,h){if(t){!h&amp;&amp;f&amp;&amp;function(t,e,r,n){var i=t;do{null===i.z&amp;&amp;(i.z=d(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,a,o,s,l,c=1;do{for(r=t,t=null,a=null,o=0;r;){for(o++,n=r,s=0,e=0;e&lt;c&amp;&amp;(s++,n=n.nextZ);e++);for(l=c;s&gt;0||l&gt;0&amp;&amp;n;)0!==s&amp;&amp;(0===l||!n||r.z&lt;=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,l--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=n}a.nextZ=null,c*=2}while(o&gt;1)}(i)}(t,n,i,f);for(var p,g,m=t;t.prev!==t.next;)if(p=t.prev,g=t.next,f?l(t,n,i,f):s(t))e.push(p.i/r),e.push(t.i/r),e.push(g.i/r),A(t),t=g.next,m=g.next;else if((t=g)===m){h?1===h?o(t=c(a(t),e,r),e,r,n,i,f,2):2===h&amp;&amp;u(t,e,r,n,i,f):o(a(t),e,r,n,i,f,1);break}}}function s(t){var e=t.prev,r=t,n=t.next;if(y(e,r,n)&gt;=0)return!1;for(var i=t.next.next;i!==t.prev;){if(m(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&amp;&amp;y(i.prev,i,i.next)&gt;=0)return!1;i=i.next}return!0}function l(t,e,r,n){var i=t.prev,a=t,o=t.next;if(y(i,a,o)&gt;=0)return!1;for(var s=i.x&lt;a.x?i.x&lt;o.x?i.x:o.x:a.x&lt;o.x?a.x:o.x,l=i.y&lt;a.y?i.y&lt;o.y?i.y:o.y:a.y&lt;o.y?a.y:o.y,c=i.x&gt;a.x?i.x&gt;o.x?i.x:o.x:a.x&gt;o.x?a.x:o.x,u=i.y&gt;a.y?i.y&gt;o.y?i.y:o.y:a.y&gt;o.y?a.y:o.y,f=d(s,l,e,r,n),h=d(c,u,e,r,n),p=t.prevZ,g=t.nextZ;p&amp;&amp;p.z&gt;=f&amp;&amp;g&amp;&amp;g.z&lt;=h;){if(p!==t.prev&amp;&amp;p!==t.next&amp;&amp;m(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&amp;&amp;y(p.prev,p,p.next)&gt;=0)return!1;if(p=p.prevZ,g!==t.prev&amp;&amp;g!==t.next&amp;&amp;m(i.x,i.y,a.x,a.y,o.x,o.y,g.x,g.y)&amp;&amp;y(g.prev,g,g.next)&gt;=0)return!1;g=g.nextZ}for(;p&amp;&amp;p.z&gt;=f;){if(p!==t.prev&amp;&amp;p!==t.next&amp;&amp;m(i.x,i.y,a.x,a.y,o.x,o.y,p.x,p.y)&amp;&amp;y(p.prev,p,p.next)&gt;=0)return!1;p=p.prevZ}for(;g&amp;&amp;g.z&lt;=h;){if(g!==t.prev&amp;&amp;g!==t.next&amp;&amp;m(i.x,i.y,a.x,a.y,o.x,o.y,g.x,g.y)&amp;&amp;y(g.prev,g,g.next)&gt;=0)return!1;g=g.nextZ}return!0}function c(t,e,r){var n=t;do{var i=n.prev,o=n.next.next;!x(i,o)&amp;&amp;b(i,n,n.next,o)&amp;&amp;T(i,o)&amp;&amp;T(o,i)&amp;&amp;(e.push(i.i/r),e.push(n.i/r),e.push(o.i/r),A(n),A(n.next),n=t=o),n=n.next}while(n!==t);return a(n)}function u(t,e,r,n,i,s){var l=t;do{for(var c=l.next.next;c!==l.prev;){if(l.i!==c.i&amp;&amp;v(l,c)){var u=k(l,c);return l=a(l,l.next),u=a(u,u.next),o(l,e,r,n,i,s),void o(u,e,r,n,i,s)}c=c.next}l=l.next}while(l!==t)}function f(t,e){return t.x-e.x}function h(t,e){if(e=function(t,e){var r,n=e,i=t.x,a=t.y,o=-1/0;do{if(a&lt;=n.y&amp;&amp;a&gt;=n.next.y&amp;&amp;n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s&lt;=i&amp;&amp;s&gt;o){if(o=s,s===i){if(a===n.y)return n;if(a===n.next.y)return n.next}r=n.x&lt;n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===o)return r;var l,c=r,u=r.x,f=r.y,h=1/0;n=r;do{i&gt;=n.x&amp;&amp;n.x&gt;=u&amp;&amp;i!==n.x&amp;&amp;m(a&lt;f?i:o,a,u,f,a&lt;f?o:i,a,n.x,n.y)&amp;&amp;(l=Math.abs(a-n.y)/(i-n.x),T(n,t)&amp;&amp;(l&lt;h||l===h&amp;&amp;(n.x&gt;r.x||n.x===r.x&amp;&amp;p(r,n)))&amp;&amp;(r=n,h=l)),n=n.next}while(n!==c);return r}(t,e)){var r=k(e,t);a(e,e.next),a(r,r.next)}}function p(t,e){return y(t.prev,t,e.prev)&lt;0&amp;&amp;y(e.next,t,t.next)&lt;0}function d(t,e,r,n,i){return(t=1431655765&amp;((t=858993459&amp;((t=252645135&amp;((t=16711935&amp;((t=32767*(t-r)*i)|t&lt;&lt;8))|t&lt;&lt;4))|t&lt;&lt;2))|t&lt;&lt;1))|(e=1431655765&amp;((e=858993459&amp;((e=252645135&amp;((e=16711935&amp;((e=32767*(e-n)*i)|e&lt;&lt;8))|e&lt;&lt;4))|e&lt;&lt;2))|e&lt;&lt;1))&lt;&lt;1}function g(t){var e=t,r=t;do{(e.x&lt;r.x||e.x===r.x&amp;&amp;e.y&lt;r.y)&amp;&amp;(r=e),e=e.next}while(e!==t);return r}function m(t,e,r,n,i,a,o,s){return(i-o)*(e-s)-(t-o)*(a-s)&gt;=0&amp;&amp;(t-o)*(n-s)-(r-o)*(e-s)&gt;=0&amp;&amp;(r-o)*(a-s)-(i-o)*(n-s)&gt;=0}function v(t,e){return t.next.i!==e.i&amp;&amp;t.prev.i!==e.i&amp;&amp;!function(t,e){var r=t;do{if(r.i!==t.i&amp;&amp;r.next.i!==t.i&amp;&amp;r.i!==e.i&amp;&amp;r.next.i!==e.i&amp;&amp;b(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&amp;&amp;(T(t,e)&amp;&amp;T(e,t)&amp;&amp;function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do{r.y&gt;a!=r.next.y&gt;a&amp;&amp;r.next.y!==r.y&amp;&amp;i&lt;(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&amp;&amp;(n=!n),r=r.next}while(r!==t);return n}(t,e)&amp;&amp;(y(t.prev,t,e.prev)||y(t,e.prev,e))||x(t,e)&amp;&amp;y(t.prev,t,t.next)&gt;0&amp;&amp;y(e.prev,e,e.next)&gt;0)}function y(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function x(t,e){return t.x===e.x&amp;&amp;t.y===e.y}function b(t,e,r,n){var i=w(y(t,e,r)),a=w(y(t,e,n)),o=w(y(r,n,t)),s=w(y(r,n,e));return i!==a&amp;&amp;o!==s||(!(0!==i||!_(t,r,e))||(!(0!==a||!_(t,n,e))||(!(0!==o||!_(r,t,n))||!(0!==s||!_(r,e,n)))))}function _(t,e,r){return e.x&lt;=Math.max(t.x,r.x)&amp;&amp;e.x&gt;=Math.min(t.x,r.x)&amp;&amp;e.y&lt;=Math.max(t.y,r.y)&amp;&amp;e.y&gt;=Math.min(t.y,r.y)}function w(t){return t&gt;0?1:t&lt;0?-1:0}function T(t,e){return y(t.prev,t,t.next)&lt;0?y(t,e,t.next)&gt;=0&amp;&amp;y(t,t.prev,e)&gt;=0:y(t,e,t.prev)&lt;0||y(t,t.next,e)&lt;0}function k(t,e){var r=new S(t.i,t.x,t.y),n=new S(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function M(t,e,r,n){var i=new S(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function A(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&amp;&amp;(t.prevZ.nextZ=t.nextZ),t.nextZ&amp;&amp;(t.nextZ.prevZ=t.prevZ)}function S(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function E(t,e,r,n){for(var i=0,a=e,o=r-n;a&lt;r;a+=n)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}e.exports=n,e.exports.default=n,n.deviation=function(t,e,r,n){var i=e&amp;&amp;e.length,a=i?e[0]*r:t.length,o=Math.abs(E(t,0,a,r));if(i)for(var s=0,l=e.length;s&lt;l;s++){var c=e[s]*r,u=s&lt;l-1?e[s+1]*r:t.length;o-=Math.abs(E(t,c,u,r))}var f=0;for(s=0;s&lt;n.length;s+=3){var h=n[s]*r,p=n[s+1]*r,d=n[s+2]*r;f+=Math.abs((t[h]-t[d])*(t[p+1]-t[h+1])-(t[h]-t[p])*(t[d+1]-t[h+1]))}return 0===o&amp;&amp;0===f?0:Math.abs((f-o)/o)},n.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i&lt;t.length;i++){for(var a=0;a&lt;t[i].length;a++)for(var o=0;o&lt;e;o++)r.vertices.push(t[i][a][o]);i&gt;0&amp;&amp;(n+=t[i-1].length,r.holes.push(n))}return r}},{}],178:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e){var r=t.length;if(\&quot;number\&quot;!=typeof e){e=0;for(var i=0;i&lt;r;++i){var a=t[i];e=Math.max(e,a[0],a[1])}e=1+(0|e)}e|=0;var o=new Array(e);for(i=0;i&lt;e;++i)o[i]=[];for(i=0;i&lt;r;++i){a=t[i];o[a[0]].push(a[1]),o[a[1]].push(a[0])}for(var s=0;s&lt;e;++s)n(o[s],(function(t,e){return t-e}));return o};var n=t(\&quot;uniq\&quot;)},{uniq:597}],179:[function(t,e,r){var n=t(\&quot;strongly-connected-components\&quot;);e.exports=function(t,e){var r,i=[],a=[],o=[],s={},l=[];function c(t){var e,n,i=!1;for(a.push(t),o[t]=!0,e=0;e&lt;l[t].length;e++)(n=l[t][e])===r?(u(r,a),i=!0):o[n]||(i=c(n));if(i)!function t(e){o[e]=!1,s.hasOwnProperty(e)&amp;&amp;Object.keys(s[e]).forEach((function(r){delete s[e][r],o[r]&amp;&amp;t(r)}))}(t);else for(e=0;e&lt;l[t].length;e++){n=l[t][e];var f=s[n];f||(f={},s[n]=f),f[n]=!0}return a.pop(),i}function u(t,r){var n=[].concat(r).concat(t);e?e(c):i.push(n)}function f(e){!function(e){for(var r=0;r&lt;t.length;r++)r&lt;e&amp;&amp;(t[r]=[]),t[r]=t[r].filter((function(t){return t&gt;=e}))}(e);for(var r,i=n(t).components.filter((function(t){return t.length&gt;1})),a=1/0,o=0;o&lt;i.length;o++)for(var s=0;s&lt;i[o].length;s++)i[o][s]&lt;a&amp;&amp;(a=i[o][s],r=o);var l=i[r];return!!l&amp;&amp;{leastVertex:a,adjList:t.map((function(t,e){return-1===l.indexOf(e)?[]:t.filter((function(t){return-1!==l.indexOf(t)}))}))}}r=0;for(var h=t.length;r&lt;h;){var p=f(r);if(r=p.leastVertex,l=p.adjList){for(var d=0;d&lt;l.length;d++)for(var g=0;g&lt;l[d].length;g++){var m=l[d][g];o[+m]=!1,s[m]={}}c(r),r+=1}else r=h}return e?void 0:i}},{\&quot;strongly-connected-components\&quot;:569}],180:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;../../object/valid-value\&quot;);e.exports=function(){return n(this).length=0,this}},{\&quot;../../object/valid-value\&quot;:211}],181:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;./is-implemented\&quot;)()?Array.from:t(\&quot;./shim\&quot;)},{\&quot;./is-implemented\&quot;:182,\&quot;./shim\&quot;:183}],182:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(){var t,e,r=Array.from;return\&quot;function\&quot;==typeof r&amp;&amp;(e=r(t=[\&quot;raz\&quot;,\&quot;dwa\&quot;]),Boolean(e&amp;&amp;e!==t&amp;&amp;\&quot;dwa\&quot;===e[1]))}},{}],183:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;es6-symbol\&quot;).iterator,i=t(\&quot;../../function/is-arguments\&quot;),a=t(\&quot;../../function/is-function\&quot;),o=t(\&quot;../../number/to-pos-integer\&quot;),s=t(\&quot;../../object/valid-callable\&quot;),l=t(\&quot;../../object/valid-value\&quot;),c=t(\&quot;../../object/is-value\&quot;),u=t(\&quot;../../string/is-string\&quot;),f=Array.isArray,h=Function.prototype.call,p={configurable:!0,enumerable:!0,writable:!0,value:null},d=Object.defineProperty;e.exports=function(t){var e,r,g,m,v,y,x,b,_,w,T=arguments[1],k=arguments[2];if(t=Object(l(t)),c(T)&amp;&amp;s(T),this&amp;&amp;this!==Array&amp;&amp;a(this))e=this;else{if(!T){if(i(t))return 1!==(v=t.length)?Array.apply(null,t):((m=new Array(1))[0]=t[0],m);if(f(t)){for(m=new Array(v=t.length),r=0;r&lt;v;++r)m[r]=t[r];return m}}m=[]}if(!f(t))if(void 0!==(_=t[n])){for(x=s(_).call(t),e&amp;&amp;(m=new e),b=x.next(),r=0;!b.done;)w=T?h.call(T,k,b.value,r):b.value,e?(p.value=w,d(m,r,p)):m[r]=w,b=x.next(),++r;v=r}else if(u(t)){for(v=t.length,e&amp;&amp;(m=new e),r=0,g=0;r&lt;v;++r)w=t[r],r+1&lt;v&amp;&amp;(y=w.charCodeAt(0))&gt;=55296&amp;&amp;y&lt;=56319&amp;&amp;(w+=t[++r]),w=T?h.call(T,k,w,g):w,e?(p.value=w,d(m,g,p)):m[g]=w,++g;v=g}if(void 0===v)for(v=o(t.length),e&amp;&amp;(m=new e(v)),r=0;r&lt;v;++r)w=T?h.call(T,k,t[r],r):t[r],e?(p.value=w,d(m,r,p)):m[r]=w;return e&amp;&amp;(p.value=null,m.length=v),m}},{\&quot;../../function/is-arguments\&quot;:184,\&quot;../../function/is-function\&quot;:185,\&quot;../../number/to-pos-integer\&quot;:191,\&quot;../../object/is-value\&quot;:200,\&quot;../../object/valid-callable\&quot;:209,\&quot;../../object/valid-value\&quot;:211,\&quot;../../string/is-string\&quot;:215,\&quot;es6-symbol\&quot;:225}],184:[function(t,e,r){\&quot;use strict\&quot;;var n=Object.prototype.toString,i=n.call(function(){return arguments}());e.exports=function(t){return n.call(t)===i}},{}],185:[function(t,e,r){\&quot;use strict\&quot;;var n=Object.prototype.toString,i=RegExp.prototype.test.bind(/^[object [A-Za-z0-9]*Function]$/);e.exports=function(t){return\&quot;function\&quot;==typeof t&amp;&amp;i(n.call(t))}},{}],186:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(){}},{}],187:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;./is-implemented\&quot;)()?Math.sign:t(\&quot;./shim\&quot;)},{\&quot;./is-implemented\&quot;:188,\&quot;./shim\&quot;:189}],188:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(){var t=Math.sign;return\&quot;function\&quot;==typeof t&amp;&amp;(1===t(10)&amp;&amp;-1===t(-20))}},{}],189:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){return t=Number(t),isNaN(t)||0===t?t:t&gt;0?1:-1}},{}],190:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;../math/sign\&quot;),i=Math.abs,a=Math.floor;e.exports=function(t){return isNaN(t)?0:0!==(t=Number(t))&amp;&amp;isFinite(t)?n(t)*a(i(t)):t}},{\&quot;../math/sign\&quot;:187}],191:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./to-integer\&quot;),i=Math.max;e.exports=function(t){return i(0,n(t))}},{\&quot;./to-integer\&quot;:190}],192:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./valid-callable\&quot;),i=t(\&quot;./valid-value\&quot;),a=Function.prototype.bind,o=Function.prototype.call,s=Object.keys,l=Object.prototype.propertyIsEnumerable;e.exports=function(t,e){return function(r,c){var u,f=arguments[2],h=arguments[3];return r=Object(i(r)),n(c),u=s(r),h&amp;&amp;u.sort(\&quot;function\&quot;==typeof h?a.call(h,r):void 0),\&quot;function\&quot;!=typeof t&amp;&amp;(t=u[t]),o.call(t,u,(function(t,n){return l.call(r,t)?o.call(c,f,r[t],t,r,n):e}))}}},{\&quot;./valid-callable\&quot;:209,\&quot;./valid-value\&quot;:211}],193:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;./is-implemented\&quot;)()?Object.assign:t(\&quot;./shim\&quot;)},{\&quot;./is-implemented\&quot;:194,\&quot;./shim\&quot;:195}],194:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(){var t,e=Object.assign;return\&quot;function\&quot;==typeof e&amp;&amp;(e(t={foo:\&quot;raz\&quot;},{bar:\&quot;dwa\&quot;},{trzy:\&quot;trzy\&quot;}),t.foo+t.bar+t.trzy===\&quot;razdwatrzy\&quot;)}},{}],195:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;../keys\&quot;),i=t(\&quot;../valid-value\&quot;),a=Math.max;e.exports=function(t,e){var r,o,s,l=a(arguments.length,2);for(t=Object(i(t)),s=function(n){try{t[n]=e[n]}catch(t){r||(r=t)}},o=1;o&lt;l;++o)n(e=arguments[o]).forEach(s);if(void 0!==r)throw r;return t}},{\&quot;../keys\&quot;:201,\&quot;../valid-value\&quot;:211}],196:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;../array/from\&quot;),i=t(\&quot;./assign\&quot;),a=t(\&quot;./valid-value\&quot;);e.exports=function(t){var e=Object(a(t)),r=arguments[1],o=Object(arguments[2]);if(e!==t&amp;&amp;!r)return e;var s={};return r?n(r,(function(e){(o.ensure||e in t)&amp;&amp;(s[e]=t[e])})):i(s,t),s}},{\&quot;../array/from\&quot;:181,\&quot;./assign\&quot;:193,\&quot;./valid-value\&quot;:211}],197:[function(t,e,r){\&quot;use strict\&quot;;var n,i,a,o,s=Object.create;t(\&quot;./set-prototype-of/is-implemented\&quot;)()||(n=t(\&quot;./set-prototype-of/shim\&quot;)),e.exports=n?1!==n.level?s:(i={},a={},o={configurable:!1,enumerable:!1,writable:!0,value:void 0},Object.getOwnPropertyNames(Object.prototype).forEach((function(t){a[t]=\&quot;__proto__\&quot;!==t?o:{configurable:!0,enumerable:!1,writable:!0,value:void 0}})),Object.defineProperties(i,a),Object.defineProperty(n,\&quot;nullPolyfill\&quot;,{configurable:!1,enumerable:!1,writable:!1,value:i}),function(t,e){return s(null===t?i:t,e)}):s},{\&quot;./set-prototype-of/is-implemented\&quot;:207,\&quot;./set-prototype-of/shim\&quot;:208}],198:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;./_iterate\&quot;)(\&quot;forEach\&quot;)},{\&quot;./_iterate\&quot;:192}],199:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./is-value\&quot;),i={function:!0,object:!0};e.exports=function(t){return n(t)&amp;&amp;i[typeof t]||!1}},{\&quot;./is-value\&quot;:200}],200:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;../function/noop\&quot;)();e.exports=function(t){return t!==n&amp;&amp;null!==t}},{\&quot;../function/noop\&quot;:186}],201:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;./is-implemented\&quot;)()?Object.keys:t(\&quot;./shim\&quot;)},{\&quot;./is-implemented\&quot;:202,\&quot;./shim\&quot;:203}],202:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(){try{return Object.keys(\&quot;primitive\&quot;),!0}catch(t){return!1}}},{}],203:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;../is-value\&quot;),i=Object.keys;e.exports=function(t){return i(n(t)?Object(t):t)}},{\&quot;../is-value\&quot;:200}],204:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./valid-callable\&quot;),i=t(\&quot;./for-each\&quot;),a=Function.prototype.call;e.exports=function(t,e){var r={},o=arguments[2];return n(e),i(t,(function(t,n,i,s){r[n]=a.call(e,o,t,n,i,s)})),r}},{\&quot;./for-each\&quot;:198,\&quot;./valid-callable\&quot;:209}],205:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./is-value\&quot;),i=Array.prototype.forEach,a=Object.create,o=function(t,e){var r;for(r in t)e[r]=t[r]};e.exports=function(t){var e=a(null);return i.call(arguments,(function(t){n(t)&amp;&amp;o(Object(t),e)})),e}},{\&quot;./is-value\&quot;:200}],206:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;./is-implemented\&quot;)()?Object.setPrototypeOf:t(\&quot;./shim\&quot;)},{\&quot;./is-implemented\&quot;:207,\&quot;./shim\&quot;:208}],207:[function(t,e,r){\&quot;use strict\&quot;;var n=Object.create,i=Object.getPrototypeOf,a={};e.exports=function(){var t=Object.setPrototypeOf,e=arguments[0]||n;return\&quot;function\&quot;==typeof t&amp;&amp;i(t(e(null),a))===a}},{}],208:[function(t,e,r){\&quot;use strict\&quot;;var n,i=t(\&quot;../is-object\&quot;),a=t(\&quot;../valid-value\&quot;),o=Object.prototype.isPrototypeOf,s=Object.defineProperty,l={configurable:!0,enumerable:!1,writable:!0,value:void 0};n=function(t,e){if(a(t),null===e||i(e))return t;throw new TypeError(\&quot;Prototype must be null or an object\&quot;)},e.exports=function(t){var e,r;return t?(2===t.level?t.set?(r=t.set,e=function(t,e){return r.call(n(t,e),e),t}):e=function(t,e){return n(t,e).__proto__=e,t}:e=function t(e,r){var i;return n(e,r),(i=o.call(t.nullPolyfill,e))&amp;&amp;delete t.nullPolyfill.__proto__,null===r&amp;&amp;(r=t.nullPolyfill),e.__proto__=r,i&amp;&amp;s(t.nullPolyfill,\&quot;__proto__\&quot;,l),e},Object.defineProperty(e,\&quot;level\&quot;,{configurable:!1,enumerable:!1,writable:!1,value:t.level})):null}(function(){var t,e=Object.create(null),r={},n=Object.getOwnPropertyDescriptor(Object.prototype,\&quot;__proto__\&quot;);if(n){try{(t=n.set).call(e,r)}catch(t){}if(Object.getPrototypeOf(e)===r)return{set:t,level:2}}return e.__proto__=r,Object.getPrototypeOf(e)===r?{level:2}:((e={}).__proto__=r,Object.getPrototypeOf(e)===r&amp;&amp;{level:1})}()),t(\&quot;../create\&quot;)},{\&quot;../create\&quot;:197,\&quot;../is-object\&quot;:199,\&quot;../valid-value\&quot;:211}],209:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){if(\&quot;function\&quot;!=typeof t)throw new TypeError(t+\&quot; is not a function\&quot;);return t}},{}],210:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./is-object\&quot;);e.exports=function(t){if(!n(t))throw new TypeError(t+\&quot; is not an Object\&quot;);return t}},{\&quot;./is-object\&quot;:199}],211:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./is-value\&quot;);e.exports=function(t){if(!n(t))throw new TypeError(\&quot;Cannot use null or undefined\&quot;);return t}},{\&quot;./is-value\&quot;:200}],212:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;./is-implemented\&quot;)()?String.prototype.contains:t(\&quot;./shim\&quot;)},{\&quot;./is-implemented\&quot;:213,\&quot;./shim\&quot;:214}],213:[function(t,e,r){\&quot;use strict\&quot;;var n=\&quot;razdwatrzy\&quot;;e.exports=function(){return\&quot;function\&quot;==typeof n.contains&amp;&amp;(!0===n.contains(\&quot;dwa\&quot;)&amp;&amp;!1===n.contains(\&quot;foo\&quot;))}},{}],214:[function(t,e,r){\&quot;use strict\&quot;;var n=String.prototype.indexOf;e.exports=function(t){return n.call(this,t,arguments[1])&gt;-1}},{}],215:[function(t,e,r){\&quot;use strict\&quot;;var n=Object.prototype.toString,i=n.call(\&quot;\&quot;);e.exports=function(t){return\&quot;string\&quot;==typeof t||t&amp;&amp;\&quot;object\&quot;==typeof t&amp;&amp;(t instanceof String||n.call(t)===i)||!1}},{}],216:[function(t,e,r){\&quot;use strict\&quot;;var n=Object.create(null),i=Math.random;e.exports=function(){var t;do{t=i().toString(36).slice(2)}while(n[t]);return t}},{}],217:[function(t,e,r){\&quot;use strict\&quot;;var n,i=t(\&quot;es5-ext/object/set-prototype-of\&quot;),a=t(\&quot;es5-ext/string/#/contains\&quot;),o=t(\&quot;d\&quot;),s=t(\&quot;es6-symbol\&quot;),l=t(\&quot;./\&quot;),c=Object.defineProperty;n=e.exports=function(t,e){if(!(this instanceof n))throw new TypeError(\&quot;Constructor requires 'new'\&quot;);l.call(this,t),e=e?a.call(e,\&quot;key+value\&quot;)?\&quot;key+value\&quot;:a.call(e,\&quot;key\&quot;)?\&quot;key\&quot;:\&quot;value\&quot;:\&quot;value\&quot;,c(this,\&quot;__kind__\&quot;,o(\&quot;\&quot;,e))},i&amp;&amp;i(n,l),delete n.prototype.constructor,n.prototype=Object.create(l.prototype,{_resolve:o((function(t){return\&quot;value\&quot;===this.__kind__?this.__list__[t]:\&quot;key+value\&quot;===this.__kind__?[t,this.__list__[t]]:t}))}),c(n.prototype,s.toStringTag,o(\&quot;c\&quot;,\&quot;Array Iterator\&quot;))},{\&quot;./\&quot;:220,d:155,\&quot;es5-ext/object/set-prototype-of\&quot;:206,\&quot;es5-ext/string/#/contains\&quot;:212,\&quot;es6-symbol\&quot;:225}],218:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;es5-ext/function/is-arguments\&quot;),i=t(\&quot;es5-ext/object/valid-callable\&quot;),a=t(\&quot;es5-ext/string/is-string\&quot;),o=t(\&quot;./get\&quot;),s=Array.isArray,l=Function.prototype.call,c=Array.prototype.some;e.exports=function(t,e){var r,u,f,h,p,d,g,m,v=arguments[2];if(s(t)||n(t)?r=\&quot;array\&quot;:a(t)?r=\&quot;string\&quot;:t=o(t),i(e),f=function(){h=!0},\&quot;array\&quot;!==r)if(\&quot;string\&quot;!==r)for(u=t.next();!u.done;){if(l.call(e,v,u.value,f),h)return;u=t.next()}else for(d=t.length,p=0;p&lt;d&amp;&amp;(g=t[p],p+1&lt;d&amp;&amp;(m=g.charCodeAt(0))&gt;=55296&amp;&amp;m&lt;=56319&amp;&amp;(g+=t[++p]),l.call(e,v,g,f),!h);++p);else c.call(t,(function(t){return l.call(e,v,t,f),h}))}},{\&quot;./get\&quot;:219,\&quot;es5-ext/function/is-arguments\&quot;:184,\&quot;es5-ext/object/valid-callable\&quot;:209,\&quot;es5-ext/string/is-string\&quot;:215}],219:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;es5-ext/function/is-arguments\&quot;),i=t(\&quot;es5-ext/string/is-string\&quot;),a=t(\&quot;./array\&quot;),o=t(\&quot;./string\&quot;),s=t(\&quot;./valid-iterable\&quot;),l=t(\&quot;es6-symbol\&quot;).iterator;e.exports=function(t){return\&quot;function\&quot;==typeof s(t)[l]?t[l]():n(t)?new a(t):i(t)?new o(t):new a(t)}},{\&quot;./array\&quot;:217,\&quot;./string\&quot;:222,\&quot;./valid-iterable\&quot;:223,\&quot;es5-ext/function/is-arguments\&quot;:184,\&quot;es5-ext/string/is-string\&quot;:215,\&quot;es6-symbol\&quot;:225}],220:[function(t,e,r){\&quot;use strict\&quot;;var n,i=t(\&quot;es5-ext/array/#/clear\&quot;),a=t(\&quot;es5-ext/object/assign\&quot;),o=t(\&quot;es5-ext/object/valid-callable\&quot;),s=t(\&quot;es5-ext/object/valid-value\&quot;),l=t(\&quot;d\&quot;),c=t(\&quot;d/auto-bind\&quot;),u=t(\&quot;es6-symbol\&quot;),f=Object.defineProperty,h=Object.defineProperties;e.exports=n=function(t,e){if(!(this instanceof n))throw new TypeError(\&quot;Constructor requires 'new'\&quot;);h(this,{__list__:l(\&quot;w\&quot;,s(t)),__context__:l(\&quot;w\&quot;,e),__nextIndex__:l(\&quot;w\&quot;,0)}),e&amp;&amp;(o(e.on),e.on(\&quot;_add\&quot;,this._onAdd),e.on(\&quot;_delete\&quot;,this._onDelete),e.on(\&quot;_clear\&quot;,this._onClear))},delete n.prototype.constructor,h(n.prototype,a({_next:l((function(){var t;if(this.__list__)return this.__redo__&amp;&amp;void 0!==(t=this.__redo__.shift())?t:this.__nextIndex__&lt;this.__list__.length?this.__nextIndex__++:void this._unBind()})),next:l((function(){return this._createResult(this._next())})),_createResult:l((function(t){return void 0===t?{done:!0,value:void 0}:{done:!1,value:this._resolve(t)}})),_resolve:l((function(t){return this.__list__[t]})),_unBind:l((function(){this.__list__=null,delete this.__redo__,this.__context__&amp;&amp;(this.__context__.off(\&quot;_add\&quot;,this._onAdd),this.__context__.off(\&quot;_delete\&quot;,this._onDelete),this.__context__.off(\&quot;_clear\&quot;,this._onClear),this.__context__=null)})),toString:l((function(){return\&quot;[object \&quot;+(this[u.toStringTag]||\&quot;Object\&quot;)+\&quot;]\&quot;}))},c({_onAdd:l((function(t){t&gt;=this.__nextIndex__||(++this.__nextIndex__,this.__redo__?(this.__redo__.forEach((function(e,r){e&gt;=t&amp;&amp;(this.__redo__[r]=++e)}),this),this.__redo__.push(t)):f(this,\&quot;__redo__\&quot;,l(\&quot;c\&quot;,[t])))})),_onDelete:l((function(t){var e;t&gt;=this.__nextIndex__||(--this.__nextIndex__,this.__redo__&amp;&amp;(-1!==(e=this.__redo__.indexOf(t))&amp;&amp;this.__redo__.splice(e,1),this.__redo__.forEach((function(e,r){e&gt;t&amp;&amp;(this.__redo__[r]=--e)}),this)))})),_onClear:l((function(){this.__redo__&amp;&amp;i.call(this.__redo__),this.__nextIndex__=0}))}))),f(n.prototype,u.iterator,l((function(){return this})))},{d:155,\&quot;d/auto-bind\&quot;:154,\&quot;es5-ext/array/#/clear\&quot;:180,\&quot;es5-ext/object/assign\&quot;:193,\&quot;es5-ext/object/valid-callable\&quot;:209,\&quot;es5-ext/object/valid-value\&quot;:211,\&quot;es6-symbol\&quot;:225}],221:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;es5-ext/function/is-arguments\&quot;),i=t(\&quot;es5-ext/object/is-value\&quot;),a=t(\&quot;es5-ext/string/is-string\&quot;),o=t(\&quot;es6-symbol\&quot;).iterator,s=Array.isArray;e.exports=function(t){return!!i(t)&amp;&amp;(!!s(t)||(!!a(t)||(!!n(t)||\&quot;function\&quot;==typeof t[o])))}},{\&quot;es5-ext/function/is-arguments\&quot;:184,\&quot;es5-ext/object/is-value\&quot;:200,\&quot;es5-ext/string/is-string\&quot;:215,\&quot;es6-symbol\&quot;:225}],222:[function(t,e,r){\&quot;use strict\&quot;;var n,i=t(\&quot;es5-ext/object/set-prototype-of\&quot;),a=t(\&quot;d\&quot;),o=t(\&quot;es6-symbol\&quot;),s=t(\&quot;./\&quot;),l=Object.defineProperty;n=e.exports=function(t){if(!(this instanceof n))throw new TypeError(\&quot;Constructor requires 'new'\&quot;);t=String(t),s.call(this,t),l(this,\&quot;__length__\&quot;,a(\&quot;\&quot;,t.length))},i&amp;&amp;i(n,s),delete n.prototype.constructor,n.prototype=Object.create(s.prototype,{_next:a((function(){if(this.__list__)return this.__nextIndex__&lt;this.__length__?this.__nextIndex__++:void this._unBind()})),_resolve:a((function(t){var e,r=this.__list__[t];return this.__nextIndex__===this.__length__?r:(e=r.charCodeAt(0))&gt;=55296&amp;&amp;e&lt;=56319?r+this.__list__[this.__nextIndex__++]:r}))}),l(n.prototype,o.toStringTag,a(\&quot;c\&quot;,\&quot;String Iterator\&quot;))},{\&quot;./\&quot;:220,d:155,\&quot;es5-ext/object/set-prototype-of\&quot;:206,\&quot;es6-symbol\&quot;:225}],223:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./is-iterable\&quot;);e.exports=function(t){if(!n(t))throw new TypeError(t+\&quot; is not iterable\&quot;);return t}},{\&quot;./is-iterable\&quot;:221}],224:[function(t,e,r){(function(n,i){(function(){\n/*!\n * @overview es6-promise - a tiny implementation of Promises/A+.\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\n * @license   Licensed under MIT license\n *            See https://raw.githubusercontent.com/stefanpenner/es6-promise/master/LICENSE\n * @version   v4.2.8+1e68dce6\n */\n!function(t,n){\&quot;object\&quot;==typeof r&amp;&amp;\&quot;undefined\&quot;!=typeof e?e.exports=n():t.ES6Promise=n()}(this,(function(){\&quot;use strict\&quot;;function e(t){return\&quot;function\&quot;==typeof t}var r=Array.isArray?Array.isArray:function(t){return\&quot;[object Array]\&quot;===Object.prototype.toString.call(t)},a=0,o=void 0,s=void 0,l=function(t,e){g[a]=t,g[a+1]=e,2===(a+=2)&amp;&amp;(s?s(m):_())};var c=\&quot;undefined\&quot;!=typeof window?window:void 0,u=c||{},f=u.MutationObserver||u.WebKitMutationObserver,h=\&quot;undefined\&quot;==typeof self&amp;&amp;\&quot;undefined\&quot;!=typeof n&amp;&amp;\&quot;[object process]\&quot;==={}.toString.call(n),p=\&quot;undefined\&quot;!=typeof Uint8ClampedArray&amp;&amp;\&quot;undefined\&quot;!=typeof importScripts&amp;&amp;\&quot;undefined\&quot;!=typeof MessageChannel;function d(){var t=setTimeout;return function(){return t(m,1)}}var g=new Array(1e3);function m(){for(var t=0;t&lt;a;t+=2){(0,g[t])(g[t+1]),g[t]=void 0,g[t+1]=void 0}a=0}var v,y,x,b,_=void 0;function w(t,e){var r=this,n=new this.constructor(M);void 0===n[k]&amp;&amp;D(n);var i=r._state;if(i){var a=arguments[i-1];l((function(){return z(i,n,a,r._result)}))}else I(r,n,t,e);return n}function T(t){if(t&amp;&amp;\&quot;object\&quot;==typeof t&amp;&amp;t.constructor===this)return t;var e=new this(M);return S(e,t),e}h?_=function(){return n.nextTick(m)}:f?(y=0,x=new f(m),b=document.createTextNode(\&quot;\&quot;),x.observe(b,{characterData:!0}),_=function(){b.data=y=++y%2}):p?((v=new MessageChannel).port1.onmessage=m,_=function(){return v.port2.postMessage(0)}):_=void 0===c&amp;&amp;\&quot;function\&quot;==typeof t?function(){try{var t=Function(\&quot;return this\&quot;)().require(\&quot;vertx\&quot;);return\&quot;undefined\&quot;!=typeof(o=t.runOnLoop||t.runOnContext)?function(){o(m)}:d()}catch(t){return d()}}():d();var k=Math.random().toString(36).substring(2);function M(){}function A(t,r,n){r.constructor===t.constructor&amp;&amp;n===w&amp;&amp;r.constructor.resolve===T?function(t,e){1===e._state?C(t,e._result):2===e._state?L(t,e._result):I(e,void 0,(function(e){return S(t,e)}),(function(e){return L(t,e)}))}(t,r):void 0===n?C(t,r):e(n)?function(t,e,r){l((function(t){var n=!1,i=function(t,e,r,n){try{t.call(e,r,n)}catch(t){return t}}(r,e,(function(r){n||(n=!0,e!==r?S(t,r):C(t,r))}),(function(e){n||(n=!0,L(t,e))}),t._label);!n&amp;&amp;i&amp;&amp;(n=!0,L(t,i))}),t)}(t,r,n):C(t,r)}function S(t,e){if(t===e)L(t,new TypeError(\&quot;You cannot resolve a promise with itself\&quot;));else if(i=typeof(n=e),null===n||\&quot;object\&quot;!==i&amp;&amp;\&quot;function\&quot;!==i)C(t,e);else{var r=void 0;try{r=e.then}catch(e){return void L(t,e)}A(t,e,r)}var n,i}function E(t){t._onerror&amp;&amp;t._onerror(t._result),P(t)}function C(t,e){void 0===t._state&amp;&amp;(t._result=e,t._state=1,0!==t._subscribers.length&amp;&amp;l(P,t))}function L(t,e){void 0===t._state&amp;&amp;(t._state=2,t._result=e,l(E,t))}function I(t,e,r,n){var i=t._subscribers,a=i.length;t._onerror=null,i[a]=e,i[a+1]=r,i[a+2]=n,0===a&amp;&amp;t._state&amp;&amp;l(P,t)}function P(t){var e=t._subscribers,r=t._state;if(0!==e.length){for(var n=void 0,i=void 0,a=t._result,o=0;o&lt;e.length;o+=3)n=e[o],i=e[o+r],n?z(r,n,i,a):i(a);t._subscribers.length=0}}function z(t,r,n,i){var a=e(n),o=void 0,s=void 0,l=!0;if(a){try{o=n(i)}catch(t){l=!1,s=t}if(r===o)return void L(r,new TypeError(\&quot;A promises callback cannot return that same promise.\&quot;))}else o=i;void 0!==r._state||(a&amp;&amp;l?S(r,o):!1===l?L(r,s):1===t?C(r,o):2===t&amp;&amp;L(r,o))}var O=0;function D(t){t[k]=O++,t._state=void 0,t._result=void 0,t._subscribers=[]}var R=function(){function t(t,e){this._instanceConstructor=t,this.promise=new t(M),this.promise[k]||D(this.promise),r(e)?(this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?C(this.promise,this._result):(this.length=this.length||0,this._enumerate(e),0===this._remaining&amp;&amp;C(this.promise,this._result))):L(this.promise,new Error(\&quot;Array Methods must be provided an Array\&quot;))}return t.prototype._enumerate=function(t){for(var e=0;void 0===this._state&amp;&amp;e&lt;t.length;e++)this._eachEntry(t[e],e)},t.prototype._eachEntry=function(t,e){var r=this._instanceConstructor,n=r.resolve;if(n===T){var i=void 0,a=void 0,o=!1;try{i=t.then}catch(t){o=!0,a=t}if(i===w&amp;&amp;void 0!==t._state)this._settledAt(t._state,e,t._result);else if(\&quot;function\&quot;!=typeof i)this._remaining--,this._result[e]=t;else if(r===F){var s=new r(M);o?L(s,a):A(s,t,i),this._willSettleAt(s,e)}else this._willSettleAt(new r((function(e){return e(t)})),e)}else this._willSettleAt(n(t),e)},t.prototype._settledAt=function(t,e,r){var n=this.promise;void 0===n._state&amp;&amp;(this._remaining--,2===t?L(n,r):this._result[e]=r),0===this._remaining&amp;&amp;C(n,this._result)},t.prototype._willSettleAt=function(t,e){var r=this;I(t,void 0,(function(t){return r._settledAt(1,e,t)}),(function(t){return r._settledAt(2,e,t)}))},t}();var F=function(){function t(e){this[k]=O++,this._result=this._state=void 0,this._subscribers=[],M!==e&amp;&amp;(\&quot;function\&quot;!=typeof e&amp;&amp;function(){throw new TypeError(\&quot;You must pass a resolver function as the first argument to the promise constructor\&quot;)}(),this instanceof t?function(t,e){try{e((function(e){S(t,e)}),(function(e){L(t,e)}))}catch(e){L(t,e)}}(this,e):function(){throw new TypeError(\&quot;Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\&quot;)}())}return t.prototype.catch=function(t){return this.then(null,t)},t.prototype.finally=function(t){var r=this.constructor;return e(t)?this.then((function(e){return r.resolve(t()).then((function(){return e}))}),(function(e){return r.resolve(t()).then((function(){throw e}))})):this.then(t,t)},t}();return F.prototype.then=w,F.all=function(t){return new R(this,t).promise},F.race=function(t){var e=this;return r(t)?new e((function(r,n){for(var i=t.length,a=0;a&lt;i;a++)e.resolve(t[a]).then(r,n)})):new e((function(t,e){return e(new TypeError(\&quot;You must pass an array to race.\&quot;))}))},F.resolve=T,F.reject=function(t){var e=new this(M);return L(e,t),e},F._setScheduler=function(t){s=t},F._setAsap=function(t){l=t},F._asap=l,F.polyfill=function(){var t=void 0;if(\&quot;undefined\&quot;!=typeof i)t=i;else if(\&quot;undefined\&quot;!=typeof self)t=self;else try{t=Function(\&quot;return this\&quot;)()}catch(t){throw new Error(\&quot;polyfill failed because global object is unavailable in this environment\&quot;)}var e=t.Promise;if(e){var r=null;try{r=Object.prototype.toString.call(e.resolve())}catch(t){}if(\&quot;[object Promise]\&quot;===r&amp;&amp;!e.cast)return}t.Promise=F},F.Promise=F,F}))}).call(this)}).call(this,t(\&quot;_process\&quot;),\&quot;undefined\&quot;!=typeof global?global:\&quot;undefined\&quot;!=typeof self?self:\&quot;undefined\&quot;!=typeof window?window:{})},{_process:526}],225:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;./is-implemented\&quot;)()?t(\&quot;ext/global-this\&quot;).Symbol:t(\&quot;./polyfill\&quot;)},{\&quot;./is-implemented\&quot;:226,\&quot;./polyfill\&quot;:231,\&quot;ext/global-this\&quot;:238}],226:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;ext/global-this\&quot;),i={object:!0,symbol:!0};e.exports=function(){var t,e=n.Symbol;if(\&quot;function\&quot;!=typeof e)return!1;t=e(\&quot;test symbol\&quot;);try{String(t)}catch(t){return!1}return!!i[typeof e.iterator]&amp;&amp;(!!i[typeof e.toPrimitive]&amp;&amp;!!i[typeof e.toStringTag])}},{\&quot;ext/global-this\&quot;:238}],227:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){return!!t&amp;&amp;(\&quot;symbol\&quot;==typeof t||!!t.constructor&amp;&amp;(\&quot;Symbol\&quot;===t.constructor.name&amp;&amp;\&quot;Symbol\&quot;===t[t.constructor.toStringTag]))}},{}],228:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;d\&quot;),i=Object.create,a=Object.defineProperty,o=Object.prototype,s=i(null);e.exports=function(t){for(var e,r,i=0;s[t+(i||\&quot;\&quot;)];)++i;return s[t+=i||\&quot;\&quot;]=!0,a(o,e=\&quot;@@\&quot;+t,n.gs(null,(function(t){r||(r=!0,a(this,e,n(t)),r=!1)}))),e}},{d:155}],229:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;d\&quot;),i=t(\&quot;ext/global-this\&quot;).Symbol;e.exports=function(t){return Object.defineProperties(t,{hasInstance:n(\&quot;\&quot;,i&amp;&amp;i.hasInstance||t(\&quot;hasInstance\&quot;)),isConcatSpreadable:n(\&quot;\&quot;,i&amp;&amp;i.isConcatSpreadable||t(\&quot;isConcatSpreadable\&quot;)),iterator:n(\&quot;\&quot;,i&amp;&amp;i.iterator||t(\&quot;iterator\&quot;)),match:n(\&quot;\&quot;,i&amp;&amp;i.match||t(\&quot;match\&quot;)),replace:n(\&quot;\&quot;,i&amp;&amp;i.replace||t(\&quot;replace\&quot;)),search:n(\&quot;\&quot;,i&amp;&amp;i.search||t(\&quot;search\&quot;)),species:n(\&quot;\&quot;,i&amp;&amp;i.species||t(\&quot;species\&quot;)),split:n(\&quot;\&quot;,i&amp;&amp;i.split||t(\&quot;split\&quot;)),toPrimitive:n(\&quot;\&quot;,i&amp;&amp;i.toPrimitive||t(\&quot;toPrimitive\&quot;)),toStringTag:n(\&quot;\&quot;,i&amp;&amp;i.toStringTag||t(\&quot;toStringTag\&quot;)),unscopables:n(\&quot;\&quot;,i&amp;&amp;i.unscopables||t(\&quot;unscopables\&quot;))})}},{d:155,\&quot;ext/global-this\&quot;:238}],230:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;d\&quot;),i=t(\&quot;../../../validate-symbol\&quot;),a=Object.create(null);e.exports=function(t){return Object.defineProperties(t,{for:n((function(e){return a[e]?a[e]:a[e]=t(String(e))})),keyFor:n((function(t){var e;for(e in i(t),a)if(a[e]===t)return e}))})}},{\&quot;../../../validate-symbol\&quot;:232,d:155}],231:[function(t,e,r){\&quot;use strict\&quot;;var n,i,a,o=t(\&quot;d\&quot;),s=t(\&quot;./validate-symbol\&quot;),l=t(\&quot;ext/global-this\&quot;).Symbol,c=t(\&quot;./lib/private/generate-name\&quot;),u=t(\&quot;./lib/private/setup/standard-symbols\&quot;),f=t(\&quot;./lib/private/setup/symbol-registry\&quot;),h=Object.create,p=Object.defineProperties,d=Object.defineProperty;if(\&quot;function\&quot;==typeof l)try{String(l()),a=!0}catch(t){}else l=null;i=function(t){if(this instanceof i)throw new TypeError(\&quot;Symbol is not a constructor\&quot;);return n(t)},e.exports=n=function t(e){var r;if(this instanceof t)throw new TypeError(\&quot;Symbol is not a constructor\&quot;);return a?l(e):(r=h(i.prototype),e=void 0===e?\&quot;\&quot;:String(e),p(r,{__description__:o(\&quot;\&quot;,e),__name__:o(\&quot;\&quot;,c(e))}))},u(n),f(n),p(i.prototype,{constructor:o(n),toString:o(\&quot;\&quot;,(function(){return this.__name__}))}),p(n.prototype,{toString:o((function(){return\&quot;Symbol (\&quot;+s(this).__description__+\&quot;)\&quot;})),valueOf:o((function(){return s(this)}))}),d(n.prototype,n.toPrimitive,o(\&quot;\&quot;,(function(){var t=s(this);return\&quot;symbol\&quot;==typeof t?t:t.toString()}))),d(n.prototype,n.toStringTag,o(\&quot;c\&quot;,\&quot;Symbol\&quot;)),d(i.prototype,n.toStringTag,o(\&quot;c\&quot;,n.prototype[n.toStringTag])),d(i.prototype,n.toPrimitive,o(\&quot;c\&quot;,n.prototype[n.toPrimitive]))},{\&quot;./lib/private/generate-name\&quot;:228,\&quot;./lib/private/setup/standard-symbols\&quot;:229,\&quot;./lib/private/setup/symbol-registry\&quot;:230,\&quot;./validate-symbol\&quot;:232,d:155,\&quot;ext/global-this\&quot;:238}],232:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./is-symbol\&quot;);e.exports=function(t){if(!n(t))throw new TypeError(t+\&quot; is not a symbol\&quot;);return t}},{\&quot;./is-symbol\&quot;:227}],233:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;./is-implemented\&quot;)()?WeakMap:t(\&quot;./polyfill\&quot;)},{\&quot;./is-implemented\&quot;:234,\&quot;./polyfill\&quot;:236}],234:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(){var t,e;if(\&quot;function\&quot;!=typeof WeakMap)return!1;try{t=new WeakMap([[e={},\&quot;one\&quot;],[{},\&quot;two\&quot;],[{},\&quot;three\&quot;]])}catch(t){return!1}return\&quot;[object WeakMap]\&quot;===String(t)&amp;&amp;(\&quot;function\&quot;==typeof t.set&amp;&amp;(t.set({},1)===t&amp;&amp;(\&quot;function\&quot;==typeof t.delete&amp;&amp;(\&quot;function\&quot;==typeof t.has&amp;&amp;\&quot;one\&quot;===t.get(e)))))}},{}],235:[function(t,e,r){\&quot;use strict\&quot;;e.exports=\&quot;function\&quot;==typeof WeakMap&amp;&amp;\&quot;[object WeakMap]\&quot;===Object.prototype.toString.call(new WeakMap)},{}],236:[function(t,e,r){\&quot;use strict\&quot;;var n,i=t(\&quot;es5-ext/object/is-value\&quot;),a=t(\&quot;es5-ext/object/set-prototype-of\&quot;),o=t(\&quot;es5-ext/object/valid-object\&quot;),s=t(\&quot;es5-ext/object/valid-value\&quot;),l=t(\&quot;es5-ext/string/random-uniq\&quot;),c=t(\&quot;d\&quot;),u=t(\&quot;es6-iterator/get\&quot;),f=t(\&quot;es6-iterator/for-of\&quot;),h=t(\&quot;es6-symbol\&quot;).toStringTag,p=t(\&quot;./is-native-implemented\&quot;),d=Array.isArray,g=Object.defineProperty,m=Object.prototype.hasOwnProperty,v=Object.getPrototypeOf;e.exports=n=function(){var t,e=arguments[0];if(!(this instanceof n))throw new TypeError(\&quot;Constructor requires 'new'\&quot;);return t=p&amp;&amp;a&amp;&amp;WeakMap!==n?a(new WeakMap,v(this)):this,i(e)&amp;&amp;(d(e)||(e=u(e))),g(t,\&quot;__weakMapData__\&quot;,c(\&quot;c\&quot;,\&quot;$weakMap$\&quot;+l())),e?(f(e,(function(e){s(e),t.set(e[0],e[1])})),t):t},p&amp;&amp;(a&amp;&amp;a(n,WeakMap),n.prototype=Object.create(WeakMap.prototype,{constructor:c(n)})),Object.defineProperties(n.prototype,{delete:c((function(t){return!!m.call(o(t),this.__weakMapData__)&amp;&amp;(delete t[this.__weakMapData__],!0)})),get:c((function(t){if(m.call(o(t),this.__weakMapData__))return t[this.__weakMapData__]})),has:c((function(t){return m.call(o(t),this.__weakMapData__)})),set:c((function(t,e){return g(o(t),this.__weakMapData__,c(\&quot;c\&quot;,e)),this})),toString:c((function(){return\&quot;[object WeakMap]\&quot;}))}),g(n.prototype,h,c(\&quot;c\&quot;,\&quot;WeakMap\&quot;))},{\&quot;./is-native-implemented\&quot;:235,d:155,\&quot;es5-ext/object/is-value\&quot;:200,\&quot;es5-ext/object/set-prototype-of\&quot;:206,\&quot;es5-ext/object/valid-object\&quot;:210,\&quot;es5-ext/object/valid-value\&quot;:211,\&quot;es5-ext/string/random-uniq\&quot;:216,\&quot;es6-iterator/for-of\&quot;:218,\&quot;es6-iterator/get\&quot;:219,\&quot;es6-symbol\&quot;:225}],237:[function(t,e,r){var n=function(){if(\&quot;object\&quot;==typeof self&amp;&amp;self)return self;if(\&quot;object\&quot;==typeof window&amp;&amp;window)return window;throw new Error(\&quot;Unable to resolve global `this`\&quot;)};e.exports=function(){if(this)return this;try{Object.defineProperty(Object.prototype,\&quot;__global__\&quot;,{get:function(){return this},configurable:!0})}catch(t){return n()}try{return __global__||n()}finally{delete Object.prototype.__global__}}()},{}],238:[function(t,e,r){\&quot;use strict\&quot;;e.exports=t(\&quot;./is-implemented\&quot;)()?globalThis:t(\&quot;./implementation\&quot;)},{\&quot;./implementation\&quot;:237,\&quot;./is-implemented\&quot;:239}],239:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(){return\&quot;object\&quot;==typeof globalThis&amp;&amp;(!!globalThis&amp;&amp;globalThis.Array===Array)}},{}],240:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e,r){var n=e||0,i=r||1;return[[t[12]+t[0],t[13]+t[1],t[14]+t[2],t[15]+t[3]],[t[12]-t[0],t[13]-t[1],t[14]-t[2],t[15]-t[3]],[t[12]+t[4],t[13]+t[5],t[14]+t[6],t[15]+t[7]],[t[12]-t[4],t[13]-t[5],t[14]-t[6],t[15]-t[7]],[n*t[12]+t[8],n*t[13]+t[9],n*t[14]+t[10],n*t[15]+t[11]],[i*t[12]-t[8],i*t[13]-t[9],i*t[14]-t[10],i*t[15]-t[11]]]}},{}],241:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;is-string-blank\&quot;);e.exports=function(t){var e=typeof t;if(\&quot;string\&quot;===e){var r=t;if(0===(t=+t)&amp;&amp;n(r))return!1}else if(\&quot;number\&quot;!==e)return!1;return t-t&lt;1}},{\&quot;is-string-blank\&quot;:470}],242:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e,r){switch(arguments.length){case 0:return new o([0],[0],0);case 1:return\&quot;number\&quot;==typeof t?new o(n=l(t),n,0):new o(t,l(t.length),0);case 2:if(\&quot;number\&quot;==typeof e){var n=l(t.length);return new o(t,n,+e)}r=0;case 3:if(t.length!==e.length)throw new Error(\&quot;state and velocity lengths must match\&quot;);return new o(t,e,r)}};var n=t(\&quot;cubic-hermite\&quot;),i=t(\&quot;binary-search-bounds\&quot;);function a(t,e,r){return Math.min(e,Math.max(t,r))}function o(t,e,r){this.dimension=t.length,this.bounds=[new Array(this.dimension),new Array(this.dimension)];for(var n=0;n&lt;this.dimension;++n)this.bounds[0][n]=-1/0,this.bounds[1][n]=1/0;this._state=t.slice().reverse(),this._velocity=e.slice().reverse(),this._time=[r],this._scratch=[t.slice(),t.slice(),t.slice(),t.slice(),t.slice()]}var s=o.prototype;function l(t){for(var e=new Array(t),r=0;r&lt;t;++r)e[r]=0;return e}s.flush=function(t){var e=i.gt(this._time,t)-1;e&lt;=0||(this._time.splice(0,e),this._state.splice(0,e*this.dimension),this._velocity.splice(0,e*this.dimension))},s.curve=function(t){var e=this._time,r=e.length,o=i.le(e,t),s=this._scratch[0],l=this._state,c=this._velocity,u=this.dimension,f=this.bounds;if(o&lt;0)for(var h=u-1,p=0;p&lt;u;++p,--h)s[p]=l[h];else if(o&gt;=r-1){h=l.length-1;var d=t-e[r-1];for(p=0;p&lt;u;++p,--h)s[p]=l[h]+d*c[h]}else{h=u*(o+1)-1;var g=e[o],m=e[o+1]-g||1,v=this._scratch[1],y=this._scratch[2],x=this._scratch[3],b=this._scratch[4],_=!0;for(p=0;p&lt;u;++p,--h)v[p]=l[h],x[p]=c[h]*m,y[p]=l[h+u],b[p]=c[h+u]*m,_=_&amp;&amp;v[p]===y[p]&amp;&amp;x[p]===b[p]&amp;&amp;0===x[p];if(_)for(p=0;p&lt;u;++p)s[p]=v[p];else n(v,x,y,b,(t-g)/m,s)}var w=f[0],T=f[1];for(p=0;p&lt;u;++p)s[p]=a(w[p],T[p],s[p]);return s},s.dcurve=function(t){var e=this._time,r=e.length,a=i.le(e,t),o=this._scratch[0],s=this._state,l=this._velocity,c=this.dimension;if(a&gt;=r-1)for(var u=s.length-1,f=(e[r-1],0);f&lt;c;++f,--u)o[f]=l[u];else{u=c*(a+1)-1;var h=e[a],p=e[a+1]-h||1,d=this._scratch[1],g=this._scratch[2],m=this._scratch[3],v=this._scratch[4],y=!0;for(f=0;f&lt;c;++f,--u)d[f]=s[u],m[f]=l[u]*p,g[f]=s[u+c],v[f]=l[u+c]*p,y=y&amp;&amp;d[f]===g[f]&amp;&amp;m[f]===v[f]&amp;&amp;0===m[f];if(y)for(f=0;f&lt;c;++f)o[f]=0;else{n.derivative(d,m,g,v,(t-h)/p,o);for(f=0;f&lt;c;++f)o[f]/=p}}return o},s.lastT=function(){var t=this._time;return t[t.length-1]},s.stable=function(){for(var t=this._velocity,e=t.length,r=this.dimension-1;r&gt;=0;--r)if(t[--e])return!1;return!0},s.jump=function(t){var e=this.lastT(),r=this.dimension;if(!(t&lt;e||arguments.length!==r+1)){var n=this._state,i=this._velocity,o=n.length-this.dimension,s=this.bounds,l=s[0],c=s[1];this._time.push(e,t);for(var u=0;u&lt;2;++u)for(var f=0;f&lt;r;++f)n.push(n[o++]),i.push(0);this._time.push(t);for(f=r;f&gt;0;--f)n.push(a(l[f-1],c[f-1],arguments[f])),i.push(0)}},s.push=function(t){var e=this.lastT(),r=this.dimension;if(!(t&lt;e||arguments.length!==r+1)){var n=this._state,i=this._velocity,o=n.length-this.dimension,s=t-e,l=this.bounds,c=l[0],u=l[1],f=s&gt;1e-6?1/s:0;this._time.push(t);for(var h=r;h&gt;0;--h){var p=a(c[h-1],u[h-1],arguments[h]);n.push(p),i.push((p-n[o++])*f)}}},s.set=function(t){var e=this.dimension;if(!(t&lt;this.lastT()||arguments.length!==e+1)){var r=this._state,n=this._velocity,i=this.bounds,o=i[0],s=i[1];this._time.push(t);for(var l=e;l&gt;0;--l)r.push(a(o[l-1],s[l-1],arguments[l])),n.push(0)}},s.move=function(t){var e=this.lastT(),r=this.dimension;if(!(t&lt;=e||arguments.length!==r+1)){var n=this._state,i=this._velocity,o=n.length-this.dimension,s=this.bounds,l=s[0],c=s[1],u=t-e,f=u&gt;1e-6?1/u:0;this._time.push(t);for(var h=r;h&gt;0;--h){var p=arguments[h];n.push(a(l[h-1],c[h-1],n[o++]+p)),i.push(p*f)}}},s.idle=function(t){var e=this.lastT();if(!(t&lt;e)){var r=this.dimension,n=this._state,i=this._velocity,o=n.length-r,s=this.bounds,l=s[0],c=s[1],u=t-e;this._time.push(t);for(var f=r-1;f&gt;=0;--f)n.push(a(l[f],c[f],n[o]+u*i[o])),i.push(0),o+=1}}},{\&quot;binary-search-bounds\&quot;:243,\&quot;cubic-hermite\&quot;:150}],243:[function(t,e,r){\&quot;use strict\&quot;;function n(t,e,r,n,i,a){var o=[\&quot;function \&quot;,t,\&quot;(a,l,h,\&quot;,n.join(\&quot;,\&quot;),\&quot;){\&quot;,a?\&quot;\&quot;:\&quot;var i=\&quot;,r?\&quot;l-1\&quot;:\&quot;h+1\&quot;,\&quot;;while(l&lt;=h){var m=(l+h)&gt;&gt;&gt;1,x=a\&quot;,i?\&quot;.get(m)\&quot;:\&quot;[m]\&quot;];return a?e.indexOf(\&quot;c\&quot;)&lt;0?o.push(\&quot;;if(x===y){return m}else if(x&lt;=y){\&quot;):o.push(\&quot;;var p=c(x,y);if(p===0){return m}else if(p&lt;=0){\&quot;):o.push(\&quot;;if(\&quot;,e,\&quot;){i=m;\&quot;),r?o.push(\&quot;l=m+1}else{h=m-1}\&quot;):o.push(\&quot;h=m-1}else{l=m+1}\&quot;),o.push(\&quot;}\&quot;),a?o.push(\&quot;return -1};\&quot;):o.push(\&quot;return i};\&quot;),o.join(\&quot;\&quot;)}function i(t,e,r,i){return new Function([n(\&quot;A\&quot;,\&quot;x\&quot;+t+\&quot;y\&quot;,e,[\&quot;y\&quot;],!1,i),n(\&quot;B\&quot;,\&quot;x\&quot;+t+\&quot;y\&quot;,e,[\&quot;y\&quot;],!0,i),n(\&quot;P\&quot;,\&quot;c(x,y)\&quot;+t+\&quot;0\&quot;,e,[\&quot;y\&quot;,\&quot;c\&quot;],!1,i),n(\&quot;Q\&quot;,\&quot;c(x,y)\&quot;+t+\&quot;0\&quot;,e,[\&quot;y\&quot;,\&quot;c\&quot;],!0,i),\&quot;function dispatchBsearch\&quot;,r,\&quot;(a,y,c,l,h){if(a.shape){if(typeof(c)==='function'){return Q(a,(l===undefined)?0:l|0,(h===undefined)?a.shape[0]-1:h|0,y,c)}else{return B(a,(c===undefined)?0:c|0,(l===undefined)?a.shape[0]-1:l|0,y)}}else{if(typeof(c)==='function'){return P(a,(l===undefined)?0:l|0,(h===undefined)?a.length-1:h|0,y,c)}else{return A(a,(c===undefined)?0:c|0,(l===undefined)?a.length-1:l|0,y)}}}return dispatchBsearch\&quot;,r].join(\&quot;\&quot;))()}e.exports={ge:i(\&quot;&gt;=\&quot;,!1,\&quot;GE\&quot;),gt:i(\&quot;&gt;\&quot;,!1,\&quot;GT\&quot;),lt:i(\&quot;&lt;\&quot;,!0,\&quot;LT\&quot;),le:i(\&quot;&lt;=\&quot;,!0,\&quot;LE\&quot;),eq:i(\&quot;-\&quot;,!0,\&quot;EQ\&quot;,!0)}},{}],244:[function(t,e,r){var n=t(\&quot;dtype\&quot;);e.exports=function(t,e,r){if(!t)throw new TypeError(\&quot;must specify data as first parameter\&quot;);if(r=0|+(r||0),Array.isArray(t)&amp;&amp;t[0]&amp;&amp;\&quot;number\&quot;==typeof t[0][0]){var i,a,o,s,l=t[0].length,c=t.length*l;e&amp;&amp;\&quot;string\&quot;!=typeof e||(e=new(n(e||\&quot;float32\&quot;))(c+r));var u=e.length-r;if(c!==u)throw new Error(\&quot;source length \&quot;+c+\&quot; (\&quot;+l+\&quot;x\&quot;+t.length+\&quot;) does not match destination length \&quot;+u);for(i=0,o=r;i&lt;t.length;i++)for(a=0;a&lt;l;a++)e[o++]=null===t[i][a]?NaN:t[i][a]}else if(e&amp;&amp;\&quot;string\&quot;!=typeof e)e.set(t,r);else{var f=n(e||\&quot;float32\&quot;);if(Array.isArray(t)||\&quot;array\&quot;===e)for(e=new f(t.length+r),i=0,o=r,s=e.length;o&lt;s;o++,i++)e[o]=null===t[i]?NaN:t[i];else 0===r?e=new f(t):(e=new f(t.length+r)).set(t,r)}return e}},{dtype:175}],245:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;css-font/stringify\&quot;),i=[32,126];e.exports=function(t){var e=(t=t||{}).shape?t.shape:t.canvas?[t.canvas.width,t.canvas.height]:[512,512],r=t.canvas||document.createElement(\&quot;canvas\&quot;),a=t.font,o=\&quot;number\&quot;==typeof t.step?[t.step,t.step]:t.step||[32,32],s=t.chars||i;a&amp;&amp;\&quot;string\&quot;!=typeof a&amp;&amp;(a=n(a));if(Array.isArray(s)){if(2===s.length&amp;&amp;\&quot;number\&quot;==typeof s[0]&amp;&amp;\&quot;number\&quot;==typeof s[1]){for(var l=[],c=s[0],u=0;c&lt;=s[1];c++)l[u++]=String.fromCharCode(c);s=l}}else s=String(s).split(\&quot;\&quot;);e=e.slice(),r.width=e[0],r.height=e[1];var f=r.getContext(\&quot;2d\&quot;);f.fillStyle=\&quot;#000\&quot;,f.fillRect(0,0,r.width,r.height),f.font=a,f.textAlign=\&quot;center\&quot;,f.textBaseline=\&quot;middle\&quot;,f.fillStyle=\&quot;#fff\&quot;;var h=o[0]/2,p=o[1]/2;for(c=0;c&lt;s.length;c++)f.fillText(s[c],h,p),(h+=o[0])&gt;e[0]-o[0]/2&amp;&amp;(h=o[0]/2,p+=o[1]);return r}},{\&quot;css-font/stringify\&quot;:147}],246:[function(t,e,r){\&quot;use strict\&quot;;function n(t,e){e||(e={}),(\&quot;string\&quot;==typeof t||Array.isArray(t))&amp;&amp;(e.family=t);var r=Array.isArray(e.family)?e.family.join(\&quot;, \&quot;):e.family;if(!r)throw Error(\&quot;`family` must be defined\&quot;);var s=e.size||e.fontSize||e.em||48,l=e.weight||e.fontWeight||\&quot;\&quot;,c=(t=[e.style||e.fontStyle||\&quot;\&quot;,l,s].join(\&quot; \&quot;)+\&quot;px \&quot;+r,e.origin||\&quot;top\&quot;);if(n.cache[r]&amp;&amp;s&lt;=n.cache[r].em)return i(n.cache[r],c);var u=e.canvas||n.canvas,f=u.getContext(\&quot;2d\&quot;),h={upper:void 0!==e.upper?e.upper:\&quot;H\&quot;,lower:void 0!==e.lower?e.lower:\&quot;x\&quot;,descent:void 0!==e.descent?e.descent:\&quot;p\&quot;,ascent:void 0!==e.ascent?e.ascent:\&quot;h\&quot;,tittle:void 0!==e.tittle?e.tittle:\&quot;i\&quot;,overshoot:void 0!==e.overshoot?e.overshoot:\&quot;O\&quot;},p=Math.ceil(1.5*s);u.height=p,u.width=.5*p,f.font=t;var d={top:0};f.clearRect(0,0,p,p),f.textBaseline=\&quot;top\&quot;,f.fillStyle=\&quot;black\&quot;,f.fillText(\&quot;H\&quot;,0,0);var g=a(f.getImageData(0,0,p,p));f.clearRect(0,0,p,p),f.textBaseline=\&quot;bottom\&quot;,f.fillText(\&quot;H\&quot;,0,p);var m=a(f.getImageData(0,0,p,p));d.lineHeight=d.bottom=p-m+g,f.clearRect(0,0,p,p),f.textBaseline=\&quot;alphabetic\&quot;,f.fillText(\&quot;H\&quot;,0,p);var v=p-a(f.getImageData(0,0,p,p))-1+g;d.baseline=d.alphabetic=v,f.clearRect(0,0,p,p),f.textBaseline=\&quot;middle\&quot;,f.fillText(\&quot;H\&quot;,0,.5*p);var y=a(f.getImageData(0,0,p,p));d.median=d.middle=p-y-1+g-.5*p,f.clearRect(0,0,p,p),f.textBaseline=\&quot;hanging\&quot;,f.fillText(\&quot;H\&quot;,0,.5*p);var x=a(f.getImageData(0,0,p,p));d.hanging=p-x-1+g-.5*p,f.clearRect(0,0,p,p),f.textBaseline=\&quot;ideographic\&quot;,f.fillText(\&quot;H\&quot;,0,p);var b=a(f.getImageData(0,0,p,p));if(d.ideographic=p-b-1+g,h.upper&amp;&amp;(f.clearRect(0,0,p,p),f.textBaseline=\&quot;top\&quot;,f.fillText(h.upper,0,0),d.upper=a(f.getImageData(0,0,p,p)),d.capHeight=d.baseline-d.upper),h.lower&amp;&amp;(f.clearRect(0,0,p,p),f.textBaseline=\&quot;top\&quot;,f.fillText(h.lower,0,0),d.lower=a(f.getImageData(0,0,p,p)),d.xHeight=d.baseline-d.lower),h.tittle&amp;&amp;(f.clearRect(0,0,p,p),f.textBaseline=\&quot;top\&quot;,f.fillText(h.tittle,0,0),d.tittle=a(f.getImageData(0,0,p,p))),h.ascent&amp;&amp;(f.clearRect(0,0,p,p),f.textBaseline=\&quot;top\&quot;,f.fillText(h.ascent,0,0),d.ascent=a(f.getImageData(0,0,p,p))),h.descent&amp;&amp;(f.clearRect(0,0,p,p),f.textBaseline=\&quot;top\&quot;,f.fillText(h.descent,0,0),d.descent=o(f.getImageData(0,0,p,p))),h.overshoot){f.clearRect(0,0,p,p),f.textBaseline=\&quot;top\&quot;,f.fillText(h.overshoot,0,0);var _=o(f.getImageData(0,0,p,p));d.overshoot=_-v}for(var w in d)d[w]/=s;return d.em=s,n.cache[r]=d,i(d,c)}function i(t,e){var r={};for(var n in\&quot;string\&quot;==typeof e&amp;&amp;(e=t[e]),t)\&quot;em\&quot;!==n&amp;&amp;(r[n]=t[n]-e);return r}function a(t){for(var e=t.height,r=t.data,n=3;n&lt;r.length;n+=4)if(0!==r[n])return Math.floor(.25*(n-3)/e)}function o(t){for(var e=t.height,r=t.data,n=r.length-1;n&gt;0;n-=4)if(0!==r[n])return Math.floor(.25*(n-3)/e)}e.exports=n,n.canvas=document.createElement(\&quot;canvas\&quot;),n.cache={}},{}],247:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){return new s(t||g,null)};function n(t,e,r,n,i,a){this._color=t,this.key=e,this.value=r,this.left=n,this.right=i,this._count=a}function i(t){return new n(t._color,t.key,t.value,t.left,t.right,t._count)}function a(t,e){return new n(t,e.key,e.value,e.left,e.right,e._count)}function o(t){t._count=1+(t.left?t.left._count:0)+(t.right?t.right._count:0)}function s(t,e){this._compare=t,this.root=e}var l=s.prototype;function c(t,e){var r;if(e.left&amp;&amp;(r=c(t,e.left)))return r;return(r=t(e.key,e.value))||(e.right?c(t,e.right):void 0)}function u(t,e,r,n){if(e(t,n.key)&lt;=0){var i;if(n.left)if(i=u(t,e,r,n.left))return i;if(i=r(n.key,n.value))return i}if(n.right)return u(t,e,r,n.right)}function f(t,e,r,n,i){var a,o=r(t,i.key),s=r(e,i.key);if(o&lt;=0){if(i.left&amp;&amp;(a=f(t,e,r,n,i.left)))return a;if(s&gt;0&amp;&amp;(a=n(i.key,i.value)))return a}if(s&gt;0&amp;&amp;i.right)return f(t,e,r,n,i.right)}function h(t,e){this.tree=t,this._stack=e}Object.defineProperty(l,\&quot;keys\&quot;,{get:function(){var t=[];return this.forEach((function(e,r){t.push(e)})),t}}),Object.defineProperty(l,\&quot;values\&quot;,{get:function(){var t=[];return this.forEach((function(e,r){t.push(r)})),t}}),Object.defineProperty(l,\&quot;length\&quot;,{get:function(){return this.root?this.root._count:0}}),l.insert=function(t,e){for(var r=this._compare,i=this.root,l=[],c=[];i;){var u=r(t,i.key);l.push(i),c.push(u),i=u&lt;=0?i.left:i.right}l.push(new n(0,t,e,null,null,1));for(var f=l.length-2;f&gt;=0;--f){i=l[f];c[f]&lt;=0?l[f]=new n(i._color,i.key,i.value,l[f+1],i.right,i._count+1):l[f]=new n(i._color,i.key,i.value,i.left,l[f+1],i._count+1)}for(f=l.length-1;f&gt;1;--f){var h=l[f-1];i=l[f];if(1===h._color||1===i._color)break;var p=l[f-2];if(p.left===h)if(h.left===i){if(!(d=p.right)||0!==d._color){if(p._color=0,p.left=h.right,h._color=1,h.right=p,l[f-2]=h,l[f-1]=i,o(p),o(h),f&gt;=3)(g=l[f-3]).left===p?g.left=h:g.right=h;break}h._color=1,p.right=a(1,d),p._color=0,f-=1}else{if(!(d=p.right)||0!==d._color){if(h.right=i.left,p._color=0,p.left=i.right,i._color=1,i.left=h,i.right=p,l[f-2]=i,l[f-1]=h,o(p),o(h),o(i),f&gt;=3)(g=l[f-3]).left===p?g.left=i:g.right=i;break}h._color=1,p.right=a(1,d),p._color=0,f-=1}else if(h.right===i){if(!(d=p.left)||0!==d._color){if(p._color=0,p.right=h.left,h._color=1,h.left=p,l[f-2]=h,l[f-1]=i,o(p),o(h),f&gt;=3)(g=l[f-3]).right===p?g.right=h:g.left=h;break}h._color=1,p.left=a(1,d),p._color=0,f-=1}else{var d;if(!(d=p.left)||0!==d._color){var g;if(h.left=i.right,p._color=0,p.right=i.left,i._color=1,i.right=h,i.left=p,l[f-2]=i,l[f-1]=h,o(p),o(h),o(i),f&gt;=3)(g=l[f-3]).right===p?g.right=i:g.left=i;break}h._color=1,p.left=a(1,d),p._color=0,f-=1}}return l[0]._color=1,new s(r,l[0])},l.forEach=function(t,e,r){if(this.root)switch(arguments.length){case 1:return c(t,this.root);case 2:return u(e,this._compare,t,this.root);case 3:if(this._compare(e,r)&gt;=0)return;return f(e,r,this._compare,t,this.root)}},Object.defineProperty(l,\&quot;begin\&quot;,{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.left;return new h(this,t)}}),Object.defineProperty(l,\&quot;end\&quot;,{get:function(){for(var t=[],e=this.root;e;)t.push(e),e=e.right;return new h(this,t)}}),l.at=function(t){if(t&lt;0)return new h(this,[]);for(var e=this.root,r=[];;){if(r.push(e),e.left){if(t&lt;e.left._count){e=e.left;continue}t-=e.left._count}if(!t)return new h(this,r);if(t-=1,!e.right)break;if(t&gt;=e.right._count)break;e=e.right}return new h(this,[])},l.ge=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var a=e(t,r.key);n.push(r),a&lt;=0&amp;&amp;(i=n.length),r=a&lt;=0?r.left:r.right}return n.length=i,new h(this,n)},l.gt=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var a=e(t,r.key);n.push(r),a&lt;0&amp;&amp;(i=n.length),r=a&lt;0?r.left:r.right}return n.length=i,new h(this,n)},l.lt=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var a=e(t,r.key);n.push(r),a&gt;0&amp;&amp;(i=n.length),r=a&lt;=0?r.left:r.right}return n.length=i,new h(this,n)},l.le=function(t){for(var e=this._compare,r=this.root,n=[],i=0;r;){var a=e(t,r.key);n.push(r),a&gt;=0&amp;&amp;(i=n.length),r=a&lt;0?r.left:r.right}return n.length=i,new h(this,n)},l.find=function(t){for(var e=this._compare,r=this.root,n=[];r;){var i=e(t,r.key);if(n.push(r),0===i)return new h(this,n);r=i&lt;=0?r.left:r.right}return new h(this,[])},l.remove=function(t){var e=this.find(t);return e?e.remove():this},l.get=function(t){for(var e=this._compare,r=this.root;r;){var n=e(t,r.key);if(0===n)return r.value;r=n&lt;=0?r.left:r.right}};var p=h.prototype;function d(t,e){t.key=e.key,t.value=e.value,t.left=e.left,t.right=e.right,t._color=e._color,t._count=e._count}function g(t,e){return t&lt;e?-1:t&gt;e?1:0}Object.defineProperty(p,\&quot;valid\&quot;,{get:function(){return this._stack.length&gt;0}}),Object.defineProperty(p,\&quot;node\&quot;,{get:function(){return this._stack.length&gt;0?this._stack[this._stack.length-1]:null},enumerable:!0}),p.clone=function(){return new h(this.tree,this._stack.slice())},p.remove=function(){var t=this._stack;if(0===t.length)return this.tree;var e=new Array(t.length),r=t[t.length-1];e[e.length-1]=new n(r._color,r.key,r.value,r.left,r.right,r._count);for(var l=t.length-2;l&gt;=0;--l){(r=t[l]).left===t[l+1]?e[l]=new n(r._color,r.key,r.value,e[l+1],r.right,r._count):e[l]=new n(r._color,r.key,r.value,r.left,e[l+1],r._count)}if((r=e[e.length-1]).left&amp;&amp;r.right){var c=e.length;for(r=r.left;r.right;)e.push(r),r=r.right;var u=e[c-1];e.push(new n(r._color,u.key,u.value,r.left,r.right,r._count)),e[c-1].key=r.key,e[c-1].value=r.value;for(l=e.length-2;l&gt;=c;--l)r=e[l],e[l]=new n(r._color,r.key,r.value,r.left,e[l+1],r._count);e[c-1].left=e[c]}if(0===(r=e[e.length-1])._color){var f=e[e.length-2];f.left===r?f.left=null:f.right===r&amp;&amp;(f.right=null),e.pop();for(l=0;l&lt;e.length;++l)e[l]._count--;return new s(this.tree._compare,e[0])}if(r.left||r.right){r.left?d(r,r.left):r.right&amp;&amp;d(r,r.right),r._color=1;for(l=0;l&lt;e.length-1;++l)e[l]._count--;return new s(this.tree._compare,e[0])}if(1===e.length)return new s(this.tree._compare,null);for(l=0;l&lt;e.length;++l)e[l]._count--;var h=e[e.length-2];return function(t){for(var e,r,n,s,l=t.length-1;l&gt;=0;--l){if(e=t[l],0===l)return void(e._color=1);if((r=t[l-1]).left===e){if((n=r.right).right&amp;&amp;0===n.right._color){if(s=(n=r.right=i(n)).right=i(n.right),r.right=n.left,n.left=r,n.right=s,n._color=r._color,e._color=1,r._color=1,s._color=1,o(r),o(n),l&gt;1)(c=t[l-2]).left===r?c.left=n:c.right=n;return void(t[l-1]=n)}if(n.left&amp;&amp;0===n.left._color){if(s=(n=r.right=i(n)).left=i(n.left),r.right=s.left,n.left=s.right,s.left=r,s.right=n,s._color=r._color,r._color=1,n._color=1,e._color=1,o(r),o(n),o(s),l&gt;1)(c=t[l-2]).left===r?c.left=s:c.right=s;return void(t[l-1]=s)}if(1===n._color){if(0===r._color)return r._color=1,void(r.right=a(0,n));r.right=a(0,n);continue}n=i(n),r.right=n.left,n.left=r,n._color=r._color,r._color=0,o(r),o(n),l&gt;1&amp;&amp;((c=t[l-2]).left===r?c.left=n:c.right=n),t[l-1]=n,t[l]=r,l+1&lt;t.length?t[l+1]=e:t.push(e),l+=2}else{if((n=r.left).left&amp;&amp;0===n.left._color){if(s=(n=r.left=i(n)).left=i(n.left),r.left=n.right,n.right=r,n.left=s,n._color=r._color,e._color=1,r._color=1,s._color=1,o(r),o(n),l&gt;1)(c=t[l-2]).right===r?c.right=n:c.left=n;return void(t[l-1]=n)}if(n.right&amp;&amp;0===n.right._color){if(s=(n=r.left=i(n)).right=i(n.right),r.left=s.right,n.right=s.left,s.right=r,s.left=n,s._color=r._color,r._color=1,n._color=1,e._color=1,o(r),o(n),o(s),l&gt;1)(c=t[l-2]).right===r?c.right=s:c.left=s;return void(t[l-1]=s)}if(1===n._color){if(0===r._color)return r._color=1,void(r.left=a(0,n));r.left=a(0,n);continue}var c;n=i(n),r.left=n.right,n.right=r,n._color=r._color,r._color=0,o(r),o(n),l&gt;1&amp;&amp;((c=t[l-2]).right===r?c.right=n:c.left=n),t[l-1]=n,t[l]=r,l+1&lt;t.length?t[l+1]=e:t.push(e),l+=2}}}(e),h.left===r?h.left=null:h.right=null,new s(this.tree._compare,e[0])},Object.defineProperty(p,\&quot;key\&quot;,{get:function(){if(this._stack.length&gt;0)return this._stack[this._stack.length-1].key},enumerable:!0}),Object.defineProperty(p,\&quot;value\&quot;,{get:function(){if(this._stack.length&gt;0)return this._stack[this._stack.length-1].value},enumerable:!0}),Object.defineProperty(p,\&quot;index\&quot;,{get:function(){var t=0,e=this._stack;if(0===e.length){var r=this.tree.root;return r?r._count:0}e[e.length-1].left&amp;&amp;(t=e[e.length-1].left._count);for(var n=e.length-2;n&gt;=0;--n)e[n+1]===e[n].right&amp;&amp;(++t,e[n].left&amp;&amp;(t+=e[n].left._count));return t},enumerable:!0}),p.next=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.right)for(e=e.right;e;)t.push(e),e=e.left;else for(t.pop();t.length&gt;0&amp;&amp;t[t.length-1].right===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(p,\&quot;hasNext\&quot;,{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].right)return!0;for(var e=t.length-1;e&gt;0;--e)if(t[e-1].left===t[e])return!0;return!1}}),p.update=function(t){var e=this._stack;if(0===e.length)throw new Error(\&quot;Can't update empty node!\&quot;);var r=new Array(e.length),i=e[e.length-1];r[r.length-1]=new n(i._color,i.key,t,i.left,i.right,i._count);for(var a=e.length-2;a&gt;=0;--a)(i=e[a]).left===e[a+1]?r[a]=new n(i._color,i.key,i.value,r[a+1],i.right,i._count):r[a]=new n(i._color,i.key,i.value,i.left,r[a+1],i._count);return new s(this.tree._compare,r[0])},p.prev=function(){var t=this._stack;if(0!==t.length){var e=t[t.length-1];if(e.left)for(e=e.left;e;)t.push(e),e=e.right;else for(t.pop();t.length&gt;0&amp;&amp;t[t.length-1].left===e;)e=t[t.length-1],t.pop()}},Object.defineProperty(p,\&quot;hasPrev\&quot;,{get:function(){var t=this._stack;if(0===t.length)return!1;if(t[t.length-1].left)return!0;for(var e=t.length-1;e&gt;0;--e)if(t[e-1].right===t[e])return!0;return!1}})},{}],248:[function(t,e,r){var n=[.9999999999998099,676.5203681218851,-1259.1392167224028,771.3234287776531,-176.6150291621406,12.507343278686905,-.13857109526572012,9984369578019572e-21,1.5056327351493116e-7],i=[.9999999999999971,57.15623566586292,-59.59796035547549,14.136097974741746,-.4919138160976202,3399464998481189e-20,4652362892704858e-20,-9837447530487956e-20,.0001580887032249125,-.00021026444172410488,.00021743961811521265,-.0001643181065367639,8441822398385275e-20,-26190838401581408e-21,36899182659531625e-22];function a(t){if(t&lt;0)return Number(\&quot;0/0\&quot;);for(var e=i[0],r=i.length-1;r&gt;0;--r)e+=i[r]/(t+r);var n=t+607/128+.5;return.5*Math.log(2*Math.PI)+(t+.5)*Math.log(n)-n+Math.log(e)-Math.log(t)}e.exports=function t(e){if(e&lt;.5)return Math.PI/(Math.sin(Math.PI*e)*t(1-e));if(e&gt;100)return Math.exp(a(e));e-=1;for(var r=n[0],i=1;i&lt;9;i++)r+=n[i]/(e+i);var o=e+7+.5;return Math.sqrt(2*Math.PI)*Math.pow(o,e+.5)*Math.exp(-o)*r},e.exports.log=a},{}],249:[function(t,e,r){e.exports=function(t,e){if(\&quot;string\&quot;!=typeof t)throw new TypeError(\&quot;must specify type string\&quot;);if(e=e||{},\&quot;undefined\&quot;==typeof document&amp;&amp;!e.canvas)return null;var r=e.canvas||document.createElement(\&quot;canvas\&quot;);\&quot;number\&quot;==typeof e.width&amp;&amp;(r.width=e.width);\&quot;number\&quot;==typeof e.height&amp;&amp;(r.height=e.height);var n,i=e;try{var a=[t];0===t.indexOf(\&quot;webgl\&quot;)&amp;&amp;a.push(\&quot;experimental-\&quot;+t);for(var o=0;o&lt;a.length;o++)if(n=r.getContext(a[o],i))return n}catch(t){n=null}return n||null}},{}],250:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e){var r=new u(t);return r.update(e),r};var n=t(\&quot;./lib/text.js\&quot;),i=t(\&quot;./lib/lines.js\&quot;),a=t(\&quot;./lib/background.js\&quot;),o=t(\&quot;./lib/cube.js\&quot;),s=t(\&quot;./lib/ticks.js\&quot;),l=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);function c(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function u(t){this.gl=t,this.pixelRatio=1,this.bounds=[[-10,-10,-10],[10,10,10]],this.ticks=[[],[],[]],this.autoTicks=!0,this.tickSpacing=[1,1,1],this.tickEnable=[!0,!0,!0],this.tickFont=[\&quot;sans-serif\&quot;,\&quot;sans-serif\&quot;,\&quot;sans-serif\&quot;],this.tickSize=[12,12,12],this.tickAngle=[0,0,0],this.tickAlign=[\&quot;auto\&quot;,\&quot;auto\&quot;,\&quot;auto\&quot;],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[10,10,10],this.lastCubeProps={cubeEdges:[0,0,0],axis:[0,0,0]},this.labels=[\&quot;x\&quot;,\&quot;y\&quot;,\&quot;z\&quot;],this.labelEnable=[!0,!0,!0],this.labelFont=\&quot;sans-serif\&quot;,this.labelSize=[20,20,20],this.labelAngle=[0,0,0],this.labelAlign=[\&quot;auto\&quot;,\&quot;auto\&quot;,\&quot;auto\&quot;],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[10,10,10],this.lineEnable=[!0,!0,!0],this.lineMirror=[!1,!1,!1],this.lineWidth=[1,1,1],this.lineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.lineTickEnable=[!0,!0,!0],this.lineTickMirror=[!1,!1,!1],this.lineTickLength=[0,0,0],this.lineTickWidth=[1,1,1],this.lineTickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.gridEnable=[!0,!0,!0],this.gridWidth=[1,1,1],this.gridColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroEnable=[!0,!0,!0],this.zeroLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.zeroLineWidth=[2,2,2],this.backgroundEnable=[!1,!1,!1],this.backgroundColor=[[.8,.8,.8,.5],[.8,.8,.8,.5],[.8,.8,.8,.5]],this._firstInit=!0,this._text=null,this._lines=null,this._background=a(t)}var f=u.prototype;function h(){this.primalOffset=[0,0,0],this.primalMinor=[0,0,0],this.mirrorOffset=[0,0,0],this.mirrorMinor=[0,0,0]}f.update=function(t){function e(e,r,n){if(n in t){var i,a=t[n],o=this[n];(e?Array.isArray(a)&amp;&amp;Array.isArray(a[0]):Array.isArray(a))?this[n]=i=[r(a[0]),r(a[1]),r(a[2])]:this[n]=i=[r(a),r(a),r(a)];for(var s=0;s&lt;3;++s)if(i[s]!==o[s])return!0}return!1}t=t||{};var r,a=e.bind(this,!1,Number),o=e.bind(this,!1,Boolean),l=e.bind(this,!1,String),c=e.bind(this,!0,(function(t){if(Array.isArray(t)){if(3===t.length)return[+t[0],+t[1],+t[2],1];if(4===t.length)return[+t[0],+t[1],+t[2],+t[3]]}return[0,0,0,1]})),u=!1,f=!1;if(\&quot;bounds\&quot;in t)for(var h=t.bounds,p=0;p&lt;2;++p)for(var d=0;d&lt;3;++d)h[p][d]!==this.bounds[p][d]&amp;&amp;(f=!0),this.bounds[p][d]=h[p][d];if(\&quot;ticks\&quot;in t){r=t.ticks,u=!0,this.autoTicks=!1;for(p=0;p&lt;3;++p)this.tickSpacing[p]=0}else a(\&quot;tickSpacing\&quot;)&amp;&amp;(this.autoTicks=!0,f=!0);if(this._firstInit&amp;&amp;(\&quot;ticks\&quot;in t||\&quot;tickSpacing\&quot;in t||(this.autoTicks=!0),f=!0,u=!0,this._firstInit=!1),f&amp;&amp;this.autoTicks&amp;&amp;(r=s.create(this.bounds,this.tickSpacing),u=!0),u){for(p=0;p&lt;3;++p)r[p].sort((function(t,e){return t.x-e.x}));s.equal(r,this.ticks)?u=!1:this.ticks=r}o(\&quot;tickEnable\&quot;),l(\&quot;tickFont\&quot;)&amp;&amp;(u=!0),a(\&quot;tickSize\&quot;),a(\&quot;tickAngle\&quot;),a(\&quot;tickPad\&quot;),c(\&quot;tickColor\&quot;);var g=l(\&quot;labels\&quot;);l(\&quot;labelFont\&quot;)&amp;&amp;(g=!0),o(\&quot;labelEnable\&quot;),a(\&quot;labelSize\&quot;),a(\&quot;labelPad\&quot;),c(\&quot;labelColor\&quot;),o(\&quot;lineEnable\&quot;),o(\&quot;lineMirror\&quot;),a(\&quot;lineWidth\&quot;),c(\&quot;lineColor\&quot;),o(\&quot;lineTickEnable\&quot;),o(\&quot;lineTickMirror\&quot;),a(\&quot;lineTickLength\&quot;),a(\&quot;lineTickWidth\&quot;),c(\&quot;lineTickColor\&quot;),o(\&quot;gridEnable\&quot;),a(\&quot;gridWidth\&quot;),c(\&quot;gridColor\&quot;),o(\&quot;zeroEnable\&quot;),c(\&quot;zeroLineColor\&quot;),a(\&quot;zeroLineWidth\&quot;),o(\&quot;backgroundEnable\&quot;),c(\&quot;backgroundColor\&quot;),this._text?this._text&amp;&amp;(g||u)&amp;&amp;this._text.update(this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont):this._text=n(this.gl,this.bounds,this.labels,this.labelFont,this.ticks,this.tickFont),this._lines&amp;&amp;u&amp;&amp;(this._lines.dispose(),this._lines=null),this._lines||(this._lines=i(this.gl,this.bounds,this.ticks))};var p=[new h,new h,new h];function d(t,e,r,n,i){for(var a=t.primalOffset,o=t.primalMinor,s=t.mirrorOffset,l=t.mirrorMinor,c=n[e],u=0;u&lt;3;++u)if(e!==u){var f=a,h=s,p=o,d=l;c&amp;1&lt;&lt;u&amp;&amp;(f=s,h=a,p=l,d=o),f[u]=r[0][u],h[u]=r[1][u],i[u]&gt;0?(p[u]=-1,d[u]=0):(p[u]=0,d[u]=1)}}var g=[0,0,0],m={model:l,view:l,projection:l,_ortho:!1};f.isOpaque=function(){return!0},f.isTransparent=function(){return!1},f.drawTransparent=function(t){};var v=[0,0,0],y=[0,0,0],x=[0,0,0];f.draw=function(t){t=t||m;for(var e=this.gl,r=t.model||l,n=t.view||l,i=t.projection||l,a=this.bounds,s=t._ortho||!1,u=o(r,n,i,a,s),f=u.cubeEdges,h=u.axis,b=n[12],_=n[13],w=n[14],T=n[15],k=(s?2:1)*this.pixelRatio*(i[3]*b+i[7]*_+i[11]*w+i[15]*T)/e.drawingBufferHeight,M=0;M&lt;3;++M)this.lastCubeProps.cubeEdges[M]=f[M],this.lastCubeProps.axis[M]=h[M];var A=p;for(M=0;M&lt;3;++M)d(p[M],M,this.bounds,f,h);e=this.gl;var S,E=g;for(M=0;M&lt;3;++M)this.backgroundEnable[M]?E[M]=h[M]:E[M]=0;this._background.draw(r,n,i,a,E,this.backgroundColor),this._lines.bind(r,n,i,this);for(M=0;M&lt;3;++M){var C=[0,0,0];h[M]&gt;0?C[M]=a[1][M]:C[M]=a[0][M];for(var L=0;L&lt;2;++L){var I=(M+1+L)%3,P=(M+1+(1^L))%3;this.gridEnable[I]&amp;&amp;this._lines.drawGrid(I,P,this.bounds,C,this.gridColor[I],this.gridWidth[I]*this.pixelRatio)}for(L=0;L&lt;2;++L){I=(M+1+L)%3,P=(M+1+(1^L))%3;this.zeroEnable[P]&amp;&amp;Math.min(a[0][P],a[1][P])&lt;=0&amp;&amp;Math.max(a[0][P],a[1][P])&gt;=0&amp;&amp;this._lines.drawZero(I,P,this.bounds,C,this.zeroLineColor[P],this.zeroLineWidth[P]*this.pixelRatio)}}for(M=0;M&lt;3;++M){this.lineEnable[M]&amp;&amp;this._lines.drawAxisLine(M,this.bounds,A[M].primalOffset,this.lineColor[M],this.lineWidth[M]*this.pixelRatio),this.lineMirror[M]&amp;&amp;this._lines.drawAxisLine(M,this.bounds,A[M].mirrorOffset,this.lineColor[M],this.lineWidth[M]*this.pixelRatio);var z=c(v,A[M].primalMinor),O=c(y,A[M].mirrorMinor),D=this.lineTickLength;for(L=0;L&lt;3;++L){var R=k/r[5*L];z[L]*=D[L]*R,O[L]*=D[L]*R}this.lineTickEnable[M]&amp;&amp;this._lines.drawAxisTicks(M,A[M].primalOffset,z,this.lineTickColor[M],this.lineTickWidth[M]*this.pixelRatio),this.lineTickMirror[M]&amp;&amp;this._lines.drawAxisTicks(M,A[M].mirrorOffset,O,this.lineTickColor[M],this.lineTickWidth[M]*this.pixelRatio)}this._lines.unbind(),this._text.bind(r,n,i,this.pixelRatio);var F,B;function N(t){(B=[0,0,0])[t]=1}function j(t,e,r){var n=(t+1)%3,i=(t+2)%3,a=e[n],o=e[i],s=r[n],l=r[i];a&gt;0&amp;&amp;l&gt;0||a&gt;0&amp;&amp;l&lt;0||a&lt;0&amp;&amp;l&gt;0||a&lt;0&amp;&amp;l&lt;0?N(n):(o&gt;0&amp;&amp;s&gt;0||o&gt;0&amp;&amp;s&lt;0||o&lt;0&amp;&amp;s&gt;0||o&lt;0&amp;&amp;s&lt;0)&amp;&amp;N(i)}for(M=0;M&lt;3;++M){var U=A[M].primalMinor,V=A[M].mirrorMinor,q=c(x,A[M].primalOffset);for(L=0;L&lt;3;++L)this.lineTickEnable[M]&amp;&amp;(q[L]+=k*U[L]*Math.max(this.lineTickLength[L],0)/r[5*L]);var H=[0,0,0];if(H[M]=1,this.tickEnable[M]){-3600===this.tickAngle[M]?(this.tickAngle[M]=0,this.tickAlign[M]=\&quot;auto\&quot;):this.tickAlign[M]=-1,F=1,\&quot;auto\&quot;===(S=[this.tickAlign[M],.5,F])[0]?S[0]=0:S[0]=parseInt(\&quot;\&quot;+S[0]),B=[0,0,0],j(M,U,V);for(L=0;L&lt;3;++L)q[L]+=k*U[L]*this.tickPad[L]/r[5*L];this._text.drawTicks(M,this.tickSize[M],this.tickAngle[M],q,this.tickColor[M],H,B,S)}if(this.labelEnable[M]){F=0,B=[0,0,0],this.labels[M].length&gt;4&amp;&amp;(N(M),F=1),\&quot;auto\&quot;===(S=[this.labelAlign[M],.5,F])[0]?S[0]=0:S[0]=parseInt(\&quot;\&quot;+S[0]);for(L=0;L&lt;3;++L)q[L]+=k*U[L]*this.labelPad[L]/r[5*L];q[M]+=.5*(a[0][M]+a[1][M]),this._text.drawLabel(M,this.labelSize[M],this.labelAngle[M],q,this.labelColor[M],[0,0,0],B,S)}}this._text.unbind()},f.dispose=function(){this._text.dispose(),this._lines.dispose(),this._background.dispose(),this._lines=null,this._text=null,this._background=null,this.gl=null}},{\&quot;./lib/background.js\&quot;:251,\&quot;./lib/cube.js\&quot;:252,\&quot;./lib/lines.js\&quot;:253,\&quot;./lib/text.js\&quot;:255,\&quot;./lib/ticks.js\&quot;:256}],251:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){for(var e=[],r=[],s=0,l=0;l&lt;3;++l)for(var c=(l+1)%3,u=(l+2)%3,f=[0,0,0],h=[0,0,0],p=-1;p&lt;=1;p+=2){r.push(s,s+2,s+1,s+1,s+2,s+3),f[l]=p,h[l]=p;for(var d=-1;d&lt;=1;d+=2){f[c]=d;for(var g=-1;g&lt;=1;g+=2)f[u]=g,e.push(f[0],f[1],f[2],h[0],h[1],h[2]),s+=1}var m=c;c=u,u=m}var v=n(t,new Float32Array(e)),y=n(t,new Uint16Array(r),t.ELEMENT_ARRAY_BUFFER),x=i(t,[{buffer:v,type:t.FLOAT,size:3,offset:0,stride:24},{buffer:v,type:t.FLOAT,size:3,offset:12,stride:24}],y),b=a(t);return b.attributes.position.location=0,b.attributes.normal.location=1,new o(t,v,x,b)};var n=t(\&quot;gl-buffer\&quot;),i=t(\&quot;gl-vao\&quot;),a=t(\&quot;./shaders\&quot;).bg;function o(t,e,r,n){this.gl=t,this.buffer=e,this.vao=r,this.shader=n}var s=o.prototype;s.draw=function(t,e,r,n,i,a){for(var o=!1,s=0;s&lt;3;++s)o=o||i[s];if(o){var l=this.gl;l.enable(l.POLYGON_OFFSET_FILL),l.polygonOffset(1,2),this.shader.bind(),this.shader.uniforms={model:t,view:e,projection:r,bounds:n,enable:i,colors:a},this.vao.bind(),this.vao.draw(this.gl.TRIANGLES,36),this.vao.unbind(),l.disable(l.POLYGON_OFFSET_FILL)}},s.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},{\&quot;./shaders\&quot;:254,\&quot;gl-buffer\&quot;:259,\&quot;gl-vao\&quot;:358}],252:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e,r,a,p){i(s,e,t),i(s,r,s);for(var y=0,x=0;x&lt;2;++x){u[2]=a[x][2];for(var b=0;b&lt;2;++b){u[1]=a[b][1];for(var _=0;_&lt;2;++_)u[0]=a[_][0],h(l[y],u,s),y+=1}}var w=-1;for(x=0;x&lt;8;++x){for(var T=l[x][3],k=0;k&lt;3;++k)c[x][k]=l[x][k]/T;p&amp;&amp;(c[x][2]*=-1),T&lt;0&amp;&amp;(w&lt;0||c[x][2]&lt;c[w][2])&amp;&amp;(w=x)}if(w&lt;0){w=0;for(var M=0;M&lt;3;++M){for(var A=(M+2)%3,S=(M+1)%3,E=-1,C=-1,L=0;L&lt;2;++L){var I=(z=L&lt;&lt;M)+(L&lt;&lt;A)+(1-L&lt;&lt;S),P=z+(1-L&lt;&lt;A)+(L&lt;&lt;S);o(c[z],c[I],c[P],f)&lt;0||(L?E=1:C=1)}if(E&lt;0||C&lt;0)C&gt;E&amp;&amp;(w|=1&lt;&lt;M);else{for(L=0;L&lt;2;++L){I=(z=L&lt;&lt;M)+(L&lt;&lt;A)+(1-L&lt;&lt;S),P=z+(1-L&lt;&lt;A)+(L&lt;&lt;S);var z,O=d([l[z],l[I],l[P],l[z+(1&lt;&lt;A)+(1&lt;&lt;S)]]);L?E=O:C=O}C&gt;E&amp;&amp;(w|=1&lt;&lt;M)}}}var D=7^w,R=-1;for(x=0;x&lt;8;++x)x!==w&amp;&amp;x!==D&amp;&amp;(R&lt;0||c[R][1]&gt;c[x][1])&amp;&amp;(R=x);var F=-1;for(x=0;x&lt;3;++x){if((N=R^1&lt;&lt;x)!==w&amp;&amp;N!==D)F&lt;0&amp;&amp;(F=N),(S=c[N])[0]&lt;c[F][0]&amp;&amp;(F=N)}var B=-1;for(x=0;x&lt;3;++x){var N;if((N=R^1&lt;&lt;x)!==w&amp;&amp;N!==D&amp;&amp;N!==F)B&lt;0&amp;&amp;(B=N),(S=c[N])[0]&gt;c[B][0]&amp;&amp;(B=N)}var j=g;j[0]=j[1]=j[2]=0,j[n.log2(F^R)]=R&amp;F,j[n.log2(R^B)]=R&amp;B;var U=7^B;U===w||U===D?(U=7^F,j[n.log2(B^U)]=U&amp;B):j[n.log2(F^U)]=U&amp;F;var V=m,q=w;for(M=0;M&lt;3;++M)V[M]=q&amp;1&lt;&lt;M?-1:1;return v};var n=t(\&quot;bit-twiddle\&quot;),i=t(\&quot;gl-mat4/multiply\&quot;),a=t(\&quot;split-polygon\&quot;),o=t(\&quot;robust-orientation\&quot;),s=new Array(16),l=new Array(8),c=new Array(8),u=new Array(3),f=[0,0,0];function h(t,e,r){for(var n=0;n&lt;4;++n){t[n]=r[12+n];for(var i=0;i&lt;3;++i)t[n]+=e[i]*r[4*i+n]}}!function(){for(var t=0;t&lt;8;++t)l[t]=[1,1,1,1],c[t]=[1,1,1]}();var p=[[0,0,1,0,0],[0,0,-1,1,0],[0,-1,0,1,0],[0,1,0,1,0],[-1,0,0,1,0],[1,0,0,1,0]];function d(t){for(var e=0;e&lt;p.length;++e)if((t=a.positive(t,p[e])).length&lt;3)return 0;var r=t[0],n=r[0]/r[3],i=r[1]/r[3],o=0;for(e=1;e+1&lt;t.length;++e){var s=t[e],l=t[e+1],c=s[0]/s[3]-n,u=s[1]/s[3]-i,f=l[0]/l[3]-n,h=l[1]/l[3]-i;o+=Math.abs(c*h-u*f)}return o}var g=[1,1,1],m=[0,0,0],v={cubeEdges:g,axis:m}},{\&quot;bit-twiddle\&quot;:97,\&quot;gl-mat4/multiply\&quot;:295,\&quot;robust-orientation\&quot;:548,\&quot;split-polygon\&quot;:566}],253:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e,r){var o=[],s=[0,0,0],l=[0,0,0],c=[0,0,0],u=[0,0,0];o.push(0,0,1,0,1,1,0,0,-1,0,0,-1,0,1,1,0,1,-1);for(var f=0;f&lt;3;++f){for(var h=o.length/3|0,d=0;d&lt;r[f].length;++d){var g=+r[f][d].x;o.push(g,0,1,g,1,1,g,0,-1,g,0,-1,g,1,1,g,1,-1)}var m=o.length/3|0;s[f]=h,l[f]=m-h;h=o.length/3|0;for(var v=0;v&lt;r[f].length;++v){g=+r[f][v].x;o.push(g,0,1,g,1,1,g,0,-1,g,0,-1,g,1,1,g,1,-1)}m=o.length/3|0;c[f]=h,u[f]=m-h}var y=n(t,new Float32Array(o)),x=i(t,[{buffer:y,type:t.FLOAT,size:3,stride:0,offset:0}]),b=a(t);return b.attributes.position.location=0,new p(t,y,x,b,l,s,u,c)};var n=t(\&quot;gl-buffer\&quot;),i=t(\&quot;gl-vao\&quot;),a=t(\&quot;./shaders\&quot;).line,o=[0,0,0],s=[0,0,0],l=[0,0,0],c=[0,0,0],u=[1,1];function f(t){return t[0]=t[1]=t[2]=0,t}function h(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}function p(t,e,r,n,i,a,o,s){this.gl=t,this.vertBuffer=e,this.vao=r,this.shader=n,this.tickCount=i,this.tickOffset=a,this.gridCount=o,this.gridOffset=s}var d=p.prototype;d.bind=function(t,e,r){this.shader.bind(),this.shader.uniforms.model=t,this.shader.uniforms.view=e,this.shader.uniforms.projection=r,u[0]=this.gl.drawingBufferWidth,u[1]=this.gl.drawingBufferHeight,this.shader.uniforms.screenShape=u,this.vao.bind()},d.unbind=function(){this.vao.unbind()},d.drawAxisLine=function(t,e,r,n,i){var a=f(s);this.shader.uniforms.majorAxis=s,a[t]=e[1][t]-e[0][t],this.shader.uniforms.minorAxis=a;var o,u=h(c,r);u[t]+=e[0][t],this.shader.uniforms.offset=u,this.shader.uniforms.lineWidth=i,this.shader.uniforms.color=n,(o=f(l))[(t+2)%3]=1,this.shader.uniforms.screenAxis=o,this.vao.draw(this.gl.TRIANGLES,6),(o=f(l))[(t+1)%3]=1,this.shader.uniforms.screenAxis=o,this.vao.draw(this.gl.TRIANGLES,6)},d.drawAxisTicks=function(t,e,r,n,i){if(this.tickCount[t]){var a=f(o);a[t]=1,this.shader.uniforms.majorAxis=a,this.shader.uniforms.offset=e,this.shader.uniforms.minorAxis=r,this.shader.uniforms.color=n,this.shader.uniforms.lineWidth=i;var s=f(l);s[t]=1,this.shader.uniforms.screenAxis=s,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t])}},d.drawGrid=function(t,e,r,n,i,a){if(this.gridCount[t]){var u=f(s);u[e]=r[1][e]-r[0][e],this.shader.uniforms.minorAxis=u;var p=h(c,n);p[e]+=r[0][e],this.shader.uniforms.offset=p;var d=f(o);d[t]=1,this.shader.uniforms.majorAxis=d;var g=f(l);g[t]=1,this.shader.uniforms.screenAxis=g,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=i,this.vao.draw(this.gl.TRIANGLES,this.gridCount[t],this.gridOffset[t])}},d.drawZero=function(t,e,r,n,i,a){var o=f(s);this.shader.uniforms.majorAxis=o,o[t]=r[1][t]-r[0][t],this.shader.uniforms.minorAxis=o;var u=h(c,n);u[t]+=r[0][t],this.shader.uniforms.offset=u;var p=f(l);p[e]=1,this.shader.uniforms.screenAxis=p,this.shader.uniforms.lineWidth=a,this.shader.uniforms.color=i,this.vao.draw(this.gl.TRIANGLES,6)},d.dispose=function(){this.vao.dispose(),this.vertBuffer.dispose(),this.shader.dispose()}},{\&quot;./shaders\&quot;:254,\&quot;gl-buffer\&quot;:259,\&quot;gl-vao\&quot;:358}],254:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;glslify\&quot;),i=t(\&quot;gl-shader\&quot;),a=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position;\\n\\nuniform mat4 model, view, projection;\\nuniform vec3 offset, majorAxis, minorAxis, screenAxis;\\nuniform float lineWidth;\\nuniform vec2 screenShape;\\n\\nvec3 project(vec3 p) {\\n  vec4 pp = projection * view * model * vec4(p, 1.0);\\n  return pp.xyz / max(pp.w, 0.0001);\\n}\\n\\nvoid main() {\\n  vec3 major = position.x * majorAxis;\\n  vec3 minor = position.y * minorAxis;\\n\\n  vec3 vPosition = major + minor + offset;\\n  vec3 pPosition = project(vPosition);\\n  vec3 offset = project(vPosition + screenAxis * position.z);\\n\\n  vec2 screen = normalize((offset - pPosition).xy * screenShape) / screenShape;\\n\\n  gl_Position = vec4(pPosition + vec3(0.5 * screen * lineWidth, 0), 1.0);\\n}\\n\&quot;]),o=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nuniform vec4 color;\\nvoid main() {\\n  gl_FragColor = color;\\n}\&quot;]);r.line=function(t){return i(t,a,o,null,[{name:\&quot;position\&quot;,type:\&quot;vec3\&quot;}])};var s=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position;\\n\\nuniform mat4 model, view, projection;\\nuniform vec3 offset, axis, alignDir, alignOpt;\\nuniform float scale, angle, pixelScale;\\nuniform vec2 resolution;\\n\\nvec3 project(vec3 p) {\\n  vec4 pp = projection * view * model * vec4(p, 1.0);\\n  return pp.xyz / max(pp.w, 0.0001);\\n}\\n\\nfloat computeViewAngle(vec3 a, vec3 b) {\\n  vec3 A = project(a);\\n  vec3 B = project(b);\\n\\n  return atan(\\n    (B.y - A.y) * resolution.y,\\n    (B.x - A.x) * resolution.x\\n  );\\n}\\n\\nconst float PI = 3.141592;\\nconst float TWO_PI = 2.0 * PI;\\nconst float HALF_PI = 0.5 * PI;\\nconst float ONE_AND_HALF_PI = 1.5 * PI;\\n\\nint option = int(floor(alignOpt.x + 0.001));\\nfloat hv_ratio =       alignOpt.y;\\nbool enableAlign =    (alignOpt.z != 0.0);\\n\\nfloat mod_angle(float a) {\\n  return mod(a, PI);\\n}\\n\\nfloat positive_angle(float a) {\\n  return mod_angle((a &lt; 0.0) ?\\n    a + TWO_PI :\\n    a\\n  );\\n}\\n\\nfloat look_upwards(float a) {\\n  float b = positive_angle(a);\\n  return ((b &gt; HALF_PI) &amp;&amp; (b &lt;= ONE_AND_HALF_PI)) ?\\n    b - PI :\\n    b;\\n}\\n\\nfloat look_horizontal_or_vertical(float a, float ratio) {\\n  // ratio controls the ratio between being horizontal to (vertical + horizontal)\\n  // if ratio is set to 0.5 then it is 50%, 50%.\\n  // when using a higher ratio e.g. 0.75 the result would\\n  // likely be more horizontal than vertical.\\n\\n  float b = positive_angle(a);\\n\\n  return\\n    (b &lt; (      ratio) * HALF_PI) ? 0.0 :\\n    (b &lt; (2.0 - ratio) * HALF_PI) ? -HALF_PI :\\n    (b &lt; (2.0 + ratio) * HALF_PI) ? 0.0 :\\n    (b &lt; (4.0 - ratio) * HALF_PI) ? HALF_PI :\\n                                    0.0;\\n}\\n\\nfloat roundTo(float a, float b) {\\n  return float(b * floor((a + 0.5 * b) / b));\\n}\\n\\nfloat look_round_n_directions(float a, int n) {\\n  float b = positive_angle(a);\\n  float div = TWO_PI / float(n);\\n  float c = roundTo(b, div);\\n  return look_upwards(c);\\n}\\n\\nfloat applyAlignOption(float rawAngle, float delta) {\\n  return\\n    (option &gt;  2) ? look_round_n_directions(rawAngle + delta, option) :       // option 3-n: round to n directions\\n    (option == 2) ? look_horizontal_or_vertical(rawAngle + delta, hv_ratio) : // horizontal or vertical\\n    (option == 1) ? rawAngle + delta :       // use free angle, and flip to align with one direction of the axis\\n    (option == 0) ? look_upwards(rawAngle) : // use free angle, and stay upwards\\n    (option ==-1) ? 0.0 :                    // useful for backward compatibility, all texts remains horizontal\\n                    rawAngle;                // otherwise return back raw input angle\\n}\\n\\nbool isAxisTitle = (axis.x == 0.0) &amp;&amp;\\n                   (axis.y == 0.0) &amp;&amp;\\n                   (axis.z == 0.0);\\n\\nvoid main() {\\n  //Compute world offset\\n  float axisDistance = position.z;\\n  vec3 dataPosition = axisDistance * axis + offset;\\n\\n  float beta = angle; // i.e. user defined attributes for each tick\\n\\n  float axisAngle;\\n  float clipAngle;\\n  float flip;\\n\\n  if (enableAlign) {\\n    axisAngle = (isAxisTitle) ? HALF_PI :\\n                      computeViewAngle(dataPosition, dataPosition + axis);\\n    clipAngle = computeViewAngle(dataPosition, dataPosition + alignDir);\\n\\n    axisAngle += (sin(axisAngle) &lt; 0.0) ? PI : 0.0;\\n    clipAngle += (sin(clipAngle) &lt; 0.0) ? PI : 0.0;\\n\\n    flip = (dot(vec2(cos(axisAngle), sin(axisAngle)),\\n                vec2(sin(clipAngle),-cos(clipAngle))) &gt; 0.0) ? 1.0 : 0.0;\\n\\n    beta += applyAlignOption(clipAngle, flip * PI);\\n  }\\n\\n  //Compute plane offset\\n  vec2 planeCoord = position.xy * pixelScale;\\n\\n  mat2 planeXform = scale * mat2(\\n     cos(beta), sin(beta),\\n    -sin(beta), cos(beta)\\n  );\\n\\n  vec2 viewOffset = 2.0 * planeXform * planeCoord / resolution;\\n\\n  //Compute clip position\\n  vec3 clipPosition = project(dataPosition);\\n\\n  //Apply text offset in clip coordinates\\n  clipPosition += vec3(viewOffset, 0.0);\\n\\n  //Done\\n  gl_Position = vec4(clipPosition, 1.0);\\n}\&quot;]),l=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nuniform vec4 color;\\nvoid main() {\\n  gl_FragColor = color;\\n}\&quot;]);r.text=function(t){return i(t,s,l,null,[{name:\&quot;position\&quot;,type:\&quot;vec3\&quot;}])};var c=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position;\\nattribute vec3 normal;\\n\\nuniform mat4 model, view, projection;\\nuniform vec3 enable;\\nuniform vec3 bounds[2];\\n\\nvarying vec3 colorChannel;\\n\\nvoid main() {\\n\\n  vec3 signAxis = sign(bounds[1] - bounds[0]);\\n\\n  vec3 realNormal = signAxis * normal;\\n\\n  if(dot(realNormal, enable) &gt; 0.0) {\\n    vec3 minRange = min(bounds[0], bounds[1]);\\n    vec3 maxRange = max(bounds[0], bounds[1]);\\n    vec3 nPosition = mix(minRange, maxRange, 0.5 * (position + 1.0));\\n    gl_Position = projection * view * model * vec4(nPosition, 1.0);\\n  } else {\\n    gl_Position = vec4(0,0,0,0);\\n  }\\n\\n  colorChannel = abs(realNormal);\\n}\&quot;]),u=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nuniform vec4 colors[3];\\n\\nvarying vec3 colorChannel;\\n\\nvoid main() {\\n  gl_FragColor = colorChannel.x * colors[0] +\\n                 colorChannel.y * colors[1] +\\n                 colorChannel.z * colors[2];\\n}\&quot;]);r.bg=function(t){return i(t,c,u,null,[{name:\&quot;position\&quot;,type:\&quot;vec3\&quot;},{name:\&quot;normal\&quot;,type:\&quot;vec3\&quot;}])}},{\&quot;gl-shader\&quot;:335,glslify:257}],255:[function(t,e,r){(function(r){(function(){\&quot;use strict\&quot;;e.exports=function(t,e,r,a,s,l){var u=n(t),f=i(t,[{buffer:u,size:3}]),h=o(t);h.attributes.position.location=0;var p=new c(t,h,u,f);return p.update(e,r,a,s,l),p};var n=t(\&quot;gl-buffer\&quot;),i=t(\&quot;gl-vao\&quot;),a=t(\&quot;vectorize-text\&quot;),o=t(\&quot;./shaders\&quot;).text,s=window||r.global||{},l=s.__TEXT_CACHE||{};s.__TEXT_CACHE={};function c(t,e,r,n){this.gl=t,this.shader=e,this.buffer=r,this.vao=n,this.tickOffset=this.tickCount=this.labelOffset=this.labelCount=null}var u=c.prototype,f=[0,0];u.bind=function(t,e,r,n){this.vao.bind(),this.shader.bind();var i=this.shader.uniforms;i.model=t,i.view=e,i.projection=r,i.pixelScale=n,f[0]=this.gl.drawingBufferWidth,f[1]=this.gl.drawingBufferHeight,this.shader.uniforms.resolution=f},u.unbind=function(){this.vao.unbind()},u.update=function(t,e,r,n,i){var o=[];function s(t,e,r,n,i,s){var c=l[r];c||(c=l[r]={});var u=c[e];u||(u=c[e]=function(t,e){try{return a(t,e)}catch(e){return console.warn('error vectorizing text:\&quot;'+t+'\&quot; error:',e),{cells:[],positions:[]}}}(e,{triangles:!0,font:r,textAlign:\&quot;center\&quot;,textBaseline:\&quot;middle\&quot;,lineSpacing:i,styletags:s}));for(var f=(n||12)/12,h=u.positions,p=u.cells,d=0,g=p.length;d&lt;g;++d)for(var m=p[d],v=2;v&gt;=0;--v){var y=h[m[v]];o.push(f*y[0],-f*y[1],t)}}for(var c=[0,0,0],u=[0,0,0],f=[0,0,0],h=[0,0,0],p={breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},d=0;d&lt;3;++d){f[d]=o.length/3|0,s(.5*(t[0][d]+t[1][d]),e[d],r[d],12,1.25,p),h[d]=(o.length/3|0)-f[d],c[d]=o.length/3|0;for(var g=0;g&lt;n[d].length;++g)n[d][g].text&amp;&amp;s(n[d][g].x,n[d][g].text,n[d][g].font||i,n[d][g].fontSize||12,1.25,p);u[d]=(o.length/3|0)-c[d]}this.buffer.update(o),this.tickOffset=c,this.tickCount=u,this.labelOffset=f,this.labelCount=h},u.drawTicks=function(t,e,r,n,i,a,o,s){this.tickCount[t]&amp;&amp;(this.shader.uniforms.axis=a,this.shader.uniforms.color=i,this.shader.uniforms.angle=r,this.shader.uniforms.scale=e,this.shader.uniforms.offset=n,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=s,this.vao.draw(this.gl.TRIANGLES,this.tickCount[t],this.tickOffset[t]))},u.drawLabel=function(t,e,r,n,i,a,o,s){this.labelCount[t]&amp;&amp;(this.shader.uniforms.axis=a,this.shader.uniforms.color=i,this.shader.uniforms.angle=r,this.shader.uniforms.scale=e,this.shader.uniforms.offset=n,this.shader.uniforms.alignDir=o,this.shader.uniforms.alignOpt=s,this.vao.draw(this.gl.TRIANGLES,this.labelCount[t],this.labelOffset[t]))},u.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()}}).call(this)}).call(this,t(\&quot;_process\&quot;))},{\&quot;./shaders\&quot;:254,_process:526,\&quot;gl-buffer\&quot;:259,\&quot;gl-vao\&quot;:358,\&quot;vectorize-text\&quot;:600}],256:[function(t,e,r){\&quot;use strict\&quot;;function n(t,e){var r=t+\&quot;\&quot;,n=r.indexOf(\&quot;.\&quot;),i=0;n&gt;=0&amp;&amp;(i=r.length-n-1);var a=Math.pow(10,i),o=Math.round(t*e*a),s=o+\&quot;\&quot;;if(s.indexOf(\&quot;e\&quot;)&gt;=0)return s;var l=o/a,c=o%a;o&lt;0?(l=0|-Math.ceil(l),c=0|-c):(l=0|Math.floor(l),c|=0);var u=\&quot;\&quot;+l;if(o&lt;0&amp;&amp;(u=\&quot;-\&quot;+u),i){for(var f=\&quot;\&quot;+c;f.length&lt;i;)f=\&quot;0\&quot;+f;return u+\&quot;.\&quot;+f}return u}r.create=function(t,e){for(var r=[],i=0;i&lt;3;++i){for(var a=[],o=(t[0][i],t[1][i],0);o*e[i]&lt;=t[1][i];++o)a.push({x:o*e[i],text:n(e[i],o)});for(o=-1;o*e[i]&gt;=t[0][i];--o)a.push({x:o*e[i],text:n(e[i],o)});r.push(a)}return r},r.equal=function(t,e){for(var r=0;r&lt;3;++r){if(t[r].length!==e[r].length)return!1;for(var n=0;n&lt;t[r].length;++n){var i=t[r][n],a=e[r][n];if(i.x!==a.x||i.text!==a.text||i.font!==a.font||i.fontColor!==a.fontColor||i.fontSize!==a.fontSize||i.dx!==a.dx||i.dy!==a.dy)return!1}}return!0}},{}],257:[function(t,e,r){e.exports=function(t){\&quot;string\&quot;==typeof t&amp;&amp;(t=[t]);for(var e=[].slice.call(arguments,1),r=[],n=0;n&lt;t.length-1;n++)r.push(t[n],e[n]||\&quot;\&quot;);return r.push(t[n]),r.join(\&quot;\&quot;)}},{}],258:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e,r,l,f){var h=e.model||c,p=e.view||c,v=e.projection||c,y=e._ortho||!1,x=t.bounds,b=(f=f||a(h,p,v,x,y)).axis;o(u,p,h),o(u,v,u);for(var _=g,w=0;w&lt;3;++w)_[w].lo=1/0,_[w].hi=-1/0,_[w].pixelsPerDataUnit=1/0;var T=n(s(u,u));s(u,u);for(var k=0;k&lt;3;++k){var M=(k+1)%3,A=(k+2)%3,S=m;t:for(w=0;w&lt;2;++w){var E=[];if(b[k]&lt;0!=!!w){S[k]=x[w][k];for(var C=0;C&lt;2;++C){S[M]=x[C^w][M];for(var L=0;L&lt;2;++L)S[A]=x[L^C^w][A],E.push(S.slice())}var I=y?5:4;for(C=I;C===I;++C){if(0===E.length)continue t;E=i.positive(E,T[C])}for(C=0;C&lt;E.length;++C){A=E[C];var P=d(m,u,A,r,l);for(L=0;L&lt;3;++L)_[L].lo=Math.min(_[L].lo,A[L]),_[L].hi=Math.max(_[L].hi,A[L]),L!==k&amp;&amp;(_[L].pixelsPerDataUnit=Math.min(_[L].pixelsPerDataUnit,Math.abs(P[L])))}}}}return _};var n=t(\&quot;extract-frustum-planes\&quot;),i=t(\&quot;split-polygon\&quot;),a=t(\&quot;./lib/cube.js\&quot;),o=t(\&quot;gl-mat4/multiply\&quot;),s=t(\&quot;gl-mat4/transpose\&quot;),l=t(\&quot;gl-vec4/transformMat4\&quot;),c=new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),u=new Float32Array(16);function f(t,e,r){this.lo=t,this.hi=e,this.pixelsPerDataUnit=r}var h=[0,0,0,1],p=[0,0,0,1];function d(t,e,r,n,i){for(var a=0;a&lt;3;++a){for(var o=h,s=p,c=0;c&lt;3;++c)s[c]=o[c]=r[c];s[3]=o[3]=1,s[a]+=1,l(s,s,e),s[3]&lt;0&amp;&amp;(t[a]=1/0),o[a]-=1,l(o,o,e),o[3]&lt;0&amp;&amp;(t[a]=1/0);var u=(o[0]/o[3]-s[0]/s[3])*n,f=(o[1]/o[3]-s[1]/s[3])*i;t[a]=.25*Math.sqrt(u*u+f*f)}return t}var g=[new f(1/0,-1/0,1/0),new f(1/0,-1/0,1/0),new f(1/0,-1/0,1/0)],m=[0,0,0]},{\&quot;./lib/cube.js\&quot;:252,\&quot;extract-frustum-planes\&quot;:240,\&quot;gl-mat4/multiply\&quot;:295,\&quot;gl-mat4/transpose\&quot;:306,\&quot;gl-vec4/transformMat4\&quot;:429,\&quot;split-polygon\&quot;:566}],259:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;typedarray-pool\&quot;),i=t(\&quot;ndarray-ops\&quot;),a=t(\&quot;ndarray\&quot;),o=[\&quot;uint8\&quot;,\&quot;uint8_clamped\&quot;,\&quot;uint16\&quot;,\&quot;uint32\&quot;,\&quot;int8\&quot;,\&quot;int16\&quot;,\&quot;int32\&quot;,\&quot;float32\&quot;];function s(t,e,r,n,i){this.gl=t,this.type=e,this.handle=r,this.length=n,this.usage=i}var l=s.prototype;function c(t,e,r,n,i,a){var o=i.length*i.BYTES_PER_ELEMENT;if(a&lt;0)return t.bufferData(e,i,n),o;if(o+a&gt;r)throw new Error(\&quot;gl-buffer: If resizing buffer, must not specify offset\&quot;);return t.bufferSubData(e,a,i),r}function u(t,e){for(var r=n.malloc(t.length,e),i=t.length,a=0;a&lt;i;++a)r[a]=t[a];return r}l.bind=function(){this.gl.bindBuffer(this.type,this.handle)},l.unbind=function(){this.gl.bindBuffer(this.type,null)},l.dispose=function(){this.gl.deleteBuffer(this.handle)},l.update=function(t,e){if(\&quot;number\&quot;!=typeof e&amp;&amp;(e=-1),this.bind(),\&quot;object\&quot;==typeof t&amp;&amp;\&quot;undefined\&quot;!=typeof t.shape){var r=t.dtype;if(o.indexOf(r)&lt;0&amp;&amp;(r=\&quot;float32\&quot;),this.type===this.gl.ELEMENT_ARRAY_BUFFER)r=gl.getExtension(\&quot;OES_element_index_uint\&quot;)&amp;&amp;\&quot;uint16\&quot;!==r?\&quot;uint32\&quot;:\&quot;uint16\&quot;;if(r===t.dtype&amp;&amp;function(t,e){for(var r=1,n=e.length-1;n&gt;=0;--n){if(e[n]!==r)return!1;r*=t[n]}return!0}(t.shape,t.stride))0===t.offset&amp;&amp;t.data.length===t.shape[0]?this.length=c(this.gl,this.type,this.length,this.usage,t.data,e):this.length=c(this.gl,this.type,this.length,this.usage,t.data.subarray(t.offset,t.shape[0]),e);else{var s=n.malloc(t.size,r),l=a(s,t.shape);i.assign(l,t),this.length=c(this.gl,this.type,this.length,this.usage,e&lt;0?s:s.subarray(0,t.size),e),n.free(s)}}else if(Array.isArray(t)){var f;f=this.type===this.gl.ELEMENT_ARRAY_BUFFER?u(t,\&quot;uint16\&quot;):u(t,\&quot;float32\&quot;),this.length=c(this.gl,this.type,this.length,this.usage,e&lt;0?f:f.subarray(0,t.length),e),n.free(f)}else if(\&quot;object\&quot;==typeof t&amp;&amp;\&quot;number\&quot;==typeof t.length)this.length=c(this.gl,this.type,this.length,this.usage,t,e);else{if(\&quot;number\&quot;!=typeof t&amp;&amp;void 0!==t)throw new Error(\&quot;gl-buffer: Invalid data type\&quot;);if(e&gt;=0)throw new Error(\&quot;gl-buffer: Cannot specify offset when resizing buffer\&quot;);(t|=0)&lt;=0&amp;&amp;(t=1),this.gl.bufferData(this.type,0|t,this.usage),this.length=t}},e.exports=function(t,e,r,n){if(r=r||t.ARRAY_BUFFER,n=n||t.DYNAMIC_DRAW,r!==t.ARRAY_BUFFER&amp;&amp;r!==t.ELEMENT_ARRAY_BUFFER)throw new Error(\&quot;gl-buffer: Invalid type for webgl buffer, must be either gl.ARRAY_BUFFER or gl.ELEMENT_ARRAY_BUFFER\&quot;);if(n!==t.DYNAMIC_DRAW&amp;&amp;n!==t.STATIC_DRAW&amp;&amp;n!==t.STREAM_DRAW)throw new Error(\&quot;gl-buffer: Invalid usage for buffer, must be either gl.DYNAMIC_DRAW, gl.STATIC_DRAW or gl.STREAM_DRAW\&quot;);var i=t.createBuffer(),a=new s(t,r,i,0,n);return a.update(e),a}},{ndarray:495,\&quot;ndarray-ops\&quot;:490,\&quot;typedarray-pool\&quot;:595}],260:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;gl-vec3\&quot;);e.exports=function(t,e){var r=t.positions,i=t.vectors,a={positions:[],vertexIntensity:[],vertexIntensityBounds:t.vertexIntensityBounds,vectors:[],cells:[],coneOffset:t.coneOffset,colormap:t.colormap};if(0===t.positions.length)return e&amp;&amp;(e[0]=[0,0,0],e[1]=[0,0,0]),a;for(var o=0,s=1/0,l=-1/0,c=1/0,u=-1/0,f=1/0,h=-1/0,p=null,d=null,g=[],m=1/0,v=!1,y=0;y&lt;r.length;y++){var x=r[y];s=Math.min(x[0],s),l=Math.max(x[0],l),c=Math.min(x[1],c),u=Math.max(x[1],u),f=Math.min(x[2],f),h=Math.max(x[2],h);var b=i[y];if(n.length(b)&gt;o&amp;&amp;(o=n.length(b)),y){var _=2*n.distance(p,x)/(n.length(d)+n.length(b));_?(m=Math.min(m,_),v=!1):v=!0}v||(p=x,d=b),g.push(b)}var w=[s,c,f],T=[l,u,h];e&amp;&amp;(e[0]=w,e[1]=T),0===o&amp;&amp;(o=1);var k=1/o;isFinite(m)||(m=1),a.vectorScale=m;var M=t.coneSize||.5;t.absoluteConeSize&amp;&amp;(M=t.absoluteConeSize*k),a.coneScale=M;y=0;for(var A=0;y&lt;r.length;y++)for(var S=(x=r[y])[0],E=x[1],C=x[2],L=g[y],I=n.length(L)*k,P=0;P&lt;8;P++){a.positions.push([S,E,C,A++]),a.positions.push([S,E,C,A++]),a.positions.push([S,E,C,A++]),a.positions.push([S,E,C,A++]),a.positions.push([S,E,C,A++]),a.positions.push([S,E,C,A++]),a.vectors.push(L),a.vectors.push(L),a.vectors.push(L),a.vectors.push(L),a.vectors.push(L),a.vectors.push(L),a.vertexIntensity.push(I,I,I),a.vertexIntensity.push(I,I,I);var z=a.positions.length;a.cells.push([z-6,z-5,z-4],[z-3,z-2,z-1])}return a};var i=t(\&quot;./lib/shaders\&quot;);e.exports.createMesh=t(\&quot;./create_mesh\&quot;),e.exports.createConeMesh=function(t,r){return e.exports.createMesh(t,r,{shaders:i,traceType:\&quot;cone\&quot;})}},{\&quot;./create_mesh\&quot;:261,\&quot;./lib/shaders\&quot;:262,\&quot;gl-vec3\&quot;:377}],261:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;gl-shader\&quot;),i=t(\&quot;gl-buffer\&quot;),a=t(\&quot;gl-vao\&quot;),o=t(\&quot;gl-texture2d\&quot;),s=t(\&quot;gl-mat4/multiply\&quot;),l=t(\&quot;gl-mat4/invert\&quot;),c=t(\&quot;ndarray\&quot;),u=t(\&quot;colormap\&quot;),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(t,e,r,n,i,a,o,s,l,c,u){this.gl=t,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=e,this.dirty=!0,this.triShader=r,this.pickShader=n,this.trianglePositions=i,this.triangleVectors=a,this.triangleColors=s,this.triangleUVs=l,this.triangleIds=o,this.triangleVAO=c,this.triangleCount=0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.traceType=u,this.tubeScale=1,this.coneScale=2,this.vectorScale=1,this.coneOffset=.25,this._model=f,this._view=f,this._projection=f,this._resolution=[1,1]}var p=h.prototype;function d(t,e){var r=n(t,e.meshShader.vertex,e.meshShader.fragment,null,e.meshShader.attributes);return r.attributes.position.location=0,r.attributes.color.location=2,r.attributes.uv.location=3,r.attributes.vector.location=4,r}function g(t,e){var r=n(t,e.pickShader.vertex,e.pickShader.fragment,null,e.pickShader.attributes);return r.attributes.position.location=0,r.attributes.id.location=1,r.attributes.vector.location=4,r}p.isOpaque=function(){return this.opacity&gt;=1},p.isTransparent=function(){return this.opacity&lt;1},p.pickSlots=1,p.setPickBase=function(t){this.pickId=t},p.update=function(t){t=t||{};var e=this.gl;this.dirty=!0,\&quot;lightPosition\&quot;in t&amp;&amp;(this.lightPosition=t.lightPosition),\&quot;opacity\&quot;in t&amp;&amp;(this.opacity=t.opacity),\&quot;ambient\&quot;in t&amp;&amp;(this.ambientLight=t.ambient),\&quot;diffuse\&quot;in t&amp;&amp;(this.diffuseLight=t.diffuse),\&quot;specular\&quot;in t&amp;&amp;(this.specularLight=t.specular),\&quot;roughness\&quot;in t&amp;&amp;(this.roughness=t.roughness),\&quot;fresnel\&quot;in t&amp;&amp;(this.fresnel=t.fresnel),void 0!==t.tubeScale&amp;&amp;(this.tubeScale=t.tubeScale),void 0!==t.vectorScale&amp;&amp;(this.vectorScale=t.vectorScale),void 0!==t.coneScale&amp;&amp;(this.coneScale=t.coneScale),void 0!==t.coneOffset&amp;&amp;(this.coneOffset=t.coneOffset),t.colormap&amp;&amp;(this.texture.shape=[256,256],this.texture.minFilter=e.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=e.LINEAR,this.texture.setPixels(function(t){for(var e=u({colormap:t,nshades:256,format:\&quot;rgba\&quot;}),r=new Uint8Array(1024),n=0;n&lt;256;++n){for(var i=e[n],a=0;a&lt;3;++a)r[4*n+a]=i[a];r[4*n+3]=255*i[3]}return c(r,[256,256,4],[4,0,1])}(t.colormap)),this.texture.generateMipmap());var r=t.cells,n=t.positions,i=t.vectors;if(n&amp;&amp;r&amp;&amp;i){var a=[],o=[],s=[],l=[],f=[];this.cells=r,this.positions=n,this.vectors=i;var h=t.meshColor||[1,1,1,1],p=t.vertexIntensity,d=1/0,g=-1/0;if(p)if(t.vertexIntensityBounds)d=+t.vertexIntensityBounds[0],g=+t.vertexIntensityBounds[1];else for(var m=0;m&lt;p.length;++m){var v=p[m];d=Math.min(d,v),g=Math.max(g,v)}else for(m=0;m&lt;n.length;++m){v=n[m][2];d=Math.min(d,v),g=Math.max(g,v)}this.intensity=p||function(t){for(var e=t.length,r=new Array(e),n=0;n&lt;e;++n)r[n]=t[n][2];return r}(n),this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(m=0;m&lt;n.length;++m)for(var y=n[m],x=0;x&lt;3;++x)!isNaN(y[x])&amp;&amp;isFinite(y[x])&amp;&amp;(this.bounds[0][x]=Math.min(this.bounds[0][x],y[x]),this.bounds[1][x]=Math.max(this.bounds[1][x],y[x]));var b=0;t:for(m=0;m&lt;r.length;++m){var _=r[m];switch(_.length){case 3:for(x=0;x&lt;3;++x){y=n[T=_[x]];for(var w=0;w&lt;3;++w)if(isNaN(y[w])||!isFinite(y[w]))continue t}for(x=0;x&lt;3;++x){var T;y=n[T=_[2-x]];a.push(y[0],y[1],y[2],y[3]);var k=i[T];o.push(k[0],k[1],k[2],k[3]||0);var M,A=h;3===A.length?s.push(A[0],A[1],A[2],1):s.push(A[0],A[1],A[2],A[3]),M=p?[(p[T]-d)/(g-d),0]:[(y[2]-d)/(g-d),0],l.push(M[0],M[1]),f.push(m)}b+=1}}this.triangleCount=b,this.trianglePositions.update(a),this.triangleVectors.update(o),this.triangleColors.update(s),this.triangleUVs.update(l),this.triangleIds.update(new Uint32Array(f))}},p.drawTransparent=p.draw=function(t){t=t||{};for(var e=this.gl,r=t.model||f,n=t.view||f,i=t.projection||f,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o&lt;3;++o)a[0][o]=Math.max(a[0][o],this.clipBounds[0][o]),a[1][o]=Math.min(a[1][o],this.clipBounds[1][o]);var c={model:r,view:n,projection:i,inverseModel:f.slice(),clipBounds:a,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],opacity:this.opacity,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,texture:0};c.inverseModel=l(c.inverseModel,c.model),e.disable(e.CULL_FACE),this.texture.bind(0);var u=new Array(16);s(u,c.view,c.model),s(u,c.projection,u),l(u,u);for(o=0;o&lt;3;++o)c.eyePosition[o]=u[12+o]/u[15];var h=u[15];for(o=0;o&lt;3;++o)h+=this.lightPosition[o]*u[4*o+3];for(o=0;o&lt;3;++o){for(var p=u[12+o],d=0;d&lt;3;++d)p+=u[4*d+o]*this.lightPosition[d];c.lightPosition[o]=p/h}if(this.triangleCount&gt;0){var g=this.triShader;g.bind(),g.uniforms=c,this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()}},p.drawPick=function(t){t=t||{};for(var e=this.gl,r=t.model||f,n=t.view||f,i=t.projection||f,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o&lt;3;++o)a[0][o]=Math.max(a[0][o],this.clipBounds[0][o]),a[1][o]=Math.min(a[1][o],this.clipBounds[1][o]);this._model=[].slice.call(r),this._view=[].slice.call(n),this._projection=[].slice.call(i),this._resolution=[e.drawingBufferWidth,e.drawingBufferHeight];var s={model:r,view:n,projection:i,clipBounds:a,tubeScale:this.tubeScale,vectorScale:this.vectorScale,coneScale:this.coneScale,coneOffset:this.coneOffset,pickId:this.pickId/255},l=this.pickShader;l.bind(),l.uniforms=s,this.triangleCount&gt;0&amp;&amp;(this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind())},p.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=t.value[0]+256*t.value[1]+65536*t.value[2],r=this.cells[e],n=this.positions[r[1]].slice(0,3),i={position:n,dataCoordinate:n,index:Math.floor(r[1]/48)};return\&quot;cone\&quot;===this.traceType?i.index=Math.floor(r[1]/48):\&quot;streamtube\&quot;===this.traceType&amp;&amp;(i.intensity=this.intensity[r[1]],i.velocity=this.vectors[r[1]].slice(0,3),i.divergence=this.vectors[r[1]][3],i.index=e),i},p.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.pickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleVectors.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleIds.dispose()},e.exports=function(t,e,r){var n=r.shaders;1===arguments.length&amp;&amp;(t=(e=t).gl);var s=d(t,n),l=g(t,n),u=o(t,c(new Uint8Array([255,255,255,255]),[1,1,4]));u.generateMipmap(),u.minFilter=t.LINEAR_MIPMAP_LINEAR,u.magFilter=t.LINEAR;var f=i(t),p=i(t),m=i(t),v=i(t),y=i(t),x=a(t,[{buffer:f,type:t.FLOAT,size:4},{buffer:y,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:m,type:t.FLOAT,size:4},{buffer:v,type:t.FLOAT,size:2},{buffer:p,type:t.FLOAT,size:4}]),b=new h(t,u,s,l,f,p,y,m,v,x,r.traceType||\&quot;cone\&quot;);return b.update(e),b}},{colormap:131,\&quot;gl-buffer\&quot;:259,\&quot;gl-mat4/invert\&quot;:293,\&quot;gl-mat4/multiply\&quot;:295,\&quot;gl-shader\&quot;:335,\&quot;gl-texture2d\&quot;:353,\&quot;gl-vao\&quot;:358,ndarray:495}],262:[function(t,e,r){var n=t(\&quot;glslify\&quot;),i=n([\&quot;precision highp float;\\n\\nprecision highp float;\\n#define GLSLIFY 1\\n\\nvec3 getOrthogonalVector(vec3 v) {\\n  // Return up-vector for only-z vector.\\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\\n  // From the above if-statement we have ||a|| &gt; 0  U  ||b|| &gt; 0.\\n  // Assign z = 0, x = -b, y = a:\\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\\n  if (v.x*v.x &gt; v.z*v.z || v.y*v.y &gt; v.z*v.z) {\\n    return normalize(vec3(-v.y, v.x, 0.0));\\n  } else {\\n    return normalize(vec3(0.0, v.z, -v.y));\\n  }\\n}\\n\\n// Calculate the cone vertex and normal at the given index.\\n//\\n// The returned vertex is for a cone with its top at origin and height of 1.0,\\n// pointing in the direction of the vector attribute.\\n//\\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\\n// These vertices are used to make up the triangles of the cone by the following:\\n//   segment + 0 top vertex\\n//   segment + 1 perimeter vertex a+1\\n//   segment + 2 perimeter vertex a\\n//   segment + 3 center base vertex\\n//   segment + 4 perimeter vertex a\\n//   segment + 5 perimeter vertex a+1\\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\\n// To go from index to segment, floor(index / 6)\\n// To go from segment to angle, 2*pi * (segment/segmentCount)\\n// To go from index to segment index, index - (segment*6)\\n//\\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\\n\\n  const float segmentCount = 8.0;\\n\\n  float index = rawIndex - floor(rawIndex /\\n    (segmentCount * 6.0)) *\\n    (segmentCount * 6.0);\\n\\n  float segment = floor(0.001 + index/6.0);\\n  float segmentIndex = index - (segment*6.0);\\n\\n  normal = -normalize(d);\\n\\n  if (segmentIndex &gt; 2.99 &amp;&amp; segmentIndex &lt; 3.01) {\\n    return mix(vec3(0.0), -d, coneOffset);\\n  }\\n\\n  float nextAngle = (\\n    (segmentIndex &gt; 0.99 &amp;&amp;  segmentIndex &lt; 1.01) ||\\n    (segmentIndex &gt; 4.99 &amp;&amp;  segmentIndex &lt; 5.01)\\n  ) ? 1.0 : 0.0;\\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\\n\\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\\n  vec3 v2 = v1 - d;\\n\\n  vec3 u = getOrthogonalVector(d);\\n  vec3 v = normalize(cross(u, d));\\n\\n  vec3 x = u * cos(angle) * length(d)*0.25;\\n  vec3 y = v * sin(angle) * length(d)*0.25;\\n  vec3 v3 = v2 + x + y;\\n  if (segmentIndex &lt; 3.0) {\\n    vec3 tx = u * sin(angle);\\n    vec3 ty = v * -cos(angle);\\n    vec3 tangent = tx + ty;\\n    normal = normalize(cross(v3 - v1, tangent));\\n  }\\n\\n  if (segmentIndex == 0.0) {\\n    return mix(d, vec3(0.0), coneOffset);\\n  }\\n  return v3;\\n}\\n\\nattribute vec3 vector;\\nattribute vec4 color, position;\\nattribute vec2 uv;\\n\\nuniform float vectorScale, coneScale, coneOffset;\\nuniform mat4 model, view, projection, inverseModel;\\nuniform vec3 eyePosition, lightPosition;\\n\\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\\nvarying vec4 f_color;\\nvarying vec2 f_uv;\\n\\nvoid main() {\\n  // Scale the vector magnitude to stay constant with\\n  // model &amp; view changes.\\n  vec3 normal;\\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector), position.w, coneOffset, normal);\\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\\n\\n  //Lighting geometry parameters\\n  vec4 cameraCoordinate = view * conePosition;\\n  cameraCoordinate.xyz /= cameraCoordinate.w;\\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\\n\\n  // vec4 m_position  = model * vec4(conePosition, 1.0);\\n  vec4 t_position  = view * conePosition;\\n  gl_Position      = projection * t_position;\\n\\n  f_color          = color;\\n  f_data           = conePosition.xyz;\\n  f_position       = position.xyz;\\n  f_uv             = uv;\\n}\\n\&quot;]),a=n([\&quot;#extension GL_OES_standard_derivatives : enable\\n\\nprecision highp float;\\n#define GLSLIFY 1\\n\\nfloat beckmannDistribution(float x, float roughness) {\\n  float NdotH = max(x, 0.0001);\\n  float cos2Alpha = NdotH * NdotH;\\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\\n  float roughness2 = roughness * roughness;\\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\\n  return exp(tan2Alpha / roughness2) / denom;\\n}\\n\\nfloat cookTorranceSpecular(\\n  vec3 lightDirection,\\n  vec3 viewDirection,\\n  vec3 surfaceNormal,\\n  float roughness,\\n  float fresnel) {\\n\\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\\n\\n  //Half angle vector\\n  vec3 H = normalize(lightDirection + viewDirection);\\n\\n  //Geometric term\\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\\n  float VdotH = max(dot(viewDirection, H), 0.000001);\\n  float LdotH = max(dot(lightDirection, H), 0.000001);\\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\\n  float G = min(1.0, min(G1, G2));\\n  \\n  //Distribution term\\n  float D = beckmannDistribution(NdotH, roughness);\\n\\n  //Fresnel term\\n  float F = pow(1.0 - VdotN, fresnel);\\n\\n  //Multiply terms and done\\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\\n}\\n\\nbool outOfRange(float a, float b, float p) {\\n  return ((p &gt; max(a, b)) || \\n          (p &lt; min(a, b)));\\n}\\n\\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y));\\n}\\n\\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y) ||\\n          outOfRange(a.z, b.z, p.z));\\n}\\n\\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\\n  return outOfRange(a.xyz, b.xyz, p.xyz);\\n}\\n\\nuniform vec3 clipBounds[2];\\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\\nuniform sampler2D texture;\\n\\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\\nvarying vec4 f_color;\\nvarying vec2 f_uv;\\n\\nvoid main() {\\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\\n  vec3 N = normalize(f_normal);\\n  vec3 L = normalize(f_lightDirection);\\n  vec3 V = normalize(f_eyeDirection);\\n\\n  if(gl_FrontFacing) {\\n    N = -N;\\n  }\\n\\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\\n\\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\\n\\n  gl_FragColor = litColor * opacity;\\n}\\n\&quot;]),o=n([\&quot;precision highp float;\\n\\nprecision highp float;\\n#define GLSLIFY 1\\n\\nvec3 getOrthogonalVector(vec3 v) {\\n  // Return up-vector for only-z vector.\\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\\n  // From the above if-statement we have ||a|| &gt; 0  U  ||b|| &gt; 0.\\n  // Assign z = 0, x = -b, y = a:\\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\\n  if (v.x*v.x &gt; v.z*v.z || v.y*v.y &gt; v.z*v.z) {\\n    return normalize(vec3(-v.y, v.x, 0.0));\\n  } else {\\n    return normalize(vec3(0.0, v.z, -v.y));\\n  }\\n}\\n\\n// Calculate the cone vertex and normal at the given index.\\n//\\n// The returned vertex is for a cone with its top at origin and height of 1.0,\\n// pointing in the direction of the vector attribute.\\n//\\n// Each cone is made up of a top vertex, a center base vertex and base perimeter vertices.\\n// These vertices are used to make up the triangles of the cone by the following:\\n//   segment + 0 top vertex\\n//   segment + 1 perimeter vertex a+1\\n//   segment + 2 perimeter vertex a\\n//   segment + 3 center base vertex\\n//   segment + 4 perimeter vertex a\\n//   segment + 5 perimeter vertex a+1\\n// Where segment is the number of the radial segment * 6 and a is the angle at that radial segment.\\n// To go from index to segment, floor(index / 6)\\n// To go from segment to angle, 2*pi * (segment/segmentCount)\\n// To go from index to segment index, index - (segment*6)\\n//\\nvec3 getConePosition(vec3 d, float rawIndex, float coneOffset, out vec3 normal) {\\n\\n  const float segmentCount = 8.0;\\n\\n  float index = rawIndex - floor(rawIndex /\\n    (segmentCount * 6.0)) *\\n    (segmentCount * 6.0);\\n\\n  float segment = floor(0.001 + index/6.0);\\n  float segmentIndex = index - (segment*6.0);\\n\\n  normal = -normalize(d);\\n\\n  if (segmentIndex &gt; 2.99 &amp;&amp; segmentIndex &lt; 3.01) {\\n    return mix(vec3(0.0), -d, coneOffset);\\n  }\\n\\n  float nextAngle = (\\n    (segmentIndex &gt; 0.99 &amp;&amp;  segmentIndex &lt; 1.01) ||\\n    (segmentIndex &gt; 4.99 &amp;&amp;  segmentIndex &lt; 5.01)\\n  ) ? 1.0 : 0.0;\\n  float angle = 2.0 * 3.14159 * ((segment + nextAngle) / segmentCount);\\n\\n  vec3 v1 = mix(d, vec3(0.0), coneOffset);\\n  vec3 v2 = v1 - d;\\n\\n  vec3 u = getOrthogonalVector(d);\\n  vec3 v = normalize(cross(u, d));\\n\\n  vec3 x = u * cos(angle) * length(d)*0.25;\\n  vec3 y = v * sin(angle) * length(d)*0.25;\\n  vec3 v3 = v2 + x + y;\\n  if (segmentIndex &lt; 3.0) {\\n    vec3 tx = u * sin(angle);\\n    vec3 ty = v * -cos(angle);\\n    vec3 tangent = tx + ty;\\n    normal = normalize(cross(v3 - v1, tangent));\\n  }\\n\\n  if (segmentIndex == 0.0) {\\n    return mix(d, vec3(0.0), coneOffset);\\n  }\\n  return v3;\\n}\\n\\nattribute vec4 vector;\\nattribute vec4 position;\\nattribute vec4 id;\\n\\nuniform mat4 model, view, projection;\\nuniform float vectorScale, coneScale, coneOffset;\\n\\nvarying vec3 f_position;\\nvarying vec4 f_id;\\n\\nvoid main() {\\n  vec3 normal;\\n  vec3 XYZ = getConePosition(mat3(model) * ((vectorScale * coneScale) * vector.xyz), position.w, coneOffset, normal);\\n  vec4 conePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\\n  gl_Position = projection * view * conePosition;\\n  f_id        = id;\\n  f_position  = position.xyz;\\n}\\n\&quot;]),s=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nbool outOfRange(float a, float b, float p) {\\n  return ((p &gt; max(a, b)) || \\n          (p &lt; min(a, b)));\\n}\\n\\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y));\\n}\\n\\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y) ||\\n          outOfRange(a.z, b.z, p.z));\\n}\\n\\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\\n  return outOfRange(a.xyz, b.xyz, p.xyz);\\n}\\n\\nuniform vec3  clipBounds[2];\\nuniform float pickId;\\n\\nvarying vec3 f_position;\\nvarying vec4 f_id;\\n\\nvoid main() {\\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\\n\\n  gl_FragColor = vec4(pickId, f_id.xyz);\\n}\&quot;]);r.meshShader={vertex:i,fragment:a,attributes:[{name:\&quot;position\&quot;,type:\&quot;vec4\&quot;},{name:\&quot;color\&quot;,type:\&quot;vec4\&quot;},{name:\&quot;uv\&quot;,type:\&quot;vec2\&quot;},{name:\&quot;vector\&quot;,type:\&quot;vec3\&quot;}]},r.pickShader={vertex:o,fragment:s,attributes:[{name:\&quot;position\&quot;,type:\&quot;vec4\&quot;},{name:\&quot;id\&quot;,type:\&quot;vec4\&quot;},{name:\&quot;vector\&quot;,type:\&quot;vec3\&quot;}]}},{glslify:263}],263:[function(t,e,r){arguments[4][257][0].apply(r,arguments)},{dup:257}],264:[function(t,e,r){e.exports={0:\&quot;NONE\&quot;,1:\&quot;ONE\&quot;,2:\&quot;LINE_LOOP\&quot;,3:\&quot;LINE_STRIP\&quot;,4:\&quot;TRIANGLES\&quot;,5:\&quot;TRIANGLE_STRIP\&quot;,6:\&quot;TRIANGLE_FAN\&quot;,256:\&quot;DEPTH_BUFFER_BIT\&quot;,512:\&quot;NEVER\&quot;,513:\&quot;LESS\&quot;,514:\&quot;EQUAL\&quot;,515:\&quot;LEQUAL\&quot;,516:\&quot;GREATER\&quot;,517:\&quot;NOTEQUAL\&quot;,518:\&quot;GEQUAL\&quot;,519:\&quot;ALWAYS\&quot;,768:\&quot;SRC_COLOR\&quot;,769:\&quot;ONE_MINUS_SRC_COLOR\&quot;,770:\&quot;SRC_ALPHA\&quot;,771:\&quot;ONE_MINUS_SRC_ALPHA\&quot;,772:\&quot;DST_ALPHA\&quot;,773:\&quot;ONE_MINUS_DST_ALPHA\&quot;,774:\&quot;DST_COLOR\&quot;,775:\&quot;ONE_MINUS_DST_COLOR\&quot;,776:\&quot;SRC_ALPHA_SATURATE\&quot;,1024:\&quot;STENCIL_BUFFER_BIT\&quot;,1028:\&quot;FRONT\&quot;,1029:\&quot;BACK\&quot;,1032:\&quot;FRONT_AND_BACK\&quot;,1280:\&quot;INVALID_ENUM\&quot;,1281:\&quot;INVALID_VALUE\&quot;,1282:\&quot;INVALID_OPERATION\&quot;,1285:\&quot;OUT_OF_MEMORY\&quot;,1286:\&quot;INVALID_FRAMEBUFFER_OPERATION\&quot;,2304:\&quot;CW\&quot;,2305:\&quot;CCW\&quot;,2849:\&quot;LINE_WIDTH\&quot;,2884:\&quot;CULL_FACE\&quot;,2885:\&quot;CULL_FACE_MODE\&quot;,2886:\&quot;FRONT_FACE\&quot;,2928:\&quot;DEPTH_RANGE\&quot;,2929:\&quot;DEPTH_TEST\&quot;,2930:\&quot;DEPTH_WRITEMASK\&quot;,2931:\&quot;DEPTH_CLEAR_VALUE\&quot;,2932:\&quot;DEPTH_FUNC\&quot;,2960:\&quot;STENCIL_TEST\&quot;,2961:\&quot;STENCIL_CLEAR_VALUE\&quot;,2962:\&quot;STENCIL_FUNC\&quot;,2963:\&quot;STENCIL_VALUE_MASK\&quot;,2964:\&quot;STENCIL_FAIL\&quot;,2965:\&quot;STENCIL_PASS_DEPTH_FAIL\&quot;,2966:\&quot;STENCIL_PASS_DEPTH_PASS\&quot;,2967:\&quot;STENCIL_REF\&quot;,2968:\&quot;STENCIL_WRITEMASK\&quot;,2978:\&quot;VIEWPORT\&quot;,3024:\&quot;DITHER\&quot;,3042:\&quot;BLEND\&quot;,3088:\&quot;SCISSOR_BOX\&quot;,3089:\&quot;SCISSOR_TEST\&quot;,3106:\&quot;COLOR_CLEAR_VALUE\&quot;,3107:\&quot;COLOR_WRITEMASK\&quot;,3317:\&quot;UNPACK_ALIGNMENT\&quot;,3333:\&quot;PACK_ALIGNMENT\&quot;,3379:\&quot;MAX_TEXTURE_SIZE\&quot;,3386:\&quot;MAX_VIEWPORT_DIMS\&quot;,3408:\&quot;SUBPIXEL_BITS\&quot;,3410:\&quot;RED_BITS\&quot;,3411:\&quot;GREEN_BITS\&quot;,3412:\&quot;BLUE_BITS\&quot;,3413:\&quot;ALPHA_BITS\&quot;,3414:\&quot;DEPTH_BITS\&quot;,3415:\&quot;STENCIL_BITS\&quot;,3553:\&quot;TEXTURE_2D\&quot;,4352:\&quot;DONT_CARE\&quot;,4353:\&quot;FASTEST\&quot;,4354:\&quot;NICEST\&quot;,5120:\&quot;BYTE\&quot;,5121:\&quot;UNSIGNED_BYTE\&quot;,5122:\&quot;SHORT\&quot;,5123:\&quot;UNSIGNED_SHORT\&quot;,5124:\&quot;INT\&quot;,5125:\&quot;UNSIGNED_INT\&quot;,5126:\&quot;FLOAT\&quot;,5386:\&quot;INVERT\&quot;,5890:\&quot;TEXTURE\&quot;,6401:\&quot;STENCIL_INDEX\&quot;,6402:\&quot;DEPTH_COMPONENT\&quot;,6406:\&quot;ALPHA\&quot;,6407:\&quot;RGB\&quot;,6408:\&quot;RGBA\&quot;,6409:\&quot;LUMINANCE\&quot;,6410:\&quot;LUMINANCE_ALPHA\&quot;,7680:\&quot;KEEP\&quot;,7681:\&quot;REPLACE\&quot;,7682:\&quot;INCR\&quot;,7683:\&quot;DECR\&quot;,7936:\&quot;VENDOR\&quot;,7937:\&quot;RENDERER\&quot;,7938:\&quot;VERSION\&quot;,9728:\&quot;NEAREST\&quot;,9729:\&quot;LINEAR\&quot;,9984:\&quot;NEAREST_MIPMAP_NEAREST\&quot;,9985:\&quot;LINEAR_MIPMAP_NEAREST\&quot;,9986:\&quot;NEAREST_MIPMAP_LINEAR\&quot;,9987:\&quot;LINEAR_MIPMAP_LINEAR\&quot;,10240:\&quot;TEXTURE_MAG_FILTER\&quot;,10241:\&quot;TEXTURE_MIN_FILTER\&quot;,10242:\&quot;TEXTURE_WRAP_S\&quot;,10243:\&quot;TEXTURE_WRAP_T\&quot;,10497:\&quot;REPEAT\&quot;,10752:\&quot;POLYGON_OFFSET_UNITS\&quot;,16384:\&quot;COLOR_BUFFER_BIT\&quot;,32769:\&quot;CONSTANT_COLOR\&quot;,32770:\&quot;ONE_MINUS_CONSTANT_COLOR\&quot;,32771:\&quot;CONSTANT_ALPHA\&quot;,32772:\&quot;ONE_MINUS_CONSTANT_ALPHA\&quot;,32773:\&quot;BLEND_COLOR\&quot;,32774:\&quot;FUNC_ADD\&quot;,32777:\&quot;BLEND_EQUATION_RGB\&quot;,32778:\&quot;FUNC_SUBTRACT\&quot;,32779:\&quot;FUNC_REVERSE_SUBTRACT\&quot;,32819:\&quot;UNSIGNED_SHORT_4_4_4_4\&quot;,32820:\&quot;UNSIGNED_SHORT_5_5_5_1\&quot;,32823:\&quot;POLYGON_OFFSET_FILL\&quot;,32824:\&quot;POLYGON_OFFSET_FACTOR\&quot;,32854:\&quot;RGBA4\&quot;,32855:\&quot;RGB5_A1\&quot;,32873:\&quot;TEXTURE_BINDING_2D\&quot;,32926:\&quot;SAMPLE_ALPHA_TO_COVERAGE\&quot;,32928:\&quot;SAMPLE_COVERAGE\&quot;,32936:\&quot;SAMPLE_BUFFERS\&quot;,32937:\&quot;SAMPLES\&quot;,32938:\&quot;SAMPLE_COVERAGE_VALUE\&quot;,32939:\&quot;SAMPLE_COVERAGE_INVERT\&quot;,32968:\&quot;BLEND_DST_RGB\&quot;,32969:\&quot;BLEND_SRC_RGB\&quot;,32970:\&quot;BLEND_DST_ALPHA\&quot;,32971:\&quot;BLEND_SRC_ALPHA\&quot;,33071:\&quot;CLAMP_TO_EDGE\&quot;,33170:\&quot;GENERATE_MIPMAP_HINT\&quot;,33189:\&quot;DEPTH_COMPONENT16\&quot;,33306:\&quot;DEPTH_STENCIL_ATTACHMENT\&quot;,33635:\&quot;UNSIGNED_SHORT_5_6_5\&quot;,33648:\&quot;MIRRORED_REPEAT\&quot;,33901:\&quot;ALIASED_POINT_SIZE_RANGE\&quot;,33902:\&quot;ALIASED_LINE_WIDTH_RANGE\&quot;,33984:\&quot;TEXTURE0\&quot;,33985:\&quot;TEXTURE1\&quot;,33986:\&quot;TEXTURE2\&quot;,33987:\&quot;TEXTURE3\&quot;,33988:\&quot;TEXTURE4\&quot;,33989:\&quot;TEXTURE5\&quot;,33990:\&quot;TEXTURE6\&quot;,33991:\&quot;TEXTURE7\&quot;,33992:\&quot;TEXTURE8\&quot;,33993:\&quot;TEXTURE9\&quot;,33994:\&quot;TEXTURE10\&quot;,33995:\&quot;TEXTURE11\&quot;,33996:\&quot;TEXTURE12\&quot;,33997:\&quot;TEXTURE13\&quot;,33998:\&quot;TEXTURE14\&quot;,33999:\&quot;TEXTURE15\&quot;,34e3:\&quot;TEXTURE16\&quot;,34001:\&quot;TEXTURE17\&quot;,34002:\&quot;TEXTURE18\&quot;,34003:\&quot;TEXTURE19\&quot;,34004:\&quot;TEXTURE20\&quot;,34005:\&quot;TEXTURE21\&quot;,34006:\&quot;TEXTURE22\&quot;,34007:\&quot;TEXTURE23\&quot;,34008:\&quot;TEXTURE24\&quot;,34009:\&quot;TEXTURE25\&quot;,34010:\&quot;TEXTURE26\&quot;,34011:\&quot;TEXTURE27\&quot;,34012:\&quot;TEXTURE28\&quot;,34013:\&quot;TEXTURE29\&quot;,34014:\&quot;TEXTURE30\&quot;,34015:\&quot;TEXTURE31\&quot;,34016:\&quot;ACTIVE_TEXTURE\&quot;,34024:\&quot;MAX_RENDERBUFFER_SIZE\&quot;,34041:\&quot;DEPTH_STENCIL\&quot;,34055:\&quot;INCR_WRAP\&quot;,34056:\&quot;DECR_WRAP\&quot;,34067:\&quot;TEXTURE_CUBE_MAP\&quot;,34068:\&quot;TEXTURE_BINDING_CUBE_MAP\&quot;,34069:\&quot;TEXTURE_CUBE_MAP_POSITIVE_X\&quot;,34070:\&quot;TEXTURE_CUBE_MAP_NEGATIVE_X\&quot;,34071:\&quot;TEXTURE_CUBE_MAP_POSITIVE_Y\&quot;,34072:\&quot;TEXTURE_CUBE_MAP_NEGATIVE_Y\&quot;,34073:\&quot;TEXTURE_CUBE_MAP_POSITIVE_Z\&quot;,34074:\&quot;TEXTURE_CUBE_MAP_NEGATIVE_Z\&quot;,34076:\&quot;MAX_CUBE_MAP_TEXTURE_SIZE\&quot;,34338:\&quot;VERTEX_ATTRIB_ARRAY_ENABLED\&quot;,34339:\&quot;VERTEX_ATTRIB_ARRAY_SIZE\&quot;,34340:\&quot;VERTEX_ATTRIB_ARRAY_STRIDE\&quot;,34341:\&quot;VERTEX_ATTRIB_ARRAY_TYPE\&quot;,34342:\&quot;CURRENT_VERTEX_ATTRIB\&quot;,34373:\&quot;VERTEX_ATTRIB_ARRAY_POINTER\&quot;,34466:\&quot;NUM_COMPRESSED_TEXTURE_FORMATS\&quot;,34467:\&quot;COMPRESSED_TEXTURE_FORMATS\&quot;,34660:\&quot;BUFFER_SIZE\&quot;,34661:\&quot;BUFFER_USAGE\&quot;,34816:\&quot;STENCIL_BACK_FUNC\&quot;,34817:\&quot;STENCIL_BACK_FAIL\&quot;,34818:\&quot;STENCIL_BACK_PASS_DEPTH_FAIL\&quot;,34819:\&quot;STENCIL_BACK_PASS_DEPTH_PASS\&quot;,34877:\&quot;BLEND_EQUATION_ALPHA\&quot;,34921:\&quot;MAX_VERTEX_ATTRIBS\&quot;,34922:\&quot;VERTEX_ATTRIB_ARRAY_NORMALIZED\&quot;,34930:\&quot;MAX_TEXTURE_IMAGE_UNITS\&quot;,34962:\&quot;ARRAY_BUFFER\&quot;,34963:\&quot;ELEMENT_ARRAY_BUFFER\&quot;,34964:\&quot;ARRAY_BUFFER_BINDING\&quot;,34965:\&quot;ELEMENT_ARRAY_BUFFER_BINDING\&quot;,34975:\&quot;VERTEX_ATTRIB_ARRAY_BUFFER_BINDING\&quot;,35040:\&quot;STREAM_DRAW\&quot;,35044:\&quot;STATIC_DRAW\&quot;,35048:\&quot;DYNAMIC_DRAW\&quot;,35632:\&quot;FRAGMENT_SHADER\&quot;,35633:\&quot;VERTEX_SHADER\&quot;,35660:\&quot;MAX_VERTEX_TEXTURE_IMAGE_UNITS\&quot;,35661:\&quot;MAX_COMBINED_TEXTURE_IMAGE_UNITS\&quot;,35663:\&quot;SHADER_TYPE\&quot;,35664:\&quot;FLOAT_VEC2\&quot;,35665:\&quot;FLOAT_VEC3\&quot;,35666:\&quot;FLOAT_VEC4\&quot;,35667:\&quot;INT_VEC2\&quot;,35668:\&quot;INT_VEC3\&quot;,35669:\&quot;INT_VEC4\&quot;,35670:\&quot;BOOL\&quot;,35671:\&quot;BOOL_VEC2\&quot;,35672:\&quot;BOOL_VEC3\&quot;,35673:\&quot;BOOL_VEC4\&quot;,35674:\&quot;FLOAT_MAT2\&quot;,35675:\&quot;FLOAT_MAT3\&quot;,35676:\&quot;FLOAT_MAT4\&quot;,35678:\&quot;SAMPLER_2D\&quot;,35680:\&quot;SAMPLER_CUBE\&quot;,35712:\&quot;DELETE_STATUS\&quot;,35713:\&quot;COMPILE_STATUS\&quot;,35714:\&quot;LINK_STATUS\&quot;,35715:\&quot;VALIDATE_STATUS\&quot;,35716:\&quot;INFO_LOG_LENGTH\&quot;,35717:\&quot;ATTACHED_SHADERS\&quot;,35718:\&quot;ACTIVE_UNIFORMS\&quot;,35719:\&quot;ACTIVE_UNIFORM_MAX_LENGTH\&quot;,35720:\&quot;SHADER_SOURCE_LENGTH\&quot;,35721:\&quot;ACTIVE_ATTRIBUTES\&quot;,35722:\&quot;ACTIVE_ATTRIBUTE_MAX_LENGTH\&quot;,35724:\&quot;SHADING_LANGUAGE_VERSION\&quot;,35725:\&quot;CURRENT_PROGRAM\&quot;,36003:\&quot;STENCIL_BACK_REF\&quot;,36004:\&quot;STENCIL_BACK_VALUE_MASK\&quot;,36005:\&quot;STENCIL_BACK_WRITEMASK\&quot;,36006:\&quot;FRAMEBUFFER_BINDING\&quot;,36007:\&quot;RENDERBUFFER_BINDING\&quot;,36048:\&quot;FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE\&quot;,36049:\&quot;FRAMEBUFFER_ATTACHMENT_OBJECT_NAME\&quot;,36050:\&quot;FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL\&quot;,36051:\&quot;FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE\&quot;,36053:\&quot;FRAMEBUFFER_COMPLETE\&quot;,36054:\&quot;FRAMEBUFFER_INCOMPLETE_ATTACHMENT\&quot;,36055:\&quot;FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT\&quot;,36057:\&quot;FRAMEBUFFER_INCOMPLETE_DIMENSIONS\&quot;,36061:\&quot;FRAMEBUFFER_UNSUPPORTED\&quot;,36064:\&quot;COLOR_ATTACHMENT0\&quot;,36096:\&quot;DEPTH_ATTACHMENT\&quot;,36128:\&quot;STENCIL_ATTACHMENT\&quot;,36160:\&quot;FRAMEBUFFER\&quot;,36161:\&quot;RENDERBUFFER\&quot;,36162:\&quot;RENDERBUFFER_WIDTH\&quot;,36163:\&quot;RENDERBUFFER_HEIGHT\&quot;,36164:\&quot;RENDERBUFFER_INTERNAL_FORMAT\&quot;,36168:\&quot;STENCIL_INDEX8\&quot;,36176:\&quot;RENDERBUFFER_RED_SIZE\&quot;,36177:\&quot;RENDERBUFFER_GREEN_SIZE\&quot;,36178:\&quot;RENDERBUFFER_BLUE_SIZE\&quot;,36179:\&quot;RENDERBUFFER_ALPHA_SIZE\&quot;,36180:\&quot;RENDERBUFFER_DEPTH_SIZE\&quot;,36181:\&quot;RENDERBUFFER_STENCIL_SIZE\&quot;,36194:\&quot;RGB565\&quot;,36336:\&quot;LOW_FLOAT\&quot;,36337:\&quot;MEDIUM_FLOAT\&quot;,36338:\&quot;HIGH_FLOAT\&quot;,36339:\&quot;LOW_INT\&quot;,36340:\&quot;MEDIUM_INT\&quot;,36341:\&quot;HIGH_INT\&quot;,36346:\&quot;SHADER_COMPILER\&quot;,36347:\&quot;MAX_VERTEX_UNIFORM_VECTORS\&quot;,36348:\&quot;MAX_VARYING_VECTORS\&quot;,36349:\&quot;MAX_FRAGMENT_UNIFORM_VECTORS\&quot;,37440:\&quot;UNPACK_FLIP_Y_WEBGL\&quot;,37441:\&quot;UNPACK_PREMULTIPLY_ALPHA_WEBGL\&quot;,37442:\&quot;CONTEXT_LOST_WEBGL\&quot;,37443:\&quot;UNPACK_COLORSPACE_CONVERSION_WEBGL\&quot;,37444:\&quot;BROWSER_DEFAULT_WEBGL\&quot;}},{}],265:[function(t,e,r){var n=t(\&quot;./1.0/numbers\&quot;);e.exports=function(t){return n[t]}},{\&quot;./1.0/numbers\&quot;:264}],266:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){var e=t.gl,r=n(e),o=i(e,[{buffer:r,type:e.FLOAT,size:3,offset:0,stride:40},{buffer:r,type:e.FLOAT,size:4,offset:12,stride:40},{buffer:r,type:e.FLOAT,size:3,offset:28,stride:40}]),l=a(e);l.attributes.position.location=0,l.attributes.color.location=1,l.attributes.offset.location=2;var c=new s(e,r,o,l);return c.update(t),c};var n=t(\&quot;gl-buffer\&quot;),i=t(\&quot;gl-vao\&quot;),a=t(\&quot;./shaders/index\&quot;),o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(t,e,r,n){this.gl=t,this.shader=n,this.buffer=e,this.vao=r,this.pixelRatio=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lineWidth=[1,1,1],this.capSize=[10,10,10],this.lineCount=[0,0,0],this.lineOffset=[0,0,0],this.opacity=1,this.hasAlpha=!1}var l=s.prototype;function c(t,e){for(var r=0;r&lt;3;++r)t[0][r]=Math.min(t[0][r],e[r]),t[1][r]=Math.max(t[1][r],e[r])}l.isOpaque=function(){return!this.hasAlpha},l.isTransparent=function(){return this.hasAlpha},l.drawTransparent=l.draw=function(t){var e=this.gl,r=this.shader.uniforms;this.shader.bind();var n=r.view=t.view||o,i=r.projection=t.projection||o;r.model=t.model||o,r.clipBounds=this.clipBounds,r.opacity=this.opacity;var a=n[12],s=n[13],l=n[14],c=n[15],u=(t._ortho||!1?2:1)*this.pixelRatio*(i[3]*a+i[7]*s+i[11]*l+i[15]*c)/e.drawingBufferHeight;this.vao.bind();for(var f=0;f&lt;3;++f)e.lineWidth(this.lineWidth[f]*this.pixelRatio),r.capSize=this.capSize[f]*u,this.lineCount[f]&amp;&amp;e.drawArrays(e.LINES,this.lineOffset[f],this.lineCount[f]);this.vao.unbind()};var u=function(){for(var t=new Array(3),e=0;e&lt;3;++e){for(var r=[],n=1;n&lt;=2;++n)for(var i=-1;i&lt;=1;i+=2){var a=[0,0,0];a[(n+e)%3]=i,r.push(a)}t[e]=r}return t}();function f(t,e,r,n){for(var i=u[n],a=0;a&lt;i.length;++a){var o=i[a];t.push(e[0],e[1],e[2],r[0],r[1],r[2],r[3],o[0],o[1],o[2])}return i.length}l.update=function(t){\&quot;lineWidth\&quot;in(t=t||{})&amp;&amp;(this.lineWidth=t.lineWidth,Array.isArray(this.lineWidth)||(this.lineWidth=[this.lineWidth,this.lineWidth,this.lineWidth])),\&quot;capSize\&quot;in t&amp;&amp;(this.capSize=t.capSize,Array.isArray(this.capSize)||(this.capSize=[this.capSize,this.capSize,this.capSize])),this.hasAlpha=!1,\&quot;opacity\&quot;in t&amp;&amp;(this.opacity=+t.opacity,this.opacity&lt;1&amp;&amp;(this.hasAlpha=!0));var e=t.color||[[0,0,0],[0,0,0],[0,0,0]],r=t.position,n=t.error;if(Array.isArray(e[0])||(e=[e,e,e]),r&amp;&amp;n){var i=[],a=r.length,o=0;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.lineCount=[0,0,0];for(var s=0;s&lt;3;++s){this.lineOffset[s]=o;t:for(var l=0;l&lt;a;++l){for(var u=r[l],h=0;h&lt;3;++h)if(isNaN(u[h])||!isFinite(u[h]))continue t;var p=n[l],d=e[s];if(Array.isArray(d[0])&amp;&amp;(d=e[l]),3===d.length?d=[d[0],d[1],d[2],1]:4===d.length&amp;&amp;(d=[d[0],d[1],d[2],d[3]],!this.hasAlpha&amp;&amp;d[3]&lt;1&amp;&amp;(this.hasAlpha=!0)),!isNaN(p[0][s])&amp;&amp;!isNaN(p[1][s])){var g;if(p[0][s]&lt;0)(g=u.slice())[s]+=p[0][s],i.push(u[0],u[1],u[2],d[0],d[1],d[2],d[3],0,0,0,g[0],g[1],g[2],d[0],d[1],d[2],d[3],0,0,0),c(this.bounds,g),o+=2+f(i,g,d,s);if(p[1][s]&gt;0)(g=u.slice())[s]+=p[1][s],i.push(u[0],u[1],u[2],d[0],d[1],d[2],d[3],0,0,0,g[0],g[1],g[2],d[0],d[1],d[2],d[3],0,0,0),c(this.bounds,g),o+=2+f(i,g,d,s)}}this.lineCount[s]=o-this.lineOffset[s]}this.buffer.update(i)}},l.dispose=function(){this.shader.dispose(),this.buffer.dispose(),this.vao.dispose()}},{\&quot;./shaders/index\&quot;:268,\&quot;gl-buffer\&quot;:259,\&quot;gl-vao\&quot;:358}],267:[function(t,e,r){arguments[4][257][0].apply(r,arguments)},{dup:257}],268:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;glslify\&quot;),i=t(\&quot;gl-shader\&quot;),a=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position, offset;\\nattribute vec4 color;\\nuniform mat4 model, view, projection;\\nuniform float capSize;\\nvarying vec4 fragColor;\\nvarying vec3 fragPosition;\\n\\nvoid main() {\\n  vec4 worldPosition  = model * vec4(position, 1.0);\\n  worldPosition       = (worldPosition / worldPosition.w) + vec4(capSize * offset, 0.0);\\n  gl_Position         = projection * view * worldPosition;\\n  fragColor           = color;\\n  fragPosition        = position;\\n}\&quot;]),o=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nbool outOfRange(float a, float b, float p) {\\n  return ((p &gt; max(a, b)) || \\n          (p &lt; min(a, b)));\\n}\\n\\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y));\\n}\\n\\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y) ||\\n          outOfRange(a.z, b.z, p.z));\\n}\\n\\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\\n  return outOfRange(a.xyz, b.xyz, p.xyz);\\n}\\n\\nuniform vec3 clipBounds[2];\\nuniform float opacity;\\nvarying vec3 fragPosition;\\nvarying vec4 fragColor;\\n\\nvoid main() {\\n  if (\\n    outOfRange(clipBounds[0], clipBounds[1], fragPosition) ||\\n    fragColor.a * opacity == 0.\\n  ) discard;\\n\\n  gl_FragColor = opacity * fragColor;\\n}\&quot;]);e.exports=function(t){return i(t,a,o,null,[{name:\&quot;position\&quot;,type:\&quot;vec3\&quot;},{name:\&quot;color\&quot;,type:\&quot;vec4\&quot;},{name:\&quot;offset\&quot;,type:\&quot;vec3\&quot;}])}},{\&quot;gl-shader\&quot;:335,glslify:267}],269:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;gl-texture2d\&quot;);e.exports=function(t,e,r,n){i||(i=t.FRAMEBUFFER_UNSUPPORTED,a=t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,o=t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,s=t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT);var c=t.getExtension(\&quot;WEBGL_draw_buffers\&quot;);!l&amp;&amp;c&amp;&amp;function(t,e){var r=t.getParameter(e.MAX_COLOR_ATTACHMENTS_WEBGL);l=new Array(r+1);for(var n=0;n&lt;=r;++n){for(var i=new Array(r),a=0;a&lt;n;++a)i[a]=t.COLOR_ATTACHMENT0+a;for(a=n;a&lt;r;++a)i[a]=t.NONE;l[n]=i}}(t,c);Array.isArray(e)&amp;&amp;(n=r,r=0|e[1],e=0|e[0]);if(\&quot;number\&quot;!=typeof e)throw new Error(\&quot;gl-fbo: Missing shape parameter\&quot;);var u=t.getParameter(t.MAX_RENDERBUFFER_SIZE);if(e&lt;0||e&gt;u||r&lt;0||r&gt;u)throw new Error(\&quot;gl-fbo: Parameters are too large for FBO\&quot;);var f=1;if(\&quot;color\&quot;in(n=n||{})){if((f=Math.max(0|n.color,0))&lt;0)throw new Error(\&quot;gl-fbo: Must specify a nonnegative number of colors\&quot;);if(f&gt;1){if(!c)throw new Error(\&quot;gl-fbo: Multiple draw buffer extension not supported\&quot;);if(f&gt;t.getParameter(c.MAX_COLOR_ATTACHMENTS_WEBGL))throw new Error(\&quot;gl-fbo: Context does not support \&quot;+f+\&quot; draw buffers\&quot;)}}var h=t.UNSIGNED_BYTE,p=t.getExtension(\&quot;OES_texture_float\&quot;);if(n.float&amp;&amp;f&gt;0){if(!p)throw new Error(\&quot;gl-fbo: Context does not support floating point textures\&quot;);h=t.FLOAT}else n.preferFloat&amp;&amp;f&gt;0&amp;&amp;p&amp;&amp;(h=t.FLOAT);var g=!0;\&quot;depth\&quot;in n&amp;&amp;(g=!!n.depth);var m=!1;\&quot;stencil\&quot;in n&amp;&amp;(m=!!n.stencil);return new d(t,e,r,h,f,g,m,c)};var i,a,o,s,l=null;function c(t){return[t.getParameter(t.FRAMEBUFFER_BINDING),t.getParameter(t.RENDERBUFFER_BINDING),t.getParameter(t.TEXTURE_BINDING_2D)]}function u(t,e){t.bindFramebuffer(t.FRAMEBUFFER,e[0]),t.bindRenderbuffer(t.RENDERBUFFER,e[1]),t.bindTexture(t.TEXTURE_2D,e[2])}function f(t){switch(t){case i:throw new Error(\&quot;gl-fbo: Framebuffer unsupported\&quot;);case a:throw new Error(\&quot;gl-fbo: Framebuffer incomplete attachment\&quot;);case o:throw new Error(\&quot;gl-fbo: Framebuffer incomplete dimensions\&quot;);case s:throw new Error(\&quot;gl-fbo: Framebuffer incomplete missing attachment\&quot;);default:throw new Error(\&quot;gl-fbo: Framebuffer failed for unspecified reason\&quot;)}}function h(t,e,r,i,a,o){if(!i)return null;var s=n(t,e,r,a,i);return s.magFilter=t.NEAREST,s.minFilter=t.NEAREST,s.mipSamples=1,s.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,o,t.TEXTURE_2D,s.handle,0),s}function p(t,e,r,n,i){var a=t.createRenderbuffer();return t.bindRenderbuffer(t.RENDERBUFFER,a),t.renderbufferStorage(t.RENDERBUFFER,n,e,r),t.framebufferRenderbuffer(t.FRAMEBUFFER,i,t.RENDERBUFFER,a),a}function d(t,e,r,n,i,a,o,s){this.gl=t,this._shape=[0|e,0|r],this._destroyed=!1,this._ext=s,this.color=new Array(i);for(var d=0;d&lt;i;++d)this.color[d]=null;this._color_rb=null,this.depth=null,this._depth_rb=null,this._colorType=n,this._useDepth=a,this._useStencil=o;var g=this,m=[0|e,0|r];Object.defineProperties(m,{0:{get:function(){return g._shape[0]},set:function(t){return g.width=t}},1:{get:function(){return g._shape[1]},set:function(t){return g.height=t}}}),this._shapeVector=m,function(t){var e=c(t.gl),r=t.gl,n=t.handle=r.createFramebuffer(),i=t._shape[0],a=t._shape[1],o=t.color.length,s=t._ext,d=t._useStencil,g=t._useDepth,m=t._colorType;r.bindFramebuffer(r.FRAMEBUFFER,n);for(var v=0;v&lt;o;++v)t.color[v]=h(r,i,a,m,r.RGBA,r.COLOR_ATTACHMENT0+v);0===o?(t._color_rb=p(r,i,a,r.RGBA4,r.COLOR_ATTACHMENT0),s&amp;&amp;s.drawBuffersWEBGL(l[0])):o&gt;1&amp;&amp;s.drawBuffersWEBGL(l[o]);var y=r.getExtension(\&quot;WEBGL_depth_texture\&quot;);y?d?t.depth=h(r,i,a,y.UNSIGNED_INT_24_8_WEBGL,r.DEPTH_STENCIL,r.DEPTH_STENCIL_ATTACHMENT):g&amp;&amp;(t.depth=h(r,i,a,r.UNSIGNED_SHORT,r.DEPTH_COMPONENT,r.DEPTH_ATTACHMENT)):g&amp;&amp;d?t._depth_rb=p(r,i,a,r.DEPTH_STENCIL,r.DEPTH_STENCIL_ATTACHMENT):g?t._depth_rb=p(r,i,a,r.DEPTH_COMPONENT16,r.DEPTH_ATTACHMENT):d&amp;&amp;(t._depth_rb=p(r,i,a,r.STENCIL_INDEX,r.STENCIL_ATTACHMENT));var x=r.checkFramebufferStatus(r.FRAMEBUFFER);if(x!==r.FRAMEBUFFER_COMPLETE){t._destroyed=!0,r.bindFramebuffer(r.FRAMEBUFFER,null),r.deleteFramebuffer(t.handle),t.handle=null,t.depth&amp;&amp;(t.depth.dispose(),t.depth=null),t._depth_rb&amp;&amp;(r.deleteRenderbuffer(t._depth_rb),t._depth_rb=null);for(v=0;v&lt;t.color.length;++v)t.color[v].dispose(),t.color[v]=null;t._color_rb&amp;&amp;(r.deleteRenderbuffer(t._color_rb),t._color_rb=null),u(r,e),f(x)}u(r,e)}(this)}var g=d.prototype;function m(t,e,r){if(t._destroyed)throw new Error(\&quot;gl-fbo: Can't resize destroyed FBO\&quot;);if(t._shape[0]!==e||t._shape[1]!==r){var n=t.gl,i=n.getParameter(n.MAX_RENDERBUFFER_SIZE);if(e&lt;0||e&gt;i||r&lt;0||r&gt;i)throw new Error(\&quot;gl-fbo: Can't resize FBO, invalid dimensions\&quot;);t._shape[0]=e,t._shape[1]=r;for(var a=c(n),o=0;o&lt;t.color.length;++o)t.color[o].shape=t._shape;t._color_rb&amp;&amp;(n.bindRenderbuffer(n.RENDERBUFFER,t._color_rb),n.renderbufferStorage(n.RENDERBUFFER,n.RGBA4,t._shape[0],t._shape[1])),t.depth&amp;&amp;(t.depth.shape=t._shape),t._depth_rb&amp;&amp;(n.bindRenderbuffer(n.RENDERBUFFER,t._depth_rb),t._useDepth&amp;&amp;t._useStencil?n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,t._shape[0],t._shape[1]):t._useDepth?n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,t._shape[0],t._shape[1]):t._useStencil&amp;&amp;n.renderbufferStorage(n.RENDERBUFFER,n.STENCIL_INDEX,t._shape[0],t._shape[1])),n.bindFramebuffer(n.FRAMEBUFFER,t.handle);var s=n.checkFramebufferStatus(n.FRAMEBUFFER);s!==n.FRAMEBUFFER_COMPLETE&amp;&amp;(t.dispose(),u(n,a),f(s)),u(n,a)}}Object.defineProperties(g,{shape:{get:function(){return this._destroyed?[0,0]:this._shapeVector},set:function(t){if(Array.isArray(t)||(t=[0|t,0|t]),2!==t.length)throw new Error(\&quot;gl-fbo: Shape vector must be length 2\&quot;);var e=0|t[0],r=0|t[1];return m(this,e,r),[e,r]},enumerable:!1},width:{get:function(){return this._destroyed?0:this._shape[0]},set:function(t){return m(this,t|=0,this._shape[1]),t},enumerable:!1},height:{get:function(){return this._destroyed?0:this._shape[1]},set:function(t){return t|=0,m(this,this._shape[0],t),t},enumerable:!1}}),g.bind=function(){if(!this._destroyed){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,this.handle),t.viewport(0,0,this._shape[0],this._shape[1])}},g.dispose=function(){if(!this._destroyed){this._destroyed=!0;var t=this.gl;t.deleteFramebuffer(this.handle),this.handle=null,this.depth&amp;&amp;(this.depth.dispose(),this.depth=null),this._depth_rb&amp;&amp;(t.deleteRenderbuffer(this._depth_rb),this._depth_rb=null);for(var e=0;e&lt;this.color.length;++e)this.color[e].dispose(),this.color[e]=null;this._color_rb&amp;&amp;(t.deleteRenderbuffer(this._color_rb),this._color_rb=null)}}},{\&quot;gl-texture2d\&quot;:353}],270:[function(t,e,r){var n=t(\&quot;sprintf-js\&quot;).sprintf,i=t(\&quot;gl-constants/lookup\&quot;),a=t(\&quot;glsl-shader-name\&quot;),o=t(\&quot;add-line-numbers\&quot;);e.exports=function(t,e,r){\&quot;use strict\&quot;;var s=a(e)||\&quot;of unknown name (see npm glsl-shader-name)\&quot;,l=\&quot;unknown type\&quot;;void 0!==r&amp;&amp;(l=r===i.FRAGMENT_SHADER?\&quot;fragment\&quot;:\&quot;vertex\&quot;);for(var c=n(\&quot;Error compiling %s shader %s:\\n\&quot;,l,s),u=n(\&quot;%s%s\&quot;,c,t),f=t.split(\&quot;\\n\&quot;),h={},p=0;p&lt;f.length;p++){var d=f[p];if(\&quot;\&quot;!==d&amp;&amp;\&quot;\\0\&quot;!==d){var g=parseInt(d.split(\&quot;:\&quot;)[2]);if(isNaN(g))throw new Error(n(\&quot;Could not parse error: %s\&quot;,d));h[g]=d}}var m=o(e).split(\&quot;\\n\&quot;);for(p=0;p&lt;m.length;p++)if(h[p+3]||h[p+2]||h[p+1]){var v=m[p];if(c+=v+\&quot;\\n\&quot;,h[p+1]){var y=h[p+1];y=y.substr(y.split(\&quot;:\&quot;,3).join(\&quot;:\&quot;).length+1).trim(),c+=n(\&quot;^^^ %s\\n\\n\&quot;,y)}}return{long:c.trim(),short:u.trim()}}},{\&quot;add-line-numbers\&quot;:66,\&quot;gl-constants/lookup\&quot;:265,\&quot;glsl-shader-name\&quot;:431,\&quot;sprintf-js\&quot;:567}],271:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e){var r=t.gl,n=o(r,l.vertex,l.fragment),i=o(r,l.pickVertex,l.pickFragment),a=s(r),u=s(r),f=s(r),h=s(r),p=new c(t,n,i,a,u,f,h);return p.update(e),t.addObject(p),p};var n=t(\&quot;binary-search-bounds\&quot;),i=t(\&quot;iota-array\&quot;),a=t(\&quot;typedarray-pool\&quot;),o=t(\&quot;gl-shader\&quot;),s=t(\&quot;gl-buffer\&quot;),l=t(\&quot;./lib/shaders\&quot;);function c(t,e,r,n,i,a,o){this.plot=t,this.shader=e,this.pickShader=r,this.positionBuffer=n,this.weightBuffer=i,this.colorBuffer=a,this.idBuffer=o,this.xData=[],this.yData=[],this.shape=[0,0],this.bounds=[1/0,1/0,-1/0,-1/0],this.pickOffset=0}var u,f=c.prototype,h=[0,0,1,0,0,1,1,0,1,1,0,1];f.draw=(u=[1,0,0,0,1,0,0,0,1],function(){var t=this.plot,e=this.shader,r=this.bounds,n=this.numVertices;if(!(n&lt;=0)){var i=t.gl,a=t.dataBox,o=r[2]-r[0],s=r[3]-r[1],l=a[2]-a[0],c=a[3]-a[1];u[0]=2*o/l,u[4]=2*s/c,u[6]=2*(r[0]-a[0])/l-1,u[7]=2*(r[1]-a[1])/c-1,e.bind();var f=e.uniforms;f.viewTransform=u,f.shape=this.shape;var h=e.attributes;this.positionBuffer.bind(),h.position.pointer(),this.weightBuffer.bind(),h.weight.pointer(i.UNSIGNED_BYTE,!1),this.colorBuffer.bind(),h.color.pointer(i.UNSIGNED_BYTE,!0),i.drawArrays(i.TRIANGLES,0,n)}}),f.drawPick=function(){var t=[1,0,0,0,1,0,0,0,1],e=[0,0,0,0];return function(r){var n=this.plot,i=this.pickShader,a=this.bounds,o=this.numVertices;if(!(o&lt;=0)){var s=n.gl,l=n.dataBox,c=a[2]-a[0],u=a[3]-a[1],f=l[2]-l[0],h=l[3]-l[1];t[0]=2*c/f,t[4]=2*u/h,t[6]=2*(a[0]-l[0])/f-1,t[7]=2*(a[1]-l[1])/h-1;for(var p=0;p&lt;4;++p)e[p]=r&gt;&gt;8*p&amp;255;this.pickOffset=r,i.bind();var d=i.uniforms;d.viewTransform=t,d.pickOffset=e,d.shape=this.shape;var g=i.attributes;return this.positionBuffer.bind(),g.position.pointer(),this.weightBuffer.bind(),g.weight.pointer(s.UNSIGNED_BYTE,!1),this.idBuffer.bind(),g.pickId.pointer(s.UNSIGNED_BYTE,!1),s.drawArrays(s.TRIANGLES,0,o),r+this.shape[0]*this.shape[1]}}}(),f.pick=function(t,e,r){var n=this.pickOffset,i=this.shape[0]*this.shape[1];if(r&lt;n||r&gt;=n+i)return null;var a=r-n,o=this.xData,s=this.yData;return{object:this,pointId:a,dataCoord:[o[a%this.shape[0]],s[a/this.shape[0]|0]]}},f.update=function(t){var e=(t=t||{}).shape||[0,0],r=t.x||i(e[0]),o=t.y||i(e[1]),s=t.z||new Float32Array(e[0]*e[1]),l=!1!==t.zsmooth;this.xData=r,this.yData=o;var c,u,f,p,d=t.colorLevels||[0],g=t.colorValues||[0,0,0,1],m=d.length,v=this.bounds;l?(c=v[0]=r[0],u=v[1]=o[0],f=v[2]=r[r.length-1],p=v[3]=o[o.length-1]):(c=v[0]=r[0]+(r[1]-r[0])/2,u=v[1]=o[0]+(o[1]-o[0])/2,f=v[2]=r[r.length-1]+(r[r.length-1]-r[r.length-2])/2,p=v[3]=o[o.length-1]+(o[o.length-1]-o[o.length-2])/2);var y=1/(f-c),x=1/(p-u),b=e[0],_=e[1];this.shape=[b,_];var w=(l?(b-1)*(_-1):b*_)*(h.length&gt;&gt;&gt;1);this.numVertices=w;for(var T=a.mallocUint8(4*w),k=a.mallocFloat32(2*w),M=a.mallocUint8(2*w),A=a.mallocUint32(w),S=0,E=l?b-1:b,C=l?_-1:_,L=0;L&lt;C;++L){var I,P;l?(I=x*(o[L]-u),P=x*(o[L+1]-u)):(I=L&lt;_-1?x*(o[L]-(o[L+1]-o[L])/2-u):x*(o[L]-(o[L]-o[L-1])/2-u),P=L&lt;_-1?x*(o[L]+(o[L+1]-o[L])/2-u):x*(o[L]+(o[L]-o[L-1])/2-u));for(var z=0;z&lt;E;++z){var O,D;l?(O=y*(r[z]-c),D=y*(r[z+1]-c)):(O=z&lt;b-1?y*(r[z]-(r[z+1]-r[z])/2-c):y*(r[z]-(r[z]-r[z-1])/2-c),D=z&lt;b-1?y*(r[z]+(r[z+1]-r[z])/2-c):y*(r[z]+(r[z]-r[z-1])/2-c));for(var R=0;R&lt;h.length;R+=2){var F,B,N,j,U=h[R],V=h[R+1],q=s[l?(L+V)*b+(z+U):L*b+z],H=n.le(d,q);if(H&lt;0)F=g[0],B=g[1],N=g[2],j=g[3];else if(H===m-1)F=g[4*m-4],B=g[4*m-3],N=g[4*m-2],j=g[4*m-1];else{var G=(q-d[H])/(d[H+1]-d[H]),Y=1-G,W=4*H,X=4*(H+1);F=Y*g[W]+G*g[X],B=Y*g[W+1]+G*g[X+1],N=Y*g[W+2]+G*g[X+2],j=Y*g[W+3]+G*g[X+3]}T[4*S]=255*F,T[4*S+1]=255*B,T[4*S+2]=255*N,T[4*S+3]=255*j,k[2*S]=.5*O+.5*D,k[2*S+1]=.5*I+.5*P,M[2*S]=U,M[2*S+1]=V,A[S]=L*b+z,S+=1}}}this.positionBuffer.update(k),this.weightBuffer.update(M),this.colorBuffer.update(T),this.idBuffer.update(A),a.free(k),a.free(T),a.free(M),a.free(A)},f.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.positionBuffer.dispose(),this.weightBuffer.dispose(),this.colorBuffer.dispose(),this.idBuffer.dispose(),this.plot.removeObject(this)}},{\&quot;./lib/shaders\&quot;:272,\&quot;binary-search-bounds\&quot;:96,\&quot;gl-buffer\&quot;:259,\&quot;gl-shader\&quot;:335,\&quot;iota-array\&quot;:463,\&quot;typedarray-pool\&quot;:595}],272:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;glslify\&quot;);e.exports={fragment:n([\&quot;precision lowp float;\\n#define GLSLIFY 1\\nvarying vec4 fragColor;\\nvoid main() {\\n  gl_FragColor = vec4(fragColor.rgb * fragColor.a, fragColor.a);\\n}\\n\&quot;]),vertex:n([\&quot;precision mediump float;\\n#define GLSLIFY 1\\n\\nattribute vec2 position;\\nattribute vec4 color;\\nattribute vec2 weight;\\n\\nuniform vec2 shape;\\nuniform mat3 viewTransform;\\n\\nvarying vec4 fragColor;\\n\\nvoid main() {\\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\\n  fragColor = color;\\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\\n}\\n\&quot;]),pickFragment:n([\&quot;precision mediump float;\\n#define GLSLIFY 1\\n\\nvarying vec4 fragId;\\nvarying vec2 vWeight;\\n\\nuniform vec2 shape;\\nuniform vec4 pickOffset;\\n\\nvoid main() {\\n  vec2 d = step(.5, vWeight);\\n  vec4 id = fragId + pickOffset;\\n  id.x += d.x + d.y*shape.x;\\n\\n  id.y += floor(id.x / 256.0);\\n  id.x -= floor(id.x / 256.0) * 256.0;\\n\\n  id.z += floor(id.y / 256.0);\\n  id.y -= floor(id.y / 256.0) * 256.0;\\n\\n  id.w += floor(id.z / 256.0);\\n  id.z -= floor(id.z / 256.0) * 256.0;\\n\\n  gl_FragColor = id/255.;\\n}\\n\&quot;]),pickVertex:n([\&quot;precision mediump float;\\n#define GLSLIFY 1\\n\\nattribute vec2 position;\\nattribute vec4 pickId;\\nattribute vec2 weight;\\n\\nuniform vec2 shape;\\nuniform mat3 viewTransform;\\n\\nvarying vec4 fragId;\\nvarying vec2 vWeight;\\n\\nvoid main() {\\n  vWeight = weight;\\n\\n  fragId = pickId;\\n\\n  vec3 vPosition = viewTransform * vec3( position + (weight-.5)/(shape-1.) , 1.0);\\n  gl_Position = vec4(vPosition.xy, 0, vPosition.z);\\n}\\n\&quot;])}},{glslify:273}],273:[function(t,e,r){arguments[4][257][0].apply(r,arguments)},{dup:257}],274:[function(t,e,r){var n=t(\&quot;glslify\&quot;),i=t(\&quot;gl-shader\&quot;),a=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position, nextPosition;\\nattribute float arcLength, lineWidth;\\nattribute vec4 color;\\n\\nuniform vec2 screenShape;\\nuniform float pixelRatio;\\nuniform mat4 model, view, projection;\\n\\nvarying vec4 fragColor;\\nvarying vec3 worldPosition;\\nvarying float pixelArcLength;\\n\\nvec4 project(vec3 p) {\\n  return projection * view * model * vec4(p, 1.0);\\n}\\n\\nvoid main() {\\n  vec4 startPoint = project(position);\\n  vec4 endPoint   = project(nextPosition);\\n\\n  vec2 A = startPoint.xy / startPoint.w;\\n  vec2 B =   endPoint.xy /   endPoint.w;\\n\\n  float clipAngle = atan(\\n    (B.y - A.y) * screenShape.y,\\n    (B.x - A.x) * screenShape.x\\n  );\\n\\n  vec2 offset = 0.5 * pixelRatio * lineWidth * vec2(\\n    sin(clipAngle),\\n    -cos(clipAngle)\\n  ) / screenShape;\\n\\n  gl_Position = vec4(startPoint.xy + startPoint.w * offset, startPoint.zw);\\n\\n  worldPosition = position;\\n  pixelArcLength = arcLength;\\n  fragColor = color;\\n}\\n\&quot;]),o=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nbool outOfRange(float a, float b, float p) {\\n  return ((p &gt; max(a, b)) || \\n          (p &lt; min(a, b)));\\n}\\n\\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y));\\n}\\n\\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y) ||\\n          outOfRange(a.z, b.z, p.z));\\n}\\n\\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\\n  return outOfRange(a.xyz, b.xyz, p.xyz);\\n}\\n\\nuniform vec3      clipBounds[2];\\nuniform sampler2D dashTexture;\\nuniform float     dashScale;\\nuniform float     opacity;\\n\\nvarying vec3    worldPosition;\\nvarying float   pixelArcLength;\\nvarying vec4    fragColor;\\n\\nvoid main() {\\n  if (\\n    outOfRange(clipBounds[0], clipBounds[1], worldPosition) ||\\n    fragColor.a * opacity == 0.\\n  ) discard;\\n\\n  float dashWeight = texture2D(dashTexture, vec2(dashScale * pixelArcLength, 0)).r;\\n  if(dashWeight &lt; 0.5) {\\n    discard;\\n  }\\n  gl_FragColor = fragColor * opacity;\\n}\\n\&quot;]),s=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\n#define FLOAT_MAX  1.70141184e38\\n#define FLOAT_MIN  1.17549435e-38\\n\\n// https://github.com/mikolalysenko/glsl-read-float/blob/master/index.glsl\\nvec4 packFloat(float v) {\\n  float av = abs(v);\\n\\n  //Handle special cases\\n  if(av &lt; FLOAT_MIN) {\\n    return vec4(0.0, 0.0, 0.0, 0.0);\\n  } else if(v &gt; FLOAT_MAX) {\\n    return vec4(127.0, 128.0, 0.0, 0.0) / 255.0;\\n  } else if(v &lt; -FLOAT_MAX) {\\n    return vec4(255.0, 128.0, 0.0, 0.0) / 255.0;\\n  }\\n\\n  vec4 c = vec4(0,0,0,0);\\n\\n  //Compute exponent and mantissa\\n  float e = floor(log2(av));\\n  float m = av * pow(2.0, -e) - 1.0;\\n\\n  //Unpack mantissa\\n  c[1] = floor(128.0 * m);\\n  m -= c[1] / 128.0;\\n  c[2] = floor(32768.0 * m);\\n  m -= c[2] / 32768.0;\\n  c[3] = floor(8388608.0 * m);\\n\\n  //Unpack exponent\\n  float ebias = e + 127.0;\\n  c[0] = floor(ebias / 2.0);\\n  ebias -= c[0] * 2.0;\\n  c[1] += floor(ebias) * 128.0;\\n\\n  //Unpack sign bit\\n  c[0] += 128.0 * step(0.0, -v);\\n\\n  //Scale back to range\\n  return c / 255.0;\\n}\\n\\nbool outOfRange(float a, float b, float p) {\\n  return ((p &gt; max(a, b)) || \\n          (p &lt; min(a, b)));\\n}\\n\\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y));\\n}\\n\\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y) ||\\n          outOfRange(a.z, b.z, p.z));\\n}\\n\\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\\n  return outOfRange(a.xyz, b.xyz, p.xyz);\\n}\\n\\nuniform float pickId;\\nuniform vec3 clipBounds[2];\\n\\nvarying vec3 worldPosition;\\nvarying float pixelArcLength;\\nvarying vec4 fragColor;\\n\\nvoid main() {\\n  if (outOfRange(clipBounds[0], clipBounds[1], worldPosition)) discard;\\n\\n  gl_FragColor = vec4(pickId/255.0, packFloat(pixelArcLength).xyz);\\n}\&quot;]),l=[{name:\&quot;position\&quot;,type:\&quot;vec3\&quot;},{name:\&quot;nextPosition\&quot;,type:\&quot;vec3\&quot;},{name:\&quot;arcLength\&quot;,type:\&quot;float\&quot;},{name:\&quot;lineWidth\&quot;,type:\&quot;float\&quot;},{name:\&quot;color\&quot;,type:\&quot;vec4\&quot;}];r.createShader=function(t){return i(t,a,o,null,l)},r.createPickShader=function(t){return i(t,a,s,null,l)}},{\&quot;gl-shader\&quot;:335,glslify:276}],275:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){var e=t.gl||t.scene&amp;&amp;t.scene.gl,r=f(e);r.attributes.position.location=0,r.attributes.nextPosition.location=1,r.attributes.arcLength.location=2,r.attributes.lineWidth.location=3,r.attributes.color.location=4;var o=h(e);o.attributes.position.location=0,o.attributes.nextPosition.location=1,o.attributes.arcLength.location=2,o.attributes.lineWidth.location=3,o.attributes.color.location=4;for(var s=n(e),l=i(e,[{buffer:s,size:3,offset:0,stride:48},{buffer:s,size:3,offset:12,stride:48},{buffer:s,size:1,offset:24,stride:48},{buffer:s,size:1,offset:28,stride:48},{buffer:s,size:4,offset:32,stride:48}]),u=c(new Array(1024),[256,1,4]),p=0;p&lt;1024;++p)u.data[p]=255;var d=a(e,u);d.wrap=e.REPEAT;var g=new v(e,r,o,s,l,d);return g.update(t),g};var n=t(\&quot;gl-buffer\&quot;),i=t(\&quot;gl-vao\&quot;),a=t(\&quot;gl-texture2d\&quot;),o=new Uint8Array(4),s=new Float32Array(o.buffer);var l=t(\&quot;binary-search-bounds\&quot;),c=t(\&quot;ndarray\&quot;),u=t(\&quot;./lib/shaders\&quot;),f=u.createShader,h=u.createPickShader,p=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function d(t,e){for(var r=0,n=0;n&lt;3;++n){var i=t[n]-e[n];r+=i*i}return Math.sqrt(r)}function g(t){for(var e=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],r=0;r&lt;3;++r)e[0][r]=Math.max(t[0][r],e[0][r]),e[1][r]=Math.min(t[1][r],e[1][r]);return e}function m(t,e,r,n){this.arcLength=t,this.position=e,this.index=r,this.dataCoordinate=n}function v(t,e,r,n,i,a){this.gl=t,this.shader=e,this.pickShader=r,this.buffer=n,this.vao=i,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.points=[],this.arcLength=[],this.vertexCount=0,this.bounds=[[0,0,0],[0,0,0]],this.pickId=0,this.lineWidth=1,this.texture=a,this.dashScale=1,this.opacity=1,this.hasAlpha=!1,this.dirty=!0,this.pixelRatio=1}var y=v.prototype;y.isTransparent=function(){return this.hasAlpha},y.isOpaque=function(){return!this.hasAlpha},y.pickSlots=1,y.setPickBase=function(t){this.pickId=t},y.drawTransparent=y.draw=function(t){if(this.vertexCount){var e=this.gl,r=this.shader,n=this.vao;r.bind(),r.uniforms={model:t.model||p,view:t.view||p,projection:t.projection||p,clipBounds:g(this.clipBounds),dashTexture:this.texture.bind(),dashScale:this.dashScale/this.arcLength[this.arcLength.length-1],opacity:this.opacity,screenShape:[e.drawingBufferWidth,e.drawingBufferHeight],pixelRatio:this.pixelRatio},n.bind(),n.draw(e.TRIANGLE_STRIP,this.vertexCount),n.unbind()}},y.drawPick=function(t){if(this.vertexCount){var e=this.gl,r=this.pickShader,n=this.vao;r.bind(),r.uniforms={model:t.model||p,view:t.view||p,projection:t.projection||p,pickId:this.pickId,clipBounds:g(this.clipBounds),screenShape:[e.drawingBufferWidth,e.drawingBufferHeight],pixelRatio:this.pixelRatio},n.bind(),n.draw(e.TRIANGLE_STRIP,this.vertexCount),n.unbind()}},y.update=function(t){var e,r;this.dirty=!0;var n=!!t.connectGaps;\&quot;dashScale\&quot;in t&amp;&amp;(this.dashScale=t.dashScale),this.hasAlpha=!1,\&quot;opacity\&quot;in t&amp;&amp;(this.opacity=+t.opacity,this.opacity&lt;1&amp;&amp;(this.hasAlpha=!0));var i=[],a=[],o=[],s=0,u=0,f=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],h=t.position||t.positions;if(h){var p=t.color||t.colors||[0,0,0,1],g=t.lineWidth||1,m=!1;t:for(e=1;e&lt;h.length;++e){var v,y,x,b=h[e-1],_=h[e];for(a.push(s),o.push(b.slice()),r=0;r&lt;3;++r){if(isNaN(b[r])||isNaN(_[r])||!isFinite(b[r])||!isFinite(_[r])){if(!n&amp;&amp;i.length&gt;0){for(var w=0;w&lt;24;++w)i.push(i[i.length-12]);u+=2,m=!0}continue t}f[0][r]=Math.min(f[0][r],b[r],_[r]),f[1][r]=Math.max(f[1][r],b[r],_[r])}Array.isArray(p[0])?(v=p.length&gt;e-1?p[e-1]:p.length&gt;0?p[p.length-1]:[0,0,0,1],y=p.length&gt;e?p[e]:p.length&gt;0?p[p.length-1]:[0,0,0,1]):v=y=p,3===v.length&amp;&amp;(v=[v[0],v[1],v[2],1]),3===y.length&amp;&amp;(y=[y[0],y[1],y[2],1]),!this.hasAlpha&amp;&amp;v[3]&lt;1&amp;&amp;(this.hasAlpha=!0),x=Array.isArray(g)?g.length&gt;e-1?g[e-1]:g.length&gt;0?g[g.length-1]:[0,0,0,1]:g;var T=s;if(s+=d(b,_),m){for(r=0;r&lt;2;++r)i.push(b[0],b[1],b[2],_[0],_[1],_[2],T,x,v[0],v[1],v[2],v[3]);u+=2,m=!1}i.push(b[0],b[1],b[2],_[0],_[1],_[2],T,x,v[0],v[1],v[2],v[3],b[0],b[1],b[2],_[0],_[1],_[2],T,-x,v[0],v[1],v[2],v[3],_[0],_[1],_[2],b[0],b[1],b[2],s,-x,y[0],y[1],y[2],y[3],_[0],_[1],_[2],b[0],b[1],b[2],s,x,y[0],y[1],y[2],y[3]),u+=4}}if(this.buffer.update(i),a.push(s),o.push(h[h.length-1].slice()),this.bounds=f,this.vertexCount=u,this.points=o,this.arcLength=a,\&quot;dashes\&quot;in t){var k=t.dashes.slice();for(k.unshift(0),e=1;e&lt;k.length;++e)k[e]=k[e-1]+k[e];var M=c(new Array(1024),[256,1,4]);for(e=0;e&lt;256;++e){for(r=0;r&lt;4;++r)M.set(e,0,r,0);1&amp;l.le(k,k[k.length-1]*e/255)?M.set(e,0,0,0):M.set(e,0,0,255)}this.texture.setPixels(M)}},y.dispose=function(){this.shader.dispose(),this.vao.dispose(),this.buffer.dispose()},y.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=function(t,e,r,n){return o[0]=n,o[1]=r,o[2]=e,o[3]=t,s[0]}(t.value[0],t.value[1],t.value[2],0),r=l.le(this.arcLength,e);if(r&lt;0)return null;if(r===this.arcLength.length-1)return new m(this.arcLength[this.arcLength.length-1],this.points[this.points.length-1].slice(),r);for(var n=this.points[r],i=this.points[Math.min(r+1,this.points.length-1)],a=(e-this.arcLength[r])/(this.arcLength[r+1]-this.arcLength[r]),c=1-a,u=[0,0,0],f=0;f&lt;3;++f)u[f]=c*n[f]+a*i[f];var h=Math.min(a&lt;.5?r:r+1,this.points.length-1);return new m(e,u,h,this.points[h])}},{\&quot;./lib/shaders\&quot;:274,\&quot;binary-search-bounds\&quot;:96,\&quot;gl-buffer\&quot;:259,\&quot;gl-texture2d\&quot;:353,\&quot;gl-vao\&quot;:358,ndarray:495}],276:[function(t,e,r){arguments[4][257][0].apply(r,arguments)},{dup:257}],277:[function(t,e,r){e.exports=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=e[9],h=e[10],p=e[11],d=e[12],g=e[13],m=e[14],v=e[15];return t[0]=s*(h*v-p*m)-f*(l*v-c*m)+g*(l*p-c*h),t[1]=-(n*(h*v-p*m)-f*(i*v-a*m)+g*(i*p-a*h)),t[2]=n*(l*v-c*m)-s*(i*v-a*m)+g*(i*c-a*l),t[3]=-(n*(l*p-c*h)-s*(i*p-a*h)+f*(i*c-a*l)),t[4]=-(o*(h*v-p*m)-u*(l*v-c*m)+d*(l*p-c*h)),t[5]=r*(h*v-p*m)-u*(i*v-a*m)+d*(i*p-a*h),t[6]=-(r*(l*v-c*m)-o*(i*v-a*m)+d*(i*c-a*l)),t[7]=r*(l*p-c*h)-o*(i*p-a*h)+u*(i*c-a*l),t[8]=o*(f*v-p*g)-u*(s*v-c*g)+d*(s*p-c*f),t[9]=-(r*(f*v-p*g)-u*(n*v-a*g)+d*(n*p-a*f)),t[10]=r*(s*v-c*g)-o*(n*v-a*g)+d*(n*c-a*s),t[11]=-(r*(s*p-c*f)-o*(n*p-a*f)+u*(n*c-a*s)),t[12]=-(o*(f*m-h*g)-u*(s*m-l*g)+d*(s*h-l*f)),t[13]=r*(f*m-h*g)-u*(n*m-i*g)+d*(n*h-i*f),t[14]=-(r*(s*m-l*g)-o*(n*m-i*g)+d*(n*l-i*s)),t[15]=r*(s*h-l*f)-o*(n*h-i*f)+u*(n*l-i*s),t}},{}],278:[function(t,e,r){e.exports=function(t){var e=new Float32Array(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e}},{}],279:[function(t,e,r){e.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},{}],280:[function(t,e,r){e.exports=function(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],281:[function(t,e,r){e.exports=function(t){var e=t[0],r=t[1],n=t[2],i=t[3],a=t[4],o=t[5],s=t[6],l=t[7],c=t[8],u=t[9],f=t[10],h=t[11],p=t[12],d=t[13],g=t[14],m=t[15];return(e*o-r*a)*(f*m-h*g)-(e*s-n*a)*(u*m-h*d)+(e*l-i*a)*(u*g-f*d)+(r*s-n*o)*(c*m-h*p)-(r*l-i*o)*(c*g-f*p)+(n*l-i*s)*(c*d-u*p)}},{}],282:[function(t,e,r){e.exports=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r+r,s=n+n,l=i+i,c=r*o,u=n*o,f=n*s,h=i*o,p=i*s,d=i*l,g=a*o,m=a*s,v=a*l;return t[0]=1-f-d,t[1]=u+v,t[2]=h-m,t[3]=0,t[4]=u-v,t[5]=1-c-d,t[6]=p+g,t[7]=0,t[8]=h+m,t[9]=p-g,t[10]=1-c-f,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],283:[function(t,e,r){e.exports=function(t,e,r){var n,i,a,o=r[0],s=r[1],l=r[2],c=Math.sqrt(o*o+s*s+l*l);if(Math.abs(c)&lt;1e-6)return null;return o*=c=1/c,s*=c,l*=c,n=Math.sin(e),i=Math.cos(e),a=1-i,t[0]=o*o*a+i,t[1]=s*o*a+l*n,t[2]=l*o*a-s*n,t[3]=0,t[4]=o*s*a-l*n,t[5]=s*s*a+i,t[6]=l*s*a+o*n,t[7]=0,t[8]=o*l*a+s*n,t[9]=s*l*a-o*n,t[10]=l*l*a+i,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],284:[function(t,e,r){e.exports=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=n+n,l=i+i,c=a+a,u=n*s,f=n*l,h=n*c,p=i*l,d=i*c,g=a*c,m=o*s,v=o*l,y=o*c;return t[0]=1-(p+g),t[1]=f+y,t[2]=h-v,t[3]=0,t[4]=f-y,t[5]=1-(u+g),t[6]=d+m,t[7]=0,t[8]=h+v,t[9]=d-m,t[10]=1-(u+p),t[11]=0,t[12]=r[0],t[13]=r[1],t[14]=r[2],t[15]=1,t}},{}],285:[function(t,e,r){e.exports=function(t,e){return t[0]=e[0],t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=e[1],t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=e[2],t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],286:[function(t,e,r){e.exports=function(t,e){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=e[0],t[13]=e[1],t[14]=e[2],t[15]=1,t}},{}],287:[function(t,e,r){e.exports=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=n,t[6]=r,t[7]=0,t[8]=0,t[9]=-r,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],288:[function(t,e,r){e.exports=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=0,t[2]=-r,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=r,t[9]=0,t[10]=n,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],289:[function(t,e,r){e.exports=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=0,t[4]=-r,t[5]=n,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],290:[function(t,e,r){e.exports=function(t,e,r,n,i,a,o){var s=1/(r-e),l=1/(i-n),c=1/(a-o);return t[0]=2*a*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=2*a*l,t[6]=0,t[7]=0,t[8]=(r+e)*s,t[9]=(i+n)*l,t[10]=(o+a)*c,t[11]=-1,t[12]=0,t[13]=0,t[14]=o*a*2*c,t[15]=0,t}},{}],291:[function(t,e,r){e.exports=function(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}},{}],292:[function(t,e,r){e.exports={create:t(\&quot;./create\&quot;),clone:t(\&quot;./clone\&quot;),copy:t(\&quot;./copy\&quot;),identity:t(\&quot;./identity\&quot;),transpose:t(\&quot;./transpose\&quot;),invert:t(\&quot;./invert\&quot;),adjoint:t(\&quot;./adjoint\&quot;),determinant:t(\&quot;./determinant\&quot;),multiply:t(\&quot;./multiply\&quot;),translate:t(\&quot;./translate\&quot;),scale:t(\&quot;./scale\&quot;),rotate:t(\&quot;./rotate\&quot;),rotateX:t(\&quot;./rotateX\&quot;),rotateY:t(\&quot;./rotateY\&quot;),rotateZ:t(\&quot;./rotateZ\&quot;),fromRotation:t(\&quot;./fromRotation\&quot;),fromRotationTranslation:t(\&quot;./fromRotationTranslation\&quot;),fromScaling:t(\&quot;./fromScaling\&quot;),fromTranslation:t(\&quot;./fromTranslation\&quot;),fromXRotation:t(\&quot;./fromXRotation\&quot;),fromYRotation:t(\&quot;./fromYRotation\&quot;),fromZRotation:t(\&quot;./fromZRotation\&quot;),fromQuat:t(\&quot;./fromQuat\&quot;),frustum:t(\&quot;./frustum\&quot;),perspective:t(\&quot;./perspective\&quot;),perspectiveFromFieldOfView:t(\&quot;./perspectiveFromFieldOfView\&quot;),ortho:t(\&quot;./ortho\&quot;),lookAt:t(\&quot;./lookAt\&quot;),str:t(\&quot;./str\&quot;)}},{\&quot;./adjoint\&quot;:277,\&quot;./clone\&quot;:278,\&quot;./copy\&quot;:279,\&quot;./create\&quot;:280,\&quot;./determinant\&quot;:281,\&quot;./fromQuat\&quot;:282,\&quot;./fromRotation\&quot;:283,\&quot;./fromRotationTranslation\&quot;:284,\&quot;./fromScaling\&quot;:285,\&quot;./fromTranslation\&quot;:286,\&quot;./fromXRotation\&quot;:287,\&quot;./fromYRotation\&quot;:288,\&quot;./fromZRotation\&quot;:289,\&quot;./frustum\&quot;:290,\&quot;./identity\&quot;:291,\&quot;./invert\&quot;:293,\&quot;./lookAt\&quot;:294,\&quot;./multiply\&quot;:295,\&quot;./ortho\&quot;:296,\&quot;./perspective\&quot;:297,\&quot;./perspectiveFromFieldOfView\&quot;:298,\&quot;./rotate\&quot;:299,\&quot;./rotateX\&quot;:300,\&quot;./rotateY\&quot;:301,\&quot;./rotateZ\&quot;:302,\&quot;./scale\&quot;:303,\&quot;./str\&quot;:304,\&quot;./translate\&quot;:305,\&quot;./transpose\&quot;:306}],293:[function(t,e,r){e.exports=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=e[9],h=e[10],p=e[11],d=e[12],g=e[13],m=e[14],v=e[15],y=r*s-n*o,x=r*l-i*o,b=r*c-a*o,_=n*l-i*s,w=n*c-a*s,T=i*c-a*l,k=u*g-f*d,M=u*m-h*d,A=u*v-p*d,S=f*m-h*g,E=f*v-p*g,C=h*v-p*m,L=y*C-x*E+b*S+_*A-w*M+T*k;if(!L)return null;return L=1/L,t[0]=(s*C-l*E+c*S)*L,t[1]=(i*E-n*C-a*S)*L,t[2]=(g*T-m*w+v*_)*L,t[3]=(h*w-f*T-p*_)*L,t[4]=(l*A-o*C-c*M)*L,t[5]=(r*C-i*A+a*M)*L,t[6]=(m*b-d*T-v*x)*L,t[7]=(u*T-h*b+p*x)*L,t[8]=(o*E-s*A+c*k)*L,t[9]=(n*A-r*E-a*k)*L,t[10]=(d*w-g*b+v*y)*L,t[11]=(f*b-u*w-p*y)*L,t[12]=(s*M-o*S-l*k)*L,t[13]=(r*S-n*M+i*k)*L,t[14]=(g*x-d*_-m*y)*L,t[15]=(u*_-f*x+h*y)*L,t}},{}],294:[function(t,e,r){var n=t(\&quot;./identity\&quot;);e.exports=function(t,e,r,i){var a,o,s,l,c,u,f,h,p,d,g=e[0],m=e[1],v=e[2],y=i[0],x=i[1],b=i[2],_=r[0],w=r[1],T=r[2];if(Math.abs(g-_)&lt;1e-6&amp;&amp;Math.abs(m-w)&lt;1e-6&amp;&amp;Math.abs(v-T)&lt;1e-6)return n(t);f=g-_,h=m-w,p=v-T,d=1/Math.sqrt(f*f+h*h+p*p),a=x*(p*=d)-b*(h*=d),o=b*(f*=d)-y*p,s=y*h-x*f,(d=Math.sqrt(a*a+o*o+s*s))?(a*=d=1/d,o*=d,s*=d):(a=0,o=0,s=0);l=h*s-p*o,c=p*a-f*s,u=f*o-h*a,(d=Math.sqrt(l*l+c*c+u*u))?(l*=d=1/d,c*=d,u*=d):(l=0,c=0,u=0);return t[0]=a,t[1]=l,t[2]=f,t[3]=0,t[4]=o,t[5]=c,t[6]=h,t[7]=0,t[8]=s,t[9]=u,t[10]=p,t[11]=0,t[12]=-(a*g+o*m+s*v),t[13]=-(l*g+c*m+u*v),t[14]=-(f*g+h*m+p*v),t[15]=1,t}},{\&quot;./identity\&quot;:291}],295:[function(t,e,r){e.exports=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],f=e[8],h=e[9],p=e[10],d=e[11],g=e[12],m=e[13],v=e[14],y=e[15],x=r[0],b=r[1],_=r[2],w=r[3];return t[0]=x*n+b*s+_*f+w*g,t[1]=x*i+b*l+_*h+w*m,t[2]=x*a+b*c+_*p+w*v,t[3]=x*o+b*u+_*d+w*y,x=r[4],b=r[5],_=r[6],w=r[7],t[4]=x*n+b*s+_*f+w*g,t[5]=x*i+b*l+_*h+w*m,t[6]=x*a+b*c+_*p+w*v,t[7]=x*o+b*u+_*d+w*y,x=r[8],b=r[9],_=r[10],w=r[11],t[8]=x*n+b*s+_*f+w*g,t[9]=x*i+b*l+_*h+w*m,t[10]=x*a+b*c+_*p+w*v,t[11]=x*o+b*u+_*d+w*y,x=r[12],b=r[13],_=r[14],w=r[15],t[12]=x*n+b*s+_*f+w*g,t[13]=x*i+b*l+_*h+w*m,t[14]=x*a+b*c+_*p+w*v,t[15]=x*o+b*u+_*d+w*y,t}},{}],296:[function(t,e,r){e.exports=function(t,e,r,n,i,a,o){var s=1/(e-r),l=1/(n-i),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*s,t[13]=(i+n)*l,t[14]=(o+a)*c,t[15]=1,t}},{}],297:[function(t,e,r){e.exports=function(t,e,r,n,i){var a=1/Math.tan(e/2),o=1/(n-i);return t[0]=a/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=a,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(i+n)*o,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*i*n*o,t[15]=0,t}},{}],298:[function(t,e,r){e.exports=function(t,e,r,n){var i=Math.tan(e.upDegrees*Math.PI/180),a=Math.tan(e.downDegrees*Math.PI/180),o=Math.tan(e.leftDegrees*Math.PI/180),s=Math.tan(e.rightDegrees*Math.PI/180),l=2/(o+s),c=2/(i+a);return t[0]=l,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=c,t[6]=0,t[7]=0,t[8]=-(o-s)*l*.5,t[9]=(i-a)*c*.5,t[10]=n/(r-n),t[11]=-1,t[12]=0,t[13]=0,t[14]=n*r/(r-n),t[15]=0,t}},{}],299:[function(t,e,r){e.exports=function(t,e,r,n){var i,a,o,s,l,c,u,f,h,p,d,g,m,v,y,x,b,_,w,T,k,M,A,S,E=n[0],C=n[1],L=n[2],I=Math.sqrt(E*E+C*C+L*L);if(Math.abs(I)&lt;1e-6)return null;E*=I=1/I,C*=I,L*=I,i=Math.sin(r),a=Math.cos(r),o=1-a,s=e[0],l=e[1],c=e[2],u=e[3],f=e[4],h=e[5],p=e[6],d=e[7],g=e[8],m=e[9],v=e[10],y=e[11],x=E*E*o+a,b=C*E*o+L*i,_=L*E*o-C*i,w=E*C*o-L*i,T=C*C*o+a,k=L*C*o+E*i,M=E*L*o+C*i,A=C*L*o-E*i,S=L*L*o+a,t[0]=s*x+f*b+g*_,t[1]=l*x+h*b+m*_,t[2]=c*x+p*b+v*_,t[3]=u*x+d*b+y*_,t[4]=s*w+f*T+g*k,t[5]=l*w+h*T+m*k,t[6]=c*w+p*T+v*k,t[7]=u*w+d*T+y*k,t[8]=s*M+f*A+g*S,t[9]=l*M+h*A+m*S,t[10]=c*M+p*A+v*S,t[11]=u*M+d*A+y*S,e!==t&amp;&amp;(t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t}},{}],300:[function(t,e,r){e.exports=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],f=e[10],h=e[11];e!==t&amp;&amp;(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[4]=a*i+c*n,t[5]=o*i+u*n,t[6]=s*i+f*n,t[7]=l*i+h*n,t[8]=c*i-a*n,t[9]=u*i-o*n,t[10]=f*i-s*n,t[11]=h*i-l*n,t}},{}],301:[function(t,e,r){e.exports=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],l=e[3],c=e[8],u=e[9],f=e[10],h=e[11];e!==t&amp;&amp;(t[4]=e[4],t[5]=e[5],t[6]=e[6],t[7]=e[7],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=a*i-c*n,t[1]=o*i-u*n,t[2]=s*i-f*n,t[3]=l*i-h*n,t[8]=a*n+c*i,t[9]=o*n+u*i,t[10]=s*n+f*i,t[11]=l*n+h*i,t}},{}],302:[function(t,e,r){e.exports=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],l=e[3],c=e[4],u=e[5],f=e[6],h=e[7];e!==t&amp;&amp;(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]);return t[0]=a*i+c*n,t[1]=o*i+u*n,t[2]=s*i+f*n,t[3]=l*i+h*n,t[4]=c*i-a*n,t[5]=u*i-o*n,t[6]=f*i-s*n,t[7]=h*i-l*n,t}},{}],303:[function(t,e,r){e.exports=function(t,e,r){var n=r[0],i=r[1],a=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}},{}],304:[function(t,e,r){e.exports=function(t){return\&quot;mat4(\&quot;+t[0]+\&quot;, \&quot;+t[1]+\&quot;, \&quot;+t[2]+\&quot;, \&quot;+t[3]+\&quot;, \&quot;+t[4]+\&quot;, \&quot;+t[5]+\&quot;, \&quot;+t[6]+\&quot;, \&quot;+t[7]+\&quot;, \&quot;+t[8]+\&quot;, \&quot;+t[9]+\&quot;, \&quot;+t[10]+\&quot;, \&quot;+t[11]+\&quot;, \&quot;+t[12]+\&quot;, \&quot;+t[13]+\&quot;, \&quot;+t[14]+\&quot;, \&quot;+t[15]+\&quot;)\&quot;}},{}],305:[function(t,e,r){e.exports=function(t,e,r){var n,i,a,o,s,l,c,u,f,h,p,d,g=r[0],m=r[1],v=r[2];e===t?(t[12]=e[0]*g+e[4]*m+e[8]*v+e[12],t[13]=e[1]*g+e[5]*m+e[9]*v+e[13],t[14]=e[2]*g+e[6]*m+e[10]*v+e[14],t[15]=e[3]*g+e[7]*m+e[11]*v+e[15]):(n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],f=e[8],h=e[9],p=e[10],d=e[11],t[0]=n,t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t[6]=c,t[7]=u,t[8]=f,t[9]=h,t[10]=p,t[11]=d,t[12]=n*g+s*m+f*v+e[12],t[13]=i*g+l*m+h*v+e[13],t[14]=a*g+c*m+p*v+e[14],t[15]=o*g+u*m+d*v+e[15]);return t}},{}],306:[function(t,e,r){e.exports=function(t,e){if(t===e){var r=e[1],n=e[2],i=e[3],a=e[6],o=e[7],s=e[11];t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=r,t[6]=e[9],t[7]=e[13],t[8]=n,t[9]=a,t[11]=e[14],t[12]=i,t[13]=o,t[14]=s}else t[0]=e[0],t[1]=e[4],t[2]=e[8],t[3]=e[12],t[4]=e[1],t[5]=e[5],t[6]=e[9],t[7]=e[13],t[8]=e[2],t[9]=e[6],t[10]=e[10],t[11]=e[14],t[12]=e[3],t[13]=e[7],t[14]=e[11],t[15]=e[15];return t}},{}],307:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;barycentric\&quot;),i=t(\&quot;polytope-closest-point/lib/closest_point_2d.js\&quot;);function a(t,e){for(var r=[0,0,0,0],n=0;n&lt;4;++n)for(var i=0;i&lt;4;++i)r[i]+=t[4*n+i]*e[n];return r}function o(t,e,r,n,i){for(var o=a(n,a(r,a(e,[t[0],t[1],t[2],1]))),s=0;s&lt;3;++s)o[s]/=o[3];return[.5*i[0]*(1+o[0]),.5*i[1]*(1-o[1])]}function s(t,e){for(var r=[0,0,0],n=0;n&lt;t.length;++n)for(var i=t[n],a=e[n],o=0;o&lt;3;++o)r[o]+=a*i[o];return r}e.exports=function(t,e,r,a,l,c){if(1===t.length)return[0,t[0].slice()];for(var u=new Array(t.length),f=0;f&lt;t.length;++f)u[f]=o(t[f],r,a,l,c);var h=0,p=1/0;for(f=0;f&lt;u.length;++f){for(var d=0,g=0;g&lt;2;++g)d+=Math.pow(u[f][g]-e[g],2);d&lt;p&amp;&amp;(p=d,h=f)}var m=function(t,e){if(2===t.length){for(var r=0,a=0,o=0;o&lt;2;++o)r+=Math.pow(e[o]-t[0][o],2),a+=Math.pow(e[o]-t[1][o],2);return r=Math.sqrt(r),a=Math.sqrt(a),r+a&lt;1e-6?[1,0]:[a/(r+a),r/(a+r)]}if(3===t.length){var s=[0,0];return i(t[0],t[1],t[2],e,s),n(t,s)}return[]}(u,e),v=0;for(f=0;f&lt;3;++f){if(m[f]&lt;-.001||m[f]&gt;1.0001)return null;v+=m[f]}if(Math.abs(v-1)&gt;.001)return null;return[h,s(t,m),m]}},{barycentric:78,\&quot;polytope-closest-point/lib/closest_point_2d.js\&quot;:525}],308:[function(t,e,r){var n=t(\&quot;glslify\&quot;),i=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position, normal;\\nattribute vec4 color;\\nattribute vec2 uv;\\n\\nuniform mat4 model\\n           , view\\n           , projection\\n           , inverseModel;\\nuniform vec3 eyePosition\\n           , lightPosition;\\n\\nvarying vec3 f_normal\\n           , f_lightDirection\\n           , f_eyeDirection\\n           , f_data;\\nvarying vec4 f_color;\\nvarying vec2 f_uv;\\n\\nvec4 project(vec3 p) {\\n  return projection * view * model * vec4(p, 1.0);\\n}\\n\\nvoid main() {\\n  gl_Position      = project(position);\\n\\n  //Lighting geometry parameters\\n  vec4 cameraCoordinate = view * vec4(position , 1.0);\\n  cameraCoordinate.xyz /= cameraCoordinate.w;\\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\\n  f_normal  = normalize((vec4(normal, 0.0) * inverseModel).xyz);\\n\\n  f_color          = color;\\n  f_data           = position;\\n  f_uv             = uv;\\n}\\n\&quot;]),a=n([\&quot;#extension GL_OES_standard_derivatives : enable\\n\\nprecision highp float;\\n#define GLSLIFY 1\\n\\nfloat beckmannDistribution(float x, float roughness) {\\n  float NdotH = max(x, 0.0001);\\n  float cos2Alpha = NdotH * NdotH;\\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\\n  float roughness2 = roughness * roughness;\\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\\n  return exp(tan2Alpha / roughness2) / denom;\\n}\\n\\nfloat cookTorranceSpecular(\\n  vec3 lightDirection,\\n  vec3 viewDirection,\\n  vec3 surfaceNormal,\\n  float roughness,\\n  float fresnel) {\\n\\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\\n\\n  //Half angle vector\\n  vec3 H = normalize(lightDirection + viewDirection);\\n\\n  //Geometric term\\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\\n  float VdotH = max(dot(viewDirection, H), 0.000001);\\n  float LdotH = max(dot(lightDirection, H), 0.000001);\\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\\n  float G = min(1.0, min(G1, G2));\\n  \\n  //Distribution term\\n  float D = beckmannDistribution(NdotH, roughness);\\n\\n  //Fresnel term\\n  float F = pow(1.0 - VdotN, fresnel);\\n\\n  //Multiply terms and done\\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\\n}\\n\\n//#pragma glslify: beckmann = require(glsl-specular-beckmann) // used in gl-surface3d\\n\\nbool outOfRange(float a, float b, float p) {\\n  return ((p &gt; max(a, b)) || \\n          (p &lt; min(a, b)));\\n}\\n\\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y));\\n}\\n\\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y) ||\\n          outOfRange(a.z, b.z, p.z));\\n}\\n\\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\\n  return outOfRange(a.xyz, b.xyz, p.xyz);\\n}\\n\\nuniform vec3 clipBounds[2];\\nuniform float roughness\\n            , fresnel\\n            , kambient\\n            , kdiffuse\\n            , kspecular;\\nuniform sampler2D texture;\\n\\nvarying vec3 f_normal\\n           , f_lightDirection\\n           , f_eyeDirection\\n           , f_data;\\nvarying vec4 f_color;\\nvarying vec2 f_uv;\\n\\nvoid main() {\\n  if (f_color.a == 0.0 ||\\n    outOfRange(clipBounds[0], clipBounds[1], f_data)\\n  ) discard;\\n\\n  vec3 N = normalize(f_normal);\\n  vec3 L = normalize(f_lightDirection);\\n  vec3 V = normalize(f_eyeDirection);\\n\\n  if(gl_FrontFacing) {\\n    N = -N;\\n  }\\n\\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\\n  //float specular = max(0.0, beckmann(L, V, N, roughness)); // used in gl-surface3d\\n\\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\\n\\n  vec4 surfaceColor = vec4(f_color.rgb, 1.0) * texture2D(texture, f_uv);\\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\\n\\n  gl_FragColor = litColor * f_color.a;\\n}\\n\&quot;]),o=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position;\\nattribute vec4 color;\\nattribute vec2 uv;\\n\\nuniform mat4 model, view, projection;\\n\\nvarying vec4 f_color;\\nvarying vec3 f_data;\\nvarying vec2 f_uv;\\n\\nvoid main() {\\n  gl_Position = projection * view * model * vec4(position, 1.0);\\n  f_color = color;\\n  f_data  = position;\\n  f_uv    = uv;\\n}\&quot;]),s=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nbool outOfRange(float a, float b, float p) {\\n  return ((p &gt; max(a, b)) || \\n          (p &lt; min(a, b)));\\n}\\n\\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y));\\n}\\n\\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y) ||\\n          outOfRange(a.z, b.z, p.z));\\n}\\n\\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\\n  return outOfRange(a.xyz, b.xyz, p.xyz);\\n}\\n\\nuniform vec3 clipBounds[2];\\nuniform sampler2D texture;\\nuniform float opacity;\\n\\nvarying vec4 f_color;\\nvarying vec3 f_data;\\nvarying vec2 f_uv;\\n\\nvoid main() {\\n  if (outOfRange(clipBounds[0], clipBounds[1], f_data)) discard;\\n\\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\\n}\&quot;]),l=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nbool outOfRange(float a, float b, float p) {\\n  return ((p &gt; max(a, b)) || \\n          (p &lt; min(a, b)));\\n}\\n\\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y));\\n}\\n\\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y) ||\\n          outOfRange(a.z, b.z, p.z));\\n}\\n\\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\\n  return outOfRange(a.xyz, b.xyz, p.xyz);\\n}\\n\\nattribute vec3 position;\\nattribute vec4 color;\\nattribute vec2 uv;\\nattribute float pointSize;\\n\\nuniform mat4 model, view, projection;\\nuniform vec3 clipBounds[2];\\n\\nvarying vec4 f_color;\\nvarying vec2 f_uv;\\n\\nvoid main() {\\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\\n\\n    gl_Position = vec4(0.0, 0.0 ,0.0 ,0.0);\\n  } else {\\n    gl_Position = projection * view * model * vec4(position, 1.0);\\n  }\\n  gl_PointSize = pointSize;\\n  f_color = color;\\n  f_uv = uv;\\n}\&quot;]),c=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nuniform sampler2D texture;\\nuniform float opacity;\\n\\nvarying vec4 f_color;\\nvarying vec2 f_uv;\\n\\nvoid main() {\\n  vec2 pointR = gl_PointCoord.xy - vec2(0.5, 0.5);\\n  if(dot(pointR, pointR) &gt; 0.25) {\\n    discard;\\n  }\\n  gl_FragColor = f_color * texture2D(texture, f_uv) * opacity;\\n}\&quot;]),u=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position;\\nattribute vec4 id;\\n\\nuniform mat4 model, view, projection;\\n\\nvarying vec3 f_position;\\nvarying vec4 f_id;\\n\\nvoid main() {\\n  gl_Position = projection * view * model * vec4(position, 1.0);\\n  f_id        = id;\\n  f_position  = position;\\n}\&quot;]),f=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nbool outOfRange(float a, float b, float p) {\\n  return ((p &gt; max(a, b)) || \\n          (p &lt; min(a, b)));\\n}\\n\\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y));\\n}\\n\\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y) ||\\n          outOfRange(a.z, b.z, p.z));\\n}\\n\\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\\n  return outOfRange(a.xyz, b.xyz, p.xyz);\\n}\\n\\nuniform vec3  clipBounds[2];\\nuniform float pickId;\\n\\nvarying vec3 f_position;\\nvarying vec4 f_id;\\n\\nvoid main() {\\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\\n\\n  gl_FragColor = vec4(pickId, f_id.xyz);\\n}\&quot;]),h=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nbool outOfRange(float a, float b, float p) {\\n  return ((p &gt; max(a, b)) || \\n          (p &lt; min(a, b)));\\n}\\n\\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y));\\n}\\n\\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y) ||\\n          outOfRange(a.z, b.z, p.z));\\n}\\n\\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\\n  return outOfRange(a.xyz, b.xyz, p.xyz);\\n}\\n\\nattribute vec3  position;\\nattribute float pointSize;\\nattribute vec4  id;\\n\\nuniform mat4 model, view, projection;\\nuniform vec3 clipBounds[2];\\n\\nvarying vec3 f_position;\\nvarying vec4 f_id;\\n\\nvoid main() {\\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\\n\\n    gl_Position = vec4(0.0, 0.0, 0.0, 0.0);\\n  } else {\\n    gl_Position  = projection * view * model * vec4(position, 1.0);\\n    gl_PointSize = pointSize;\\n  }\\n  f_id         = id;\\n  f_position   = position;\\n}\&quot;]),p=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position;\\n\\nuniform mat4 model, view, projection;\\n\\nvoid main() {\\n  gl_Position = projection * view * model * vec4(position, 1.0);\\n}\&quot;]),d=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nuniform vec3 contourColor;\\n\\nvoid main() {\\n  gl_FragColor = vec4(contourColor, 1.0);\\n}\\n\&quot;]);r.meshShader={vertex:i,fragment:a,attributes:[{name:\&quot;position\&quot;,type:\&quot;vec3\&quot;},{name:\&quot;normal\&quot;,type:\&quot;vec3\&quot;},{name:\&quot;color\&quot;,type:\&quot;vec4\&quot;},{name:\&quot;uv\&quot;,type:\&quot;vec2\&quot;}]},r.wireShader={vertex:o,fragment:s,attributes:[{name:\&quot;position\&quot;,type:\&quot;vec3\&quot;},{name:\&quot;color\&quot;,type:\&quot;vec4\&quot;},{name:\&quot;uv\&quot;,type:\&quot;vec2\&quot;}]},r.pointShader={vertex:l,fragment:c,attributes:[{name:\&quot;position\&quot;,type:\&quot;vec3\&quot;},{name:\&quot;color\&quot;,type:\&quot;vec4\&quot;},{name:\&quot;uv\&quot;,type:\&quot;vec2\&quot;},{name:\&quot;pointSize\&quot;,type:\&quot;float\&quot;}]},r.pickShader={vertex:u,fragment:f,attributes:[{name:\&quot;position\&quot;,type:\&quot;vec3\&quot;},{name:\&quot;id\&quot;,type:\&quot;vec4\&quot;}]},r.pointPickShader={vertex:h,fragment:f,attributes:[{name:\&quot;position\&quot;,type:\&quot;vec3\&quot;},{name:\&quot;pointSize\&quot;,type:\&quot;float\&quot;},{name:\&quot;id\&quot;,type:\&quot;vec4\&quot;}]},r.contourShader={vertex:p,fragment:d,attributes:[{name:\&quot;position\&quot;,type:\&quot;vec3\&quot;}]}},{glslify:310}],309:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;gl-shader\&quot;),i=t(\&quot;gl-buffer\&quot;),a=t(\&quot;gl-vao\&quot;),o=t(\&quot;gl-texture2d\&quot;),s=t(\&quot;normals\&quot;),l=t(\&quot;gl-mat4/multiply\&quot;),c=t(\&quot;gl-mat4/invert\&quot;),u=t(\&quot;ndarray\&quot;),f=t(\&quot;colormap\&quot;),h=t(\&quot;simplicial-complex-contour\&quot;),p=t(\&quot;typedarray-pool\&quot;),d=t(\&quot;./lib/shaders\&quot;),g=t(\&quot;./lib/closest-point\&quot;),m=d.meshShader,v=d.wireShader,y=d.pointShader,x=d.pickShader,b=d.pointPickShader,_=d.contourShader,w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function T(t,e,r,n,i,a,o,s,l,c,u,f,h,p,d,g,m,v,y,x,b,_,T,k,M,A,S){this.gl=t,this.pixelRatio=1,this.cells=[],this.positions=[],this.intensity=[],this.texture=e,this.dirty=!0,this.triShader=r,this.lineShader=n,this.pointShader=i,this.pickShader=a,this.pointPickShader=o,this.contourShader=s,this.trianglePositions=l,this.triangleColors=u,this.triangleNormals=h,this.triangleUVs=f,this.triangleIds=c,this.triangleVAO=p,this.triangleCount=0,this.lineWidth=1,this.edgePositions=d,this.edgeColors=m,this.edgeUVs=v,this.edgeIds=g,this.edgeVAO=y,this.edgeCount=0,this.pointPositions=x,this.pointColors=_,this.pointUVs=T,this.pointSizes=k,this.pointIds=b,this.pointVAO=M,this.pointCount=0,this.contourLineWidth=1,this.contourPositions=A,this.contourVAO=S,this.contourCount=0,this.contourColor=[0,0,0],this.contourEnable=!0,this.pickVertex=!0,this.pickId=1,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.lightPosition=[1e5,1e5,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.opacity=1,this.hasAlpha=!1,this.opacityscale=!1,this._model=w,this._view=w,this._projection=w,this._resolution=[1,1]}var k=T.prototype;function M(t,e){if(!e)return 1;if(!e.length)return 1;for(var r=0;r&lt;e.length;++r){if(e.length&lt;2)return 1;if(e[r][0]===t)return e[r][1];if(e[r][0]&gt;t&amp;&amp;r&gt;0){var n=(e[r][0]-t)/(e[r][0]-e[r-1][0]);return e[r][1]*(1-n)+n*e[r-1][1]}}return 1}function A(t){var e=n(t,m.vertex,m.fragment);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e.attributes.normal.location=4,e}function S(t){var e=n(t,v.vertex,v.fragment);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e}function E(t){var e=n(t,y.vertex,y.fragment);return e.attributes.position.location=0,e.attributes.color.location=2,e.attributes.uv.location=3,e.attributes.pointSize.location=4,e}function C(t){var e=n(t,x.vertex,x.fragment);return e.attributes.position.location=0,e.attributes.id.location=1,e}function L(t){var e=n(t,b.vertex,b.fragment);return e.attributes.position.location=0,e.attributes.id.location=1,e.attributes.pointSize.location=4,e}function I(t){var e=n(t,_.vertex,_.fragment);return e.attributes.position.location=0,e}k.isOpaque=function(){return!this.hasAlpha},k.isTransparent=function(){return this.hasAlpha},k.pickSlots=1,k.setPickBase=function(t){this.pickId=t},k.highlight=function(t){if(t&amp;&amp;this.contourEnable){for(var e=h(this.cells,this.intensity,t.intensity),r=e.cells,n=e.vertexIds,i=e.vertexWeights,a=r.length,o=p.mallocFloat32(6*a),s=0,l=0;l&lt;a;++l)for(var c=r[l],u=0;u&lt;2;++u){var f=c[0];2===c.length&amp;&amp;(f=c[u]);for(var d=n[f][0],g=n[f][1],m=i[f],v=1-m,y=this.positions[d],x=this.positions[g],b=0;b&lt;3;++b)o[s++]=m*y[b]+v*x[b]}this.contourCount=s/3|0,this.contourPositions.update(o.subarray(0,s)),p.free(o)}else this.contourCount=0},k.update=function(t){t=t||{};var e=this.gl;this.dirty=!0,\&quot;contourEnable\&quot;in t&amp;&amp;(this.contourEnable=t.contourEnable),\&quot;contourColor\&quot;in t&amp;&amp;(this.contourColor=t.contourColor),\&quot;lineWidth\&quot;in t&amp;&amp;(this.lineWidth=t.lineWidth),\&quot;lightPosition\&quot;in t&amp;&amp;(this.lightPosition=t.lightPosition),this.hasAlpha=!1,\&quot;opacity\&quot;in t&amp;&amp;(this.opacity=t.opacity,this.opacity&lt;1&amp;&amp;(this.hasAlpha=!0)),\&quot;opacityscale\&quot;in t&amp;&amp;(this.opacityscale=t.opacityscale,this.hasAlpha=!0),\&quot;ambient\&quot;in t&amp;&amp;(this.ambientLight=t.ambient),\&quot;diffuse\&quot;in t&amp;&amp;(this.diffuseLight=t.diffuse),\&quot;specular\&quot;in t&amp;&amp;(this.specularLight=t.specular),\&quot;roughness\&quot;in t&amp;&amp;(this.roughness=t.roughness),\&quot;fresnel\&quot;in t&amp;&amp;(this.fresnel=t.fresnel),t.texture?(this.texture.dispose(),this.texture=o(e,t.texture)):t.colormap&amp;&amp;(this.texture.shape=[256,256],this.texture.minFilter=e.LINEAR_MIPMAP_LINEAR,this.texture.magFilter=e.LINEAR,this.texture.setPixels(function(t,e){for(var r=f({colormap:t,nshades:256,format:\&quot;rgba\&quot;}),n=new Uint8Array(1024),i=0;i&lt;256;++i){for(var a=r[i],o=0;o&lt;3;++o)n[4*i+o]=a[o];n[4*i+3]=e?255*M(i/255,e):255*a[3]}return u(n,[256,256,4],[4,0,1])}(t.colormap,this.opacityscale)),this.texture.generateMipmap());var r=t.cells,n=t.positions;if(n&amp;&amp;r){var i=[],a=[],l=[],c=[],h=[],p=[],d=[],g=[],m=[],v=[],y=[],x=[],b=[],_=[];this.cells=r,this.positions=n;var w=t.vertexNormals,T=t.cellNormals,k=void 0===t.vertexNormalsEpsilon?1e-6:t.vertexNormalsEpsilon,A=void 0===t.faceNormalsEpsilon?1e-6:t.faceNormalsEpsilon;t.useFacetNormals&amp;&amp;!T&amp;&amp;(T=s.faceNormals(r,n,A)),T||w||(w=s.vertexNormals(r,n,k));var S=t.vertexColors,E=t.cellColors,C=t.meshColor||[1,1,1,1],L=t.vertexUVs,I=t.vertexIntensity,P=t.cellUVs,z=t.cellIntensity,O=1/0,D=-1/0;if(!L&amp;&amp;!P)if(I)if(t.vertexIntensityBounds)O=+t.vertexIntensityBounds[0],D=+t.vertexIntensityBounds[1];else for(var R=0;R&lt;I.length;++R){var F=I[R];O=Math.min(O,F),D=Math.max(D,F)}else if(z)if(t.cellIntensityBounds)O=+t.cellIntensityBounds[0],D=+t.cellIntensityBounds[1];else for(R=0;R&lt;z.length;++R){F=z[R];O=Math.min(O,F),D=Math.max(D,F)}else for(R=0;R&lt;n.length;++R){F=n[R][2];O=Math.min(O,F),D=Math.max(D,F)}this.intensity=I||(z||function(t){for(var e=t.length,r=new Array(e),n=0;n&lt;e;++n)r[n]=t[n][2];return r}(n)),this.pickVertex=!(z||E);var B=t.pointSizes,N=t.pointSize||1;this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]];for(R=0;R&lt;n.length;++R)for(var j=n[R],U=0;U&lt;3;++U)!isNaN(j[U])&amp;&amp;isFinite(j[U])&amp;&amp;(this.bounds[0][U]=Math.min(this.bounds[0][U],j[U]),this.bounds[1][U]=Math.max(this.bounds[1][U],j[U]));var V=0,q=0,H=0;t:for(R=0;R&lt;r.length;++R){var G=r[R];switch(G.length){case 1:for(j=n[W=G[0]],U=0;U&lt;3;++U)if(isNaN(j[U])||!isFinite(j[U]))continue t;v.push(j[0],j[1],j[2]),X=S?S[W]:E?E[R]:C,this.opacityscale&amp;&amp;I?a.push(X[0],X[1],X[2],this.opacity*M((I[W]-O)/(D-O),this.opacityscale)):3===X.length?y.push(X[0],X[1],X[2],this.opacity):(y.push(X[0],X[1],X[2],X[3]*this.opacity),X[3]&lt;1&amp;&amp;(this.hasAlpha=!0)),Z=L?L[W]:I?[(I[W]-O)/(D-O),0]:P?P[R]:z?[(z[R]-O)/(D-O),0]:[(j[2]-O)/(D-O),0],x.push(Z[0],Z[1]),B?b.push(B[W]):b.push(N),_.push(R),H+=1;break;case 2:for(U=0;U&lt;2;++U){j=n[W=G[U]];for(var Y=0;Y&lt;3;++Y)if(isNaN(j[Y])||!isFinite(j[Y]))continue t}for(U=0;U&lt;2;++U){j=n[W=G[U]];p.push(j[0],j[1],j[2]),X=S?S[W]:E?E[R]:C,this.opacityscale&amp;&amp;I?a.push(X[0],X[1],X[2],this.opacity*M((I[W]-O)/(D-O),this.opacityscale)):3===X.length?d.push(X[0],X[1],X[2],this.opacity):(d.push(X[0],X[1],X[2],X[3]*this.opacity),X[3]&lt;1&amp;&amp;(this.hasAlpha=!0)),Z=L?L[W]:I?[(I[W]-O)/(D-O),0]:P?P[R]:z?[(z[R]-O)/(D-O),0]:[(j[2]-O)/(D-O),0],g.push(Z[0],Z[1]),m.push(R)}q+=1;break;case 3:for(U=0;U&lt;3;++U)for(j=n[W=G[U]],Y=0;Y&lt;3;++Y)if(isNaN(j[Y])||!isFinite(j[Y]))continue t;for(U=0;U&lt;3;++U){var W,X,Z,J;j=n[W=G[2-U]];i.push(j[0],j[1],j[2]),(X=S?S[W]:E?E[R]:C)?this.opacityscale&amp;&amp;I?a.push(X[0],X[1],X[2],this.opacity*M((I[W]-O)/(D-O),this.opacityscale)):3===X.length?a.push(X[0],X[1],X[2],this.opacity):(a.push(X[0],X[1],X[2],X[3]*this.opacity),X[3]&lt;1&amp;&amp;(this.hasAlpha=!0)):a.push(.5,.5,.5,1),Z=L?L[W]:I?[(I[W]-O)/(D-O),0]:P?P[R]:z?[(z[R]-O)/(D-O),0]:[(j[2]-O)/(D-O),0],c.push(Z[0],Z[1]),J=w?w[W]:T[R],l.push(J[0],J[1],J[2]),h.push(R)}V+=1}}this.pointCount=H,this.edgeCount=q,this.triangleCount=V,this.pointPositions.update(v),this.pointColors.update(y),this.pointUVs.update(x),this.pointSizes.update(b),this.pointIds.update(new Uint32Array(_)),this.edgePositions.update(p),this.edgeColors.update(d),this.edgeUVs.update(g),this.edgeIds.update(new Uint32Array(m)),this.trianglePositions.update(i),this.triangleColors.update(a),this.triangleUVs.update(c),this.triangleNormals.update(l),this.triangleIds.update(new Uint32Array(h))}},k.drawTransparent=k.draw=function(t){t=t||{};for(var e=this.gl,r=t.model||w,n=t.view||w,i=t.projection||w,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o&lt;3;++o)a[0][o]=Math.max(a[0][o],this.clipBounds[0][o]),a[1][o]=Math.min(a[1][o],this.clipBounds[1][o]);var s={model:r,view:n,projection:i,inverseModel:w.slice(),clipBounds:a,kambient:this.ambientLight,kdiffuse:this.diffuseLight,kspecular:this.specularLight,roughness:this.roughness,fresnel:this.fresnel,eyePosition:[0,0,0],lightPosition:[0,0,0],contourColor:this.contourColor,texture:0};s.inverseModel=c(s.inverseModel,s.model),e.disable(e.CULL_FACE),this.texture.bind(0);var u=new Array(16);l(u,s.view,s.model),l(u,s.projection,u),c(u,u);for(o=0;o&lt;3;++o)s.eyePosition[o]=u[12+o]/u[15];var f,h=u[15];for(o=0;o&lt;3;++o)h+=this.lightPosition[o]*u[4*o+3];for(o=0;o&lt;3;++o){for(var p=u[12+o],d=0;d&lt;3;++d)p+=u[4*d+o]*this.lightPosition[d];s.lightPosition[o]=p/h}this.triangleCount&gt;0&amp;&amp;((f=this.triShader).bind(),f.uniforms=s,this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind());this.edgeCount&gt;0&amp;&amp;this.lineWidth&gt;0&amp;&amp;((f=this.lineShader).bind(),f.uniforms=s,this.edgeVAO.bind(),e.lineWidth(this.lineWidth*this.pixelRatio),e.drawArrays(e.LINES,0,2*this.edgeCount),this.edgeVAO.unbind());this.pointCount&gt;0&amp;&amp;((f=this.pointShader).bind(),f.uniforms=s,this.pointVAO.bind(),e.drawArrays(e.POINTS,0,this.pointCount),this.pointVAO.unbind());this.contourEnable&amp;&amp;this.contourCount&gt;0&amp;&amp;this.contourLineWidth&gt;0&amp;&amp;((f=this.contourShader).bind(),f.uniforms=s,this.contourVAO.bind(),e.drawArrays(e.LINES,0,this.contourCount),this.contourVAO.unbind())},k.drawPick=function(t){t=t||{};for(var e=this.gl,r=t.model||w,n=t.view||w,i=t.projection||w,a=[[-1e6,-1e6,-1e6],[1e6,1e6,1e6]],o=0;o&lt;3;++o)a[0][o]=Math.max(a[0][o],this.clipBounds[0][o]),a[1][o]=Math.min(a[1][o],this.clipBounds[1][o]);this._model=[].slice.call(r),this._view=[].slice.call(n),this._projection=[].slice.call(i),this._resolution=[e.drawingBufferWidth,e.drawingBufferHeight];var s,l={model:r,view:n,projection:i,clipBounds:a,pickId:this.pickId/255};((s=this.pickShader).bind(),s.uniforms=l,this.triangleCount&gt;0&amp;&amp;(this.triangleVAO.bind(),e.drawArrays(e.TRIANGLES,0,3*this.triangleCount),this.triangleVAO.unbind()),this.edgeCount&gt;0&amp;&amp;(this.edgeVAO.bind(),e.lineWidth(this.lineWidth*this.pixelRatio),e.drawArrays(e.LINES,0,2*this.edgeCount),this.edgeVAO.unbind()),this.pointCount&gt;0)&amp;&amp;((s=this.pointPickShader).bind(),s.uniforms=l,this.pointVAO.bind(),e.drawArrays(e.POINTS,0,this.pointCount),this.pointVAO.unbind())},k.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;for(var e=t.value[0]+256*t.value[1]+65536*t.value[2],r=this.cells[e],n=this.positions,i=new Array(r.length),a=0;a&lt;r.length;++a)i[a]=n[r[a]];var o=t.coord[0],s=t.coord[1];if(!this.pickVertex){var l=this.positions[r[0]],c=this.positions[r[1]],u=this.positions[r[2]],f=[(l[0]+c[0]+u[0])/3,(l[1]+c[1]+u[1])/3,(l[2]+c[2]+u[2])/3];return{_cellCenter:!0,position:[o,s],index:e,cell:r,cellId:e,intensity:this.intensity[e],dataCoordinate:f}}var h=g(i,[o*this.pixelRatio,this._resolution[1]-s*this.pixelRatio],this._model,this._view,this._projection,this._resolution);if(!h)return null;var p=h[2],d=0;for(a=0;a&lt;r.length;++a)d+=p[a]*this.intensity[r[a]];return{position:h[1],index:r[h[0]],cell:r,cellId:e,intensity:d,dataCoordinate:this.positions[r[h[0]]]}},k.dispose=function(){this.texture.dispose(),this.triShader.dispose(),this.lineShader.dispose(),this.pointShader.dispose(),this.pickShader.dispose(),this.pointPickShader.dispose(),this.triangleVAO.dispose(),this.trianglePositions.dispose(),this.triangleColors.dispose(),this.triangleUVs.dispose(),this.triangleNormals.dispose(),this.triangleIds.dispose(),this.edgeVAO.dispose(),this.edgePositions.dispose(),this.edgeColors.dispose(),this.edgeUVs.dispose(),this.edgeIds.dispose(),this.pointVAO.dispose(),this.pointPositions.dispose(),this.pointColors.dispose(),this.pointUVs.dispose(),this.pointSizes.dispose(),this.pointIds.dispose(),this.contourVAO.dispose(),this.contourPositions.dispose(),this.contourShader.dispose()},e.exports=function(t,e){1===arguments.length&amp;&amp;(t=(e=t).gl);var r=t.getExtension(\&quot;OES_standard_derivatives\&quot;)||t.getExtension(\&quot;MOZ_OES_standard_derivatives\&quot;)||t.getExtension(\&quot;WEBKIT_OES_standard_derivatives\&quot;);if(!r)throw new Error(\&quot;derivatives not supported\&quot;);var n=A(t),s=S(t),l=E(t),c=C(t),f=L(t),h=I(t),p=o(t,u(new Uint8Array([255,255,255,255]),[1,1,4]));p.generateMipmap(),p.minFilter=t.LINEAR_MIPMAP_LINEAR,p.magFilter=t.LINEAR;var d=i(t),g=i(t),m=i(t),v=i(t),y=i(t),x=a(t,[{buffer:d,type:t.FLOAT,size:3},{buffer:y,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:g,type:t.FLOAT,size:4},{buffer:m,type:t.FLOAT,size:2},{buffer:v,type:t.FLOAT,size:3}]),b=i(t),_=i(t),w=i(t),k=i(t),M=a(t,[{buffer:b,type:t.FLOAT,size:3},{buffer:k,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:_,type:t.FLOAT,size:4},{buffer:w,type:t.FLOAT,size:2}]),P=i(t),z=i(t),O=i(t),D=i(t),R=i(t),F=a(t,[{buffer:P,type:t.FLOAT,size:3},{buffer:R,type:t.UNSIGNED_BYTE,size:4,normalized:!0},{buffer:z,type:t.FLOAT,size:4},{buffer:O,type:t.FLOAT,size:2},{buffer:D,type:t.FLOAT,size:1}]),B=i(t),N=a(t,[{buffer:B,type:t.FLOAT,size:3}]),j=new T(t,p,n,s,l,c,f,h,d,y,g,m,v,x,b,k,_,w,M,P,R,z,O,D,F,B,N);return j.update(e),j}},{\&quot;./lib/closest-point\&quot;:307,\&quot;./lib/shaders\&quot;:308,colormap:131,\&quot;gl-buffer\&quot;:259,\&quot;gl-mat4/invert\&quot;:293,\&quot;gl-mat4/multiply\&quot;:295,\&quot;gl-shader\&quot;:335,\&quot;gl-texture2d\&quot;:353,\&quot;gl-vao\&quot;:358,ndarray:495,normals:498,\&quot;simplicial-complex-contour\&quot;:556,\&quot;typedarray-pool\&quot;:595}],310:[function(t,e,r){arguments[4][257][0].apply(r,arguments)},{dup:257}],311:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){var e=t.gl,r=n(e,[0,0,0,1,1,0,1,1]),s=i(e,a.boxVert,a.lineFrag);return new o(t,r,s)};var n=t(\&quot;gl-buffer\&quot;),i=t(\&quot;gl-shader\&quot;),a=t(\&quot;./shaders\&quot;);function o(t,e,r){this.plot=t,this.vbo=e,this.shader=r}var s,l,c=o.prototype;c.bind=function(){var t=this.shader;this.vbo.bind(),this.shader.bind(),t.attributes.coord.pointer(),t.uniforms.screenBox=this.plot.screenBox},c.drawBox=(s=[0,0],l=[0,0],function(t,e,r,n,i){var a=this.plot,o=this.shader,c=a.gl;s[0]=t,s[1]=e,l[0]=r,l[1]=n,o.uniforms.lo=s,o.uniforms.hi=l,o.uniforms.color=i,c.drawArrays(c.TRIANGLE_STRIP,0,4)}),c.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{\&quot;./shaders\&quot;:314,\&quot;gl-buffer\&quot;:259,\&quot;gl-shader\&quot;:335}],312:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){var e=t.gl,r=n(e),a=i(e,o.gridVert,o.gridFrag),l=i(e,o.tickVert,o.gridFrag);return new s(t,r,a,l)};var n=t(\&quot;gl-buffer\&quot;),i=t(\&quot;gl-shader\&quot;),a=t(\&quot;binary-search-bounds\&quot;),o=t(\&quot;./shaders\&quot;);function s(t,e,r,n){this.plot=t,this.vbo=e,this.shader=r,this.tickShader=n,this.ticks=[[],[]]}function l(t,e){return t-e}var c,u,f,h,p,d=s.prototype;d.draw=(c=[0,0],u=[0,0],f=[0,0],function(){for(var t=this.plot,e=this.vbo,r=this.shader,n=this.ticks,i=t.gl,a=t._tickBounds,o=t.dataBox,s=t.viewBox,l=t.gridLineWidth,h=t.gridLineColor,p=t.gridLineEnable,d=t.pixelRatio,g=0;g&lt;2;++g){var m=a[g],v=a[g+2]-m,y=.5*(o[g+2]+o[g]),x=o[g+2]-o[g];u[g]=2*v/x,c[g]=2*(m-y)/x}r.bind(),e.bind(),r.attributes.dataCoord.pointer(),r.uniforms.dataShift=c,r.uniforms.dataScale=u;var b=0;for(g=0;g&lt;2;++g){f[0]=f[1]=0,f[g]=1,r.uniforms.dataAxis=f,r.uniforms.lineWidth=l[g]/(s[g+2]-s[g])*d,r.uniforms.color=h[g];var _=6*n[g].length;p[g]&amp;&amp;_&amp;&amp;i.drawArrays(i.TRIANGLES,b,_),b+=_}}),d.drawTickMarks=function(){var t=[0,0],e=[0,0],r=[1,0],n=[0,1],i=[0,0],o=[0,0];return function(){for(var s=this.plot,c=this.vbo,u=this.tickShader,f=this.ticks,h=s.gl,p=s._tickBounds,d=s.dataBox,g=s.viewBox,m=s.pixelRatio,v=s.screenBox,y=v[2]-v[0],x=v[3]-v[1],b=g[2]-g[0],_=g[3]-g[1],w=0;w&lt;2;++w){var T=p[w],k=p[w+2]-T,M=.5*(d[w+2]+d[w]),A=d[w+2]-d[w];e[w]=2*k/A,t[w]=2*(T-M)/A}e[0]*=b/y,t[0]*=b/y,e[1]*=_/x,t[1]*=_/x,u.bind(),c.bind(),u.attributes.dataCoord.pointer();var S=u.uniforms;S.dataShift=t,S.dataScale=e;var E=s.tickMarkLength,C=s.tickMarkWidth,L=s.tickMarkColor,I=6*f[0].length,P=Math.min(a.ge(f[0],(d[0]-p[0])/(p[2]-p[0]),l),f[0].length),z=Math.min(a.gt(f[0],(d[2]-p[0])/(p[2]-p[0]),l),f[0].length),O=0+6*P,D=6*Math.max(0,z-P),R=Math.min(a.ge(f[1],(d[1]-p[1])/(p[3]-p[1]),l),f[1].length),F=Math.min(a.gt(f[1],(d[3]-p[1])/(p[3]-p[1]),l),f[1].length),B=I+6*R,N=6*Math.max(0,F-R);i[0]=2*(g[0]-E[1])/y-1,i[1]=(g[3]+g[1])/x-1,o[0]=E[1]*m/y,o[1]=C[1]*m/x,N&amp;&amp;(S.color=L[1],S.tickScale=o,S.dataAxis=n,S.screenOffset=i,h.drawArrays(h.TRIANGLES,B,N)),i[0]=(g[2]+g[0])/y-1,i[1]=2*(g[1]-E[0])/x-1,o[0]=C[0]*m/y,o[1]=E[0]*m/x,D&amp;&amp;(S.color=L[0],S.tickScale=o,S.dataAxis=r,S.screenOffset=i,h.drawArrays(h.TRIANGLES,O,D)),i[0]=2*(g[2]+E[3])/y-1,i[1]=(g[3]+g[1])/x-1,o[0]=E[3]*m/y,o[1]=C[3]*m/x,N&amp;&amp;(S.color=L[3],S.tickScale=o,S.dataAxis=n,S.screenOffset=i,h.drawArrays(h.TRIANGLES,B,N)),i[0]=(g[2]+g[0])/y-1,i[1]=2*(g[3]+E[2])/x-1,o[0]=C[2]*m/y,o[1]=E[2]*m/x,D&amp;&amp;(S.color=L[2],S.tickScale=o,S.dataAxis=r,S.screenOffset=i,h.drawArrays(h.TRIANGLES,O,D))}}(),d.update=(h=[1,1,-1,-1,1,-1],p=[1,-1,1,1,-1,-1],function(t){for(var e=t.ticks,r=t.bounds,n=new Float32Array(18*(e[0].length+e[1].length)),i=(this.plot.zeroLineEnable,0),a=[[],[]],o=0;o&lt;2;++o)for(var s=a[o],l=e[o],c=r[o],u=r[o+2],f=0;f&lt;l.length;++f){var d=(l[f].x-c)/(u-c);s.push(d);for(var g=0;g&lt;6;++g)n[i++]=d,n[i++]=h[g],n[i++]=p[g]}this.ticks=a,this.vbo.update(n)}),d.dispose=function(){this.vbo.dispose(),this.shader.dispose(),this.tickShader.dispose()}},{\&quot;./shaders\&quot;:314,\&quot;binary-search-bounds\&quot;:96,\&quot;gl-buffer\&quot;:259,\&quot;gl-shader\&quot;:335}],313:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){var e=t.gl,r=n(e,[-1,-1,-1,1,1,-1,1,1]),s=i(e,a.lineVert,a.lineFrag);return new o(t,r,s)};var n=t(\&quot;gl-buffer\&quot;),i=t(\&quot;gl-shader\&quot;),a=t(\&quot;./shaders\&quot;);function o(t,e,r){this.plot=t,this.vbo=e,this.shader=r}var s,l,c=o.prototype;c.bind=function(){var t=this.shader;this.vbo.bind(),this.shader.bind(),t.attributes.coord.pointer(),t.uniforms.screenBox=this.plot.screenBox},c.drawLine=(s=[0,0],l=[0,0],function(t,e,r,n,i,a){var o=this.plot,c=this.shader,u=o.gl;s[0]=t,s[1]=e,l[0]=r,l[1]=n,c.uniforms.start=s,c.uniforms.end=l,c.uniforms.width=i*o.pixelRatio,c.uniforms.color=a,u.drawArrays(u.TRIANGLE_STRIP,0,4)}),c.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{\&quot;./shaders\&quot;:314,\&quot;gl-buffer\&quot;:259,\&quot;gl-shader\&quot;:335}],314:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;glslify\&quot;),i=n([\&quot;precision lowp float;\\n#define GLSLIFY 1\\nuniform vec4 color;\\nvoid main() {\\n  gl_FragColor = vec4(color.xyz * color.w, color.w);\\n}\\n\&quot;]);e.exports={lineVert:n([\&quot;precision mediump float;\\n#define GLSLIFY 1\\n\\nattribute vec2 coord;\\n\\nuniform vec4 screenBox;\\nuniform vec2 start, end;\\nuniform float width;\\n\\nvec2 perp(vec2 v) {\\n  return vec2(v.y, -v.x);\\n}\\n\\nvec2 screen(vec2 v) {\\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\\n}\\n\\nvoid main() {\\n  vec2 delta = normalize(perp(start - end));\\n  vec2 offset = mix(start, end, 0.5 * (coord.y+1.0));\\n  gl_Position = vec4(screen(offset + 0.5 * width * delta * coord.x), 0, 1);\\n}\\n\&quot;]),lineFrag:i,textVert:n([\&quot;#define GLSLIFY 1\\nattribute vec3 textCoordinate;\\n\\nuniform vec2 dataScale, dataShift, dataAxis, screenOffset, textScale;\\nuniform float angle;\\n\\nvoid main() {\\n  float dataOffset  = textCoordinate.z;\\n  vec2 glyphOffset  = textCoordinate.xy;\\n  mat2 glyphMatrix = mat2(cos(angle), sin(angle), -sin(angle), cos(angle));\\n  vec2 screenCoordinate = dataAxis * (dataScale * dataOffset + dataShift) +\\n    glyphMatrix * glyphOffset * textScale + screenOffset;\\n  gl_Position = vec4(screenCoordinate, 0, 1);\\n}\\n\&quot;]),textFrag:i,gridVert:n([\&quot;precision mediump float;\\n#define GLSLIFY 1\\n\\nattribute vec3 dataCoord;\\n\\nuniform vec2 dataAxis, dataShift, dataScale;\\nuniform float lineWidth;\\n\\nvoid main() {\\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\\n  pos += 10.0 * dataCoord.y * vec2(dataAxis.y, -dataAxis.x) + dataCoord.z * lineWidth;\\n  gl_Position = vec4(pos, 0, 1);\\n}\\n\&quot;]),gridFrag:i,boxVert:n([\&quot;precision mediump float;\\n#define GLSLIFY 1\\n\\nattribute vec2 coord;\\n\\nuniform vec4 screenBox;\\nuniform vec2 lo, hi;\\n\\nvec2 screen(vec2 v) {\\n  return 2.0 * (v - screenBox.xy) / (screenBox.zw - screenBox.xy) - 1.0;\\n}\\n\\nvoid main() {\\n  gl_Position = vec4(screen(mix(lo, hi, coord)), 0, 1);\\n}\\n\&quot;]),tickVert:n([\&quot;precision mediump float;\\n#define GLSLIFY 1\\n\\nattribute vec3 dataCoord;\\n\\nuniform vec2 dataAxis, dataShift, dataScale, screenOffset, tickScale;\\n\\nvoid main() {\\n  vec2 pos = dataAxis * (dataScale * dataCoord.x + dataShift);\\n  gl_Position = vec4(pos + tickScale*dataCoord.yz + screenOffset, 0, 1);\\n}\\n\&quot;])}},{glslify:316}],315:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){var e=t.gl,r=n(e),a=i(e,s.textVert,s.textFrag);return new l(t,r,a)};var n=t(\&quot;gl-buffer\&quot;),i=t(\&quot;gl-shader\&quot;),a=t(\&quot;text-cache\&quot;),o=t(\&quot;binary-search-bounds\&quot;),s=t(\&quot;./shaders\&quot;);function l(t,e,r){this.plot=t,this.vbo=e,this.shader=r,this.tickOffset=[[],[]],this.tickX=[[],[]],this.labelOffset=[0,0],this.labelCount=[0,0]}var c,u,f,h,p,d,g=l.prototype;g.drawTicks=(c=[0,0],u=[0,0],f=[0,0],function(t){var e=this.plot,r=this.shader,n=this.tickX[t],i=this.tickOffset[t],a=e.gl,s=e.viewBox,l=e.dataBox,h=e.screenBox,p=e.pixelRatio,d=e.tickEnable,g=e.tickPad,m=e.tickColor,v=e.tickAngle,y=e.labelEnable,x=e.labelPad,b=e.labelColor,_=e.labelAngle,w=this.labelOffset[t],T=this.labelCount[t],k=o.lt(n,l[t]),M=o.le(n,l[t+2]);c[0]=c[1]=0,c[t]=1,u[t]=(s[2+t]+s[t])/(h[2+t]-h[t])-1;var A=2/h[2+(1^t)]-h[1^t];u[1^t]=A*s[1^t]-1,d[t]&amp;&amp;(u[1^t]-=A*p*g[t],k&lt;M&amp;&amp;i[M]&gt;i[k]&amp;&amp;(r.uniforms.dataAxis=c,r.uniforms.screenOffset=u,r.uniforms.color=m[t],r.uniforms.angle=v[t],a.drawArrays(a.TRIANGLES,i[k],i[M]-i[k]))),y[t]&amp;&amp;T&amp;&amp;(u[1^t]-=A*p*x[t],r.uniforms.dataAxis=f,r.uniforms.screenOffset=u,r.uniforms.color=b[t],r.uniforms.angle=_[t],a.drawArrays(a.TRIANGLES,w,T)),u[1^t]=A*s[2+(1^t)]-1,d[t+2]&amp;&amp;(u[1^t]+=A*p*g[t+2],k&lt;M&amp;&amp;i[M]&gt;i[k]&amp;&amp;(r.uniforms.dataAxis=c,r.uniforms.screenOffset=u,r.uniforms.color=m[t+2],r.uniforms.angle=v[t+2],a.drawArrays(a.TRIANGLES,i[k],i[M]-i[k]))),y[t+2]&amp;&amp;T&amp;&amp;(u[1^t]+=A*p*x[t+2],r.uniforms.dataAxis=f,r.uniforms.screenOffset=u,r.uniforms.color=b[t+2],r.uniforms.angle=_[t+2],a.drawArrays(a.TRIANGLES,w,T))}),g.drawTitle=function(){var t=[0,0],e=[0,0];return function(){var r=this.plot,n=this.shader,i=r.gl,a=r.screenBox,o=r.titleCenter,s=r.titleAngle,l=r.titleColor,c=r.pixelRatio;if(this.titleCount){for(var u=0;u&lt;2;++u)e[u]=2*(o[u]*c-a[u])/(a[2+u]-a[u])-1;n.bind(),n.uniforms.dataAxis=t,n.uniforms.screenOffset=e,n.uniforms.angle=s,n.uniforms.color=l,i.drawArrays(i.TRIANGLES,this.titleOffset,this.titleCount)}}}(),g.bind=(h=[0,0],p=[0,0],d=[0,0],function(){var t=this.plot,e=this.shader,r=t._tickBounds,n=t.dataBox,i=t.screenBox,a=t.viewBox;e.bind();for(var o=0;o&lt;2;++o){var s=r[o],l=r[o+2]-s,c=.5*(n[o+2]+n[o]),u=n[o+2]-n[o],f=a[o],g=a[o+2]-f,m=i[o],v=i[o+2]-m;p[o]=2*l/u*g/v,h[o]=2*(s-c)/u*g/v}d[1]=2*t.pixelRatio/(i[3]-i[1]),d[0]=d[1]*(i[3]-i[1])/(i[2]-i[0]),e.uniforms.dataScale=p,e.uniforms.dataShift=h,e.uniforms.textScale=d,this.vbo.bind(),e.attributes.textCoordinate.pointer()}),g.update=function(t){var e,r,n,i,o,s=[],l=t.ticks,c=t.bounds;for(o=0;o&lt;2;++o){var u=[Math.floor(s.length/3)],f=[-1/0],h=l[o];for(e=0;e&lt;h.length;++e){var p=h[e],d=p.x,g=p.text,m=p.font||\&quot;sans-serif\&quot;;i=p.fontSize||12;for(var v=1/(c[o+2]-c[o]),y=c[o],x=g.split(\&quot;\\n\&quot;),b=0;b&lt;x.length;b++)for(n=a(m,x[b]).data,r=0;r&lt;n.length;r+=2)s.push(n[r]*i,-n[r+1]*i-b*i*1.2,(d-y)*v);u.push(Math.floor(s.length/3)),f.push(d)}this.tickOffset[o]=u,this.tickX[o]=f}for(o=0;o&lt;2;++o){for(this.labelOffset[o]=Math.floor(s.length/3),n=a(t.labelFont[o],t.labels[o],{textAlign:\&quot;center\&quot;}).data,i=t.labelSize[o],e=0;e&lt;n.length;e+=2)s.push(n[e]*i,-n[e+1]*i,0);this.labelCount[o]=Math.floor(s.length/3)-this.labelOffset[o]}for(this.titleOffset=Math.floor(s.length/3),n=a(t.titleFont,t.title).data,i=t.titleSize,e=0;e&lt;n.length;e+=2)s.push(n[e]*i,-n[e+1]*i,0);this.titleCount=Math.floor(s.length/3)-this.titleOffset,this.vbo.update(s)},g.dispose=function(){this.vbo.dispose(),this.shader.dispose()}},{\&quot;./shaders\&quot;:314,\&quot;binary-search-bounds\&quot;:96,\&quot;gl-buffer\&quot;:259,\&quot;gl-shader\&quot;:335,\&quot;text-cache\&quot;:575}],316:[function(t,e,r){arguments[4][257][0].apply(r,arguments)},{dup:257}],317:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){var e=t.gl,r=n(e,[e.drawingBufferWidth,e.drawingBufferHeight]),c=new l(e,r);return c.grid=i(c),c.text=a(c),c.line=o(c),c.box=s(c),c.update(t),c};var n=t(\&quot;gl-select-static\&quot;),i=t(\&quot;./lib/grid\&quot;),a=t(\&quot;./lib/text\&quot;),o=t(\&quot;./lib/line\&quot;),s=t(\&quot;./lib/box\&quot;);function l(t,e){this.gl=t,this.pickBuffer=e,this.screenBox=[0,0,t.drawingBufferWidth,t.drawingBufferHeight],this.viewBox=[0,0,0,0],this.dataBox=[-10,-10,10,10],this.gridLineEnable=[!0,!0],this.gridLineWidth=[1,1],this.gridLineColor=[[0,0,0,1],[0,0,0,1]],this.pixelRatio=1,this.tickMarkLength=[0,0,0,0],this.tickMarkWidth=[0,0,0,0],this.tickMarkColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.tickPad=[15,15,15,15],this.tickAngle=[0,0,0,0],this.tickEnable=[!0,!0,!0,!0],this.tickColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.labelPad=[15,15,15,15],this.labelAngle=[0,Math.PI/2,0,3*Math.PI/2],this.labelEnable=[!0,!0,!0,!0],this.labelColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.titleCenter=[0,0],this.titleEnable=!0,this.titleAngle=0,this.titleColor=[0,0,0,1],this.borderColor=[0,0,0,0],this.backgroundColor=[0,0,0,0],this.zeroLineEnable=[!0,!0],this.zeroLineWidth=[4,4],this.zeroLineColor=[[0,0,0,1],[0,0,0,1]],this.borderLineEnable=[!0,!0,!0,!0],this.borderLineWidth=[2,2,2,2],this.borderLineColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.grid=null,this.text=null,this.line=null,this.box=null,this.objects=[],this.overlays=[],this._tickBounds=[1/0,1/0,-1/0,-1/0],this.static=!1,this.dirty=!1,this.pickDirty=!1,this.pickDelay=120,this.pickRadius=10,this._pickTimeout=null,this._drawPick=this.drawPick.bind(this),this._depthCounter=0}var c=l.prototype;function u(t){for(var e=t.slice(),r=0;r&lt;e.length;++r)e[r]=e[r].slice();return e}function f(t,e){return t.x-e.x}c.setDirty=function(){this.dirty=this.pickDirty=!0},c.setOverlayDirty=function(){this.dirty=!0},c.nextDepthValue=function(){return this._depthCounter++/65536},c.draw=function(){var t=this.gl,e=this.screenBox,r=this.viewBox,n=this.dataBox,i=this.pixelRatio,a=this.grid,o=this.line,s=this.text,l=this.objects;if(this._depthCounter=0,this.pickDirty&amp;&amp;(this._pickTimeout&amp;&amp;clearTimeout(this._pickTimeout),this.pickDirty=!1,this._pickTimeout=setTimeout(this._drawPick,this.pickDelay)),this.dirty){if(this.dirty=!1,t.bindFramebuffer(t.FRAMEBUFFER,null),t.enable(t.SCISSOR_TEST),t.disable(t.DEPTH_TEST),t.depthFunc(t.LESS),t.depthMask(!1),t.enable(t.BLEND),t.blendEquation(t.FUNC_ADD,t.FUNC_ADD),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),this.borderColor){t.scissor(e[0],e[1],e[2]-e[0],e[3]-e[1]);var c=this.borderColor;t.clearColor(c[0]*c[3],c[1]*c[3],c[2]*c[3],c[3]),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT)}t.scissor(r[0],r[1],r[2]-r[0],r[3]-r[1]),t.viewport(r[0],r[1],r[2]-r[0],r[3]-r[1]);var u=this.backgroundColor;t.clearColor(u[0]*u[3],u[1]*u[3],u[2]*u[3],u[3]),t.clear(t.COLOR_BUFFER_BIT),a.draw();var f=this.zeroLineEnable,h=this.zeroLineColor,p=this.zeroLineWidth;if(f[0]||f[1]){o.bind();for(var d=0;d&lt;2;++d)if(f[d]&amp;&amp;n[d]&lt;=0&amp;&amp;n[d+2]&gt;=0){var g=e[d]-n[d]*(e[d+2]-e[d])/(n[d+2]-n[d]);0===d?o.drawLine(g,e[1],g,e[3],p[d],h[d]):o.drawLine(e[0],g,e[2],g,p[d],h[d])}}for(d=0;d&lt;l.length;++d)l[d].draw();t.viewport(e[0],e[1],e[2]-e[0],e[3]-e[1]),t.scissor(e[0],e[1],e[2]-e[0],e[3]-e[1]),this.grid.drawTickMarks(),o.bind();var m=this.borderLineEnable,v=this.borderLineWidth,y=this.borderLineColor;for(m[1]&amp;&amp;o.drawLine(r[0],r[1]-.5*v[1]*i,r[0],r[3]+.5*v[3]*i,v[1],y[1]),m[0]&amp;&amp;o.drawLine(r[0]-.5*v[0]*i,r[1],r[2]+.5*v[2]*i,r[1],v[0],y[0]),m[3]&amp;&amp;o.drawLine(r[2],r[1]-.5*v[1]*i,r[2],r[3]+.5*v[3]*i,v[3],y[3]),m[2]&amp;&amp;o.drawLine(r[0]-.5*v[0]*i,r[3],r[2]+.5*v[2]*i,r[3],v[2],y[2]),s.bind(),d=0;d&lt;2;++d)s.drawTicks(d);this.titleEnable&amp;&amp;s.drawTitle();var x=this.overlays;for(d=0;d&lt;x.length;++d)x[d].draw();t.disable(t.SCISSOR_TEST),t.disable(t.BLEND),t.depthMask(!0)}},c.drawPick=function(){if(!this.static){var t=this.pickBuffer;this.gl,this._pickTimeout=null,t.begin();for(var e=1,r=this.objects,n=0;n&lt;r.length;++n)e=r[n].drawPick(e);t.end()}},c.pick=function(t,e){if(!this.static){var r=this.pixelRatio,n=this.pickPixelRatio,i=this.viewBox,a=0|Math.round((t-i[0]/r)*n),o=0|Math.round((e-i[1]/r)*n),s=this.pickBuffer.query(a,o,this.pickRadius);if(!s)return null;for(var l=s.id+(s.value[0]&lt;&lt;8)+(s.value[1]&lt;&lt;16)+(s.value[2]&lt;&lt;24),c=this.objects,u=0;u&lt;c.length;++u){var f=c[u].pick(a,o,l);if(f)return f}return null}},c.setScreenBox=function(t){var e=this.screenBox,r=this.pixelRatio;e[0]=0|Math.round(t[0]*r),e[1]=0|Math.round(t[1]*r),e[2]=0|Math.round(t[2]*r),e[3]=0|Math.round(t[3]*r),this.setDirty()},c.setDataBox=function(t){var e=this.dataBox;(e[0]!==t[0]||e[1]!==t[1]||e[2]!==t[2]||e[3]!==t[3])&amp;&amp;(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],this.setDirty())},c.setViewBox=function(t){var e=this.pixelRatio,r=this.viewBox;r[0]=0|Math.round(t[0]*e),r[1]=0|Math.round(t[1]*e),r[2]=0|Math.round(t[2]*e),r[3]=0|Math.round(t[3]*e);var n=this.pickPixelRatio;this.pickBuffer.shape=[0|Math.round((t[2]-t[0])*n),0|Math.round((t[3]-t[1])*n)],this.setDirty()},c.update=function(t){t=t||{};var e=this.gl;this.pixelRatio=t.pixelRatio||1;var r=this.pixelRatio;this.pickPixelRatio=Math.max(r,1),this.setScreenBox(t.screenBox||[0,0,e.drawingBufferWidth/r,e.drawingBufferHeight/r]);this.screenBox;this.setViewBox(t.viewBox||[.125*(this.screenBox[2]-this.screenBox[0])/r,.125*(this.screenBox[3]-this.screenBox[1])/r,.875*(this.screenBox[2]-this.screenBox[0])/r,.875*(this.screenBox[3]-this.screenBox[1])/r]);var n=this.viewBox,i=(n[2]-n[0])/(n[3]-n[1]);this.setDataBox(t.dataBox||[-10,-10/i,10,10/i]),this.borderColor=!1!==t.borderColor&amp;&amp;(t.borderColor||[0,0,0,0]).slice(),this.backgroundColor=(t.backgroundColor||[0,0,0,0]).slice(),this.gridLineEnable=(t.gridLineEnable||[!0,!0]).slice(),this.gridLineWidth=(t.gridLineWidth||[1,1]).slice(),this.gridLineColor=u(t.gridLineColor||[[.5,.5,.5,1],[.5,.5,.5,1]]),this.zeroLineEnable=(t.zeroLineEnable||[!0,!0]).slice(),this.zeroLineWidth=(t.zeroLineWidth||[4,4]).slice(),this.zeroLineColor=u(t.zeroLineColor||[[0,0,0,1],[0,0,0,1]]),this.tickMarkLength=(t.tickMarkLength||[0,0,0,0]).slice(),this.tickMarkWidth=(t.tickMarkWidth||[0,0,0,0]).slice(),this.tickMarkColor=u(t.tickMarkColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.titleCenter=(t.titleCenter||[.5*(n[0]+n[2])/r,(n[3]+120)/r]).slice(),this.titleEnable=!(\&quot;titleEnable\&quot;in t)||!!t.titleEnable,this.titleAngle=t.titleAngle||0,this.titleColor=(t.titleColor||[0,0,0,1]).slice(),this.labelPad=(t.labelPad||[15,15,15,15]).slice(),this.labelAngle=(t.labelAngle||[0,Math.PI/2,0,3*Math.PI/2]).slice(),this.labelEnable=(t.labelEnable||[!0,!0,!0,!0]).slice(),this.labelColor=u(t.labelColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.tickPad=(t.tickPad||[15,15,15,15]).slice(),this.tickAngle=(t.tickAngle||[0,0,0,0]).slice(),this.tickEnable=(t.tickEnable||[!0,!0,!0,!0]).slice(),this.tickColor=u(t.tickColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]),this.borderLineEnable=(t.borderLineEnable||[!0,!0,!0,!0]).slice(),this.borderLineWidth=(t.borderLineWidth||[2,2,2,2]).slice(),this.borderLineColor=u(t.borderLineColor||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]);var a=t.ticks||[[],[]],o=this._tickBounds;o[0]=o[1]=1/0,o[2]=o[3]=-1/0;for(var s=0;s&lt;2;++s){var l=a[s].slice(0);0!==l.length&amp;&amp;(l.sort(f),o[s]=Math.min(o[s],l[0].x),o[s+2]=Math.max(o[s+2],l[l.length-1].x))}this.grid.update({bounds:o,ticks:a}),this.text.update({bounds:o,ticks:a,labels:t.labels||[\&quot;x\&quot;,\&quot;y\&quot;],labelSize:t.labelSize||[12,12],labelFont:t.labelFont||[\&quot;sans-serif\&quot;,\&quot;sans-serif\&quot;],title:t.title||\&quot;\&quot;,titleSize:t.titleSize||18,titleFont:t.titleFont||\&quot;sans-serif\&quot;}),this.static=!!t.static,this.setDirty()},c.dispose=function(){this.box.dispose(),this.grid.dispose(),this.text.dispose(),this.line.dispose();for(var t=this.objects.length-1;t&gt;=0;--t)this.objects[t].dispose();this.objects.length=0;for(t=this.overlays.length-1;t&gt;=0;--t)this.overlays[t].dispose();this.overlays.length=0,this.gl=null},c.addObject=function(t){this.objects.indexOf(t)&lt;0&amp;&amp;(this.objects.push(t),this.setDirty())},c.removeObject=function(t){for(var e=this.objects,r=0;r&lt;e.length;++r)if(e[r]===t){e.splice(r,1),this.setDirty();break}},c.addOverlay=function(t){this.overlays.indexOf(t)&lt;0&amp;&amp;(this.overlays.push(t),this.setOverlayDirty())},c.removeOverlay=function(t){for(var e=this.overlays,r=0;r&lt;e.length;++r)if(e[r]===t){e.splice(r,1),this.setOverlayDirty();break}}},{\&quot;./lib/box\&quot;:311,\&quot;./lib/grid\&quot;:312,\&quot;./lib/line\&quot;:313,\&quot;./lib/text\&quot;:315,\&quot;gl-select-static\&quot;:334}],318:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e){t=t||document.body,e=e||{};var r=[.01,1/0];\&quot;distanceLimits\&quot;in e&amp;&amp;(r[0]=e.distanceLimits[0],r[1]=e.distanceLimits[1]);\&quot;zoomMin\&quot;in e&amp;&amp;(r[0]=e.zoomMin);\&quot;zoomMax\&quot;in e&amp;&amp;(r[1]=e.zoomMax);var c=i({center:e.center||[0,0,0],up:e.up||[0,1,0],eye:e.eye||[0,0,10],mode:e.mode||\&quot;orbit\&quot;,distanceLimits:r}),u=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],f=0,h=t.clientWidth,p=t.clientHeight,d={keyBindingMode:\&quot;rotate\&quot;,enableWheel:!0,view:c,element:t,delay:e.delay||16,rotateSpeed:e.rotateSpeed||1,zoomSpeed:e.zoomSpeed||1,translateSpeed:e.translateSpeed||1,flipX:!!e.flipX,flipY:!!e.flipY,modes:c.modes,_ortho:e._ortho||e.projection&amp;&amp;\&quot;orthographic\&quot;===e.projection.type||!1,tick:function(){var e=n(),r=this.delay,i=e-2*r;c.idle(e-r),c.recalcMatrix(i),c.flush(e-(100+2*r));for(var a=!0,o=c.computedMatrix,s=0;s&lt;16;++s)a=a&amp;&amp;u[s]===o[s],u[s]=o[s];var l=t.clientWidth===h&amp;&amp;t.clientHeight===p;return h=t.clientWidth,p=t.clientHeight,a?!l:(f=Math.exp(c.computedRadius[0]),!0)},lookAt:function(t,e,r){c.lookAt(c.lastT(),t,e,r)},rotate:function(t,e,r){c.rotate(c.lastT(),t,e,r)},pan:function(t,e,r){c.pan(c.lastT(),t,e,r)},translate:function(t,e,r){c.translate(c.lastT(),t,e,r)}};return Object.defineProperties(d,{matrix:{get:function(){return c.computedMatrix},set:function(t){return c.setMatrix(c.lastT(),t),c.computedMatrix},enumerable:!0},mode:{get:function(){return c.getMode()},set:function(t){var e=c.computedUp.slice(),r=c.computedEye.slice(),i=c.computedCenter.slice();if(c.setMode(t),\&quot;turntable\&quot;===t){var a=n();c._active.lookAt(a,r,i,e),c._active.lookAt(a+500,r,i,[0,0,1]),c._active.flush(a)}return c.getMode()},enumerable:!0},center:{get:function(){return c.computedCenter},set:function(t){return c.lookAt(c.lastT(),null,t),c.computedCenter},enumerable:!0},eye:{get:function(){return c.computedEye},set:function(t){return c.lookAt(c.lastT(),t),c.computedEye},enumerable:!0},up:{get:function(){return c.computedUp},set:function(t){return c.lookAt(c.lastT(),null,null,t),c.computedUp},enumerable:!0},distance:{get:function(){return f},set:function(t){return c.setDistance(c.lastT(),t),t},enumerable:!0},distanceLimits:{get:function(){return c.getDistanceLimits(r)},set:function(t){return c.setDistanceLimits(t),t},enumerable:!0}}),t.addEventListener(\&quot;contextmenu\&quot;,(function(t){return t.preventDefault(),!1})),d._lastX=-1,d._lastY=-1,d._lastMods={shift:!1,control:!1,alt:!1,meta:!1},d.enableMouseListeners=function(){function e(e,r,i,a){var o=d.keyBindingMode;if(!1!==o){var s=\&quot;rotate\&quot;===o,l=\&quot;pan\&quot;===o,u=\&quot;zoom\&quot;===o,h=!!a.control,p=!!a.alt,g=!!a.shift,m=!!(1&amp;e),v=!!(2&amp;e),y=!!(4&amp;e),x=1/t.clientHeight,b=x*(r-d._lastX),_=x*(i-d._lastY),w=d.flipX?1:-1,T=d.flipY?1:-1,k=Math.PI*d.rotateSpeed,M=n();if(-1!==d._lastX&amp;&amp;-1!==d._lastY&amp;&amp;((s&amp;&amp;m&amp;&amp;!h&amp;&amp;!p&amp;&amp;!g||m&amp;&amp;!h&amp;&amp;!p&amp;&amp;g)&amp;&amp;c.rotate(M,w*k*b,-T*k*_,0),(l&amp;&amp;m&amp;&amp;!h&amp;&amp;!p&amp;&amp;!g||v||m&amp;&amp;h&amp;&amp;!p&amp;&amp;!g)&amp;&amp;c.pan(M,-d.translateSpeed*b*f,d.translateSpeed*_*f,0),u&amp;&amp;m&amp;&amp;!h&amp;&amp;!p&amp;&amp;!g||y||m&amp;&amp;!h&amp;&amp;p&amp;&amp;!g)){var A=-d.zoomSpeed*_/window.innerHeight*(M-c.lastT())*100;c.pan(M,0,0,f*(Math.exp(A)-1))}return d._lastX=r,d._lastY=i,d._lastMods=a,!0}}d.mouseListener=a(t,e),t.addEventListener(\&quot;touchstart\&quot;,(function(r){var n=s(r.changedTouches[0],t);e(0,n[0],n[1],d._lastMods),e(1,n[0],n[1],d._lastMods)}),!!l&amp;&amp;{passive:!0}),t.addEventListener(\&quot;touchmove\&quot;,(function(r){var n=s(r.changedTouches[0],t);e(1,n[0],n[1],d._lastMods),r.preventDefault()}),!!l&amp;&amp;{passive:!1}),t.addEventListener(\&quot;touchend\&quot;,(function(t){e(0,d._lastX,d._lastY,d._lastMods)}),!!l&amp;&amp;{passive:!0}),d.wheelListener=o(t,(function(t,e){if(!1!==d.keyBindingMode&amp;&amp;d.enableWheel){var r=d.flipX?1:-1,i=d.flipY?1:-1,a=n();if(Math.abs(t)&gt;Math.abs(e))c.rotate(a,0,0,-t*r*Math.PI*d.rotateSpeed/window.innerWidth);else if(!d._ortho){var o=-d.zoomSpeed*i*e/window.innerHeight*(a-c.lastT())/20;c.pan(a,0,0,f*(Math.exp(o)-1))}}}),!0)},d.enableMouseListeners(),d};var n=t(\&quot;right-now\&quot;),i=t(\&quot;3d-view\&quot;),a=t(\&quot;mouse-change\&quot;),o=t(\&quot;mouse-wheel\&quot;),s=t(\&quot;mouse-event-offset\&quot;),l=t(\&quot;has-passive-events\&quot;)},{\&quot;3d-view\&quot;:54,\&quot;has-passive-events\&quot;:441,\&quot;mouse-change\&quot;:483,\&quot;mouse-event-offset\&quot;:484,\&quot;mouse-wheel\&quot;:486,\&quot;right-now\&quot;:542}],319:[function(t,e,r){var n=t(\&quot;glslify\&quot;),i=t(\&quot;gl-shader\&quot;),a=n([\&quot;precision mediump float;\\n#define GLSLIFY 1\\nattribute vec2 position;\\nvarying vec2 uv;\\nvoid main() {\\n  uv = position;\\n  gl_Position = vec4(position, 0, 1);\\n}\&quot;]),o=n([\&quot;precision mediump float;\\n#define GLSLIFY 1\\n\\nuniform sampler2D accumBuffer;\\nvarying vec2 uv;\\n\\nvoid main() {\\n  vec4 accum = texture2D(accumBuffer, 0.5 * (uv + 1.0));\\n  gl_FragColor = min(vec4(1,1,1,1), accum);\\n}\&quot;]);e.exports=function(t){return i(t,a,o,null,[{name:\&quot;position\&quot;,type:\&quot;vec2\&quot;}])}},{\&quot;gl-shader\&quot;:335,glslify:320}],320:[function(t,e,r){arguments[4][257][0].apply(r,arguments)},{dup:257}],321:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./camera.js\&quot;),i=t(\&quot;gl-axes3d\&quot;),a=t(\&quot;gl-axes3d/properties\&quot;),o=t(\&quot;gl-spikes3d\&quot;),s=t(\&quot;gl-select-static\&quot;),l=t(\&quot;gl-fbo\&quot;),c=t(\&quot;a-big-triangle\&quot;),u=t(\&quot;mouse-change\&quot;),f=t(\&quot;gl-mat4/perspective\&quot;),h=t(\&quot;gl-mat4/ortho\&quot;),p=t(\&quot;./lib/shader\&quot;),d=t(\&quot;is-mobile\&quot;)({tablet:!0,featureDetect:!0});function g(){this.mouse=[-1,-1],this.screen=null,this.distance=1/0,this.index=null,this.dataCoordinate=null,this.dataPosition=null,this.object=null,this.data=null}function m(t){var e=Math.round(Math.log(Math.abs(t))/Math.log(10));if(e&lt;0){var r=Math.round(Math.pow(10,-e));return Math.ceil(t*r)/r}if(e&gt;0){r=Math.round(Math.pow(10,e));return Math.ceil(t/r)*r}return Math.ceil(t)}function v(t){return\&quot;boolean\&quot;!=typeof t||t}e.exports={createScene:function(t){(t=t||{}).camera=t.camera||{};var e=t.canvas;if(!e){if(e=document.createElement(\&quot;canvas\&quot;),t.container)t.container.appendChild(e);else document.body.appendChild(e)}var r=t.gl;r||(t.glOptions&amp;&amp;(d=!!t.glOptions.preserveDrawingBuffer),r=function(t,e){var r=null;try{(r=t.getContext(\&quot;webgl\&quot;,e))||(r=t.getContext(\&quot;experimental-webgl\&quot;,e))}catch(t){return null}return r}(e,t.glOptions||{premultipliedAlpha:!0,antialias:!0,preserveDrawingBuffer:d}));if(!r)throw new Error(\&quot;webgl not supported\&quot;);var y=t.bounds||[[-10,-10,-10],[10,10,10]],x=new g,b=l(r,r.drawingBufferWidth,r.drawingBufferHeight,{preferFloat:!d}),_=p(r),w=t.cameraObject&amp;&amp;!0===t.cameraObject._ortho||t.camera.projection&amp;&amp;\&quot;orthographic\&quot;===t.camera.projection.type||!1,T={eye:t.camera.eye||[2,0,0],center:t.camera.center||[0,0,0],up:t.camera.up||[0,1,0],zoomMin:t.camera.zoomMax||.1,zoomMax:t.camera.zoomMin||100,mode:t.camera.mode||\&quot;turntable\&quot;,_ortho:w},k=t.axes||{},M=i(r,k);M.enable=!k.disable;var A=t.spikes||{},S=o(r,A),E=[],C=[],L=[],I=[],P=!0,z=!0,O=new Array(16),D=new Array(16),R={view:null,projection:O,model:D,_ortho:!1},F=(z=!0,[r.drawingBufferWidth,r.drawingBufferHeight]),B=t.cameraObject||n(e,T),N={gl:r,contextLost:!1,pixelRatio:t.pixelRatio||1,canvas:e,selection:x,camera:B,axes:M,axesPixels:null,spikes:S,bounds:y,objects:E,shape:F,aspect:t.aspectRatio||[1,1,1],pickRadius:t.pickRadius||10,zNear:t.zNear||.01,zFar:t.zFar||1e3,fovy:t.fovy||Math.PI/4,clearColor:t.clearColor||[0,0,0,0],autoResize:v(t.autoResize),autoBounds:v(t.autoBounds),autoScale:!!t.autoScale,autoCenter:v(t.autoCenter),clipToBounds:v(t.clipToBounds),snapToData:!!t.snapToData,onselect:t.onselect||null,onrender:t.onrender||null,onclick:t.onclick||null,cameraParams:R,oncontextloss:null,mouseListener:null,_stopped:!1,getAspectratio:function(){return{x:this.aspect[0],y:this.aspect[1],z:this.aspect[2]}},setAspectratio:function(t){this.aspect[0]=t.x,this.aspect[1]=t.y,this.aspect[2]=t.z,z=!0},setBounds:function(t,e){this.bounds[0][t]=e.min,this.bounds[1][t]=e.max},setClearColor:function(t){this.clearColor=t},clearRGBA:function(){this.gl.clearColor(this.clearColor[0],this.clearColor[1],this.clearColor[2],this.clearColor[3]),this.gl.clear(this.gl.COLOR_BUFFER_BIT|this.gl.DEPTH_BUFFER_BIT)}},j=[r.drawingBufferWidth/N.pixelRatio|0,r.drawingBufferHeight/N.pixelRatio|0];function U(){if(!N._stopped&amp;&amp;N.autoResize){var t=e.parentNode,r=1,n=1;t&amp;&amp;t!==document.body?(r=t.clientWidth,n=t.clientHeight):(r=window.innerWidth,n=window.innerHeight);var i=0|Math.ceil(r*N.pixelRatio),a=0|Math.ceil(n*N.pixelRatio);if(i!==e.width||a!==e.height){e.width=i,e.height=a;var o=e.style;o.position=o.position||\&quot;absolute\&quot;,o.left=\&quot;0px\&quot;,o.top=\&quot;0px\&quot;,o.width=r+\&quot;px\&quot;,o.height=n+\&quot;px\&quot;,P=!0}}}N.autoResize&amp;&amp;U();function V(){for(var t=E.length,e=I.length,n=0;n&lt;e;++n)L[n]=0;t:for(n=0;n&lt;t;++n){var i=E[n],a=i.pickSlots;if(a){for(var o=0;o&lt;e;++o)if(L[o]+a&lt;255){C[n]=o,i.setPickBase(L[o]+1),L[o]+=a;continue t}var l=s(r,F);C[n]=e,I.push(l),L.push(a),i.setPickBase(1),e+=1}else C[n]=-1}for(;e&gt;0&amp;&amp;0===L[e-1];)L.pop(),I.pop().dispose()}function q(){if(N.contextLost)return!0;r.isContextLost()&amp;&amp;(N.contextLost=!0,N.mouseListener.enabled=!1,N.selection.object=null,N.oncontextloss&amp;&amp;N.oncontextloss())}window.addEventListener(\&quot;resize\&quot;,U),N.update=function(t){N._stopped||(t=t||{},P=!0,z=!0)},N.add=function(t){N._stopped||(t.axes=M,E.push(t),C.push(-1),P=!0,z=!0,V())},N.remove=function(t){if(!N._stopped){var e=E.indexOf(t);e&lt;0||(E.splice(e,1),C.pop(),P=!0,z=!0,V())}},N.dispose=function(){if(!N._stopped&amp;&amp;(N._stopped=!0,window.removeEventListener(\&quot;resize\&quot;,U),e.removeEventListener(\&quot;webglcontextlost\&quot;,q),N.mouseListener.enabled=!1,!N.contextLost)){M.dispose(),S.dispose();for(var t=0;t&lt;E.length;++t)E[t].dispose();b.dispose();for(t=0;t&lt;I.length;++t)I[t].dispose();_.dispose(),r=null,M=null,S=null,E=[]}},N._mouseRotating=!1,N._prevButtons=0,N.enableMouseListeners=function(){N.mouseListener=u(e,(function(t,e,r){if(!N._stopped){var n=I.length,i=E.length,a=x.object;x.distance=1/0,x.mouse[0]=e,x.mouse[1]=r,x.object=null,x.screen=null,x.dataCoordinate=x.dataPosition=null;var o=!1;if(t&amp;&amp;N._prevButtons)N._mouseRotating=!0;else{N._mouseRotating&amp;&amp;(z=!0),N._mouseRotating=!1;for(var s=0;s&lt;n;++s){var l=I[s].query(e,j[1]-r-1,N.pickRadius);if(l){if(l.distance&gt;x.distance)continue;for(var c=0;c&lt;i;++c){var u=E[c];if(C[c]===s){var f=u.pick(l);f&amp;&amp;(x.buttons=t,x.screen=l.coord,x.distance=l.distance,x.object=u,x.index=f.distance,x.dataPosition=f.position,x.dataCoordinate=f.dataCoordinate,x.data=f,o=!0)}}}}}a&amp;&amp;a!==x.object&amp;&amp;(a.highlight&amp;&amp;a.highlight(null),P=!0),x.object&amp;&amp;(x.object.highlight&amp;&amp;x.object.highlight(x.data),P=!0),(o=o||x.object!==a)&amp;&amp;N.onselect&amp;&amp;N.onselect(x),1&amp;t&amp;&amp;!(1&amp;N._prevButtons)&amp;&amp;N.onclick&amp;&amp;N.onclick(x),N._prevButtons=t}}))},e.addEventListener(\&quot;webglcontextlost\&quot;,q);var H=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],G=[H[0].slice(),H[1].slice()];function Y(){if(!q()){U();var t=N.camera.tick();R.view=N.camera.matrix,P=P||t,z=z||t,M.pixelRatio=N.pixelRatio,S.pixelRatio=N.pixelRatio;var e=E.length,n=H[0],i=H[1];n[0]=n[1]=n[2]=1/0,i[0]=i[1]=i[2]=-1/0;for(var o=0;o&lt;e;++o){(L=E[o]).pixelRatio=N.pixelRatio,L.axes=N.axes,P=P||!!L.dirty,z=z||!!L.dirty;var s=L.bounds;if(s)for(var l=s[0],u=s[1],p=0;p&lt;3;++p)n[p]=Math.min(n[p],l[p]),i[p]=Math.max(i[p],u[p])}var d=N.bounds;if(N.autoBounds)for(p=0;p&lt;3;++p){if(i[p]&lt;n[p])n[p]=-1,i[p]=1;else{n[p]===i[p]&amp;&amp;(n[p]-=1,i[p]+=1);var g=.05*(i[p]-n[p]);n[p]=n[p]-g,i[p]=i[p]+g}d[0][p]=n[p],d[1][p]=i[p]}var v=!1;for(p=0;p&lt;3;++p)v=v||G[0][p]!==d[0][p]||G[1][p]!==d[1][p],G[0][p]=d[0][p],G[1][p]=d[1][p];if(z=z||v,P=P||v){if(v){var y=[0,0,0];for(o=0;o&lt;3;++o)y[o]=m((d[1][o]-d[0][o])/10);M.autoTicks?M.update({bounds:d,tickSpacing:y}):M.update({bounds:d})}var T=r.drawingBufferWidth,k=r.drawingBufferHeight;F[0]=T,F[1]=k,j[0]=0|Math.max(T/N.pixelRatio,1),j[1]=0|Math.max(k/N.pixelRatio,1),function(t,e){var r=t.bounds,n=t.cameraParams,i=n.projection,a=n.model,o=t.gl.drawingBufferWidth,s=t.gl.drawingBufferHeight,l=t.zNear,c=t.zFar,u=t.fovy,p=o/s;e?(h(i,-p,p,-1,1,l,c),n._ortho=!0):(f(i,u,p,l,c),n._ortho=!1);for(var d=0;d&lt;16;++d)a[d]=0;a[15]=1;var g=0;for(d=0;d&lt;3;++d)g=Math.max(g,r[1][d]-r[0][d]);for(d=0;d&lt;3;++d)t.autoScale?a[5*d]=t.aspect[d]/(r[1][d]-r[0][d]):a[5*d]=1/g,t.autoCenter&amp;&amp;(a[12+d]=.5*-a[5*d]*(r[0][d]+r[1][d]))}(N,w);for(o=0;o&lt;e;++o){(L=E[o]).axesBounds=d,N.clipToBounds&amp;&amp;(L.clipBounds=d)}x.object&amp;&amp;(N.snapToData?S.position=x.dataCoordinate:S.position=x.dataPosition,S.bounds=d),z&amp;&amp;(z=!1,function(){if(!q()){r.colorMask(!0,!0,!0,!0),r.depthMask(!0),r.disable(r.BLEND),r.enable(r.DEPTH_TEST),r.depthFunc(r.LEQUAL);for(var t=E.length,e=I.length,n=0;n&lt;e;++n){var i=I[n];i.shape=j,i.begin();for(var a=0;a&lt;t;++a)if(C[a]===n){var o=E[a];o.drawPick&amp;&amp;(o.pixelRatio=1,o.drawPick(R))}i.end()}}}()),N.axesPixels=a(N.axes,R,T,k),N.onrender&amp;&amp;N.onrender(),r.bindFramebuffer(r.FRAMEBUFFER,null),r.viewport(0,0,T,k),N.clearRGBA(),r.depthMask(!0),r.colorMask(!0,!0,!0,!0),r.enable(r.DEPTH_TEST),r.depthFunc(r.LEQUAL),r.disable(r.BLEND),r.disable(r.CULL_FACE);var A=!1;M.enable&amp;&amp;(A=A||M.isTransparent(),M.draw(R)),S.axes=M,x.object&amp;&amp;S.draw(R),r.disable(r.CULL_FACE);for(o=0;o&lt;e;++o){(L=E[o]).axes=M,L.pixelRatio=N.pixelRatio,L.isOpaque&amp;&amp;L.isOpaque()&amp;&amp;L.draw(R),L.isTransparent&amp;&amp;L.isTransparent()&amp;&amp;(A=!0)}if(A){b.shape=F,b.bind(),r.clear(r.DEPTH_BUFFER_BIT),r.colorMask(!1,!1,!1,!1),r.depthMask(!0),r.depthFunc(r.LESS),M.enable&amp;&amp;M.isTransparent()&amp;&amp;M.drawTransparent(R);for(o=0;o&lt;e;++o){(L=E[o]).isOpaque&amp;&amp;L.isOpaque()&amp;&amp;L.draw(R)}r.enable(r.BLEND),r.blendEquation(r.FUNC_ADD),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r.colorMask(!0,!0,!0,!0),r.depthMask(!1),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),M.isTransparent()&amp;&amp;M.drawTransparent(R);for(o=0;o&lt;e;++o){var L;(L=E[o]).isTransparent&amp;&amp;L.isTransparent()&amp;&amp;L.drawTransparent(R)}r.bindFramebuffer(r.FRAMEBUFFER,null),r.blendFunc(r.ONE,r.ONE_MINUS_SRC_ALPHA),r.disable(r.DEPTH_TEST),_.bind(),b.color[0].bind(0),_.uniforms.accumBuffer=0,c(r),r.disable(r.BLEND)}P=!1;for(o=0;o&lt;e;++o)E[o].dirty=!1}}}return N.enableMouseListeners(),function t(){if(N._stopped||N.contextLost)return;Y(),requestAnimationFrame(t)}(),N.redraw=function(){N._stopped||(P=!0,Y())},N},createCamera:n}},{\&quot;./camera.js\&quot;:318,\&quot;./lib/shader\&quot;:319,\&quot;a-big-triangle\&quot;:64,\&quot;gl-axes3d\&quot;:250,\&quot;gl-axes3d/properties\&quot;:258,\&quot;gl-fbo\&quot;:269,\&quot;gl-mat4/ortho\&quot;:296,\&quot;gl-mat4/perspective\&quot;:297,\&quot;gl-select-static\&quot;:334,\&quot;gl-spikes3d\&quot;:345,\&quot;is-mobile\&quot;:467,\&quot;mouse-change\&quot;:483}],322:[function(t,e,r){var n=t(\&quot;glslify\&quot;);r.pointVertex=n([\&quot;precision mediump float;\\n#define GLSLIFY 1\\n\\nattribute vec2 position;\\n\\nuniform mat3 matrix;\\nuniform float pointSize;\\nuniform float pointCloud;\\n\\nhighp float rand(vec2 co) {\\n  highp float a = 12.9898;\\n  highp float b = 78.233;\\n  highp float c = 43758.5453;\\n  highp float d = dot(co.xy, vec2(a, b));\\n  highp float e = mod(d, 3.14);\\n  return fract(sin(e) * c);\\n}\\n\\nvoid main() {\\n  vec3 hgPosition = matrix * vec3(position, 1);\\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\\n    // if we don't jitter the point size a bit, overall point cloud\\n    // saturation 'jumps' on zooming, which is disturbing and confusing\\n  gl_PointSize = pointSize * ((19.5 + rand(position)) / 20.0);\\n  if(pointCloud != 0.0) { // pointCloud is truthy\\n    // get the same square surface as circle would be\\n    gl_PointSize *= 0.886;\\n  }\\n}\&quot;]),r.pointFragment=n([\&quot;precision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec4 color, borderColor;\\nuniform float centerFraction;\\nuniform float pointCloud;\\n\\nvoid main() {\\n  float radius;\\n  vec4 baseColor;\\n  if(pointCloud != 0.0) { // pointCloud is truthy\\n    if(centerFraction == 1.0) {\\n      gl_FragColor = color;\\n    } else {\\n      gl_FragColor = mix(borderColor, color, centerFraction);\\n    }\\n  } else {\\n    radius = length(2.0 * gl_PointCoord.xy - 1.0);\\n    if(radius &gt; 1.0) {\\n      discard;\\n    }\\n    baseColor = mix(borderColor, color, step(radius, centerFraction));\\n    gl_FragColor = vec4(baseColor.rgb * baseColor.a, baseColor.a);\\n  }\\n}\\n\&quot;]),r.pickVertex=n([\&quot;precision mediump float;\\n#define GLSLIFY 1\\n\\nattribute vec2 position;\\nattribute vec4 pickId;\\n\\nuniform mat3 matrix;\\nuniform float pointSize;\\nuniform vec4 pickOffset;\\n\\nvarying vec4 fragId;\\n\\nvoid main() {\\n  vec3 hgPosition = matrix * vec3(position, 1);\\n  gl_Position  = vec4(hgPosition.xy, 0, hgPosition.z);\\n  gl_PointSize = pointSize;\\n\\n  vec4 id = pickId + pickOffset;\\n  id.y += floor(id.x / 256.0);\\n  id.x -= floor(id.x / 256.0) * 256.0;\\n\\n  id.z += floor(id.y / 256.0);\\n  id.y -= floor(id.y / 256.0) * 256.0;\\n\\n  id.w += floor(id.z / 256.0);\\n  id.z -= floor(id.z / 256.0) * 256.0;\\n\\n  fragId = id;\\n}\\n\&quot;]),r.pickFragment=n([\&quot;precision mediump float;\\n#define GLSLIFY 1\\n\\nvarying vec4 fragId;\\n\\nvoid main() {\\n  float radius = length(2.0 * gl_PointCoord.xy - 1.0);\\n  if(radius &gt; 1.0) {\\n    discard;\\n  }\\n  gl_FragColor = fragId / 255.0;\\n}\\n\&quot;])},{glslify:323}],323:[function(t,e,r){arguments[4][257][0].apply(r,arguments)},{dup:257}],324:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;gl-shader\&quot;),i=t(\&quot;gl-buffer\&quot;),a=t(\&quot;typedarray-pool\&quot;),o=t(\&quot;./lib/shader\&quot;);function s(t,e,r,n,i){this.plot=t,this.offsetBuffer=e,this.pickBuffer=r,this.shader=n,this.pickShader=i,this.sizeMin=.5,this.sizeMinCap=2,this.sizeMax=20,this.areaRatio=1,this.pointCount=0,this.color=[1,0,0,1],this.borderColor=[0,0,0,1],this.blend=!1,this.pickOffset=0,this.points=null}e.exports=function(t,e){var r=t.gl,a=i(r),l=i(r),c=n(r,o.pointVertex,o.pointFragment),u=n(r,o.pickVertex,o.pickFragment),f=new s(t,a,l,c,u);return f.update(e),t.addObject(f),f};var l,c,u=s.prototype;u.dispose=function(){this.shader.dispose(),this.pickShader.dispose(),this.offsetBuffer.dispose(),this.pickBuffer.dispose(),this.plot.removeObject(this)},u.update=function(t){var e;function r(e,r){return e in t?t[e]:r}t=t||{},this.sizeMin=r(\&quot;sizeMin\&quot;,.5),this.sizeMax=r(\&quot;sizeMax\&quot;,20),this.color=r(\&quot;color\&quot;,[1,0,0,1]).slice(),this.areaRatio=r(\&quot;areaRatio\&quot;,1),this.borderColor=r(\&quot;borderColor\&quot;,[0,0,0,1]).slice(),this.blend=r(\&quot;blend\&quot;,!1);var n=t.positions.length&gt;&gt;&gt;1,i=t.positions instanceof Float32Array,o=t.idToIndex instanceof Int32Array&amp;&amp;t.idToIndex.length&gt;=n,s=t.positions,l=i?s:a.mallocFloat32(s.length),c=o?t.idToIndex:a.mallocInt32(n);if(i||l.set(s),!o)for(l.set(s),e=0;e&lt;n;e++)c[e]=e;this.points=s,this.offsetBuffer.update(l),this.pickBuffer.update(c),i||a.free(l),o||a.free(c),this.pointCount=n,this.pickOffset=0},u.unifiedDraw=(l=[1,0,0,0,1,0,0,0,1],c=[0,0,0,0],function(t){var e=void 0!==t,r=e?this.pickShader:this.shader,n=this.plot.gl,i=this.plot.dataBox;if(0===this.pointCount)return t;var a=i[2]-i[0],o=i[3]-i[1],s=function(t,e){var r,n=0,i=t.length&gt;&gt;&gt;1;for(r=0;r&lt;i;r++){var a=t[2*r],o=t[2*r+1];a&gt;=e[0]&amp;&amp;a&lt;=e[2]&amp;&amp;o&gt;=e[1]&amp;&amp;o&lt;=e[3]&amp;&amp;n++}return n}(this.points,i),u=this.plot.pickPixelRatio*Math.max(Math.min(this.sizeMinCap,this.sizeMin),Math.min(this.sizeMax,this.sizeMax/Math.pow(s,.33333)));l[0]=2/a,l[4]=2/o,l[6]=-2*i[0]/a-1,l[7]=-2*i[1]/o-1,this.offsetBuffer.bind(),r.bind(),r.attributes.position.pointer(),r.uniforms.matrix=l,r.uniforms.color=this.color,r.uniforms.borderColor=this.borderColor,r.uniforms.pointCloud=u&lt;5,r.uniforms.pointSize=u,r.uniforms.centerFraction=Math.min(1,Math.max(0,Math.sqrt(1-this.areaRatio))),e&amp;&amp;(c[0]=255&amp;t,c[1]=t&gt;&gt;8&amp;255,c[2]=t&gt;&gt;16&amp;255,c[3]=t&gt;&gt;24&amp;255,this.pickBuffer.bind(),r.attributes.pickId.pointer(n.UNSIGNED_BYTE),r.uniforms.pickOffset=c,this.pickOffset=t);var f=n.getParameter(n.BLEND),h=n.getParameter(n.DITHER);return f&amp;&amp;!this.blend&amp;&amp;n.disable(n.BLEND),h&amp;&amp;n.disable(n.DITHER),n.drawArrays(n.POINTS,0,this.pointCount),f&amp;&amp;!this.blend&amp;&amp;n.enable(n.BLEND),h&amp;&amp;n.enable(n.DITHER),t+this.pointCount}),u.draw=u.unifiedDraw,u.drawPick=u.unifiedDraw,u.pick=function(t,e,r){var n=this.pickOffset,i=this.pointCount;if(r&lt;n||r&gt;=n+i)return null;var a=r-n,o=this.points;return{object:this,pointId:a,dataCoord:[o[2*a],o[2*a+1]]}}},{\&quot;./lib/shader\&quot;:322,\&quot;gl-buffer\&quot;:259,\&quot;gl-shader\&quot;:335,\&quot;typedarray-pool\&quot;:595}],325:[function(t,e,r){e.exports=function(t,e,r,n){var i,a,o,s,l,c=e[0],u=e[1],f=e[2],h=e[3],p=r[0],d=r[1],g=r[2],m=r[3];(a=c*p+u*d+f*g+h*m)&lt;0&amp;&amp;(a=-a,p=-p,d=-d,g=-g,m=-m);1-a&gt;1e-6?(i=Math.acos(a),o=Math.sin(i),s=Math.sin((1-n)*i)/o,l=Math.sin(n*i)/o):(s=1-n,l=n);return t[0]=s*c+l*p,t[1]=s*u+l*d,t[2]=s*f+l*g,t[3]=s*h+l*m,t}},{}],326:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){return t||0===t?t.toString():\&quot;\&quot;}},{}],327:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;vectorize-text\&quot;);e.exports=function(t,e,r){var a=i[e];a||(a=i[e]={});if(t in a)return a[t];var o={textAlign:\&quot;center\&quot;,textBaseline:\&quot;middle\&quot;,lineHeight:1,font:e,lineSpacing:1.25,styletags:{breaklines:!0,bolds:!0,italics:!0,subscripts:!0,superscripts:!0},triangles:!0},s=n(t,o);o.triangles=!1;var l,c,u=n(t,o);if(r&amp;&amp;1!==r){for(l=0;l&lt;s.positions.length;++l)for(c=0;c&lt;s.positions[l].length;++c)s.positions[l][c]/=r;for(l=0;l&lt;u.positions.length;++l)for(c=0;c&lt;u.positions[l].length;++c)u.positions[l][c]/=r}var f=[[1/0,1/0],[-1/0,-1/0]],h=u.positions.length;for(l=0;l&lt;h;++l){var p=u.positions[l];for(c=0;c&lt;2;++c)f[0][c]=Math.min(f[0][c],p[c]),f[1][c]=Math.max(f[1][c],p[c])}return a[t]=[s,u,f]};var i={}},{\&quot;vectorize-text\&quot;:600}],328:[function(t,e,r){var n=t(\&quot;gl-shader\&quot;),i=t(\&quot;glslify\&quot;),a=i([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nbool outOfRange(float a, float b, float p) {\\n  return ((p &gt; max(a, b)) || \\n          (p &lt; min(a, b)));\\n}\\n\\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y));\\n}\\n\\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y) ||\\n          outOfRange(a.z, b.z, p.z));\\n}\\n\\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\\n  return outOfRange(a.xyz, b.xyz, p.xyz);\\n}\\n\\nattribute vec3 position;\\nattribute vec4 color;\\nattribute vec2 glyph;\\nattribute vec4 id;\\n\\nuniform vec4 highlightId;\\nuniform float highlightScale;\\nuniform mat4 model, view, projection;\\nuniform vec3 clipBounds[2];\\n\\nvarying vec4 interpColor;\\nvarying vec4 pickId;\\nvarying vec3 dataCoordinate;\\n\\nvoid main() {\\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\\n\\n    gl_Position = vec4(0,0,0,0);\\n  } else {\\n    float scale = 1.0;\\n    if(distance(highlightId, id) &lt; 0.0001) {\\n      scale = highlightScale;\\n    }\\n\\n    vec4 worldPosition = model * vec4(position, 1);\\n    vec4 viewPosition = view * worldPosition;\\n    viewPosition = viewPosition / viewPosition.w;\\n    vec4 clipPosition = projection * (viewPosition + scale * vec4(glyph.x, -glyph.y, 0, 0));\\n\\n    gl_Position = clipPosition;\\n    interpColor = color;\\n    pickId = id;\\n    dataCoordinate = position;\\n  }\\n}\&quot;]),o=i([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nbool outOfRange(float a, float b, float p) {\\n  return ((p &gt; max(a, b)) || \\n          (p &lt; min(a, b)));\\n}\\n\\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y));\\n}\\n\\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y) ||\\n          outOfRange(a.z, b.z, p.z));\\n}\\n\\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\\n  return outOfRange(a.xyz, b.xyz, p.xyz);\\n}\\n\\nattribute vec3 position;\\nattribute vec4 color;\\nattribute vec2 glyph;\\nattribute vec4 id;\\n\\nuniform mat4 model, view, projection;\\nuniform vec2 screenSize;\\nuniform vec3 clipBounds[2];\\nuniform float highlightScale, pixelRatio;\\nuniform vec4 highlightId;\\n\\nvarying vec4 interpColor;\\nvarying vec4 pickId;\\nvarying vec3 dataCoordinate;\\n\\nvoid main() {\\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\\n\\n    gl_Position = vec4(0,0,0,0);\\n  } else {\\n    float scale = pixelRatio;\\n    if(distance(highlightId.bgr, id.bgr) &lt; 0.001) {\\n      scale *= highlightScale;\\n    }\\n\\n    vec4 worldPosition = model * vec4(position, 1.0);\\n    vec4 viewPosition = view * worldPosition;\\n    vec4 clipPosition = projection * viewPosition;\\n    clipPosition /= clipPosition.w;\\n\\n    gl_Position = clipPosition + vec4(screenSize * scale * vec2(glyph.x, -glyph.y), 0.0, 0.0);\\n    interpColor = color;\\n    pickId = id;\\n    dataCoordinate = position;\\n  }\\n}\&quot;]),s=i([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nbool outOfRange(float a, float b, float p) {\\n  return ((p &gt; max(a, b)) || \\n          (p &lt; min(a, b)));\\n}\\n\\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y));\\n}\\n\\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y) ||\\n          outOfRange(a.z, b.z, p.z));\\n}\\n\\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\\n  return outOfRange(a.xyz, b.xyz, p.xyz);\\n}\\n\\nattribute vec3 position;\\nattribute vec4 color;\\nattribute vec2 glyph;\\nattribute vec4 id;\\n\\nuniform float highlightScale;\\nuniform vec4 highlightId;\\nuniform vec3 axes[2];\\nuniform mat4 model, view, projection;\\nuniform vec2 screenSize;\\nuniform vec3 clipBounds[2];\\nuniform float scale, pixelRatio;\\n\\nvarying vec4 interpColor;\\nvarying vec4 pickId;\\nvarying vec3 dataCoordinate;\\n\\nvoid main() {\\n  if (outOfRange(clipBounds[0], clipBounds[1], position)) {\\n\\n    gl_Position = vec4(0,0,0,0);\\n  } else {\\n    float lscale = pixelRatio * scale;\\n    if(distance(highlightId, id) &lt; 0.0001) {\\n      lscale *= highlightScale;\\n    }\\n\\n    vec4 clipCenter   = projection * view * model * vec4(position, 1);\\n    vec3 dataPosition = position + 0.5*lscale*(axes[0] * glyph.x + axes[1] * glyph.y) * clipCenter.w * screenSize.y;\\n    vec4 clipPosition = projection * view * model * vec4(dataPosition, 1);\\n\\n    gl_Position = clipPosition;\\n    interpColor = color;\\n    pickId = id;\\n    dataCoordinate = dataPosition;\\n  }\\n}\\n\&quot;]),l=i([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nbool outOfRange(float a, float b, float p) {\\n  return ((p &gt; max(a, b)) || \\n          (p &lt; min(a, b)));\\n}\\n\\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y));\\n}\\n\\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y) ||\\n          outOfRange(a.z, b.z, p.z));\\n}\\n\\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\\n  return outOfRange(a.xyz, b.xyz, p.xyz);\\n}\\n\\nuniform vec3 fragClipBounds[2];\\nuniform float opacity;\\n\\nvarying vec4 interpColor;\\nvarying vec3 dataCoordinate;\\n\\nvoid main() {\\n  if (\\n    outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate) ||\\n    interpColor.a * opacity == 0.\\n  ) discard;\\n  gl_FragColor = interpColor * opacity;\\n}\\n\&quot;]),c=i([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nbool outOfRange(float a, float b, float p) {\\n  return ((p &gt; max(a, b)) || \\n          (p &lt; min(a, b)));\\n}\\n\\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y));\\n}\\n\\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y) ||\\n          outOfRange(a.z, b.z, p.z));\\n}\\n\\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\\n  return outOfRange(a.xyz, b.xyz, p.xyz);\\n}\\n\\nuniform vec3 fragClipBounds[2];\\nuniform float pickGroup;\\n\\nvarying vec4 pickId;\\nvarying vec3 dataCoordinate;\\n\\nvoid main() {\\n  if (outOfRange(fragClipBounds[0], fragClipBounds[1], dataCoordinate)) discard;\\n\\n  gl_FragColor = vec4(pickGroup, pickId.bgr);\\n}\&quot;]),u=[{name:\&quot;position\&quot;,type:\&quot;vec3\&quot;},{name:\&quot;color\&quot;,type:\&quot;vec4\&quot;},{name:\&quot;glyph\&quot;,type:\&quot;vec2\&quot;},{name:\&quot;id\&quot;,type:\&quot;vec4\&quot;}],f={vertex:a,fragment:l,attributes:u},h={vertex:o,fragment:l,attributes:u},p={vertex:s,fragment:l,attributes:u},d={vertex:a,fragment:c,attributes:u},g={vertex:o,fragment:c,attributes:u},m={vertex:s,fragment:c,attributes:u};function v(t,e){var r=n(t,e),i=r.attributes;return i.position.location=0,i.color.location=1,i.glyph.location=2,i.id.location=3,r}r.createPerspective=function(t){return v(t,f)},r.createOrtho=function(t){return v(t,h)},r.createProject=function(t){return v(t,p)},r.createPickPerspective=function(t){return v(t,d)},r.createPickOrtho=function(t){return v(t,g)},r.createPickProject=function(t){return v(t,m)}},{\&quot;gl-shader\&quot;:335,glslify:329}],329:[function(t,e,r){arguments[4][257][0].apply(r,arguments)},{dup:257}],330:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;is-string-blank\&quot;),i=t(\&quot;gl-buffer\&quot;),a=t(\&quot;gl-vao\&quot;),o=t(\&quot;typedarray-pool\&quot;),s=t(\&quot;gl-mat4/multiply\&quot;),l=t(\&quot;./lib/shaders\&quot;),c=t(\&quot;./lib/glyphs\&quot;),u=t(\&quot;./lib/get-simple-string\&quot;),f=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function h(t,e){var r=t[0],n=t[1],i=t[2],a=t[3];return t[0]=e[0]*r+e[4]*n+e[8]*i+e[12]*a,t[1]=e[1]*r+e[5]*n+e[9]*i+e[13]*a,t[2]=e[2]*r+e[6]*n+e[10]*i+e[14]*a,t[3]=e[3]*r+e[7]*n+e[11]*i+e[15]*a,t}function p(t,e,r,n){return h(n,n),h(n,n),h(n,n)}function d(t,e){this.index=t,this.dataCoordinate=this.position=e}function g(t){return!0===t||t&gt;1?1:t}function m(t,e,r,n,i,a,o,s,l,c,u,f){this.gl=t,this.pixelRatio=1,this.shader=e,this.orthoShader=r,this.projectShader=n,this.pointBuffer=i,this.colorBuffer=a,this.glyphBuffer=o,this.idBuffer=s,this.vao=l,this.vertexCount=0,this.lineVertexCount=0,this.opacity=1,this.hasAlpha=!1,this.lineWidth=0,this.projectScale=[2/3,2/3,2/3],this.projectOpacity=[1,1,1],this.projectHasAlpha=!1,this.pickId=0,this.pickPerspectiveShader=c,this.pickOrthoShader=u,this.pickProjectShader=f,this.points=[],this._selectResult=new d(0,[0,0,0]),this.useOrtho=!0,this.bounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.axesProject=[!0,!0,!0],this.axesBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.highlightId=[1,1,1,1],this.highlightScale=2,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.dirty=!0}e.exports=function(t){var e=t.gl,r=l.createPerspective(e),n=l.createOrtho(e),o=l.createProject(e),s=l.createPickPerspective(e),c=l.createPickOrtho(e),u=l.createPickProject(e),f=i(e),h=i(e),p=i(e),d=i(e),g=a(e,[{buffer:f,size:3,type:e.FLOAT},{buffer:h,size:4,type:e.FLOAT},{buffer:p,size:2,type:e.FLOAT},{buffer:d,size:4,type:e.UNSIGNED_BYTE,normalized:!0}]),v=new m(e,r,n,o,f,h,p,d,g,s,c,u);return v.update(t),v};var v=m.prototype;v.pickSlots=1,v.setPickBase=function(t){this.pickId=t},v.isTransparent=function(){if(this.hasAlpha)return!0;for(var t=0;t&lt;3;++t)if(this.axesProject[t]&amp;&amp;this.projectHasAlpha)return!0;return!1},v.isOpaque=function(){if(!this.hasAlpha)return!0;for(var t=0;t&lt;3;++t)if(this.axesProject[t]&amp;&amp;!this.projectHasAlpha)return!0;return!1};var y=[0,0],x=[0,0,0],b=[0,0,0],_=[0,0,0,1],w=[0,0,0,1],T=f.slice(),k=[0,0,0],M=[[0,0,0],[0,0,0]];function A(t){return t[0]=t[1]=t[2]=0,t}function S(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=1,t}function E(t,e,r,n){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[r]=n,t}function C(t,e,r,n){var i,a=e.axesProject,o=e.gl,l=t.uniforms,c=r.model||f,u=r.view||f,h=r.projection||f,d=e.axesBounds,g=function(t){for(var e=M,r=0;r&lt;2;++r)for(var n=0;n&lt;3;++n)e[r][n]=Math.max(Math.min(t[r][n],1e8),-1e8);return e}(e.clipBounds);i=e.axes&amp;&amp;e.axes.lastCubeProps?e.axes.lastCubeProps.axis:[1,1,1],y[0]=2/o.drawingBufferWidth,y[1]=2/o.drawingBufferHeight,t.bind(),l.view=u,l.projection=h,l.screenSize=y,l.highlightId=e.highlightId,l.highlightScale=e.highlightScale,l.clipBounds=g,l.pickGroup=e.pickId/255,l.pixelRatio=n;for(var m=0;m&lt;3;++m)if(a[m]){l.scale=e.projectScale[m],l.opacity=e.projectOpacity[m];for(var v=T,C=0;C&lt;16;++C)v[C]=0;for(C=0;C&lt;4;++C)v[5*C]=1;v[5*m]=0,i[m]&lt;0?v[12+m]=d[0][m]:v[12+m]=d[1][m],s(v,c,v),l.model=v;var L=(m+1)%3,I=(m+2)%3,P=A(x),z=A(b);P[L]=1,z[I]=1;var O=p(0,0,0,S(_,P)),D=p(0,0,0,S(w,z));if(Math.abs(O[1])&gt;Math.abs(D[1])){var R=O;O=D,D=R,R=P,P=z,z=R;var F=L;L=I,I=F}O[0]&lt;0&amp;&amp;(P[L]=-1),D[1]&gt;0&amp;&amp;(z[I]=-1);var B=0,N=0;for(C=0;C&lt;4;++C)B+=Math.pow(c[4*L+C],2),N+=Math.pow(c[4*I+C],2);P[L]/=Math.sqrt(B),z[I]/=Math.sqrt(N),l.axes[0]=P,l.axes[1]=z,l.fragClipBounds[0]=E(k,g[0],m,-1e8),l.fragClipBounds[1]=E(k,g[1],m,1e8),e.vao.bind(),e.vao.draw(o.TRIANGLES,e.vertexCount),e.lineWidth&gt;0&amp;&amp;(o.lineWidth(e.lineWidth*n),e.vao.draw(o.LINES,e.lineVertexCount,e.vertexCount)),e.vao.unbind()}}var L=[[-1e8,-1e8,-1e8],[1e8,1e8,1e8]];function I(t,e,r,n,i,a,o){var s=r.gl;if((a===r.projectHasAlpha||o)&amp;&amp;C(e,r,n,i),a===r.hasAlpha||o){t.bind();var l=t.uniforms;l.model=n.model||f,l.view=n.view||f,l.projection=n.projection||f,y[0]=2/s.drawingBufferWidth,y[1]=2/s.drawingBufferHeight,l.screenSize=y,l.highlightId=r.highlightId,l.highlightScale=r.highlightScale,l.fragClipBounds=L,l.clipBounds=r.axes.bounds,l.opacity=r.opacity,l.pickGroup=r.pickId/255,l.pixelRatio=i,r.vao.bind(),r.vao.draw(s.TRIANGLES,r.vertexCount),r.lineWidth&gt;0&amp;&amp;(s.lineWidth(r.lineWidth*i),r.vao.draw(s.LINES,r.lineVertexCount,r.vertexCount)),r.vao.unbind()}}function P(t,e,r,i){var a;a=Array.isArray(t)?e&lt;t.length?t[e]:void 0:t,a=u(a);var o=!0;n(a)&amp;&amp;(a=\&quot;\\u25bc\&quot;,o=!1);var s=c(a,r,i);return{mesh:s[0],lines:s[1],bounds:s[2],visible:o}}v.draw=function(t){I(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,t,this.pixelRatio,!1,!1)},v.drawTransparent=function(t){I(this.useOrtho?this.orthoShader:this.shader,this.projectShader,this,t,this.pixelRatio,!0,!1)},v.drawPick=function(t){I(this.useOrtho?this.pickOrthoShader:this.pickPerspectiveShader,this.pickProjectShader,this,t,1,!0,!0)},v.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=t.value[2]+(t.value[1]&lt;&lt;8)+(t.value[0]&lt;&lt;16);if(e&gt;=this.pointCount||e&lt;0)return null;var r=this.points[e],n=this._selectResult;n.index=e;for(var i=0;i&lt;3;++i)n.position[i]=n.dataCoordinate[i]=r[i];return n},v.highlight=function(t){if(t){var e=t.index,r=255&amp;e,n=e&gt;&gt;8&amp;255,i=e&gt;&gt;16&amp;255;this.highlightId=[r/255,n/255,i/255,0]}else this.highlightId=[1,1,1,1]},v.update=function(t){if(\&quot;perspective\&quot;in(t=t||{})&amp;&amp;(this.useOrtho=!t.perspective),\&quot;orthographic\&quot;in t&amp;&amp;(this.useOrtho=!!t.orthographic),\&quot;lineWidth\&quot;in t&amp;&amp;(this.lineWidth=t.lineWidth),\&quot;project\&quot;in t)if(Array.isArray(t.project))this.axesProject=t.project;else{var e=!!t.project;this.axesProject=[e,e,e]}if(\&quot;projectScale\&quot;in t)if(Array.isArray(t.projectScale))this.projectScale=t.projectScale.slice();else{var r=+t.projectScale;this.projectScale=[r,r,r]}if(this.projectHasAlpha=!1,\&quot;projectOpacity\&quot;in t){if(Array.isArray(t.projectOpacity))this.projectOpacity=t.projectOpacity.slice();else{r=+t.projectOpacity;this.projectOpacity=[r,r,r]}for(var n=0;n&lt;3;++n)this.projectOpacity[n]=g(this.projectOpacity[n]),this.projectOpacity[n]&lt;1&amp;&amp;(this.projectHasAlpha=!0)}this.hasAlpha=!1,\&quot;opacity\&quot;in t&amp;&amp;(this.opacity=g(t.opacity),this.opacity&lt;1&amp;&amp;(this.hasAlpha=!0)),this.dirty=!0;var i,a,s=t.position,l=t.font||\&quot;normal\&quot;,c=t.alignment||[0,0];if(2===c.length)i=c[0],a=c[1];else{i=[],a=[];for(n=0;n&lt;c.length;++n)i[n]=c[n][0],a[n]=c[n][1]}var u=[1/0,1/0,1/0],f=[-1/0,-1/0,-1/0],h=t.glyph,p=t.color,d=t.size,m=t.angle,v=t.lineColor,y=-1,x=0,b=0,_=0;if(s.length){_=s.length;t:for(n=0;n&lt;_;++n){for(var w=s[n],T=0;T&lt;3;++T)if(isNaN(w[T])||!isFinite(w[T]))continue t;var k=(N=P(h,n,l,this.pixelRatio)).mesh,M=N.lines,A=N.bounds;x+=3*k.cells.length,b+=2*M.edges.length}}var S=x+b,E=o.mallocFloat(3*S),C=o.mallocFloat(4*S),L=o.mallocFloat(2*S),I=o.mallocUint32(S);if(S&gt;0){var z=0,O=x,D=[0,0,0,1],R=[0,0,0,1],F=Array.isArray(p)&amp;&amp;Array.isArray(p[0]),B=Array.isArray(v)&amp;&amp;Array.isArray(v[0]);t:for(n=0;n&lt;_;++n){y+=1;for(w=s[n],T=0;T&lt;3;++T){if(isNaN(w[T])||!isFinite(w[T]))continue t;f[T]=Math.max(f[T],w[T]),u[T]=Math.min(u[T],w[T])}k=(N=P(h,n,l,this.pixelRatio)).mesh,M=N.lines,A=N.bounds;var N,j=N.visible;if(j)if(Array.isArray(p)){if(3===(U=F?n&lt;p.length?p[n]:[0,0,0,0]:p).length){for(T=0;T&lt;3;++T)D[T]=U[T];D[3]=1}else if(4===U.length){for(T=0;T&lt;4;++T)D[T]=U[T];!this.hasAlpha&amp;&amp;U[3]&lt;1&amp;&amp;(this.hasAlpha=!0)}}else D[0]=D[1]=D[2]=0,D[3]=1;else D=[1,1,1,0];if(j)if(Array.isArray(v)){var U;if(3===(U=B?n&lt;v.length?v[n]:[0,0,0,0]:v).length){for(T=0;T&lt;3;++T)R[T]=U[T];R[T]=1}else if(4===U.length){for(T=0;T&lt;4;++T)R[T]=U[T];!this.hasAlpha&amp;&amp;U[3]&lt;1&amp;&amp;(this.hasAlpha=!0)}}else R[0]=R[1]=R[2]=0,R[3]=1;else R=[1,1,1,0];var V=.5;j?Array.isArray(d)?V=n&lt;d.length?+d[n]:12:d?V=+d:this.useOrtho&amp;&amp;(V=12):V=0;var q=0;Array.isArray(m)?q=n&lt;m.length?+m[n]:0:m&amp;&amp;(q=+m);var H=Math.cos(q),G=Math.sin(q);for(w=s[n],T=0;T&lt;3;++T)f[T]=Math.max(f[T],w[T]),u[T]=Math.min(u[T],w[T]);var Y=i,W=a;Y=0;Array.isArray(i)?Y=n&lt;i.length?i[n]:0:i&amp;&amp;(Y=i);W=0;Array.isArray(a)?W=n&lt;a.length?a[n]:0:a&amp;&amp;(W=a);var X=[Y*=Y&gt;0?1-A[0][0]:Y&lt;0?1+A[1][0]:1,W*=W&gt;0?1-A[0][1]:W&lt;0?1+A[1][1]:1],Z=k.cells||[],J=k.positions||[];for(T=0;T&lt;Z.length;++T)for(var K=Z[T],Q=0;Q&lt;3;++Q){for(var $=0;$&lt;3;++$)E[3*z+$]=w[$];for($=0;$&lt;4;++$)C[4*z+$]=D[$];I[z]=y;var tt=J[K[Q]];L[2*z]=V*(H*tt[0]-G*tt[1]+X[0]),L[2*z+1]=V*(G*tt[0]+H*tt[1]+X[1]),z+=1}for(Z=M.edges,J=M.positions,T=0;T&lt;Z.length;++T)for(K=Z[T],Q=0;Q&lt;2;++Q){for($=0;$&lt;3;++$)E[3*O+$]=w[$];for($=0;$&lt;4;++$)C[4*O+$]=R[$];I[O]=y;tt=J[K[Q]];L[2*O]=V*(H*tt[0]-G*tt[1]+X[0]),L[2*O+1]=V*(G*tt[0]+H*tt[1]+X[1]),O+=1}}}this.bounds=[u,f],this.points=s,this.pointCount=s.length,this.vertexCount=x,this.lineVertexCount=b,this.pointBuffer.update(E),this.colorBuffer.update(C),this.glyphBuffer.update(L),this.idBuffer.update(I),o.free(E),o.free(C),o.free(L),o.free(I)},v.dispose=function(){this.shader.dispose(),this.orthoShader.dispose(),this.pickPerspectiveShader.dispose(),this.pickOrthoShader.dispose(),this.vao.dispose(),this.pointBuffer.dispose(),this.colorBuffer.dispose(),this.glyphBuffer.dispose(),this.idBuffer.dispose()}},{\&quot;./lib/get-simple-string\&quot;:326,\&quot;./lib/glyphs\&quot;:327,\&quot;./lib/shaders\&quot;:328,\&quot;gl-buffer\&quot;:259,\&quot;gl-mat4/multiply\&quot;:295,\&quot;gl-vao\&quot;:358,\&quot;is-string-blank\&quot;:470,\&quot;typedarray-pool\&quot;:595}],331:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;glslify\&quot;);r.boxVertex=n([\&quot;precision mediump float;\\n#define GLSLIFY 1\\n\\nattribute vec2 vertex;\\n\\nuniform vec2 cornerA, cornerB;\\n\\nvoid main() {\\n  gl_Position = vec4(mix(cornerA, cornerB, vertex), 0, 1);\\n}\\n\&quot;]),r.boxFragment=n([\&quot;precision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec4 color;\\n\\nvoid main() {\\n  gl_FragColor = color;\\n}\\n\&quot;])},{glslify:332}],332:[function(t,e,r){arguments[4][257][0].apply(r,arguments)},{dup:257}],333:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;gl-shader\&quot;),i=t(\&quot;gl-buffer\&quot;),a=t(\&quot;./lib/shaders\&quot;);function o(t,e,r){this.plot=t,this.boxBuffer=e,this.boxShader=r,this.enabled=!0,this.selectBox=[1/0,1/0,-1/0,-1/0],this.borderColor=[0,0,0,1],this.innerFill=!1,this.innerColor=[0,0,0,.25],this.outerFill=!0,this.outerColor=[0,0,0,.5],this.borderWidth=10}e.exports=function(t,e){var r=t.gl,s=i(r,[0,0,0,1,1,0,1,1]),l=n(r,a.boxVertex,a.boxFragment),c=new o(t,s,l);return c.update(e),t.addOverlay(c),c};var s=o.prototype;s.draw=function(){if(this.enabled){var t=this.plot,e=this.selectBox,r=this.borderWidth,n=(this.innerFill,this.innerColor),i=(this.outerFill,this.outerColor),a=this.borderColor,o=t.box,s=t.screenBox,l=t.dataBox,c=t.viewBox,u=t.pixelRatio,f=(e[0]-l[0])*(c[2]-c[0])/(l[2]-l[0])+c[0],h=(e[1]-l[1])*(c[3]-c[1])/(l[3]-l[1])+c[1],p=(e[2]-l[0])*(c[2]-c[0])/(l[2]-l[0])+c[0],d=(e[3]-l[1])*(c[3]-c[1])/(l[3]-l[1])+c[1];if(f=Math.max(f,c[0]),h=Math.max(h,c[1]),p=Math.min(p,c[2]),d=Math.min(d,c[3]),!(p&lt;f||d&lt;h)){o.bind();var g=s[2]-s[0],m=s[3]-s[1];if(this.outerFill&amp;&amp;(o.drawBox(0,0,g,h,i),o.drawBox(0,h,f,d,i),o.drawBox(0,d,g,m,i),o.drawBox(p,h,g,d,i)),this.innerFill&amp;&amp;o.drawBox(f,h,p,d,n),r&gt;0){var v=r*u;o.drawBox(f-v,h-v,p+v,h+v,a),o.drawBox(f-v,d-v,p+v,d+v,a),o.drawBox(f-v,h-v,f+v,d+v,a),o.drawBox(p-v,h-v,p+v,d+v,a)}}}},s.update=function(t){t=t||{},this.innerFill=!!t.innerFill,this.outerFill=!!t.outerFill,this.innerColor=(t.innerColor||[0,0,0,.5]).slice(),this.outerColor=(t.outerColor||[0,0,0,.5]).slice(),this.borderColor=(t.borderColor||[0,0,0,1]).slice(),this.borderWidth=t.borderWidth||0,this.selectBox=(t.selectBox||this.selectBox).slice()},s.dispose=function(){this.boxBuffer.dispose(),this.boxShader.dispose(),this.plot.removeOverlay(this)}},{\&quot;./lib/shaders\&quot;:331,\&quot;gl-buffer\&quot;:259,\&quot;gl-shader\&quot;:335}],334:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e){var r=e[0],a=e[1],o=n(t,r,a,{}),s=i.mallocUint8(r*a*4);return new l(t,o,s)};var n=t(\&quot;gl-fbo\&quot;),i=t(\&quot;typedarray-pool\&quot;),a=t(\&quot;ndarray\&quot;),o=t(\&quot;bit-twiddle\&quot;).nextPow2;function s(t,e,r,n,i){this.coord=[t,e],this.id=r,this.value=n,this.distance=i}function l(t,e,r){this.gl=t,this.fbo=e,this.buffer=r,this._readTimeout=null;var n=this;this._readCallback=function(){n.gl&amp;&amp;(e.bind(),t.readPixels(0,0,e.shape[0],e.shape[1],t.RGBA,t.UNSIGNED_BYTE,n.buffer),n._readTimeout=null)}}var c=l.prototype;Object.defineProperty(c,\&quot;shape\&quot;,{get:function(){return this.gl?this.fbo.shape.slice():[0,0]},set:function(t){if(this.gl){this.fbo.shape=t;var e=this.fbo.shape[0],r=this.fbo.shape[1];if(r*e*4&gt;this.buffer.length){i.free(this.buffer);for(var n=this.buffer=i.mallocUint8(o(r*e*4)),a=0;a&lt;r*e*4;++a)n[a]=255}return t}}}),c.begin=function(){var t=this.gl;this.shape;t&amp;&amp;(this.fbo.bind(),t.clearColor(1,1,1,1),t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT))},c.end=function(){var t=this.gl;t&amp;&amp;(t.bindFramebuffer(t.FRAMEBUFFER,null),this._readTimeout||clearTimeout(this._readTimeout),this._readTimeout=setTimeout(this._readCallback,1))},c.query=function(t,e,r){if(!this.gl)return null;var n=this.fbo.shape.slice();t|=0,e|=0,\&quot;number\&quot;!=typeof r&amp;&amp;(r=1);var i=0|Math.min(Math.max(t-r,0),n[0]),o=0|Math.min(Math.max(t+r,0),n[0]),l=0|Math.min(Math.max(e-r,0),n[1]),c=0|Math.min(Math.max(e+r,0),n[1]);if(o&lt;=i||c&lt;=l)return null;var u=[o-i,c-l],f=a(this.buffer,[u[0],u[1],4],[4,4*n[0],1],4*(i+n[0]*l)),h=function(t,e,r){for(var n=1e8,i=-1,a=-1,o=t.shape[0],s=t.shape[1],l=0;l&lt;o;l++)for(var c=0;c&lt;s;c++){var u=t.get(l,c,0),f=t.get(l,c,1),h=t.get(l,c,2),p=t.get(l,c,3);if(u&lt;255||f&lt;255||h&lt;255||p&lt;255){var d=e-l,g=r-c,m=d*d+g*g;m&lt;n&amp;&amp;(n=m,i=l,a=c)}}return[i,a,n]}(f.hi(u[0],u[1],1),r,r),p=h[0],d=h[1];return p&lt;0||Math.pow(this.radius,2)&lt;h[2]?null:new s(p+i|0,d+l|0,f.get(p,d,0),[f.get(p,d,1),f.get(p,d,2),f.get(p,d,3)],Math.sqrt(h[2]))},c.dispose=function(){this.gl&amp;&amp;(this.fbo.dispose(),i.free(this.buffer),this.gl=null,this._readTimeout&amp;&amp;clearTimeout(this._readTimeout))}},{\&quot;bit-twiddle\&quot;:97,\&quot;gl-fbo\&quot;:269,ndarray:495,\&quot;typedarray-pool\&quot;:595}],335:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./lib/create-uniforms\&quot;),i=t(\&quot;./lib/create-attributes\&quot;),a=t(\&quot;./lib/reflect\&quot;),o=t(\&quot;./lib/shader-cache\&quot;),s=t(\&quot;./lib/runtime-reflect\&quot;),l=t(\&quot;./lib/GLError\&quot;);function c(t){this.gl=t,this.gl.lastAttribCount=0,this._vref=this._fref=this._relink=this.vertShader=this.fragShader=this.program=this.attributes=this.uniforms=this.types=null}var u=c.prototype;function f(t,e){return t.name&lt;e.name?-1:1}u.bind=function(){var t;this.program||this._relink();var e=this.gl.getProgramParameter(this.program,this.gl.ACTIVE_ATTRIBUTES),r=this.gl.lastAttribCount;if(e&gt;r)for(t=r;t&lt;e;t++)this.gl.enableVertexAttribArray(t);else if(r&gt;e)for(t=e;t&lt;r;t++)this.gl.disableVertexAttribArray(t);this.gl.lastAttribCount=e,this.gl.useProgram(this.program)},u.dispose=function(){for(var t=this.gl.lastAttribCount,e=0;e&lt;t;e++)this.gl.disableVertexAttribArray(e);this.gl.lastAttribCount=0,this._fref&amp;&amp;this._fref.dispose(),this._vref&amp;&amp;this._vref.dispose(),this.attributes=this.types=this.vertShader=this.fragShader=this.program=this._relink=this._fref=this._vref=null},u.update=function(t,e,r,c){if(!e||1===arguments.length){var u=t;t=u.vertex,e=u.fragment,r=u.uniforms,c=u.attributes}var h=this,p=h.gl,d=h._vref;h._vref=o.shader(p,p.VERTEX_SHADER,t),d&amp;&amp;d.dispose(),h.vertShader=h._vref.shader;var g=this._fref;if(h._fref=o.shader(p,p.FRAGMENT_SHADER,e),g&amp;&amp;g.dispose(),h.fragShader=h._fref.shader,!r||!c){var m=p.createProgram();if(p.attachShader(m,h.fragShader),p.attachShader(m,h.vertShader),p.linkProgram(m),!p.getProgramParameter(m,p.LINK_STATUS)){var v=p.getProgramInfoLog(m);throw new l(v,\&quot;Error linking program:\&quot;+v)}r=r||s.uniforms(p,m),c=c||s.attributes(p,m),p.deleteProgram(m)}(c=c.slice()).sort(f);var y,x=[],b=[],_=[];for(y=0;y&lt;c.length;++y){var w=c[y];if(w.type.indexOf(\&quot;mat\&quot;)&gt;=0){for(var T=0|w.type.charAt(w.type.length-1),k=new Array(T),M=0;M&lt;T;++M)k[M]=_.length,b.push(w.name+\&quot;[\&quot;+M+\&quot;]\&quot;),\&quot;number\&quot;==typeof w.location?_.push(w.location+M):Array.isArray(w.location)&amp;&amp;w.location.length===T&amp;&amp;\&quot;number\&quot;==typeof w.location[M]?_.push(0|w.location[M]):_.push(-1);x.push({name:w.name,type:w.type,locations:k})}else x.push({name:w.name,type:w.type,locations:[_.length]}),b.push(w.name),\&quot;number\&quot;==typeof w.location?_.push(0|w.location):_.push(-1)}var A=0;for(y=0;y&lt;_.length;++y)if(_[y]&lt;0){for(;_.indexOf(A)&gt;=0;)A+=1;_[y]=A}var S=new Array(r.length);function E(){h.program=o.program(p,h._vref,h._fref,b,_);for(var t=0;t&lt;r.length;++t)S[t]=p.getUniformLocation(h.program,r[t].name)}E(),h._relink=E,h.types={uniforms:a(r),attributes:a(c)},h.attributes=i(p,h,x,_),Object.defineProperty(h,\&quot;uniforms\&quot;,n(p,h,r,S))},e.exports=function(t,e,r,n,i){var a=new c(t);return a.update(e,r,n,i),a}},{\&quot;./lib/GLError\&quot;:336,\&quot;./lib/create-attributes\&quot;:337,\&quot;./lib/create-uniforms\&quot;:338,\&quot;./lib/reflect\&quot;:339,\&quot;./lib/runtime-reflect\&quot;:340,\&quot;./lib/shader-cache\&quot;:341}],336:[function(t,e,r){function n(t,e,r){this.shortMessage=e||\&quot;\&quot;,this.longMessage=r||\&quot;\&quot;,this.rawError=t||\&quot;\&quot;,this.message=\&quot;gl-shader: \&quot;+(e||t||\&quot;\&quot;)+(r?\&quot;\\n\&quot;+r:\&quot;\&quot;),this.stack=(new Error).stack}n.prototype=new Error,n.prototype.name=\&quot;GLError\&quot;,n.prototype.constructor=n,e.exports=n},{}],337:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e,r,i){for(var a={},l=0,c=r.length;l&lt;c;++l){var u=r[l],f=u.name,h=u.type,p=u.locations;switch(h){case\&quot;bool\&quot;:case\&quot;int\&quot;:case\&quot;float\&quot;:o(t,e,p[0],i,1,a,f);break;default:if(h.indexOf(\&quot;vec\&quot;)&gt;=0){if((d=h.charCodeAt(h.length-1)-48)&lt;2||d&gt;4)throw new n(\&quot;\&quot;,\&quot;Invalid data type for attribute \&quot;+f+\&quot;: \&quot;+h);o(t,e,p[0],i,d,a,f)}else{if(!(h.indexOf(\&quot;mat\&quot;)&gt;=0))throw new n(\&quot;\&quot;,\&quot;Unknown data type for attribute \&quot;+f+\&quot;: \&quot;+h);var d;if((d=h.charCodeAt(h.length-1)-48)&lt;2||d&gt;4)throw new n(\&quot;\&quot;,\&quot;Invalid data type for attribute \&quot;+f+\&quot;: \&quot;+h);s(t,e,p,i,d,a,f)}}}return a};var n=t(\&quot;./GLError\&quot;);function i(t,e,r,n,i,a){this._gl=t,this._wrapper=e,this._index=r,this._locations=n,this._dimension=i,this._constFunc=a}var a=i.prototype;function o(t,e,r,n,a,o,s){for(var l=[\&quot;gl\&quot;,\&quot;v\&quot;],c=[],u=0;u&lt;a;++u)l.push(\&quot;x\&quot;+u),c.push(\&quot;x\&quot;+u);l.push(\&quot;if(x0.length===void 0){return gl.vertexAttrib\&quot;+a+\&quot;f(v,\&quot;+c.join()+\&quot;)}else{return gl.vertexAttrib\&quot;+a+\&quot;fv(v,x0)}\&quot;);var f=Function.apply(null,l),h=new i(t,e,r,n,a,f);Object.defineProperty(o,s,{set:function(e){return t.disableVertexAttribArray(n[r]),f(t,n[r],e),e},get:function(){return h},enumerable:!0})}function s(t,e,r,n,i,a,s){for(var l=new Array(i),c=new Array(i),u=0;u&lt;i;++u)o(t,e,r[u],n,i,l,u),c[u]=l[u];Object.defineProperty(l,\&quot;location\&quot;,{set:function(t){if(Array.isArray(t))for(var e=0;e&lt;i;++e)c[e].location=t[e];else for(e=0;e&lt;i;++e)c[e].location=t+e;return t},get:function(){for(var t=new Array(i),e=0;e&lt;i;++e)t[e]=n[r[e]];return t},enumerable:!0}),l.pointer=function(e,a,o,s){e=e||t.FLOAT,a=!!a,o=o||i*i,s=s||0;for(var l=0;l&lt;i;++l){var c=n[r[l]];t.vertexAttribPointer(c,i,e,a,o,s+l*i),t.enableVertexAttribArray(c)}};var f=new Array(i),h=t[\&quot;vertexAttrib\&quot;+i+\&quot;fv\&quot;];Object.defineProperty(a,s,{set:function(e){for(var a=0;a&lt;i;++a){var o=n[r[a]];if(t.disableVertexAttribArray(o),Array.isArray(e[0]))h.call(t,o,e[a]);else{for(var s=0;s&lt;i;++s)f[s]=e[i*a+s];h.call(t,o,f)}}return e},get:function(){return l},enumerable:!0})}a.pointer=function(t,e,r,n){var i=this._gl,a=this._locations[this._index];i.vertexAttribPointer(a,this._dimension,t||i.FLOAT,!!e,r||0,n||0),i.enableVertexAttribArray(a)},a.set=function(t,e,r,n){return this._constFunc(this._locations[this._index],t,e,r,n)},Object.defineProperty(a,\&quot;location\&quot;,{get:function(){return this._locations[this._index]},set:function(t){return t!==this._locations[this._index]&amp;&amp;(this._locations[this._index]=0|t,this._wrapper.program=null),0|t}})},{\&quot;./GLError\&quot;:336}],338:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./reflect\&quot;),i=t(\&quot;./GLError\&quot;);function a(t){return new Function(\&quot;y\&quot;,\&quot;return function(){return y}\&quot;)(t)}function o(t,e){for(var r=new Array(t),n=0;n&lt;t;++n)r[n]=e;return r}e.exports=function(t,e,r,s){function l(t,e,r){switch(r){case\&quot;bool\&quot;:case\&quot;int\&quot;:case\&quot;sampler2D\&quot;:case\&quot;samplerCube\&quot;:return\&quot;gl.uniform1i(locations[\&quot;+e+\&quot;],obj\&quot;+t+\&quot;)\&quot;;case\&quot;float\&quot;:return\&quot;gl.uniform1f(locations[\&quot;+e+\&quot;],obj\&quot;+t+\&quot;)\&quot;;default:var n=r.indexOf(\&quot;vec\&quot;);if(!(0&lt;=n&amp;&amp;n&lt;=1&amp;&amp;r.length===4+n)){if(0===r.indexOf(\&quot;mat\&quot;)&amp;&amp;4===r.length){var a;if((a=r.charCodeAt(r.length-1)-48)&lt;2||a&gt;4)throw new i(\&quot;\&quot;,\&quot;Invalid uniform dimension type for matrix \&quot;+name+\&quot;: \&quot;+r);return\&quot;gl.uniformMatrix\&quot;+a+\&quot;fv(locations[\&quot;+e+\&quot;],false,obj\&quot;+t+\&quot;)\&quot;}throw new i(\&quot;\&quot;,\&quot;Unknown uniform data type for \&quot;+name+\&quot;: \&quot;+r)}if((a=r.charCodeAt(r.length-1)-48)&lt;2||a&gt;4)throw new i(\&quot;\&quot;,\&quot;Invalid data type\&quot;);switch(r.charAt(0)){case\&quot;b\&quot;:case\&quot;i\&quot;:return\&quot;gl.uniform\&quot;+a+\&quot;iv(locations[\&quot;+e+\&quot;],obj\&quot;+t+\&quot;)\&quot;;case\&quot;v\&quot;:return\&quot;gl.uniform\&quot;+a+\&quot;fv(locations[\&quot;+e+\&quot;],obj\&quot;+t+\&quot;)\&quot;;default:throw new i(\&quot;\&quot;,\&quot;Unrecognized data type for vector \&quot;+name+\&quot;: \&quot;+r)}}}function c(e){for(var n=[\&quot;return function updateProperty(obj){\&quot;],i=function t(e,r){if(\&quot;object\&quot;!=typeof r)return[[e,r]];var n=[];for(var i in r){var a=r[i],o=e;parseInt(i)+\&quot;\&quot;===i?o+=\&quot;[\&quot;+i+\&quot;]\&quot;:o+=\&quot;.\&quot;+i,\&quot;object\&quot;==typeof a?n.push.apply(n,t(o,a)):n.push([o,a])}return n}(\&quot;\&quot;,e),a=0;a&lt;i.length;++a){var o=i[a],c=o[0],u=o[1];s[u]&amp;&amp;n.push(l(c,u,r[u].type))}return n.push(\&quot;return obj}\&quot;),new Function(\&quot;gl\&quot;,\&quot;locations\&quot;,n.join(\&quot;\\n\&quot;))(t,s)}function u(n,l,u){if(\&quot;object\&quot;==typeof u){var h=f(u);Object.defineProperty(n,l,{get:a(h),set:c(u),enumerable:!0,configurable:!1})}else s[u]?Object.defineProperty(n,l,{get:(p=u,new Function(\&quot;gl\&quot;,\&quot;wrapper\&quot;,\&quot;locations\&quot;,\&quot;return function(){return gl.getUniform(wrapper.program,locations[\&quot;+p+\&quot;])}\&quot;)(t,e,s)),set:c(u),enumerable:!0,configurable:!1}):n[l]=function(t){switch(t){case\&quot;bool\&quot;:return!1;case\&quot;int\&quot;:case\&quot;sampler2D\&quot;:case\&quot;samplerCube\&quot;:case\&quot;float\&quot;:return 0;default:var e=t.indexOf(\&quot;vec\&quot;);if(0&lt;=e&amp;&amp;e&lt;=1&amp;&amp;t.length===4+e){if((r=t.charCodeAt(t.length-1)-48)&lt;2||r&gt;4)throw new i(\&quot;\&quot;,\&quot;Invalid data type\&quot;);return\&quot;b\&quot;===t.charAt(0)?o(r,!1):o(r,0)}if(0===t.indexOf(\&quot;mat\&quot;)&amp;&amp;4===t.length){var r;if((r=t.charCodeAt(t.length-1)-48)&lt;2||r&gt;4)throw new i(\&quot;\&quot;,\&quot;Invalid uniform dimension type for matrix \&quot;+name+\&quot;: \&quot;+t);return o(r*r,0)}throw new i(\&quot;\&quot;,\&quot;Unknown uniform data type for \&quot;+name+\&quot;: \&quot;+t)}}(r[u].type);var p}function f(t){var e;if(Array.isArray(t)){e=new Array(t.length);for(var r=0;r&lt;t.length;++r)u(e,r,t[r])}else for(var n in e={},t)u(e,n,t[n]);return e}var h=n(r,!0);return{get:a(f(h)),set:c(h),enumerable:!0,configurable:!0}}},{\&quot;./GLError\&quot;:336,\&quot;./reflect\&quot;:339}],339:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e){for(var r={},n=0;n&lt;t.length;++n)for(var i=t[n].name.split(\&quot;.\&quot;),a=r,o=0;o&lt;i.length;++o){var s=i[o].split(\&quot;[\&quot;);if(s.length&gt;1){s[0]in a||(a[s[0]]=[]),a=a[s[0]];for(var l=1;l&lt;s.length;++l){var c=parseInt(s[l]);l&lt;s.length-1||o&lt;i.length-1?(c in a||(l&lt;s.length-1?a[c]=[]:a[c]={}),a=a[c]):a[c]=e?n:t[n].type}}else o&lt;i.length-1?(s[0]in a||(a[s[0]]={}),a=a[s[0]]):a[s[0]]=e?n:t[n].type}return r}},{}],340:[function(t,e,r){\&quot;use strict\&quot;;r.uniforms=function(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_UNIFORMS),n=[],i=0;i&lt;r;++i){var o=t.getActiveUniform(e,i);if(o){var s=a(t,o.type);if(o.size&gt;1)for(var l=0;l&lt;o.size;++l)n.push({name:o.name.replace(\&quot;[0]\&quot;,\&quot;[\&quot;+l+\&quot;]\&quot;),type:s});else n.push({name:o.name,type:s})}}return n},r.attributes=function(t,e){for(var r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES),n=[],i=0;i&lt;r;++i){var o=t.getActiveAttrib(e,i);o&amp;&amp;n.push({name:o.name,type:a(t,o.type)})}return n};var n={FLOAT:\&quot;float\&quot;,FLOAT_VEC2:\&quot;vec2\&quot;,FLOAT_VEC3:\&quot;vec3\&quot;,FLOAT_VEC4:\&quot;vec4\&quot;,INT:\&quot;int\&quot;,INT_VEC2:\&quot;ivec2\&quot;,INT_VEC3:\&quot;ivec3\&quot;,INT_VEC4:\&quot;ivec4\&quot;,BOOL:\&quot;bool\&quot;,BOOL_VEC2:\&quot;bvec2\&quot;,BOOL_VEC3:\&quot;bvec3\&quot;,BOOL_VEC4:\&quot;bvec4\&quot;,FLOAT_MAT2:\&quot;mat2\&quot;,FLOAT_MAT3:\&quot;mat3\&quot;,FLOAT_MAT4:\&quot;mat4\&quot;,SAMPLER_2D:\&quot;sampler2D\&quot;,SAMPLER_CUBE:\&quot;samplerCube\&quot;},i=null;function a(t,e){if(!i){var r=Object.keys(n);i={};for(var a=0;a&lt;r.length;++a){var o=r[a];i[t[o]]=n[o]}}return i[e]}},{}],341:[function(t,e,r){\&quot;use strict\&quot;;r.shader=function(t,e,r){return u(t).getShaderReference(e,r)},r.program=function(t,e,r,n,i){return u(t).getProgram(e,r,n,i)};var n=t(\&quot;./GLError\&quot;),i=t(\&quot;gl-format-compiler-error\&quot;),a=new(\&quot;undefined\&quot;==typeof WeakMap?t(\&quot;weakmap-shim\&quot;):WeakMap),o=0;function s(t,e,r,n,i,a,o){this.id=t,this.src=e,this.type=r,this.shader=n,this.count=a,this.programs=[],this.cache=o}function l(t){this.gl=t,this.shaders=[{},{}],this.programs={}}s.prototype.dispose=function(){if(0==--this.count){for(var t=this.cache,e=t.gl,r=this.programs,n=0,i=r.length;n&lt;i;++n){var a=t.programs[r[n]];a&amp;&amp;(delete t.programs[n],e.deleteProgram(a))}e.deleteShader(this.shader),delete t.shaders[this.type===e.FRAGMENT_SHADER|0][this.src]}};var c=l.prototype;function u(t){var e=a.get(t);return e||(e=new l(t),a.set(t,e)),e}c.getShaderReference=function(t,e){var r=this.gl,a=this.shaders[t===r.FRAGMENT_SHADER|0],l=a[e];if(l&amp;&amp;r.isShader(l.shader))l.count+=1;else{var c=function(t,e,r){var a=t.createShader(e);if(t.shaderSource(a,r),t.compileShader(a),!t.getShaderParameter(a,t.COMPILE_STATUS)){var o=t.getShaderInfoLog(a);try{var s=i(o,r,e)}catch(t){throw console.warn(\&quot;Failed to format compiler error: \&quot;+t),new n(o,\&quot;Error compiling shader:\\n\&quot;+o)}throw new n(o,s.short,s.long)}return a}(r,t,e);l=a[e]=new s(o++,e,t,c,[],1,this)}return l},c.getProgram=function(t,e,r,i){var a=[t.id,e.id,r.join(\&quot;:\&quot;),i.join(\&quot;:\&quot;)].join(\&quot;@\&quot;),o=this.programs[a];return o&amp;&amp;this.gl.isProgram(o)||(this.programs[a]=o=function(t,e,r,i,a){var o=t.createProgram();t.attachShader(o,e),t.attachShader(o,r);for(var s=0;s&lt;i.length;++s)t.bindAttribLocation(o,a[s],i[s]);if(t.linkProgram(o),!t.getProgramParameter(o,t.LINK_STATUS)){var l=t.getProgramInfoLog(o);throw new n(l,\&quot;Error linking program: \&quot;+l)}return o}(this.gl,t.shader,e.shader,r,i),t.programs.push(a),e.programs.push(a)),o}},{\&quot;./GLError\&quot;:336,\&quot;gl-format-compiler-error\&quot;:270,\&quot;weakmap-shim\&quot;:605}],342:[function(t,e,r){\&quot;use strict\&quot;;function n(t){this.plot=t,this.enable=[!0,!0,!1,!1],this.width=[1,1,1,1],this.color=[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.center=[1/0,1/0]}e.exports=function(t,e){var r=new n(t);return r.update(e),t.addOverlay(r),r};var i=n.prototype;i.update=function(t){t=t||{},this.enable=(t.enable||[!0,!0,!1,!1]).slice(),this.width=(t.width||[1,1,1,1]).slice(),this.color=(t.color||[[0,0,0,1],[0,0,0,1],[0,0,0,1],[0,0,0,1]]).map((function(t){return t.slice()})),this.center=(t.center||[1/0,1/0]).slice(),this.plot.setOverlayDirty()},i.draw=function(){var t=this.enable,e=this.width,r=this.color,n=this.center,i=this.plot,a=i.line,o=i.dataBox,s=i.viewBox;if(a.bind(),o[0]&lt;=n[0]&amp;&amp;n[0]&lt;=o[2]&amp;&amp;o[1]&lt;=n[1]&amp;&amp;n[1]&lt;=o[3]){var l=s[0]+(n[0]-o[0])/(o[2]-o[0])*(s[2]-s[0]),c=s[1]+(n[1]-o[1])/(o[3]-o[1])*(s[3]-s[1]);t[0]&amp;&amp;a.drawLine(l,c,s[0],c,e[0],r[0]),t[1]&amp;&amp;a.drawLine(l,c,l,s[1],e[1],r[1]),t[2]&amp;&amp;a.drawLine(l,c,s[2],c,e[2],r[2]),t[3]&amp;&amp;a.drawLine(l,c,l,s[3],e[3],r[3])}},i.dispose=function(){this.plot.removeOverlay(this)}},{}],343:[function(t,e,r){arguments[4][257][0].apply(r,arguments)},{dup:257}],344:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;glslify\&quot;),i=t(\&quot;gl-shader\&quot;),a=n([\&quot;precision mediump float;\\n#define GLSLIFY 1\\n\\nattribute vec3 position, color;\\nattribute float weight;\\n\\nuniform mat4 model, view, projection;\\nuniform vec3 coordinates[3];\\nuniform vec4 colors[3];\\nuniform vec2 screenShape;\\nuniform float lineWidth;\\n\\nvarying vec4 fragColor;\\n\\nvoid main() {\\n  vec3 vertexPosition = mix(coordinates[0],\\n    mix(coordinates[2], coordinates[1], 0.5 * (position + 1.0)), abs(position));\\n\\n  vec4 clipPos = projection * view * model * vec4(vertexPosition, 1.0);\\n  vec2 clipOffset = (projection * view * model * vec4(color, 0.0)).xy;\\n  vec2 delta = weight * clipOffset * screenShape;\\n  vec2 lineOffset = normalize(vec2(delta.y, -delta.x)) / screenShape;\\n\\n  gl_Position   = vec4(clipPos.xy + clipPos.w * 0.5 * lineWidth * lineOffset, clipPos.z, clipPos.w);\\n  fragColor     = color.x * colors[0] + color.y * colors[1] + color.z * colors[2];\\n}\\n\&quot;]),o=n([\&quot;precision mediump float;\\n#define GLSLIFY 1\\n\\nvarying vec4 fragColor;\\n\\nvoid main() {\\n  gl_FragColor = fragColor;\\n}\&quot;]);e.exports=function(t){return i(t,a,o,null,[{name:\&quot;position\&quot;,type:\&quot;vec3\&quot;},{name:\&quot;color\&quot;,type:\&quot;vec3\&quot;},{name:\&quot;weight\&quot;,type:\&quot;float\&quot;}])}},{\&quot;gl-shader\&quot;:335,glslify:343}],345:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;gl-buffer\&quot;),i=t(\&quot;gl-vao\&quot;),a=t(\&quot;./shaders/index\&quot;);e.exports=function(t,e){var r=[];function o(t,e,n,i,a,o){var s=[t,e,n,0,0,0,1];s[i+3]=1,s[i]=a,r.push.apply(r,s),s[6]=-1,r.push.apply(r,s),s[i]=o,r.push.apply(r,s),r.push.apply(r,s),s[6]=1,r.push.apply(r,s),s[i]=a,r.push.apply(r,s)}o(0,0,0,0,0,1),o(0,0,0,1,0,1),o(0,0,0,2,0,1),o(1,0,0,1,-1,1),o(1,0,0,2,-1,1),o(0,1,0,0,-1,1),o(0,1,0,2,-1,1),o(0,0,1,0,-1,1),o(0,0,1,1,-1,1);var l=n(t,r),c=i(t,[{type:t.FLOAT,buffer:l,size:3,offset:0,stride:28},{type:t.FLOAT,buffer:l,size:3,offset:12,stride:28},{type:t.FLOAT,buffer:l,size:1,offset:24,stride:28}]),u=a(t);u.attributes.position.location=0,u.attributes.color.location=1,u.attributes.weight.location=2;var f=new s(t,l,c,u);return f.update(e),f};var o=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1];function s(t,e,r,n){this.gl=t,this.buffer=e,this.vao=r,this.shader=n,this.pixelRatio=1,this.bounds=[[-1e3,-1e3,-1e3],[1e3,1e3,1e3]],this.position=[0,0,0],this.lineWidth=[2,2,2],this.colors=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.enabled=[!0,!0,!0],this.drawSides=[!0,!0,!0],this.axes=null}var l=s.prototype,c=[0,0,0],u=[0,0,0],f=[0,0];l.isTransparent=function(){return!1},l.drawTransparent=function(t){},l.draw=function(t){var e=this.gl,r=this.vao,n=this.shader;r.bind(),n.bind();var i,a=t.model||o,s=t.view||o,l=t.projection||o;this.axes&amp;&amp;(i=this.axes.lastCubeProps.axis);for(var h=c,p=u,d=0;d&lt;3;++d)i&amp;&amp;i[d]&lt;0?(h[d]=this.bounds[0][d],p[d]=this.bounds[1][d]):(h[d]=this.bounds[1][d],p[d]=this.bounds[0][d]);f[0]=e.drawingBufferWidth,f[1]=e.drawingBufferHeight,n.uniforms.model=a,n.uniforms.view=s,n.uniforms.projection=l,n.uniforms.coordinates=[this.position,h,p],n.uniforms.colors=this.colors,n.uniforms.screenShape=f;for(d=0;d&lt;3;++d)n.uniforms.lineWidth=this.lineWidth[d]*this.pixelRatio,this.enabled[d]&amp;&amp;(r.draw(e.TRIANGLES,6,6*d),this.drawSides[d]&amp;&amp;r.draw(e.TRIANGLES,12,18+12*d));r.unbind()},l.update=function(t){t&amp;&amp;(\&quot;bounds\&quot;in t&amp;&amp;(this.bounds=t.bounds),\&quot;position\&quot;in t&amp;&amp;(this.position=t.position),\&quot;lineWidth\&quot;in t&amp;&amp;(this.lineWidth=t.lineWidth),\&quot;colors\&quot;in t&amp;&amp;(this.colors=t.colors),\&quot;enabled\&quot;in t&amp;&amp;(this.enabled=t.enabled),\&quot;drawSides\&quot;in t&amp;&amp;(this.drawSides=t.drawSides))},l.dispose=function(){this.vao.dispose(),this.buffer.dispose(),this.shader.dispose()}},{\&quot;./shaders/index\&quot;:344,\&quot;gl-buffer\&quot;:259,\&quot;gl-vao\&quot;:358}],346:[function(t,e,r){var n=t(\&quot;glslify\&quot;),i=n([\&quot;precision highp float;\\n\\nprecision highp float;\\n#define GLSLIFY 1\\n\\nvec3 getOrthogonalVector(vec3 v) {\\n  // Return up-vector for only-z vector.\\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\\n  // From the above if-statement we have ||a|| &gt; 0  U  ||b|| &gt; 0.\\n  // Assign z = 0, x = -b, y = a:\\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\\n  if (v.x*v.x &gt; v.z*v.z || v.y*v.y &gt; v.z*v.z) {\\n    return normalize(vec3(-v.y, v.x, 0.0));\\n  } else {\\n    return normalize(vec3(0.0, v.z, -v.y));\\n  }\\n}\\n\\n// Calculate the tube vertex and normal at the given index.\\n//\\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\\n//\\n// Each tube segment is made up of a ring of vertices.\\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\\n// The indexes of tube segments run from 0 to 8.\\n//\\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\\n  float segmentCount = 8.0;\\n\\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\\n\\n  vec3 u = getOrthogonalVector(d);\\n  vec3 v = normalize(cross(u, d));\\n\\n  vec3 x = u * cos(angle) * length(d);\\n  vec3 y = v * sin(angle) * length(d);\\n  vec3 v3 = x + y;\\n\\n  normal = normalize(v3);\\n\\n  return v3;\\n}\\n\\nattribute vec4 vector;\\nattribute vec4 color, position;\\nattribute vec2 uv;\\n\\nuniform float vectorScale, tubeScale;\\nuniform mat4 model, view, projection, inverseModel;\\nuniform vec3 eyePosition, lightPosition;\\n\\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\\nvarying vec4 f_color;\\nvarying vec2 f_uv;\\n\\nvoid main() {\\n  // Scale the vector magnitude to stay constant with\\n  // model &amp; view changes.\\n  vec3 normal;\\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\\n\\n  //Lighting geometry parameters\\n  vec4 cameraCoordinate = view * tubePosition;\\n  cameraCoordinate.xyz /= cameraCoordinate.w;\\n  f_lightDirection = lightPosition - cameraCoordinate.xyz;\\n  f_eyeDirection   = eyePosition - cameraCoordinate.xyz;\\n  f_normal = normalize((vec4(normal, 0.0) * inverseModel).xyz);\\n\\n  // vec4 m_position  = model * vec4(tubePosition, 1.0);\\n  vec4 t_position  = view * tubePosition;\\n  gl_Position      = projection * t_position;\\n\\n  f_color          = color;\\n  f_data           = tubePosition.xyz;\\n  f_position       = position.xyz;\\n  f_uv             = uv;\\n}\\n\&quot;]),a=n([\&quot;#extension GL_OES_standard_derivatives : enable\\n\\nprecision highp float;\\n#define GLSLIFY 1\\n\\nfloat beckmannDistribution(float x, float roughness) {\\n  float NdotH = max(x, 0.0001);\\n  float cos2Alpha = NdotH * NdotH;\\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\\n  float roughness2 = roughness * roughness;\\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\\n  return exp(tan2Alpha / roughness2) / denom;\\n}\\n\\nfloat cookTorranceSpecular(\\n  vec3 lightDirection,\\n  vec3 viewDirection,\\n  vec3 surfaceNormal,\\n  float roughness,\\n  float fresnel) {\\n\\n  float VdotN = max(dot(viewDirection, surfaceNormal), 0.0);\\n  float LdotN = max(dot(lightDirection, surfaceNormal), 0.0);\\n\\n  //Half angle vector\\n  vec3 H = normalize(lightDirection + viewDirection);\\n\\n  //Geometric term\\n  float NdotH = max(dot(surfaceNormal, H), 0.0);\\n  float VdotH = max(dot(viewDirection, H), 0.000001);\\n  float LdotH = max(dot(lightDirection, H), 0.000001);\\n  float G1 = (2.0 * NdotH * VdotN) / VdotH;\\n  float G2 = (2.0 * NdotH * LdotN) / LdotH;\\n  float G = min(1.0, min(G1, G2));\\n  \\n  //Distribution term\\n  float D = beckmannDistribution(NdotH, roughness);\\n\\n  //Fresnel term\\n  float F = pow(1.0 - VdotN, fresnel);\\n\\n  //Multiply terms and done\\n  return  G * F * D / max(3.14159265 * VdotN, 0.000001);\\n}\\n\\nbool outOfRange(float a, float b, float p) {\\n  return ((p &gt; max(a, b)) || \\n          (p &lt; min(a, b)));\\n}\\n\\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y));\\n}\\n\\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y) ||\\n          outOfRange(a.z, b.z, p.z));\\n}\\n\\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\\n  return outOfRange(a.xyz, b.xyz, p.xyz);\\n}\\n\\nuniform vec3 clipBounds[2];\\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\\nuniform sampler2D texture;\\n\\nvarying vec3 f_normal, f_lightDirection, f_eyeDirection, f_data, f_position;\\nvarying vec4 f_color;\\nvarying vec2 f_uv;\\n\\nvoid main() {\\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\\n  vec3 N = normalize(f_normal);\\n  vec3 L = normalize(f_lightDirection);\\n  vec3 V = normalize(f_eyeDirection);\\n\\n  if(gl_FrontFacing) {\\n    N = -N;\\n  }\\n\\n  float specular = min(1.0, max(0.0, cookTorranceSpecular(L, V, N, roughness, fresnel)));\\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\\n\\n  vec4 surfaceColor = f_color * texture2D(texture, f_uv);\\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\\n\\n  gl_FragColor = litColor * opacity;\\n}\\n\&quot;]),o=n([\&quot;precision highp float;\\n\\nprecision highp float;\\n#define GLSLIFY 1\\n\\nvec3 getOrthogonalVector(vec3 v) {\\n  // Return up-vector for only-z vector.\\n  // Return ax + by + cz = 0, a point that lies on the plane that has v as a normal and that isn't (0,0,0).\\n  // From the above if-statement we have ||a|| &gt; 0  U  ||b|| &gt; 0.\\n  // Assign z = 0, x = -b, y = a:\\n  // a*-b + b*a + c*0 = -ba + ba + 0 = 0\\n  if (v.x*v.x &gt; v.z*v.z || v.y*v.y &gt; v.z*v.z) {\\n    return normalize(vec3(-v.y, v.x, 0.0));\\n  } else {\\n    return normalize(vec3(0.0, v.z, -v.y));\\n  }\\n}\\n\\n// Calculate the tube vertex and normal at the given index.\\n//\\n// The returned vertex is for a tube ring with its center at origin, radius of length(d), pointing in the direction of d.\\n//\\n// Each tube segment is made up of a ring of vertices.\\n// These vertices are used to make up the triangles of the tube by connecting them together in the vertex array.\\n// The indexes of tube segments run from 0 to 8.\\n//\\nvec3 getTubePosition(vec3 d, float index, out vec3 normal) {\\n  float segmentCount = 8.0;\\n\\n  float angle = 2.0 * 3.14159 * (index / segmentCount);\\n\\n  vec3 u = getOrthogonalVector(d);\\n  vec3 v = normalize(cross(u, d));\\n\\n  vec3 x = u * cos(angle) * length(d);\\n  vec3 y = v * sin(angle) * length(d);\\n  vec3 v3 = x + y;\\n\\n  normal = normalize(v3);\\n\\n  return v3;\\n}\\n\\nattribute vec4 vector;\\nattribute vec4 position;\\nattribute vec4 id;\\n\\nuniform mat4 model, view, projection;\\nuniform float tubeScale;\\n\\nvarying vec3 f_position;\\nvarying vec4 f_id;\\n\\nvoid main() {\\n  vec3 normal;\\n  vec3 XYZ = getTubePosition(mat3(model) * (tubeScale * vector.w * normalize(vector.xyz)), position.w, normal);\\n  vec4 tubePosition = model * vec4(position.xyz, 1.0) + vec4(XYZ, 0.0);\\n\\n  gl_Position = projection * view * tubePosition;\\n  f_id        = id;\\n  f_position  = position.xyz;\\n}\\n\&quot;]),s=n([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nbool outOfRange(float a, float b, float p) {\\n  return ((p &gt; max(a, b)) || \\n          (p &lt; min(a, b)));\\n}\\n\\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y));\\n}\\n\\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y) ||\\n          outOfRange(a.z, b.z, p.z));\\n}\\n\\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\\n  return outOfRange(a.xyz, b.xyz, p.xyz);\\n}\\n\\nuniform vec3  clipBounds[2];\\nuniform float pickId;\\n\\nvarying vec3 f_position;\\nvarying vec4 f_id;\\n\\nvoid main() {\\n  if (outOfRange(clipBounds[0], clipBounds[1], f_position)) discard;\\n\\n  gl_FragColor = vec4(pickId, f_id.xyz);\\n}\&quot;]);r.meshShader={vertex:i,fragment:a,attributes:[{name:\&quot;position\&quot;,type:\&quot;vec4\&quot;},{name:\&quot;color\&quot;,type:\&quot;vec4\&quot;},{name:\&quot;uv\&quot;,type:\&quot;vec2\&quot;},{name:\&quot;vector\&quot;,type:\&quot;vec4\&quot;}]},r.pickShader={vertex:o,fragment:s,attributes:[{name:\&quot;position\&quot;,type:\&quot;vec4\&quot;},{name:\&quot;id\&quot;,type:\&quot;vec4\&quot;},{name:\&quot;vector\&quot;,type:\&quot;vec4\&quot;}]}},{glslify:347}],347:[function(t,e,r){arguments[4][257][0].apply(r,arguments)},{dup:257}],348:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;gl-vec3\&quot;),i=t(\&quot;gl-vec4\&quot;),a=[\&quot;xyz\&quot;,\&quot;xzy\&quot;,\&quot;yxz\&quot;,\&quot;yzx\&quot;,\&quot;zxy\&quot;,\&quot;zyx\&quot;],o=function(t,e,r,a){for(var o=0,s=0;s&lt;t.length;s++)for(var l=t[s].velocities,c=0;c&lt;l.length;c++)o=Math.max(o,n.length(l[c]));var u=t.map((function(t){return function(t,e,r,a){for(var o=t.points,s=t.velocities,l=t.divergences,c=[],u=[],f=[],h=[],p=[],d=[],g=0,m=0,v=i.create(),y=i.create(),x=0;x&lt;o.length;x++){var b=o[x],_=s[x],w=l[x];0===e&amp;&amp;(w=.05*r),m=n.length(_)/a,v=i.create(),n.copy(v,_),v[3]=w;for(var T=0;T&lt;8;T++)p[T]=[b[0],b[1],b[2],T];if(h.length&gt;0)for(T=0;T&lt;8;T++){var k=(T+1)%8;c.push(h[T],p[T],p[k],p[k],h[k],h[T]),f.push(y,v,v,v,y,y),d.push(g,m,m,m,g,g);var M=c.length;u.push([M-6,M-5,M-4],[M-3,M-2,M-1])}var A=h;h=p,p=A;var S=y;y=v,v=S;var E=g;g=m,m=E}return{positions:c,cells:u,vectors:f,vertexIntensity:d}}(t,r,a,o)})),f=[],h=[],p=[],d=[];for(s=0;s&lt;u.length;s++){var g=u[s],m=f.length;f=f.concat(g.positions),p=p.concat(g.vectors),d=d.concat(g.vertexIntensity);for(c=0;c&lt;g.cells.length;c++){var v=g.cells[c],y=[];h.push(y);for(var x=0;x&lt;v.length;x++)y.push(v[x]+m)}}return{positions:f,cells:h,vectors:p,vertexIntensity:d,colormap:e}},s=function(t,e){var r,n=t.length;for(r=0;r&lt;n;r++){var i=t[r];if(i===e)return r;if(i&gt;e)return r-1}return r},l=function(t,e,r){return t&lt;e?e:t&gt;r?r:t},c=function(t){var e=1/0;t.sort((function(t,e){return t-e}));for(var r=t.length,n=1;n&lt;r;n++){var i=Math.abs(t[n]-t[n-1]);i&lt;e&amp;&amp;(e=i)}return e};e.exports=function(t,e){var r=t.startingPositions,i=t.maxLength||1e3,u=t.tubeSize||1,f=t.absoluteTubeSize,h=t.gridFill||\&quot;+x+y+z\&quot;,p={};-1!==h.indexOf(\&quot;-x\&quot;)&amp;&amp;(p.reversedX=!0),-1!==h.indexOf(\&quot;-y\&quot;)&amp;&amp;(p.reversedY=!0),-1!==h.indexOf(\&quot;-z\&quot;)&amp;&amp;(p.reversedZ=!0),p.filled=a.indexOf(h.replace(/-/g,\&quot;\&quot;).replace(/\\+/g,\&quot;\&quot;));var d=t.getVelocity||function(e){return function(t,e,r){var i=e.vectors,a=e.meshgrid,o=t[0],c=t[1],u=t[2],f=a[0].length,h=a[1].length,p=a[2].length,d=s(a[0],o),g=s(a[1],c),m=s(a[2],u),v=d+1,y=g+1,x=m+1;if(d=l(d,0,f-1),v=l(v,0,f-1),g=l(g,0,h-1),y=l(y,0,h-1),m=l(m,0,p-1),x=l(x,0,p-1),d&lt;0||g&lt;0||m&lt;0||v&gt;f-1||y&gt;h-1||x&gt;p-1)return n.create();var b,_,w,T,k,M,A=a[0][d],S=a[0][v],E=a[1][g],C=a[1][y],L=a[2][m],I=(o-A)/(S-A),P=(c-E)/(C-E),z=(u-L)/(a[2][x]-L);switch(isFinite(I)||(I=.5),isFinite(P)||(P=.5),isFinite(z)||(z=.5),r.reversedX&amp;&amp;(d=f-1-d,v=f-1-v),r.reversedY&amp;&amp;(g=h-1-g,y=h-1-y),r.reversedZ&amp;&amp;(m=p-1-m,x=p-1-x),r.filled){case 5:k=m,M=x,w=g*p,T=y*p,b=d*p*h,_=v*p*h;break;case 4:k=m,M=x,b=d*p,_=v*p,w=g*p*f,T=y*p*f;break;case 3:w=g,T=y,k=m*h,M=x*h,b=d*h*p,_=v*h*p;break;case 2:w=g,T=y,b=d*h,_=v*h,k=m*h*f,M=x*h*f;break;case 1:b=d,_=v,k=m*f,M=x*f,w=g*f*p,T=y*f*p;break;default:b=d,_=v,w=g*f,T=y*f,k=m*f*h,M=x*f*h}var O=i[b+w+k],D=i[b+w+M],R=i[b+T+k],F=i[b+T+M],B=i[_+w+k],N=i[_+w+M],j=i[_+T+k],U=i[_+T+M],V=n.create(),q=n.create(),H=n.create(),G=n.create();n.lerp(V,O,B,I),n.lerp(q,D,N,I),n.lerp(H,R,j,I),n.lerp(G,F,U,I);var Y=n.create(),W=n.create();n.lerp(Y,V,H,P),n.lerp(W,q,G,P);var X=n.create();return n.lerp(X,Y,W,z),X}(e,t,p)},g=t.getDivergence||function(t,e){var r=n.create(),i=1e-4;n.add(r,t,[i,0,0]);var a=d(r);n.subtract(a,a,e),n.scale(a,a,1/i),n.add(r,t,[0,i,0]);var o=d(r);n.subtract(o,o,e),n.scale(o,o,1/i),n.add(r,t,[0,0,i]);var s=d(r);return n.subtract(s,s,e),n.scale(s,s,1/i),n.add(r,a,o),n.add(r,r,s),r},m=[],v=e[0][0],y=e[0][1],x=e[0][2],b=e[1][0],_=e[1][1],w=e[1][2],T=function(t){var e=t[0],r=t[1],n=t[2];return!(e&lt;v||e&gt;b||r&lt;y||r&gt;_||n&lt;x||n&gt;w)},k=10*n.distance(e[0],e[1])/i,M=k*k,A=1,S=0,E=r.length;E&gt;1&amp;&amp;(A=function(t){for(var e=[],r=[],n=[],i={},a={},o={},s=t.length,l=0;l&lt;s;l++){var u=t[l],f=u[0],h=u[1],p=u[2];i[f]||(e.push(f),i[f]=!0),a[h]||(r.push(h),a[h]=!0),o[p]||(n.push(p),o[p]=!0)}var d=c(e),g=c(r),m=c(n),v=Math.min(d,g,m);return isFinite(v)?v:1}(r));for(var C=0;C&lt;E;C++){var L=n.create();n.copy(L,r[C]);var I=[L],P=[],z=d(L),O=L;P.push(z);var D=[],R=g(L,z),F=n.length(R);isFinite(F)&amp;&amp;F&gt;S&amp;&amp;(S=F),D.push(F),m.push({points:I,velocities:P,divergences:D});for(var B=0;B&lt;100*i&amp;&amp;I.length&lt;i&amp;&amp;T(L);){B++;var N=n.clone(z),j=n.squaredLength(N);if(0===j)break;if(j&gt;M&amp;&amp;n.scale(N,N,k/Math.sqrt(j)),n.add(N,N,L),z=d(N),n.squaredDistance(O,N)-M&gt;-1e-4*M){I.push(N),O=N,P.push(z);R=g(N,z),F=n.length(R);isFinite(F)&amp;&amp;F&gt;S&amp;&amp;(S=F),D.push(F)}L=N}}var U=o(m,t.colormap,S,A);return f?U.tubeScale=f:(0===S&amp;&amp;(S=1),U.tubeScale=.5*u*A/S),U};var u=t(\&quot;./lib/shaders\&quot;),f=t(\&quot;gl-cone3d\&quot;).createMesh;e.exports.createTubeMesh=function(t,e){return f(t,e,{shaders:u,traceType:\&quot;streamtube\&quot;})}},{\&quot;./lib/shaders\&quot;:346,\&quot;gl-cone3d\&quot;:260,\&quot;gl-vec3\&quot;:377,\&quot;gl-vec4\&quot;:413}],349:[function(t,e,r){var n=t(\&quot;gl-shader\&quot;),i=t(\&quot;glslify\&quot;),a=i([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec4 uv;\\nattribute vec3 f;\\nattribute vec3 normal;\\n\\nuniform vec3 objectOffset;\\nuniform mat4 model, view, projection, inverseModel;\\nuniform vec3 lightPosition, eyePosition;\\nuniform sampler2D colormap;\\n\\nvarying float value, kill;\\nvarying vec3 worldCoordinate;\\nvarying vec2 planeCoordinate;\\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\\nvarying vec4 vColor;\\n\\nvoid main() {\\n  vec3 localCoordinate = vec3(uv.zw, f.x);\\n  worldCoordinate = objectOffset + localCoordinate;\\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\\n  vec4 clipPosition = projection * view * worldPosition;\\n  gl_Position = clipPosition;\\n  kill = f.y;\\n  value = f.z;\\n  planeCoordinate = uv.xy;\\n\\n  vColor = texture2D(colormap, vec2(value, value));\\n\\n  //Lighting geometry parameters\\n  vec4 cameraCoordinate = view * worldPosition;\\n  cameraCoordinate.xyz /= cameraCoordinate.w;\\n  lightDirection = lightPosition - cameraCoordinate.xyz;\\n  eyeDirection   = eyePosition - cameraCoordinate.xyz;\\n  surfaceNormal  = normalize((vec4(normal,0) * inverseModel).xyz);\\n}\\n\&quot;]),o=i([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nfloat beckmannDistribution(float x, float roughness) {\\n  float NdotH = max(x, 0.0001);\\n  float cos2Alpha = NdotH * NdotH;\\n  float tan2Alpha = (cos2Alpha - 1.0) / cos2Alpha;\\n  float roughness2 = roughness * roughness;\\n  float denom = 3.141592653589793 * roughness2 * cos2Alpha * cos2Alpha;\\n  return exp(tan2Alpha / roughness2) / denom;\\n}\\n\\nfloat beckmannSpecular(\\n  vec3 lightDirection,\\n  vec3 viewDirection,\\n  vec3 surfaceNormal,\\n  float roughness) {\\n  return beckmannDistribution(dot(surfaceNormal, normalize(lightDirection + viewDirection)), roughness);\\n}\\n\\nbool outOfRange(float a, float b, float p) {\\n  return ((p &gt; max(a, b)) || \\n          (p &lt; min(a, b)));\\n}\\n\\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y));\\n}\\n\\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y) ||\\n          outOfRange(a.z, b.z, p.z));\\n}\\n\\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\\n  return outOfRange(a.xyz, b.xyz, p.xyz);\\n}\\n\\nuniform vec3 lowerBound, upperBound;\\nuniform float contourTint;\\nuniform vec4 contourColor;\\nuniform sampler2D colormap;\\nuniform vec3 clipBounds[2];\\nuniform float roughness, fresnel, kambient, kdiffuse, kspecular, opacity;\\nuniform float vertexColor;\\n\\nvarying float value, kill;\\nvarying vec3 worldCoordinate;\\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\\nvarying vec4 vColor;\\n\\nvoid main() {\\n  if (\\n    kill &gt; 0.0 ||\\n    vColor.a == 0.0 ||\\n    outOfRange(clipBounds[0], clipBounds[1], worldCoordinate)\\n  ) discard;\\n\\n  vec3 N = normalize(surfaceNormal);\\n  vec3 V = normalize(eyeDirection);\\n  vec3 L = normalize(lightDirection);\\n\\n  if(gl_FrontFacing) {\\n    N = -N;\\n  }\\n\\n  float specular = max(beckmannSpecular(L, V, N, roughness), 0.);\\n  float diffuse  = min(kambient + kdiffuse * max(dot(N, L), 0.0), 1.0);\\n\\n  //decide how to interpolate color \\u2014 in vertex or in fragment\\n  vec4 surfaceColor =\\n    step(vertexColor, .5) * texture2D(colormap, vec2(value, value)) +\\n    step(.5, vertexColor) * vColor;\\n\\n  vec4 litColor = surfaceColor.a * vec4(diffuse * surfaceColor.rgb + kspecular * vec3(1,1,1) * specular,  1.0);\\n\\n  gl_FragColor = mix(litColor, contourColor, contourTint) * opacity;\\n}\\n\&quot;]),s=i([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nattribute vec4 uv;\\nattribute float f;\\n\\nuniform vec3 objectOffset;\\nuniform mat3 permutation;\\nuniform mat4 model, view, projection;\\nuniform float height, zOffset;\\nuniform sampler2D colormap;\\n\\nvarying float value, kill;\\nvarying vec3 worldCoordinate;\\nvarying vec2 planeCoordinate;\\nvarying vec3 lightDirection, eyeDirection, surfaceNormal;\\nvarying vec4 vColor;\\n\\nvoid main() {\\n  vec3 dataCoordinate = permutation * vec3(uv.xy, height);\\n  worldCoordinate = objectOffset + dataCoordinate;\\n  vec4 worldPosition = model * vec4(worldCoordinate, 1.0);\\n\\n  vec4 clipPosition = projection * view * worldPosition;\\n  clipPosition.z += zOffset;\\n\\n  gl_Position = clipPosition;\\n  value = f + objectOffset.z;\\n  kill = -1.0;\\n  planeCoordinate = uv.zw;\\n\\n  vColor = texture2D(colormap, vec2(value, value));\\n\\n  //Don't do lighting for contours\\n  surfaceNormal   = vec3(1,0,0);\\n  eyeDirection    = vec3(0,1,0);\\n  lightDirection  = vec3(0,0,1);\\n}\\n\&quot;]),l=i([\&quot;precision highp float;\\n#define GLSLIFY 1\\n\\nbool outOfRange(float a, float b, float p) {\\n  return ((p &gt; max(a, b)) || \\n          (p &lt; min(a, b)));\\n}\\n\\nbool outOfRange(vec2 a, vec2 b, vec2 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y));\\n}\\n\\nbool outOfRange(vec3 a, vec3 b, vec3 p) {\\n  return (outOfRange(a.x, b.x, p.x) ||\\n          outOfRange(a.y, b.y, p.y) ||\\n          outOfRange(a.z, b.z, p.z));\\n}\\n\\nbool outOfRange(vec4 a, vec4 b, vec4 p) {\\n  return outOfRange(a.xyz, b.xyz, p.xyz);\\n}\\n\\nuniform vec2 shape;\\nuniform vec3 clipBounds[2];\\nuniform float pickId;\\n\\nvarying float value, kill;\\nvarying vec3 worldCoordinate;\\nvarying vec2 planeCoordinate;\\nvarying vec3 surfaceNormal;\\n\\nvec2 splitFloat(float v) {\\n  float vh = 255.0 * v;\\n  float upper = floor(vh);\\n  float lower = fract(vh);\\n  return vec2(upper / 255.0, floor(lower * 16.0) / 16.0);\\n}\\n\\nvoid main() {\\n  if ((kill &gt; 0.0) ||\\n      (outOfRange(clipBounds[0], clipBounds[1], worldCoordinate))) discard;\\n\\n  vec2 ux = splitFloat(planeCoordinate.x / shape.x);\\n  vec2 uy = splitFloat(planeCoordinate.y / shape.y);\\n  gl_FragColor = vec4(pickId, ux.x, uy.x, ux.y + (uy.y/16.0));\\n}\\n\&quot;]);r.createShader=function(t){var e=n(t,a,o,null,[{name:\&quot;uv\&quot;,type:\&quot;vec4\&quot;},{name:\&quot;f\&quot;,type:\&quot;vec3\&quot;},{name:\&quot;normal\&quot;,type:\&quot;vec3\&quot;}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e.attributes.normal.location=2,e},r.createPickShader=function(t){var e=n(t,a,l,null,[{name:\&quot;uv\&quot;,type:\&quot;vec4\&quot;},{name:\&quot;f\&quot;,type:\&quot;vec3\&quot;},{name:\&quot;normal\&quot;,type:\&quot;vec3\&quot;}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e.attributes.normal.location=2,e},r.createContourShader=function(t){var e=n(t,s,o,null,[{name:\&quot;uv\&quot;,type:\&quot;vec4\&quot;},{name:\&quot;f\&quot;,type:\&quot;float\&quot;}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e},r.createPickContourShader=function(t){var e=n(t,s,l,null,[{name:\&quot;uv\&quot;,type:\&quot;vec4\&quot;},{name:\&quot;f\&quot;,type:\&quot;float\&quot;}]);return e.attributes.uv.location=0,e.attributes.f.location=1,e}},{\&quot;gl-shader\&quot;:335,glslify:350}],350:[function(t,e,r){arguments[4][257][0].apply(r,arguments)},{dup:257}],351:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){var e=t.gl,r=y(e),n=b(e),s=x(e),l=_(e),c=i(e),u=a(e,[{buffer:c,size:4,stride:40,offset:0},{buffer:c,size:3,stride:40,offset:16},{buffer:c,size:3,stride:40,offset:28}]),f=i(e),h=a(e,[{buffer:f,size:4,stride:20,offset:0},{buffer:f,size:1,stride:20,offset:16}]),p=i(e),d=a(e,[{buffer:p,size:2,type:e.FLOAT}]),g=o(e,1,256,e.RGBA,e.UNSIGNED_BYTE);g.minFilter=e.LINEAR,g.magFilter=e.LINEAR;var m=new A(e,[0,0],[[0,0,0],[0,0,0]],r,n,c,u,g,s,l,f,h,p,d,[0,0,0]),v={levels:[[],[],[]]};for(var w in t)v[w]=t[w];return v.colormap=v.colormap||\&quot;jet\&quot;,m.update(v),m};var n=t(\&quot;bit-twiddle\&quot;),i=t(\&quot;gl-buffer\&quot;),a=t(\&quot;gl-vao\&quot;),o=t(\&quot;gl-texture2d\&quot;),s=t(\&quot;typedarray-pool\&quot;),l=t(\&quot;colormap\&quot;),c=t(\&quot;ndarray-ops\&quot;),u=t(\&quot;ndarray-pack\&quot;),f=t(\&quot;ndarray\&quot;),h=t(\&quot;surface-nets\&quot;),p=t(\&quot;gl-mat4/multiply\&quot;),d=t(\&quot;gl-mat4/invert\&quot;),g=t(\&quot;binary-search-bounds\&quot;),m=t(\&quot;ndarray-gradient\&quot;),v=t(\&quot;./lib/shaders\&quot;),y=v.createShader,x=v.createContourShader,b=v.createPickShader,_=v.createPickContourShader,w=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],T=[[0,0],[0,1],[1,0],[1,1],[1,0],[0,1]],k=[[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0]];function M(t,e,r,n,i){this.position=t,this.index=e,this.uv=r,this.level=n,this.dataCoordinate=i}!function(){for(var t=0;t&lt;3;++t){var e=k[t],r=(t+2)%3;e[(t+1)%3+0]=1,e[r+3]=1,e[t+6]=1}}();function A(t,e,r,n,i,a,o,l,c,u,h,p,d,g,m){this.gl=t,this.shape=e,this.bounds=r,this.objectOffset=m,this.intensityBounds=[],this._shader=n,this._pickShader=i,this._coordinateBuffer=a,this._vao=o,this._colorMap=l,this._contourShader=c,this._contourPickShader=u,this._contourBuffer=h,this._contourVAO=p,this._contourOffsets=[[],[],[]],this._contourCounts=[[],[],[]],this._vertexCount=0,this._pickResult=new M([0,0,0],[0,0],[0,0],[0,0,0],[0,0,0]),this._dynamicBuffer=d,this._dynamicVAO=g,this._dynamicOffsets=[0,0,0],this._dynamicCounts=[0,0,0],this.contourWidth=[1,1,1],this.contourLevels=[[1],[1],[1]],this.contourTint=[0,0,0],this.contourColor=[[.5,.5,.5,1],[.5,.5,.5,1],[.5,.5,.5,1]],this.showContour=!0,this.showSurface=!0,this.enableHighlight=[!0,!0,!0],this.highlightColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.highlightTint=[1,1,1],this.highlightLevel=[-1,-1,-1],this.enableDynamic=[!0,!0,!0],this.dynamicLevel=[NaN,NaN,NaN],this.dynamicColor=[[0,0,0,1],[0,0,0,1],[0,0,0,1]],this.dynamicTint=[1,1,1],this.dynamicWidth=[1,1,1],this.axesBounds=[[1/0,1/0,1/0],[-1/0,-1/0,-1/0]],this.surfaceProject=[!1,!1,!1],this.contourProject=[[!1,!1,!1],[!1,!1,!1],[!1,!1,!1]],this.colorBounds=[!1,!1],this._field=[f(s.mallocFloat(1024),[0,0]),f(s.mallocFloat(1024),[0,0]),f(s.mallocFloat(1024),[0,0])],this.pickId=1,this.clipBounds=[[-1/0,-1/0,-1/0],[1/0,1/0,1/0]],this.snapToData=!1,this.pixelRatio=1,this.opacity=1,this.lightPosition=[10,1e4,0],this.ambientLight=.8,this.diffuseLight=.8,this.specularLight=2,this.roughness=.5,this.fresnel=1.5,this.vertexColor=0,this.dirty=!0}var S=A.prototype;S.genColormap=function(t,e){var r=!1,n=u([l({colormap:t,nshades:256,format:\&quot;rgba\&quot;}).map((function(t,n){var i=e?function(t,e){if(!e)return 1;if(!e.length)return 1;for(var r=0;r&lt;e.length;++r){if(e.length&lt;2)return 1;if(e[r][0]===t)return e[r][1];if(e[r][0]&gt;t&amp;&amp;r&gt;0){var n=(e[r][0]-t)/(e[r][0]-e[r-1][0]);return e[r][1]*(1-n)+n*e[r-1][1]}}return 1}(n/255,e):t[3];return i&lt;1&amp;&amp;(r=!0),[t[0],t[1],t[2],255*i]}))]);return c.divseq(n,255),this.hasAlphaScale=r,n},S.isTransparent=function(){return this.opacity&lt;1||this.hasAlphaScale},S.isOpaque=function(){return!this.isTransparent()},S.pickSlots=1,S.setPickBase=function(t){this.pickId=t};var E=[0,0,0],C={showSurface:!1,showContour:!1,projections:[w.slice(),w.slice(),w.slice()],clipBounds:[[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]],[[0,0,0],[0,0,0]]]};function L(t,e){var r,n,i,a=e.axes&amp;&amp;e.axes.lastCubeProps.axis||E,o=e.showSurface,s=e.showContour;for(r=0;r&lt;3;++r)for(o=o||e.surfaceProject[r],n=0;n&lt;3;++n)s=s||e.contourProject[r][n];for(r=0;r&lt;3;++r){var l=C.projections[r];for(n=0;n&lt;16;++n)l[n]=0;for(n=0;n&lt;4;++n)l[5*n]=1;l[5*r]=0,l[12+r]=e.axesBounds[+(a[r]&gt;0)][r],p(l,t.model,l);var c=C.clipBounds[r];for(i=0;i&lt;2;++i)for(n=0;n&lt;3;++n)c[i][n]=t.clipBounds[i][n];c[0][r]=-1e8,c[1][r]=1e8}return C.showSurface=o,C.showContour=s,C}var I={model:w,view:w,projection:w,inverseModel:w.slice(),lowerBound:[0,0,0],upperBound:[0,0,0],colorMap:0,clipBounds:[[0,0,0],[0,0,0]],height:0,contourTint:0,contourColor:[0,0,0,1],permutation:[1,0,0,0,1,0,0,0,1],zOffset:-1e-4,objectOffset:[0,0,0],kambient:1,kdiffuse:1,kspecular:1,lightPosition:[1e3,1e3,1e3],eyePosition:[0,0,0],roughness:1,fresnel:1,opacity:1,vertexColor:0},P=w.slice(),z=[1,0,0,0,1,0,0,0,1];function O(t,e){t=t||{};var r=this.gl;r.disable(r.CULL_FACE),this._colorMap.bind(0);var n=I;n.model=t.model||w,n.view=t.view||w,n.projection=t.projection||w,n.lowerBound=[this.bounds[0][0],this.bounds[0][1],this.colorBounds[0]||this.bounds[0][2]],n.upperBound=[this.bounds[1][0],this.bounds[1][1],this.colorBounds[1]||this.bounds[1][2]],n.objectOffset=this.objectOffset,n.contourColor=this.contourColor[0],n.inverseModel=d(n.inverseModel,n.model);for(var i=0;i&lt;2;++i)for(var a=n.clipBounds[i],o=0;o&lt;3;++o)a[o]=Math.min(Math.max(this.clipBounds[i][o],-1e8),1e8);n.kambient=this.ambientLight,n.kdiffuse=this.diffuseLight,n.kspecular=this.specularLight,n.roughness=this.roughness,n.fresnel=this.fresnel,n.opacity=this.opacity,n.height=0,n.permutation=z,n.vertexColor=this.vertexColor;var s=P;for(p(s,n.view,n.model),p(s,n.projection,s),d(s,s),i=0;i&lt;3;++i)n.eyePosition[i]=s[12+i]/s[15];var l=s[15];for(i=0;i&lt;3;++i)l+=this.lightPosition[i]*s[4*i+3];for(i=0;i&lt;3;++i){var c=s[12+i];for(o=0;o&lt;3;++o)c+=s[4*o+i]*this.lightPosition[o];n.lightPosition[i]=c/l}var u=L(n,this);if(u.showSurface){for(this._shader.bind(),this._shader.uniforms=n,this._vao.bind(),this.showSurface&amp;&amp;this._vertexCount&amp;&amp;this._vao.draw(r.TRIANGLES,this._vertexCount),i=0;i&lt;3;++i)this.surfaceProject[i]&amp;&amp;this.vertexCount&amp;&amp;(this._shader.uniforms.model=u.projections[i],this._shader.uniforms.clipBounds=u.clipBounds[i],this._vao.draw(r.TRIANGLES,this._vertexCount));this._vao.unbind()}if(u.showContour){var f=this._contourShader;n.kambient=1,n.kdiffuse=0,n.kspecular=0,n.opacity=1,f.bind(),f.uniforms=n;var h=this._contourVAO;for(h.bind(),i=0;i&lt;3;++i)for(f.uniforms.permutation=k[i],r.lineWidth(this.contourWidth[i]*this.pixelRatio),o=0;o&lt;this.contourLevels[i].length;++o)o===this.highlightLevel[i]?(f.uniforms.contourColor=this.highlightColor[i],f.uniforms.contourTint=this.highlightTint[i]):0!==o&amp;&amp;o-1!==this.highlightLevel[i]||(f.uniforms.contourColor=this.contourColor[i],f.uniforms.contourTint=this.contourTint[i]),this._contourCounts[i][o]&amp;&amp;(f.uniforms.height=this.contourLevels[i][o],h.draw(r.LINES,this._contourCounts[i][o],this._contourOffsets[i][o]));for(i=0;i&lt;3;++i)for(f.uniforms.model=u.projections[i],f.uniforms.clipBounds=u.clipBounds[i],o=0;o&lt;3;++o)if(this.contourProject[i][o]){f.uniforms.permutation=k[o],r.lineWidth(this.contourWidth[o]*this.pixelRatio);for(var g=0;g&lt;this.contourLevels[o].length;++g)g===this.highlightLevel[o]?(f.uniforms.contourColor=this.highlightColor[o],f.uniforms.contourTint=this.highlightTint[o]):0!==g&amp;&amp;g-1!==this.highlightLevel[o]||(f.uniforms.contourColor=this.contourColor[o],f.uniforms.contourTint=this.contourTint[o]),this._contourCounts[o][g]&amp;&amp;(f.uniforms.height=this.contourLevels[o][g],h.draw(r.LINES,this._contourCounts[o][g],this._contourOffsets[o][g]))}for(h.unbind(),(h=this._dynamicVAO).bind(),i=0;i&lt;3;++i)if(0!==this._dynamicCounts[i])for(f.uniforms.model=n.model,f.uniforms.clipBounds=n.clipBounds,f.uniforms.permutation=k[i],r.lineWidth(this.dynamicWidth[i]*this.pixelRatio),f.uniforms.contourColor=this.dynamicColor[i],f.uniforms.contourTint=this.dynamicTint[i],f.uniforms.height=this.dynamicLevel[i],h.draw(r.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]),o=0;o&lt;3;++o)this.contourProject[o][i]&amp;&amp;(f.uniforms.model=u.projections[o],f.uniforms.clipBounds=u.clipBounds[o],h.draw(r.LINES,this._dynamicCounts[i],this._dynamicOffsets[i]));h.unbind()}}S.draw=function(t){return O.call(this,t,!1)},S.drawTransparent=function(t){return O.call(this,t,!0)};var D={model:w,view:w,projection:w,inverseModel:w,clipBounds:[[0,0,0],[0,0,0]],height:0,shape:[0,0],pickId:0,lowerBound:[0,0,0],upperBound:[0,0,0],zOffset:0,objectOffset:[0,0,0],permutation:[1,0,0,0,1,0,0,0,1],lightPosition:[0,0,0],eyePosition:[0,0,0]};function R(t,e){return Array.isArray(t)?[e(t[0]),e(t[1]),e(t[2])]:[e(t),e(t),e(t)]}function F(t){return Array.isArray(t)?3===t.length?[t[0],t[1],t[2],1]:[t[0],t[1],t[2],t[3]]:[0,0,0,1]}function B(t){if(Array.isArray(t)){if(Array.isArray(t))return[F(t[0]),F(t[1]),F(t[2])];var e=F(t);return[e.slice(),e.slice(),e.slice()]}}S.drawPick=function(t){t=t||{};var e=this.gl;e.disable(e.CULL_FACE);var r=D;r.model=t.model||w,r.view=t.view||w,r.projection=t.projection||w,r.shape=this._field[2].shape,r.pickId=this.pickId/255,r.lowerBound=this.bounds[0],r.upperBound=this.bounds[1],r.objectOffset=this.objectOffset,r.permutation=z;for(var n=0;n&lt;2;++n)for(var i=r.clipBounds[n],a=0;a&lt;3;++a)i[a]=Math.min(Math.max(this.clipBounds[n][a],-1e8),1e8);var o=L(r,this);if(o.showSurface){for(this._pickShader.bind(),this._pickShader.uniforms=r,this._vao.bind(),this._vao.draw(e.TRIANGLES,this._vertexCount),n=0;n&lt;3;++n)this.surfaceProject[n]&amp;&amp;(this._pickShader.uniforms.model=o.projections[n],this._pickShader.uniforms.clipBounds=o.clipBounds[n],this._vao.draw(e.TRIANGLES,this._vertexCount));this._vao.unbind()}if(o.showContour){var s=this._contourPickShader;s.bind(),s.uniforms=r;var l=this._contourVAO;for(l.bind(),a=0;a&lt;3;++a)for(e.lineWidth(this.contourWidth[a]*this.pixelRatio),s.uniforms.permutation=k[a],n=0;n&lt;this.contourLevels[a].length;++n)this._contourCounts[a][n]&amp;&amp;(s.uniforms.height=this.contourLevels[a][n],l.draw(e.LINES,this._contourCounts[a][n],this._contourOffsets[a][n]));for(n=0;n&lt;3;++n)for(s.uniforms.model=o.projections[n],s.uniforms.clipBounds=o.clipBounds[n],a=0;a&lt;3;++a)if(this.contourProject[n][a]){s.uniforms.permutation=k[a],e.lineWidth(this.contourWidth[a]*this.pixelRatio);for(var c=0;c&lt;this.contourLevels[a].length;++c)this._contourCounts[a][c]&amp;&amp;(s.uniforms.height=this.contourLevels[a][c],l.draw(e.LINES,this._contourCounts[a][c],this._contourOffsets[a][c]))}l.unbind()}},S.pick=function(t){if(!t)return null;if(t.id!==this.pickId)return null;var e=this._field[2].shape,r=this._pickResult,n=e[0]*(t.value[0]+(t.value[2]&gt;&gt;4)/16)/255,i=Math.floor(n),a=n-i,o=e[1]*(t.value[1]+(15&amp;t.value[2])/16)/255,s=Math.floor(o),l=o-s;i+=1,s+=1;var c=r.position;c[0]=c[1]=c[2]=0;for(var u=0;u&lt;2;++u)for(var f=u?a:1-a,h=0;h&lt;2;++h)for(var p=i+u,d=s+h,m=f*(h?l:1-l),v=0;v&lt;3;++v)c[v]+=this._field[v].get(p,d)*m;for(var y=this._pickResult.level,x=0;x&lt;3;++x)if(y[x]=g.le(this.contourLevels[x],c[x]),y[x]&lt;0)this.contourLevels[x].length&gt;0&amp;&amp;(y[x]=0);else if(y[x]&lt;this.contourLevels[x].length-1){var b=this.contourLevels[x][y[x]],_=this.contourLevels[x][y[x]+1];Math.abs(b-c[x])&gt;Math.abs(_-c[x])&amp;&amp;(y[x]+=1)}for(r.index[0]=a&lt;.5?i:i+1,r.index[1]=l&lt;.5?s:s+1,r.uv[0]=n/e[0],r.uv[1]=o/e[1],v=0;v&lt;3;++v)r.dataCoordinate[v]=this._field[v].get(r.index[0],r.index[1]);return r},S.padField=function(t,e){var r=e.shape.slice(),n=t.shape.slice();c.assign(t.lo(1,1).hi(r[0],r[1]),e),c.assign(t.lo(1).hi(r[0],1),e.hi(r[0],1)),c.assign(t.lo(1,n[1]-1).hi(r[0],1),e.lo(0,r[1]-1).hi(r[0],1)),c.assign(t.lo(0,1).hi(1,r[1]),e.hi(1)),c.assign(t.lo(n[0]-1,1).hi(1,r[1]),e.lo(r[0]-1)),t.set(0,0,e.get(0,0)),t.set(0,n[1]-1,e.get(0,r[1]-1)),t.set(n[0]-1,0,e.get(r[0]-1,0)),t.set(n[0]-1,n[1]-1,e.get(r[0]-1,r[1]-1))},S.update=function(t){t=t||{},this.objectOffset=t.objectOffset||this.objectOffset,this.dirty=!0,\&quot;contourWidth\&quot;in t&amp;&amp;(this.contourWidth=R(t.contourWidth,Number)),\&quot;showContour\&quot;in t&amp;&amp;(this.showContour=R(t.showContour,Boolean)),\&quot;showSurface\&quot;in t&amp;&amp;(this.showSurface=!!t.showSurface),\&quot;contourTint\&quot;in t&amp;&amp;(this.contourTint=R(t.contourTint,Boolean)),\&quot;contourColor\&quot;in t&amp;&amp;(this.contourColor=B(t.contourColor)),\&quot;contourProject\&quot;in t&amp;&amp;(this.contourProject=R(t.contourProject,(function(t){return R(t,Boolean)}))),\&quot;surfaceProject\&quot;in t&amp;&amp;(this.surfaceProject=t.surfaceProject),\&quot;dynamicColor\&quot;in t&amp;&amp;(this.dynamicColor=B(t.dynamicColor)),\&quot;dynamicTint\&quot;in t&amp;&amp;(this.dynamicTint=R(t.dynamicTint,Number)),\&quot;dynamicWidth\&quot;in t&amp;&amp;(this.dynamicWidth=R(t.dynamicWidth,Number)),\&quot;opacity\&quot;in t&amp;&amp;(this.opacity=t.opacity),\&quot;opacityscale\&quot;in t&amp;&amp;(this.opacityscale=t.opacityscale),\&quot;colorBounds\&quot;in t&amp;&amp;(this.colorBounds=t.colorBounds),\&quot;vertexColor\&quot;in t&amp;&amp;(this.vertexColor=t.vertexColor?1:0),\&quot;colormap\&quot;in t&amp;&amp;this._colorMap.setPixels(this.genColormap(t.colormap,this.opacityscale));var e=t.field||t.coords&amp;&amp;t.coords[2]||null,r=!1;if(e||(e=this._field[2].shape[0]||this._field[2].shape[2]?this._field[2].lo(1,1).hi(this._field[2].shape[0]-2,this._field[2].shape[1]-2):this._field[2].hi(0,0)),\&quot;field\&quot;in t||\&quot;coords\&quot;in t){var i=(e.shape[0]+2)*(e.shape[1]+2);i&gt;this._field[2].data.length&amp;&amp;(s.freeFloat(this._field[2].data),this._field[2].data=s.mallocFloat(n.nextPow2(i))),this._field[2]=f(this._field[2].data,[e.shape[0]+2,e.shape[1]+2]),this.padField(this._field[2],e),this.shape=e.shape.slice();for(var a=this.shape,o=0;o&lt;2;++o)this._field[2].size&gt;this._field[o].data.length&amp;&amp;(s.freeFloat(this._field[o].data),this._field[o].data=s.mallocFloat(this._field[2].size)),this._field[o]=f(this._field[o].data,[a[0]+2,a[1]+2]);if(t.coords){var l=t.coords;if(!Array.isArray(l)||3!==l.length)throw new Error(\&quot;gl-surface: invalid coordinates for x/y\&quot;);for(o=0;o&lt;2;++o){var c=l[o];for(v=0;v&lt;2;++v)if(c.shape[v]!==a[v])throw new Error(\&quot;gl-surface: coords have incorrect shape\&quot;);this.padField(this._field[o],c)}}else if(t.ticks){var u=t.ticks;if(!Array.isArray(u)||2!==u.length)throw new Error(\&quot;gl-surface: invalid ticks\&quot;);for(o=0;o&lt;2;++o){var p=u[o];if((Array.isArray(p)||p.length)&amp;&amp;(p=f(p)),p.shape[0]!==a[o])throw new Error(\&quot;gl-surface: invalid tick length\&quot;);var d=f(p.data,a);d.stride[o]=p.stride[0],d.stride[1^o]=0,this.padField(this._field[o],d)}}else{for(o=0;o&lt;2;++o){var g=[0,0];g[o]=1,this._field[o]=f(this._field[o].data,[a[0]+2,a[1]+2],g,0)}this._field[0].set(0,0,0);for(var v=0;v&lt;a[0];++v)this._field[0].set(v+1,0,v);for(this._field[0].set(a[0]+1,0,a[0]-1),this._field[1].set(0,0,0),v=0;v&lt;a[1];++v)this._field[1].set(0,v+1,v);this._field[1].set(0,a[1]+1,a[1]-1)}var y=this._field,x=f(s.mallocFloat(3*y[2].size*2),[3,a[0]+2,a[1]+2,2]);for(o=0;o&lt;3;++o)m(x.pick(o),y[o],\&quot;mirror\&quot;);var b=f(s.mallocFloat(3*y[2].size),[a[0]+2,a[1]+2,3]);for(o=0;o&lt;a[0]+2;++o)for(v=0;v&lt;a[1]+2;++v){var _=x.get(0,o,v,0),w=x.get(0,o,v,1),k=x.get(1,o,v,0),M=x.get(1,o,v,1),A=x.get(2,o,v,0),S=x.get(2,o,v,1),E=k*S-M*A,C=A*w-S*_,L=_*M-w*k,I=Math.sqrt(E*E+C*C+L*L);I&lt;1e-8?(I=Math.max(Math.abs(E),Math.abs(C),Math.abs(L)))&lt;1e-8?(L=1,C=E=0,I=1):I=1/I:I=1/Math.sqrt(I),b.set(o,v,0,E*I),b.set(o,v,1,C*I),b.set(o,v,2,L*I)}s.free(x.data);var P=[1/0,1/0,1/0],z=[-1/0,-1/0,-1/0],O=1/0,D=-1/0,F=(a[0]-1)*(a[1]-1)*6,N=s.mallocFloat(n.nextPow2(10*F)),j=0,U=0;for(o=0;o&lt;a[0]-1;++o)t:for(v=0;v&lt;a[1]-1;++v){for(var V=0;V&lt;2;++V)for(var q=0;q&lt;2;++q)for(var H=0;H&lt;3;++H){var G=this._field[H].get(1+o+V,1+v+q);if(isNaN(G)||!isFinite(G))continue t}for(H=0;H&lt;6;++H){var Y=o+T[H][0],W=v+T[H][1],X=this._field[0].get(Y+1,W+1),Z=this._field[1].get(Y+1,W+1);G=this._field[2].get(Y+1,W+1),E=b.get(Y+1,W+1,0),C=b.get(Y+1,W+1,1),L=b.get(Y+1,W+1,2),t.intensity&amp;&amp;(J=t.intensity.get(Y,W));var J=t.intensity?t.intensity.get(Y,W):G+this.objectOffset[2];N[j++]=Y,N[j++]=W,N[j++]=X,N[j++]=Z,N[j++]=G,N[j++]=0,N[j++]=J,N[j++]=E,N[j++]=C,N[j++]=L,P[0]=Math.min(P[0],X+this.objectOffset[0]),P[1]=Math.min(P[1],Z+this.objectOffset[1]),P[2]=Math.min(P[2],G+this.objectOffset[2]),O=Math.min(O,J),z[0]=Math.max(z[0],X+this.objectOffset[0]),z[1]=Math.max(z[1],Z+this.objectOffset[1]),z[2]=Math.max(z[2],G+this.objectOffset[2]),D=Math.max(D,J),U+=1}}for(t.intensityBounds&amp;&amp;(O=+t.intensityBounds[0],D=+t.intensityBounds[1]),o=6;o&lt;j;o+=10)N[o]=(N[o]-O)/(D-O);this._vertexCount=U,this._coordinateBuffer.update(N.subarray(0,j)),s.freeFloat(N),s.free(b.data),this.bounds=[P,z],this.intensity=t.intensity||this._field[2],this.intensityBounds[0]===O&amp;&amp;this.intensityBounds[1]===D||(r=!0),this.intensityBounds=[O,D]}if(\&quot;levels\&quot;in t){var K=t.levels;for(K=Array.isArray(K[0])?K.slice():[[],[],K],o=0;o&lt;3;++o)K[o]=K[o].slice(),K[o].sort((function(t,e){return t-e}));for(o=0;o&lt;3;++o)for(v=0;v&lt;K[o].length;++v)K[o][v]-=this.objectOffset[o];t:for(o=0;o&lt;3;++o){if(K[o].length!==this.contourLevels[o].length){r=!0;break}for(v=0;v&lt;K[o].length;++v)if(K[o][v]!==this.contourLevels[o][v]){r=!0;break t}}this.contourLevels=K}if(r){y=this._field,a=this.shape;for(var Q=[],$=0;$&lt;3;++$){var tt=this.contourLevels[$],et=[],rt=[],nt=[0,0,0];for(o=0;o&lt;tt.length;++o){var it=h(this._field[$],tt[o]);et.push(Q.length/5|0),U=0;t:for(v=0;v&lt;it.cells.length;++v){var at=it.cells[v];for(H=0;H&lt;2;++H){var ot=it.positions[at[H]],st=ot[0],lt=0|Math.floor(st),ct=st-lt,ut=ot[1],ft=0|Math.floor(ut),ht=ut-ft,pt=!1;e:for(var dt=0;dt&lt;3;++dt){nt[dt]=0;var gt=($+dt+1)%3;for(V=0;V&lt;2;++V){var mt=V?ct:1-ct;for(Y=0|Math.min(Math.max(lt+V,0),a[0]),q=0;q&lt;2;++q){var vt=q?ht:1-ht;if(W=0|Math.min(Math.max(ft+q,0),a[1]),G=dt&lt;2?this._field[gt].get(Y,W):(this.intensity.get(Y,W)-this.intensityBounds[0])/(this.intensityBounds[1]-this.intensityBounds[0]),!isFinite(G)||isNaN(G)){pt=!0;break e}var yt=mt*vt;nt[dt]+=yt*G}}}if(pt){if(H&gt;0){for(var xt=0;xt&lt;5;++xt)Q.pop();U-=1}continue t}Q.push(nt[0],nt[1],ot[0],ot[1],nt[2]),U+=1}}rt.push(U)}this._contourOffsets[$]=et,this._contourCounts[$]=rt}var bt=s.mallocFloat(Q.length);for(o=0;o&lt;Q.length;++o)bt[o]=Q[o];this._contourBuffer.update(bt),s.freeFloat(bt)}},S.dispose=function(){this._shader.dispose(),this._vao.dispose(),this._coordinateBuffer.dispose(),this._colorMap.dispose(),this._contourBuffer.dispose(),this._contourVAO.dispose(),this._contourShader.dispose(),this._contourPickShader.dispose(),this._dynamicBuffer.dispose(),this._dynamicVAO.dispose();for(var t=0;t&lt;3;++t)s.freeFloat(this._field[t].data)},S.highlight=function(t){var e,r;if(!t)return this._dynamicCounts=[0,0,0],this.dyanamicLevel=[NaN,NaN,NaN],void(this.highlightLevel=[-1,-1,-1]);for(e=0;e&lt;3;++e)this.enableHighlight[e]?this.highlightLevel[e]=t.level[e]:this.highlightLevel[e]=-1;for(r=this.snapToData?t.dataCoordinate:t.position,e=0;e&lt;3;++e)r[e]-=this.objectOffset[e];if(this.enableDynamic[0]&amp;&amp;r[0]!==this.dynamicLevel[0]||this.enableDynamic[1]&amp;&amp;r[1]!==this.dynamicLevel[1]||this.enableDynamic[2]&amp;&amp;r[2]!==this.dynamicLevel[2]){for(var n=0,i=this.shape,a=s.mallocFloat(12*i[0]*i[1]),o=0;o&lt;3;++o)if(this.enableDynamic[o]){this.dynamicLevel[o]=r[o];var l=(o+1)%3,c=(o+2)%3,u=this._field[o],f=this._field[l],p=this._field[c],d=h(u,r[o]),g=d.cells,m=d.positions;for(this._dynamicOffsets[o]=n,e=0;e&lt;g.length;++e)for(var v=g[e],y=0;y&lt;2;++y){var x=m[v[y]],b=+x[0],_=0|b,w=0|Math.min(_+1,i[0]),T=b-_,k=1-T,M=+x[1],A=0|M,S=0|Math.min(A+1,i[1]),E=M-A,C=1-E,L=k*C,I=k*E,P=T*C,z=T*E,O=L*f.get(_,A)+I*f.get(_,S)+P*f.get(w,A)+z*f.get(w,S),D=L*p.get(_,A)+I*p.get(_,S)+P*p.get(w,A)+z*p.get(w,S);if(isNaN(O)||isNaN(D)){y&amp;&amp;(n-=1);break}a[2*n+0]=O,a[2*n+1]=D,n+=1}this._dynamicCounts[o]=n-this._dynamicOffsets[o]}else this.dynamicLevel[o]=NaN,this._dynamicCounts[o]=0;this._dynamicBuffer.update(a.subarray(0,2*n)),s.freeFloat(a)}}},{\&quot;./lib/shaders\&quot;:349,\&quot;binary-search-bounds\&quot;:96,\&quot;bit-twiddle\&quot;:97,colormap:131,\&quot;gl-buffer\&quot;:259,\&quot;gl-mat4/invert\&quot;:293,\&quot;gl-mat4/multiply\&quot;:295,\&quot;gl-texture2d\&quot;:353,\&quot;gl-vao\&quot;:358,ndarray:495,\&quot;ndarray-gradient\&quot;:488,\&quot;ndarray-ops\&quot;:490,\&quot;ndarray-pack\&quot;:491,\&quot;surface-nets\&quot;:570,\&quot;typedarray-pool\&quot;:595}],352:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;css-font\&quot;),i=t(\&quot;pick-by-alias\&quot;),a=t(\&quot;regl\&quot;),o=t(\&quot;gl-util/context\&quot;),s=t(\&quot;es6-weak-map\&quot;),l=t(\&quot;color-normalize\&quot;),c=t(\&quot;font-atlas\&quot;),u=t(\&quot;typedarray-pool\&quot;),f=t(\&quot;parse-rect\&quot;),h=t(\&quot;is-plain-obj\&quot;),p=t(\&quot;parse-unit\&quot;),d=t(\&quot;to-px\&quot;),g=t(\&quot;detect-kerning\&quot;),m=t(\&quot;object-assign\&quot;),v=t(\&quot;font-measure\&quot;),y=t(\&quot;flatten-vertex-data\&quot;),x=t(\&quot;bit-twiddle\&quot;).nextPow2,b=new s,_=!1;if(document.body){var w=document.body.appendChild(document.createElement(\&quot;div\&quot;));w.style.font=\&quot;italic small-caps bold condensed 16px/2 cursive\&quot;,getComputedStyle(w).fontStretch&amp;&amp;(_=!0),document.body.removeChild(w)}var T=function(t){!function(t){return\&quot;function\&quot;==typeof t&amp;&amp;t._gl&amp;&amp;t.prop&amp;&amp;t.texture&amp;&amp;t.buffer}(t)?this.gl=o(t):(t={regl:t},this.gl=t.regl._gl),this.shader=b.get(this.gl),this.shader?this.regl=this.shader.regl:this.regl=t.regl||a({gl:this.gl}),this.charBuffer=this.regl.buffer({type:\&quot;uint8\&quot;,usage:\&quot;stream\&quot;}),this.sizeBuffer=this.regl.buffer({type:\&quot;float\&quot;,usage:\&quot;stream\&quot;}),this.shader||(this.shader=this.createShader(),b.set(this.gl,this.shader)),this.batch=[],this.fontSize=[],this.font=[],this.fontAtlas=[],this.draw=this.shader.draw.bind(this),this.render=function(){this.regl._refresh(),this.draw(this.batch)},this.canvas=this.gl.canvas,this.update(h(t)?t:{})};T.prototype.createShader=function(){var t=this.regl,e=t({blend:{enable:!0,color:[0,0,0,1],func:{srcRGB:\&quot;src alpha\&quot;,dstRGB:\&quot;one minus src alpha\&quot;,srcAlpha:\&quot;one minus dst alpha\&quot;,dstAlpha:\&quot;one\&quot;}},stencil:{enable:!1},depth:{enable:!1},count:t.prop(\&quot;count\&quot;),offset:t.prop(\&quot;offset\&quot;),attributes:{charOffset:{offset:4,stride:8,buffer:t.this(\&quot;sizeBuffer\&quot;)},width:{offset:0,stride:8,buffer:t.this(\&quot;sizeBuffer\&quot;)},char:t.this(\&quot;charBuffer\&quot;),position:t.this(\&quot;position\&quot;)},uniforms:{atlasSize:function(t,e){return[e.atlas.width,e.atlas.height]},atlasDim:function(t,e){return[e.atlas.cols,e.atlas.rows]},atlas:function(t,e){return e.atlas.texture},charStep:function(t,e){return e.atlas.step},em:function(t,e){return e.atlas.em},color:t.prop(\&quot;color\&quot;),opacity:t.prop(\&quot;opacity\&quot;),viewport:t.this(\&quot;viewportArray\&quot;),scale:t.this(\&quot;scale\&quot;),align:t.prop(\&quot;align\&quot;),baseline:t.prop(\&quot;baseline\&quot;),translate:t.this(\&quot;translate\&quot;),positionOffset:t.prop(\&quot;positionOffset\&quot;)},primitive:\&quot;points\&quot;,viewport:t.this(\&quot;viewport\&quot;),vert:\&quot;\\n\\t\\t\\tprecision highp float;\\n\\t\\t\\tattribute float width, charOffset, char;\\n\\t\\t\\tattribute vec2 position;\\n\\t\\t\\tuniform float fontSize, charStep, em, align, baseline;\\n\\t\\t\\tuniform vec4 viewport;\\n\\t\\t\\tuniform vec4 color;\\n\\t\\t\\tuniform vec2 atlasSize, atlasDim, scale, translate, positionOffset;\\n\\t\\t\\tvarying vec2 charCoord, charId;\\n\\t\\t\\tvarying float charWidth;\\n\\t\\t\\tvarying vec4 fontColor;\\n\\t\\t\\tvoid main () {\\n\\t\\t\\t\\t\&quot;+(T.normalViewport?\&quot;\&quot;:\&quot;vec2 positionOffset = vec2(positionOffset.x,- positionOffset.y);\&quot;)+\&quot;\\n\\n\\t\\t\\t\\tvec2 offset = floor(em * (vec2(align + charOffset, baseline)\\n\\t\\t\\t\\t\\t+ positionOffset))\\n\\t\\t\\t\\t\\t/ (viewport.zw * scale.xy);\\n\\n\\t\\t\\t\\tvec2 position = (position + translate) * scale;\\n\\t\\t\\t\\tposition += offset * scale;\\n\\n\\t\\t\\t\\t\&quot;+(T.normalViewport?\&quot;position.y = 1. - position.y;\&quot;:\&quot;\&quot;)+\&quot;\\n\\n\\t\\t\\t\\tcharCoord = position * viewport.zw + viewport.xy;\\n\\n\\t\\t\\t\\tgl_Position = vec4(position * 2. - 1., 0, 1);\\n\\n\\t\\t\\t\\tgl_PointSize = charStep;\\n\\n\\t\\t\\t\\tcharId.x = mod(char, atlasDim.x);\\n\\t\\t\\t\\tcharId.y = floor(char / atlasDim.x);\\n\\n\\t\\t\\t\\tcharWidth = width * em;\\n\\n\\t\\t\\t\\tfontColor = color / 255.;\\n\\t\\t\\t}\&quot;,frag:\&quot;\\n\\t\\t\\tprecision highp float;\\n\\t\\t\\tuniform sampler2D atlas;\\n\\t\\t\\tuniform float fontSize, charStep, opacity;\\n\\t\\t\\tuniform vec2 atlasSize;\\n\\t\\t\\tuniform vec4 viewport;\\n\\t\\t\\tvarying vec4 fontColor;\\n\\t\\t\\tvarying vec2 charCoord, charId;\\n\\t\\t\\tvarying float charWidth;\\n\\n\\t\\t\\tfloat lightness(vec4 color) {\\n\\t\\t\\t\\treturn color.r * 0.299 + color.g * 0.587 + color.b * 0.114;\\n\\t\\t\\t}\\n\\n\\t\\t\\tvoid main () {\\n\\t\\t\\t\\tvec2 uv = gl_FragCoord.xy - charCoord + charStep * .5;\\n\\t\\t\\t\\tfloat halfCharStep = floor(charStep * .5 + .5);\\n\\n\\t\\t\\t\\t// invert y and shift by 1px (FF expecially needs that)\\n\\t\\t\\t\\tuv.y = charStep - uv.y;\\n\\n\\t\\t\\t\\t// ignore points outside of character bounding box\\n\\t\\t\\t\\tfloat halfCharWidth = ceil(charWidth * .5);\\n\\t\\t\\t\\tif (floor(uv.x) &gt; halfCharStep + halfCharWidth ||\\n\\t\\t\\t\\t\\tfloor(uv.x) &lt; halfCharStep - halfCharWidth) return;\\n\\n\\t\\t\\t\\tuv += charId * charStep;\\n\\t\\t\\t\\tuv = uv / atlasSize;\\n\\n\\t\\t\\t\\tvec4 color = fontColor;\\n\\t\\t\\t\\tvec4 mask = texture2D(atlas, uv);\\n\\n\\t\\t\\t\\tfloat maskY = lightness(mask);\\n\\t\\t\\t\\t// float colorY = lightness(color);\\n\\t\\t\\t\\tcolor.a *= maskY;\\n\\t\\t\\t\\tcolor.a *= opacity;\\n\\n\\t\\t\\t\\t// color.a += .1;\\n\\n\\t\\t\\t\\t// antialiasing, see yiq color space y-channel formula\\n\\t\\t\\t\\t// color.rgb += (1. - color.rgb) * (1. - mask.rgb);\\n\\n\\t\\t\\t\\tgl_FragColor = color;\\n\\t\\t\\t}\&quot;});return{regl:t,draw:e,atlas:{}}},T.prototype.update=function(t){var e=this;if(\&quot;string\&quot;==typeof t)t={text:t};else if(!t)return;null!=(t=i(t,{position:\&quot;position positions coord coords coordinates\&quot;,font:\&quot;font fontFace fontface typeface cssFont css-font family fontFamily\&quot;,fontSize:\&quot;fontSize fontsize size font-size\&quot;,text:\&quot;text texts chars characters value values symbols\&quot;,align:\&quot;align alignment textAlign textbaseline\&quot;,baseline:\&quot;baseline textBaseline textbaseline\&quot;,direction:\&quot;dir direction textDirection\&quot;,color:\&quot;color colour fill fill-color fillColor textColor textcolor\&quot;,kerning:\&quot;kerning kern\&quot;,range:\&quot;range dataBox\&quot;,viewport:\&quot;vp viewport viewBox viewbox viewPort\&quot;,opacity:\&quot;opacity alpha transparency visible visibility opaque\&quot;,offset:\&quot;offset positionOffset padding shift indent indentation\&quot;},!0)).opacity&amp;&amp;(Array.isArray(t.opacity)?this.opacity=t.opacity.map((function(t){return parseFloat(t)})):this.opacity=parseFloat(t.opacity)),null!=t.viewport&amp;&amp;(this.viewport=f(t.viewport),T.normalViewport&amp;&amp;(this.viewport.y=this.canvas.height-this.viewport.y-this.viewport.height),this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null==this.viewport&amp;&amp;(this.viewport={x:0,y:0,width:this.gl.drawingBufferWidth,height:this.gl.drawingBufferHeight},this.viewportArray=[this.viewport.x,this.viewport.y,this.viewport.width,this.viewport.height]),null!=t.kerning&amp;&amp;(this.kerning=t.kerning),null!=t.offset&amp;&amp;(\&quot;number\&quot;==typeof t.offset&amp;&amp;(t.offset=[t.offset,0]),this.positionOffset=y(t.offset)),t.direction&amp;&amp;(this.direction=t.direction),t.range&amp;&amp;(this.range=t.range,this.scale=[1/(t.range[2]-t.range[0]),1/(t.range[3]-t.range[1])],this.translate=[-t.range[0],-t.range[1]]),t.scale&amp;&amp;(this.scale=t.scale),t.translate&amp;&amp;(this.translate=t.translate),this.scale||(this.scale=[1/this.viewport.width,1/this.viewport.height]),this.translate||(this.translate=[0,0]),this.font.length||t.font||(t.font=T.baseFontSize+\&quot;px sans-serif\&quot;);var r,a=!1,o=!1;if(t.font&amp;&amp;(Array.isArray(t.font)?t.font:[t.font]).forEach((function(t,r){if(\&quot;string\&quot;==typeof t)try{t=n.parse(t)}catch(e){t=n.parse(T.baseFontSize+\&quot;px \&quot;+t)}else t=n.parse(n.stringify(t));var i=n.stringify({size:T.baseFontSize,family:t.family,stretch:_?t.stretch:void 0,variant:t.variant,weight:t.weight,style:t.style}),s=p(t.size),l=Math.round(s[0]*d(s[1]));if(l!==e.fontSize[r]&amp;&amp;(o=!0,e.fontSize[r]=l),!(e.font[r]&amp;&amp;i==e.font[r].baseString||(a=!0,e.font[r]=T.fonts[i],e.font[r]))){var c=t.family.join(\&quot;, \&quot;),u=[t.style];t.style!=t.variant&amp;&amp;u.push(t.variant),t.variant!=t.weight&amp;&amp;u.push(t.weight),_&amp;&amp;t.weight!=t.stretch&amp;&amp;u.push(t.stretch),e.font[r]={baseString:i,family:c,weight:t.weight,stretch:t.stretch,style:t.style,variant:t.variant,width:{},kerning:{},metrics:v(c,{origin:\&quot;top\&quot;,fontSize:T.baseFontSize,fontStyle:u.join(\&quot; \&quot;)})},T.fonts[i]=e.font[r]}})),(a||o)&amp;&amp;this.font.forEach((function(r,i){var a=n.stringify({size:e.fontSize[i],family:r.family,stretch:_?r.stretch:void 0,variant:r.variant,weight:r.weight,style:r.style});if(e.fontAtlas[i]=e.shader.atlas[a],!e.fontAtlas[i]){var o=r.metrics;e.shader.atlas[a]=e.fontAtlas[i]={fontString:a,step:2*Math.ceil(e.fontSize[i]*o.bottom*.5),em:e.fontSize[i],cols:0,rows:0,height:0,width:0,chars:[],ids:{},texture:e.regl.texture()}}null==t.text&amp;&amp;(t.text=e.text)})),\&quot;string\&quot;==typeof t.text&amp;&amp;t.position&amp;&amp;t.position.length&gt;2){for(var s=Array(.5*t.position.length),h=0;h&lt;s.length;h++)s[h]=t.text;t.text=s}if(null!=t.text||a){if(this.textOffsets=[0],Array.isArray(t.text)){this.count=t.text[0].length,this.counts=[this.count];for(var b=1;b&lt;t.text.length;b++)this.textOffsets[b]=this.textOffsets[b-1]+t.text[b-1].length,this.count+=t.text[b].length,this.counts.push(t.text[b].length);this.text=t.text.join(\&quot;\&quot;)}else this.text=t.text,this.count=this.text.length,this.counts=[this.count];r=[],this.font.forEach((function(t,n){T.atlasContext.font=t.baseString;for(var i=e.fontAtlas[n],a=0;a&lt;e.text.length;a++){var o=e.text.charAt(a);if(null==i.ids[o]&amp;&amp;(i.ids[o]=i.chars.length,i.chars.push(o),r.push(o)),null==t.width[o]&amp;&amp;(t.width[o]=T.atlasContext.measureText(o).width/T.baseFontSize,e.kerning)){var s=[];for(var l in t.width)s.push(l+o,o+l);m(t.kerning,g(t.family,{pairs:s}))}}}))}if(t.position)if(t.position.length&gt;2){for(var w=!t.position[0].length,k=u.mallocFloat(2*this.count),M=0,A=0;M&lt;this.counts.length;M++){var S=this.counts[M];if(w)for(var E=0;E&lt;S;E++)k[A++]=t.position[2*M],k[A++]=t.position[2*M+1];else for(var C=0;C&lt;S;C++)k[A++]=t.position[M][0],k[A++]=t.position[M][1]}this.position.call?this.position({type:\&quot;float\&quot;,data:k}):this.position=this.regl.buffer({type:\&quot;float\&quot;,data:k}),u.freeFloat(k)}else this.position.destroy&amp;&amp;this.position.destroy(),this.position={constant:t.position};if(t.text||a){var L=u.mallocUint8(this.count),I=u.mallocFloat(2*this.count);this.textWidth=[];for(var P=0,z=0;P&lt;this.counts.length;P++){for(var O=this.counts[P],D=this.font[P]||this.font[0],R=this.fontAtlas[P]||this.fontAtlas[0],F=0;F&lt;O;F++){var B=this.text.charAt(z),N=this.text.charAt(z-1);if(L[z]=R.ids[B],I[2*z]=D.width[B],F){var j=I[2*z-2],U=I[2*z],V=I[2*z-1]+.5*j+.5*U;if(this.kerning){var q=D.kerning[N+B];q&amp;&amp;(V+=.001*q)}I[2*z+1]=V}else I[2*z+1]=.5*I[2*z];z++}this.textWidth.push(I.length?.5*I[2*z-2]+I[2*z-1]:0)}t.align||(t.align=this.align),this.charBuffer({data:L,type:\&quot;uint8\&quot;,usage:\&quot;stream\&quot;}),this.sizeBuffer({data:I,type:\&quot;float\&quot;,usage:\&quot;stream\&quot;}),u.freeUint8(L),u.freeFloat(I),r.length&amp;&amp;this.font.forEach((function(t,r){var n=e.fontAtlas[r],i=n.step,a=Math.floor(T.maxAtlasSize/i),o=Math.min(a,n.chars.length),s=Math.ceil(n.chars.length/o),l=x(o*i),u=x(s*i);n.width=l,n.height=u,n.rows=s,n.cols=o,n.em&amp;&amp;n.texture({data:c({canvas:T.atlasCanvas,font:n.fontString,chars:n.chars,shape:[l,u],step:[i,i]})})}))}if(t.align&amp;&amp;(this.align=t.align,this.alignOffset=this.textWidth.map((function(t,r){var n=Array.isArray(e.align)?e.align.length&gt;1?e.align[r]:e.align[0]:e.align;if(\&quot;number\&quot;==typeof n)return n;switch(n){case\&quot;right\&quot;:case\&quot;end\&quot;:return-t;case\&quot;center\&quot;:case\&quot;centre\&quot;:case\&quot;middle\&quot;:return.5*-t}return 0}))),null==this.baseline&amp;&amp;null==t.baseline&amp;&amp;(t.baseline=0),null!=t.baseline&amp;&amp;(this.baseline=t.baseline,Array.isArray(this.baseline)||(this.baseline=[this.baseline]),this.baselineOffset=this.baseline.map((function(t,r){var n=(e.font[r]||e.font[0]).metrics,i=0;return i+=.5*n.bottom,i+=\&quot;number\&quot;==typeof t?t-n.baseline:-n[t],T.normalViewport||(i*=-1),i}))),null!=t.color)if(t.color||(t.color=\&quot;transparent\&quot;),\&quot;string\&quot;!=typeof t.color&amp;&amp;isNaN(t.color)){var H;if(\&quot;number\&quot;==typeof t.color[0]&amp;&amp;t.color.length&gt;this.counts.length){var G=t.color.length;H=u.mallocUint8(G);for(var Y=(t.color.subarray||t.color.slice).bind(t.color),W=0;W&lt;G;W+=4)H.set(l(Y(W,W+4),\&quot;uint8\&quot;),W)}else{var X=t.color.length;H=u.mallocUint8(4*X);for(var Z=0;Z&lt;X;Z++)H.set(l(t.color[Z]||0,\&quot;uint8\&quot;),4*Z)}this.color=H}else this.color=l(t.color,\&quot;uint8\&quot;);if(t.position||t.text||t.color||t.baseline||t.align||t.font||t.offset||t.opacity)if(this.color.length&gt;4||this.baselineOffset.length&gt;1||this.align&amp;&amp;this.align.length&gt;1||this.fontAtlas.length&gt;1||this.positionOffset.length&gt;2){var J=Math.max(.5*this.position.length||0,.25*this.color.length||0,this.baselineOffset.length||0,this.alignOffset.length||0,this.font.length||0,this.opacity.length||0,.5*this.positionOffset.length||0);this.batch=Array(J);for(var K=0;K&lt;this.batch.length;K++)this.batch[K]={count:this.counts.length&gt;1?this.counts[K]:this.counts[0],offset:this.textOffsets.length&gt;1?this.textOffsets[K]:this.textOffsets[0],color:this.color?this.color.length&lt;=4?this.color:this.color.subarray(4*K,4*K+4):[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[K]:this.opacity,baseline:null!=this.baselineOffset[K]?this.baselineOffset[K]:this.baselineOffset[0],align:this.align?null!=this.alignOffset[K]?this.alignOffset[K]:this.alignOffset[0]:0,atlas:this.fontAtlas[K]||this.fontAtlas[0],positionOffset:this.positionOffset.length&gt;2?this.positionOffset.subarray(2*K,2*K+2):this.positionOffset}}else this.count?this.batch=[{count:this.count,offset:0,color:this.color||[0,0,0,255],opacity:Array.isArray(this.opacity)?this.opacity[0]:this.opacity,baseline:this.baselineOffset[0],align:this.alignOffset?this.alignOffset[0]:0,atlas:this.fontAtlas[0],positionOffset:this.positionOffset}]:this.batch=[]},T.prototype.destroy=function(){},T.prototype.kerning=!0,T.prototype.position={constant:new Float32Array(2)},T.prototype.translate=null,T.prototype.scale=null,T.prototype.font=null,T.prototype.text=\&quot;\&quot;,T.prototype.positionOffset=[0,0],T.prototype.opacity=1,T.prototype.color=new Uint8Array([0,0,0,255]),T.prototype.alignOffset=[0,0],T.normalViewport=!1,T.maxAtlasSize=1024,T.atlasCanvas=document.createElement(\&quot;canvas\&quot;),T.atlasContext=T.atlasCanvas.getContext(\&quot;2d\&quot;,{alpha:!1}),T.baseFontSize=64,T.fonts={},e.exports=T},{\&quot;bit-twiddle\&quot;:97,\&quot;color-normalize\&quot;:125,\&quot;css-font\&quot;:144,\&quot;detect-kerning\&quot;:172,\&quot;es6-weak-map\&quot;:233,\&quot;flatten-vertex-data\&quot;:244,\&quot;font-atlas\&quot;:245,\&quot;font-measure\&quot;:246,\&quot;gl-util/context\&quot;:354,\&quot;is-plain-obj\&quot;:469,\&quot;object-assign\&quot;:499,\&quot;parse-rect\&quot;:504,\&quot;parse-unit\&quot;:506,\&quot;pick-by-alias\&quot;:511,regl:540,\&quot;to-px\&quot;:578,\&quot;typedarray-pool\&quot;:595}],353:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;ndarray\&quot;),i=t(\&quot;ndarray-ops\&quot;),a=t(\&quot;typedarray-pool\&quot;);e.exports=function(t){if(arguments.length&lt;=1)throw new Error(\&quot;gl-texture2d: Missing arguments for texture2d constructor\&quot;);o||c(t);if(\&quot;number\&quot;==typeof arguments[1])return v(t,arguments[1],arguments[2],arguments[3]||t.RGBA,arguments[4]||t.UNSIGNED_BYTE);if(Array.isArray(arguments[1]))return v(t,0|arguments[1][0],0|arguments[1][1],arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(\&quot;object\&quot;==typeof arguments[1]){var e=arguments[1],r=u(e)?e:e.raw;if(r)return y(t,r,0|e.width,0|e.height,arguments[2]||t.RGBA,arguments[3]||t.UNSIGNED_BYTE);if(e.shape&amp;&amp;e.data&amp;&amp;e.stride)return x(t,e)}throw new Error(\&quot;gl-texture2d: Invalid arguments for texture2d constructor\&quot;)};var o=null,s=null,l=null;function c(t){o=[t.LINEAR,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_NEAREST],s=[t.NEAREST,t.LINEAR,t.NEAREST_MIPMAP_NEAREST,t.NEAREST_MIPMAP_LINEAR,t.LINEAR_MIPMAP_NEAREST,t.LINEAR_MIPMAP_LINEAR],l=[t.REPEAT,t.CLAMP_TO_EDGE,t.MIRRORED_REPEAT]}function u(t){return\&quot;undefined\&quot;!=typeof HTMLCanvasElement&amp;&amp;t instanceof HTMLCanvasElement||\&quot;undefined\&quot;!=typeof HTMLImageElement&amp;&amp;t instanceof HTMLImageElement||\&quot;undefined\&quot;!=typeof HTMLVideoElement&amp;&amp;t instanceof HTMLVideoElement||\&quot;undefined\&quot;!=typeof ImageData&amp;&amp;t instanceof ImageData}var f=function(t,e){i.muls(t,e,255)};function h(t,e,r){var n=t.gl,i=n.getParameter(n.MAX_TEXTURE_SIZE);if(e&lt;0||e&gt;i||r&lt;0||r&gt;i)throw new Error(\&quot;gl-texture2d: Invalid texture size\&quot;);return t._shape=[e,r],t.bind(),n.texImage2D(n.TEXTURE_2D,0,t.format,e,r,0,t.format,t.type,null),t._mipLevels=[0],t}function p(t,e,r,n,i,a){this.gl=t,this.handle=e,this.format=i,this.type=a,this._shape=[r,n],this._mipLevels=[0],this._magFilter=t.NEAREST,this._minFilter=t.NEAREST,this._wrapS=t.CLAMP_TO_EDGE,this._wrapT=t.CLAMP_TO_EDGE,this._anisoSamples=1;var o=this,s=[this._wrapS,this._wrapT];Object.defineProperties(s,[{get:function(){return o._wrapS},set:function(t){return o.wrapS=t}},{get:function(){return o._wrapT},set:function(t){return o.wrapT=t}}]),this._wrapVector=s;var l=[this._shape[0],this._shape[1]];Object.defineProperties(l,[{get:function(){return o._shape[0]},set:function(t){return o.width=t}},{get:function(){return o._shape[1]},set:function(t){return o.height=t}}]),this._shapeVector=l}var d=p.prototype;function g(t,e){return 3===t.length?1===e[2]&amp;&amp;e[1]===t[0]*t[2]&amp;&amp;e[0]===t[2]:1===e[0]&amp;&amp;e[1]===t[0]}function m(t){var e=t.createTexture();return t.bindTexture(t.TEXTURE_2D,e),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),e}function v(t,e,r,n,i){var a=t.getParameter(t.MAX_TEXTURE_SIZE);if(e&lt;0||e&gt;a||r&lt;0||r&gt;a)throw new Error(\&quot;gl-texture2d: Invalid texture shape\&quot;);if(i===t.FLOAT&amp;&amp;!t.getExtension(\&quot;OES_texture_float\&quot;))throw new Error(\&quot;gl-texture2d: Floating point textures not supported on this platform\&quot;);var o=m(t);return t.texImage2D(t.TEXTURE_2D,0,n,e,r,0,n,i,null),new p(t,o,e,r,n,i)}function y(t,e,r,n,i,a){var o=m(t);return t.texImage2D(t.TEXTURE_2D,0,i,i,a,e),new p(t,o,r,n,i,a)}function x(t,e){var r=e.dtype,o=e.shape.slice(),s=t.getParameter(t.MAX_TEXTURE_SIZE);if(o[0]&lt;0||o[0]&gt;s||o[1]&lt;0||o[1]&gt;s)throw new Error(\&quot;gl-texture2d: Invalid texture size\&quot;);var l=g(o,e.stride.slice()),c=0;\&quot;float32\&quot;===r?c=t.FLOAT:\&quot;float64\&quot;===r?(c=t.FLOAT,l=!1,r=\&quot;float32\&quot;):\&quot;uint8\&quot;===r?c=t.UNSIGNED_BYTE:(c=t.UNSIGNED_BYTE,l=!1,r=\&quot;uint8\&quot;);var u,h,d=0;if(2===o.length)d=t.LUMINANCE,o=[o[0],o[1],1],e=n(e.data,o,[e.stride[0],e.stride[1],1],e.offset);else{if(3!==o.length)throw new Error(\&quot;gl-texture2d: Invalid shape for texture\&quot;);if(1===o[2])d=t.ALPHA;else if(2===o[2])d=t.LUMINANCE_ALPHA;else if(3===o[2])d=t.RGB;else{if(4!==o[2])throw new Error(\&quot;gl-texture2d: Invalid shape for pixel coords\&quot;);d=t.RGBA}}c!==t.FLOAT||t.getExtension(\&quot;OES_texture_float\&quot;)||(c=t.UNSIGNED_BYTE,l=!1);var v=e.size;if(l)u=0===e.offset&amp;&amp;e.data.length===v?e.data:e.data.subarray(e.offset,e.offset+v);else{var y=[o[2],o[2]*o[0],1];h=a.malloc(v,r);var x=n(h,o,y,0);\&quot;float32\&quot;!==r&amp;&amp;\&quot;float64\&quot;!==r||c!==t.UNSIGNED_BYTE?i.assign(x,e):f(x,e),u=h.subarray(0,v)}var b=m(t);return t.texImage2D(t.TEXTURE_2D,0,d,o[0],o[1],0,d,c,u),l||a.free(h),new p(t,b,o[0],o[1],d,c)}Object.defineProperties(d,{minFilter:{get:function(){return this._minFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&amp;&amp;o.indexOf(t)&gt;=0&amp;&amp;(e.getExtension(\&quot;OES_texture_float_linear\&quot;)||(t=e.NEAREST)),s.indexOf(t)&lt;0)throw new Error(\&quot;gl-texture2d: Unknown filter mode \&quot;+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,t),this._minFilter=t}},magFilter:{get:function(){return this._magFilter},set:function(t){this.bind();var e=this.gl;if(this.type===e.FLOAT&amp;&amp;o.indexOf(t)&gt;=0&amp;&amp;(e.getExtension(\&quot;OES_texture_float_linear\&quot;)||(t=e.NEAREST)),s.indexOf(t)&lt;0)throw new Error(\&quot;gl-texture2d: Unknown filter mode \&quot;+t);return e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,t),this._magFilter=t}},mipSamples:{get:function(){return this._anisoSamples},set:function(t){var e=this._anisoSamples;if(this._anisoSamples=0|Math.max(t,1),e!==this._anisoSamples){var r=this.gl.getExtension(\&quot;EXT_texture_filter_anisotropic\&quot;);r&amp;&amp;this.gl.texParameterf(this.gl.TEXTURE_2D,r.TEXTURE_MAX_ANISOTROPY_EXT,this._anisoSamples)}return this._anisoSamples}},wrapS:{get:function(){return this._wrapS},set:function(t){if(this.bind(),l.indexOf(t)&lt;0)throw new Error(\&quot;gl-texture2d: Unknown wrap mode \&quot;+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_S,t),this._wrapS=t}},wrapT:{get:function(){return this._wrapT},set:function(t){if(this.bind(),l.indexOf(t)&lt;0)throw new Error(\&quot;gl-texture2d: Unknown wrap mode \&quot;+t);return this.gl.texParameteri(this.gl.TEXTURE_2D,this.gl.TEXTURE_WRAP_T,t),this._wrapT=t}},wrap:{get:function(){return this._wrapVector},set:function(t){if(Array.isArray(t)||(t=[t,t]),2!==t.length)throw new Error(\&quot;gl-texture2d: Must specify wrap mode for rows and columns\&quot;);for(var e=0;e&lt;2;++e)if(l.indexOf(t[e])&lt;0)throw new Error(\&quot;gl-texture2d: Unknown wrap mode \&quot;+t);this._wrapS=t[0],this._wrapT=t[1];var r=this.gl;return this.bind(),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,this._wrapS),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,this._wrapT),t}},shape:{get:function(){return this._shapeVector},set:function(t){if(Array.isArray(t)){if(2!==t.length)throw new Error(\&quot;gl-texture2d: Invalid texture shape\&quot;)}else t=[0|t,0|t];return h(this,0|t[0],0|t[1]),[0|t[0],0|t[1]]}},width:{get:function(){return this._shape[0]},set:function(t){return h(this,t|=0,this._shape[1]),t}},height:{get:function(){return this._shape[1]},set:function(t){return t|=0,h(this,this._shape[0],t),t}}}),d.bind=function(t){var e=this.gl;return void 0!==t&amp;&amp;e.activeTexture(e.TEXTURE0+(0|t)),e.bindTexture(e.TEXTURE_2D,this.handle),void 0!==t?0|t:e.getParameter(e.ACTIVE_TEXTURE)-e.TEXTURE0},d.dispose=function(){this.gl.deleteTexture(this.handle)},d.generateMipmap=function(){this.bind(),this.gl.generateMipmap(this.gl.TEXTURE_2D);for(var t=Math.min(this._shape[0],this._shape[1]),e=0;t&gt;0;++e,t&gt;&gt;&gt;=1)this._mipLevels.indexOf(e)&lt;0&amp;&amp;this._mipLevels.push(e)},d.setPixels=function(t,e,r,o){var s=this.gl;this.bind(),Array.isArray(e)?(o=r,r=0|e[1],e=0|e[0]):(e=e||0,r=r||0),o=o||0;var l=u(t)?t:t.raw;if(l){this._mipLevels.indexOf(o)&lt;0?(s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,this.type,l),this._mipLevels.push(o)):s.texSubImage2D(s.TEXTURE_2D,o,e,r,this.format,this.type,l)}else{if(!(t.shape&amp;&amp;t.stride&amp;&amp;t.data))throw new Error(\&quot;gl-texture2d: Unsupported data type\&quot;);if(t.shape.length&lt;2||e+t.shape[1]&gt;this._shape[1]&gt;&gt;&gt;o||r+t.shape[0]&gt;this._shape[0]&gt;&gt;&gt;o||e&lt;0||r&lt;0)throw new Error(\&quot;gl-texture2d: Texture dimensions are out of bounds\&quot;);!function(t,e,r,o,s,l,c,u){var h=u.dtype,p=u.shape.slice();if(p.length&lt;2||p.length&gt;3)throw new Error(\&quot;gl-texture2d: Invalid ndarray, must be 2d or 3d\&quot;);var d=0,m=0,v=g(p,u.stride.slice());\&quot;float32\&quot;===h?d=t.FLOAT:\&quot;float64\&quot;===h?(d=t.FLOAT,v=!1,h=\&quot;float32\&quot;):\&quot;uint8\&quot;===h?d=t.UNSIGNED_BYTE:(d=t.UNSIGNED_BYTE,v=!1,h=\&quot;uint8\&quot;);if(2===p.length)m=t.LUMINANCE,p=[p[0],p[1],1],u=n(u.data,p,[u.stride[0],u.stride[1],1],u.offset);else{if(3!==p.length)throw new Error(\&quot;gl-texture2d: Invalid shape for texture\&quot;);if(1===p[2])m=t.ALPHA;else if(2===p[2])m=t.LUMINANCE_ALPHA;else if(3===p[2])m=t.RGB;else{if(4!==p[2])throw new Error(\&quot;gl-texture2d: Invalid shape for pixel coords\&quot;);m=t.RGBA}p[2]}m!==t.LUMINANCE&amp;&amp;m!==t.ALPHA||s!==t.LUMINANCE&amp;&amp;s!==t.ALPHA||(m=s);if(m!==s)throw new Error(\&quot;gl-texture2d: Incompatible texture format for setPixels\&quot;);var y=u.size,x=c.indexOf(o)&lt;0;x&amp;&amp;c.push(o);if(d===l&amp;&amp;v)0===u.offset&amp;&amp;u.data.length===y?x?t.texImage2D(t.TEXTURE_2D,o,s,p[0],p[1],0,s,l,u.data):t.texSubImage2D(t.TEXTURE_2D,o,e,r,p[0],p[1],s,l,u.data):x?t.texImage2D(t.TEXTURE_2D,o,s,p[0],p[1],0,s,l,u.data.subarray(u.offset,u.offset+y)):t.texSubImage2D(t.TEXTURE_2D,o,e,r,p[0],p[1],s,l,u.data.subarray(u.offset,u.offset+y));else{var b;b=l===t.FLOAT?a.mallocFloat32(y):a.mallocUint8(y);var _=n(b,p,[p[2],p[2]*p[0],1]);d===t.FLOAT&amp;&amp;l===t.UNSIGNED_BYTE?f(_,u):i.assign(_,u),x?t.texImage2D(t.TEXTURE_2D,o,s,p[0],p[1],0,s,l,b.subarray(0,y)):t.texSubImage2D(t.TEXTURE_2D,o,e,r,p[0],p[1],s,l,b.subarray(0,y)),l===t.FLOAT?a.freeFloat32(b):a.freeUint8(b)}}(s,e,r,o,this.format,this.type,this._mipLevels,t)}}},{ndarray:495,\&quot;ndarray-ops\&quot;:490,\&quot;typedarray-pool\&quot;:595}],354:[function(t,e,r){(function(r){(function(){\&quot;use strict\&quot;;var n=t(\&quot;pick-by-alias\&quot;);function i(t){if(t.container)if(t.container==document.body)document.body.style.width||(t.canvas.width=t.width||t.pixelRatio*r.innerWidth),document.body.style.height||(t.canvas.height=t.height||t.pixelRatio*r.innerHeight);else{var e=t.container.getBoundingClientRect();t.canvas.width=t.width||e.right-e.left,t.canvas.height=t.height||e.bottom-e.top}}function a(t){return\&quot;function\&quot;==typeof t.getContext&amp;&amp;\&quot;width\&quot;in t&amp;&amp;\&quot;height\&quot;in t}function o(){var t=document.createElement(\&quot;canvas\&quot;);return t.style.position=\&quot;absolute\&quot;,t.style.top=0,t.style.left=0,t}e.exports=function(t){var e;if(t?\&quot;string\&quot;==typeof t&amp;&amp;(t={container:t}):t={},a(t)?t={container:t}:t=\&quot;string\&quot;==typeof(e=t).nodeName&amp;&amp;\&quot;function\&quot;==typeof e.appendChild&amp;&amp;\&quot;function\&quot;==typeof e.getBoundingClientRect?{container:t}:function(t){return\&quot;function\&quot;==typeof t.drawArrays||\&quot;function\&quot;==typeof t.drawElements}(t)?{gl:t}:n(t,{container:\&quot;container target element el canvas holder parent parentNode wrapper use ref root node\&quot;,gl:\&quot;gl context webgl glContext\&quot;,attrs:\&quot;attributes attrs contextAttributes\&quot;,pixelRatio:\&quot;pixelRatio pxRatio px ratio pxratio pixelratio\&quot;,width:\&quot;w width\&quot;,height:\&quot;h height\&quot;},!0),t.pixelRatio||(t.pixelRatio=r.pixelRatio||1),t.gl)return t.gl;if(t.canvas&amp;&amp;(t.container=t.canvas.parentNode),t.container){if(\&quot;string\&quot;==typeof t.container){var s=document.querySelector(t.container);if(!s)throw Error(\&quot;Element \&quot;+t.container+\&quot; is not found\&quot;);t.container=s}a(t.container)?(t.canvas=t.container,t.container=t.canvas.parentNode):t.canvas||(t.canvas=o(),t.container.appendChild(t.canvas),i(t))}else if(!t.canvas){if(\&quot;undefined\&quot;==typeof document)throw Error(\&quot;Not DOM environment. Use headless-gl.\&quot;);t.container=document.body||document.documentElement,t.canvas=o(),t.container.appendChild(t.canvas),i(t)}if(!t.gl)try{t.gl=t.canvas.getContext(\&quot;webgl\&quot;,t.attrs)}catch(e){try{t.gl=t.canvas.getContext(\&quot;experimental-webgl\&quot;,t.attrs)}catch(e){t.gl=t.canvas.getContext(\&quot;webgl-experimental\&quot;,t.attrs)}}return t.gl}}).call(this)}).call(this,\&quot;undefined\&quot;!=typeof global?global:\&quot;undefined\&quot;!=typeof self?self:\&quot;undefined\&quot;!=typeof window?window:{})},{\&quot;pick-by-alias\&quot;:511}],355:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e,r){e?e.bind():t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,null);var n=0|t.getParameter(t.MAX_VERTEX_ATTRIBS);if(r){if(r.length&gt;n)throw new Error(\&quot;gl-vao: Too many vertex attributes\&quot;);for(var i=0;i&lt;r.length;++i){var a=r[i];if(a.buffer){var o=a.buffer,s=a.size||4,l=a.type||t.FLOAT,c=!!a.normalized,u=a.stride||0,f=a.offset||0;o.bind(),t.enableVertexAttribArray(i),t.vertexAttribPointer(i,s,l,c,u,f)}else{if(\&quot;number\&quot;==typeof a)t.vertexAttrib1f(i,a);else if(1===a.length)t.vertexAttrib1f(i,a[0]);else if(2===a.length)t.vertexAttrib2f(i,a[0],a[1]);else if(3===a.length)t.vertexAttrib3f(i,a[0],a[1],a[2]);else{if(4!==a.length)throw new Error(\&quot;gl-vao: Invalid vertex attribute\&quot;);t.vertexAttrib4f(i,a[0],a[1],a[2],a[3])}t.disableVertexAttribArray(i)}}for(;i&lt;n;++i)t.disableVertexAttribArray(i)}else{t.bindBuffer(t.ARRAY_BUFFER,null);for(i=0;i&lt;n;++i)t.disableVertexAttribArray(i)}}},{}],356:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./do-bind.js\&quot;);function i(t){this.gl=t,this._elements=null,this._attributes=null,this._elementsType=t.UNSIGNED_SHORT}i.prototype.bind=function(){n(this.gl,this._elements,this._attributes)},i.prototype.update=function(t,e,r){this._elements=e,this._attributes=t,this._elementsType=r||this.gl.UNSIGNED_SHORT},i.prototype.dispose=function(){},i.prototype.unbind=function(){},i.prototype.draw=function(t,e,r){r=r||0;var n=this.gl;this._elements?n.drawElements(t,e,this._elementsType,r):n.drawArrays(t,r,e)},e.exports=function(t){return new i(t)}},{\&quot;./do-bind.js\&quot;:355}],357:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./do-bind.js\&quot;);function i(t,e,r,n,i,a){this.location=t,this.dimension=e,this.a=r,this.b=n,this.c=i,this.d=a}function a(t,e,r){this.gl=t,this._ext=e,this.handle=r,this._attribs=[],this._useElements=!1,this._elementsType=t.UNSIGNED_SHORT}i.prototype.bind=function(t){switch(this.dimension){case 1:t.vertexAttrib1f(this.location,this.a);break;case 2:t.vertexAttrib2f(this.location,this.a,this.b);break;case 3:t.vertexAttrib3f(this.location,this.a,this.b,this.c);break;case 4:t.vertexAttrib4f(this.location,this.a,this.b,this.c,this.d)}},a.prototype.bind=function(){this._ext.bindVertexArrayOES(this.handle);for(var t=0;t&lt;this._attribs.length;++t)this._attribs[t].bind(this.gl)},a.prototype.unbind=function(){this._ext.bindVertexArrayOES(null)},a.prototype.dispose=function(){this._ext.deleteVertexArrayOES(this.handle)},a.prototype.update=function(t,e,r){if(this.bind(),n(this.gl,e,t),this.unbind(),this._attribs.length=0,t)for(var a=0;a&lt;t.length;++a){var o=t[a];\&quot;number\&quot;==typeof o?this._attribs.push(new i(a,1,o)):Array.isArray(o)&amp;&amp;this._attribs.push(new i(a,o.length,o[0],o[1],o[2],o[3]))}this._useElements=!!e,this._elementsType=r||this.gl.UNSIGNED_SHORT},a.prototype.draw=function(t,e,r){r=r||0;var n=this.gl;this._useElements?n.drawElements(t,e,this._elementsType,r):n.drawArrays(t,r,e)},e.exports=function(t,e){return new a(t,e,e.createVertexArrayOES())}},{\&quot;./do-bind.js\&quot;:355}],358:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./lib/vao-native.js\&quot;),i=t(\&quot;./lib/vao-emulated.js\&quot;);function a(t){this.bindVertexArrayOES=t.bindVertexArray.bind(t),this.createVertexArrayOES=t.createVertexArray.bind(t),this.deleteVertexArrayOES=t.deleteVertexArray.bind(t)}e.exports=function(t,e,r,o){var s,l=t.createVertexArray?new a(t):t.getExtension(\&quot;OES_vertex_array_object\&quot;);return(s=l?n(t,l):i(t)).update(e,r,o),s}},{\&quot;./lib/vao-emulated.js\&quot;:356,\&quot;./lib/vao-native.js\&quot;:357}],359:[function(t,e,r){e.exports=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t}},{}],360:[function(t,e,r){e.exports=function(t,e){var r=n(t[0],t[1],t[2]),o=n(e[0],e[1],e[2]);i(r,r),i(o,o);var s=a(r,o);return s&gt;1?0:Math.acos(s)};var n=t(\&quot;./fromValues\&quot;),i=t(\&quot;./normalize\&quot;),a=t(\&quot;./dot\&quot;)},{\&quot;./dot\&quot;:370,\&quot;./fromValues\&quot;:376,\&quot;./normalize\&quot;:387}],361:[function(t,e,r){e.exports=function(t,e){return t[0]=Math.ceil(e[0]),t[1]=Math.ceil(e[1]),t[2]=Math.ceil(e[2]),t}},{}],362:[function(t,e,r){e.exports=function(t){var e=new Float32Array(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e}},{}],363:[function(t,e,r){e.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t}},{}],364:[function(t,e,r){e.exports=function(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}},{}],365:[function(t,e,r){e.exports=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],l=r[2];return t[0]=i*l-a*s,t[1]=a*o-n*l,t[2]=n*s-i*o,t}},{}],366:[function(t,e,r){e.exports=t(\&quot;./distance\&quot;)},{\&quot;./distance\&quot;:367}],367:[function(t,e,r){e.exports=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return Math.sqrt(r*r+n*n+i*i)}},{}],368:[function(t,e,r){e.exports=t(\&quot;./divide\&quot;)},{\&quot;./divide\&quot;:369}],369:[function(t,e,r){e.exports=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t}},{}],370:[function(t,e,r){e.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}},{}],371:[function(t,e,r){e.exports=1e-6},{}],372:[function(t,e,r){e.exports=function(t,e){var r=t[0],i=t[1],a=t[2],o=e[0],s=e[1],l=e[2];return Math.abs(r-o)&lt;=n*Math.max(1,Math.abs(r),Math.abs(o))&amp;&amp;Math.abs(i-s)&lt;=n*Math.max(1,Math.abs(i),Math.abs(s))&amp;&amp;Math.abs(a-l)&lt;=n*Math.max(1,Math.abs(a),Math.abs(l))};var n=t(\&quot;./epsilon\&quot;)},{\&quot;./epsilon\&quot;:371}],373:[function(t,e,r){e.exports=function(t,e){return t[0]===e[0]&amp;&amp;t[1]===e[1]&amp;&amp;t[2]===e[2]}},{}],374:[function(t,e,r){e.exports=function(t,e){return t[0]=Math.floor(e[0]),t[1]=Math.floor(e[1]),t[2]=Math.floor(e[2]),t}},{}],375:[function(t,e,r){e.exports=function(t,e,r,i,a,o){var s,l;e||(e=3);r||(r=0);l=i?Math.min(i*e+r,t.length):t.length;for(s=r;s&lt;l;s+=e)n[0]=t[s],n[1]=t[s+1],n[2]=t[s+2],a(n,n,o),t[s]=n[0],t[s+1]=n[1],t[s+2]=n[2];return t};var n=t(\&quot;./create\&quot;)()},{\&quot;./create\&quot;:364}],376:[function(t,e,r){e.exports=function(t,e,r){var n=new Float32Array(3);return n[0]=t,n[1]=e,n[2]=r,n}},{}],377:[function(t,e,r){e.exports={EPSILON:t(\&quot;./epsilon\&quot;),create:t(\&quot;./create\&quot;),clone:t(\&quot;./clone\&quot;),angle:t(\&quot;./angle\&quot;),fromValues:t(\&quot;./fromValues\&quot;),copy:t(\&quot;./copy\&quot;),set:t(\&quot;./set\&quot;),equals:t(\&quot;./equals\&quot;),exactEquals:t(\&quot;./exactEquals\&quot;),add:t(\&quot;./add\&quot;),subtract:t(\&quot;./subtract\&quot;),sub:t(\&quot;./sub\&quot;),multiply:t(\&quot;./multiply\&quot;),mul:t(\&quot;./mul\&quot;),divide:t(\&quot;./divide\&quot;),div:t(\&quot;./div\&quot;),min:t(\&quot;./min\&quot;),max:t(\&quot;./max\&quot;),floor:t(\&quot;./floor\&quot;),ceil:t(\&quot;./ceil\&quot;),round:t(\&quot;./round\&quot;),scale:t(\&quot;./scale\&quot;),scaleAndAdd:t(\&quot;./scaleAndAdd\&quot;),distance:t(\&quot;./distance\&quot;),dist:t(\&quot;./dist\&quot;),squaredDistance:t(\&quot;./squaredDistance\&quot;),sqrDist:t(\&quot;./sqrDist\&quot;),length:t(\&quot;./length\&quot;),len:t(\&quot;./len\&quot;),squaredLength:t(\&quot;./squaredLength\&quot;),sqrLen:t(\&quot;./sqrLen\&quot;),negate:t(\&quot;./negate\&quot;),inverse:t(\&quot;./inverse\&quot;),normalize:t(\&quot;./normalize\&quot;),dot:t(\&quot;./dot\&quot;),cross:t(\&quot;./cross\&quot;),lerp:t(\&quot;./lerp\&quot;),random:t(\&quot;./random\&quot;),transformMat4:t(\&quot;./transformMat4\&quot;),transformMat3:t(\&quot;./transformMat3\&quot;),transformQuat:t(\&quot;./transformQuat\&quot;),rotateX:t(\&quot;./rotateX\&quot;),rotateY:t(\&quot;./rotateY\&quot;),rotateZ:t(\&quot;./rotateZ\&quot;),forEach:t(\&quot;./forEach\&quot;)}},{\&quot;./add\&quot;:359,\&quot;./angle\&quot;:360,\&quot;./ceil\&quot;:361,\&quot;./clone\&quot;:362,\&quot;./copy\&quot;:363,\&quot;./create\&quot;:364,\&quot;./cross\&quot;:365,\&quot;./dist\&quot;:366,\&quot;./distance\&quot;:367,\&quot;./div\&quot;:368,\&quot;./divide\&quot;:369,\&quot;./dot\&quot;:370,\&quot;./epsilon\&quot;:371,\&quot;./equals\&quot;:372,\&quot;./exactEquals\&quot;:373,\&quot;./floor\&quot;:374,\&quot;./forEach\&quot;:375,\&quot;./fromValues\&quot;:376,\&quot;./inverse\&quot;:378,\&quot;./len\&quot;:379,\&quot;./length\&quot;:380,\&quot;./lerp\&quot;:381,\&quot;./max\&quot;:382,\&quot;./min\&quot;:383,\&quot;./mul\&quot;:384,\&quot;./multiply\&quot;:385,\&quot;./negate\&quot;:386,\&quot;./normalize\&quot;:387,\&quot;./random\&quot;:388,\&quot;./rotateX\&quot;:389,\&quot;./rotateY\&quot;:390,\&quot;./rotateZ\&quot;:391,\&quot;./round\&quot;:392,\&quot;./scale\&quot;:393,\&quot;./scaleAndAdd\&quot;:394,\&quot;./set\&quot;:395,\&quot;./sqrDist\&quot;:396,\&quot;./sqrLen\&quot;:397,\&quot;./squaredDistance\&quot;:398,\&quot;./squaredLength\&quot;:399,\&quot;./sub\&quot;:400,\&quot;./subtract\&quot;:401,\&quot;./transformMat3\&quot;:402,\&quot;./transformMat4\&quot;:403,\&quot;./transformQuat\&quot;:404}],378:[function(t,e,r){e.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t}},{}],379:[function(t,e,r){e.exports=t(\&quot;./length\&quot;)},{\&quot;./length\&quot;:380}],380:[function(t,e,r){e.exports=function(t){var e=t[0],r=t[1],n=t[2];return Math.sqrt(e*e+r*r+n*n)}},{}],381:[function(t,e,r){e.exports=function(t,e,r,n){var i=e[0],a=e[1],o=e[2];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=o+n*(r[2]-o),t}},{}],382:[function(t,e,r){e.exports=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t}},{}],383:[function(t,e,r){e.exports=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t}},{}],384:[function(t,e,r){e.exports=t(\&quot;./multiply\&quot;)},{\&quot;./multiply\&quot;:385}],385:[function(t,e,r){e.exports=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t}},{}],386:[function(t,e,r){e.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t}},{}],387:[function(t,e,r){e.exports=function(t,e){var r=e[0],n=e[1],i=e[2],a=r*r+n*n+i*i;a&gt;0&amp;&amp;(a=1/Math.sqrt(a),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a);return t}},{}],388:[function(t,e,r){e.exports=function(t,e){e=e||1;var r=2*Math.random()*Math.PI,n=2*Math.random()-1,i=Math.sqrt(1-n*n)*e;return t[0]=Math.cos(r)*i,t[1]=Math.sin(r)*i,t[2]=n*e,t}},{}],389:[function(t,e,r){e.exports=function(t,e,r,n){var i=r[1],a=r[2],o=e[1]-i,s=e[2]-a,l=Math.sin(n),c=Math.cos(n);return t[0]=e[0],t[1]=i+o*c-s*l,t[2]=a+o*l+s*c,t}},{}],390:[function(t,e,r){e.exports=function(t,e,r,n){var i=r[0],a=r[2],o=e[0]-i,s=e[2]-a,l=Math.sin(n),c=Math.cos(n);return t[0]=i+s*l+o*c,t[1]=e[1],t[2]=a+s*c-o*l,t}},{}],391:[function(t,e,r){e.exports=function(t,e,r,n){var i=r[0],a=r[1],o=e[0]-i,s=e[1]-a,l=Math.sin(n),c=Math.cos(n);return t[0]=i+o*c-s*l,t[1]=a+o*l+s*c,t[2]=e[2],t}},{}],392:[function(t,e,r){e.exports=function(t,e){return t[0]=Math.round(e[0]),t[1]=Math.round(e[1]),t[2]=Math.round(e[2]),t}},{}],393:[function(t,e,r){e.exports=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t}},{}],394:[function(t,e,r){e.exports=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t}},{}],395:[function(t,e,r){e.exports=function(t,e,r,n){return t[0]=e,t[1]=r,t[2]=n,t}},{}],396:[function(t,e,r){e.exports=t(\&quot;./squaredDistance\&quot;)},{\&quot;./squaredDistance\&quot;:398}],397:[function(t,e,r){e.exports=t(\&quot;./squaredLength\&quot;)},{\&quot;./squaredLength\&quot;:399}],398:[function(t,e,r){e.exports=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2];return r*r+n*n+i*i}},{}],399:[function(t,e,r){e.exports=function(t){var e=t[0],r=t[1],n=t[2];return e*e+r*r+n*n}},{}],400:[function(t,e,r){e.exports=t(\&quot;./subtract\&quot;)},{\&quot;./subtract\&quot;:401}],401:[function(t,e,r){e.exports=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t}},{}],402:[function(t,e,r){e.exports=function(t,e,r){var n=e[0],i=e[1],a=e[2];return t[0]=n*r[0]+i*r[3]+a*r[6],t[1]=n*r[1]+i*r[4]+a*r[7],t[2]=n*r[2]+i*r[5]+a*r[8],t}},{}],403:[function(t,e,r){e.exports=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[3]*n+r[7]*i+r[11]*a+r[15];return o=o||1,t[0]=(r[0]*n+r[4]*i+r[8]*a+r[12])/o,t[1]=(r[1]*n+r[5]*i+r[9]*a+r[13])/o,t[2]=(r[2]*n+r[6]*i+r[10]*a+r[14])/o,t}},{}],404:[function(t,e,r){e.exports=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],l=r[2],c=r[3],u=c*n+s*a-l*i,f=c*i+l*n-o*a,h=c*a+o*i-s*n,p=-o*n-s*i-l*a;return t[0]=u*c+p*-o+f*-l-h*-s,t[1]=f*c+p*-s+h*-o-u*-l,t[2]=h*c+p*-l+u*-s-f*-o,t}},{}],405:[function(t,e,r){e.exports=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t[3]=e[3]+r[3],t}},{}],406:[function(t,e,r){e.exports=function(t){var e=new Float32Array(4);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e}},{}],407:[function(t,e,r){e.exports=function(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}},{}],408:[function(t,e,r){e.exports=function(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}},{}],409:[function(t,e,r){e.exports=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return Math.sqrt(r*r+n*n+i*i+a*a)}},{}],410:[function(t,e,r){e.exports=function(t,e,r){return t[0]=e[0]/r[0],t[1]=e[1]/r[1],t[2]=e[2]/r[2],t[3]=e[3]/r[3],t}},{}],411:[function(t,e,r){e.exports=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}},{}],412:[function(t,e,r){e.exports=function(t,e,r,n){var i=new Float32Array(4);return i[0]=t,i[1]=e,i[2]=r,i[3]=n,i}},{}],413:[function(t,e,r){e.exports={create:t(\&quot;./create\&quot;),clone:t(\&quot;./clone\&quot;),fromValues:t(\&quot;./fromValues\&quot;),copy:t(\&quot;./copy\&quot;),set:t(\&quot;./set\&quot;),add:t(\&quot;./add\&quot;),subtract:t(\&quot;./subtract\&quot;),multiply:t(\&quot;./multiply\&quot;),divide:t(\&quot;./divide\&quot;),min:t(\&quot;./min\&quot;),max:t(\&quot;./max\&quot;),scale:t(\&quot;./scale\&quot;),scaleAndAdd:t(\&quot;./scaleAndAdd\&quot;),distance:t(\&quot;./distance\&quot;),squaredDistance:t(\&quot;./squaredDistance\&quot;),length:t(\&quot;./length\&quot;),squaredLength:t(\&quot;./squaredLength\&quot;),negate:t(\&quot;./negate\&quot;),inverse:t(\&quot;./inverse\&quot;),normalize:t(\&quot;./normalize\&quot;),dot:t(\&quot;./dot\&quot;),lerp:t(\&quot;./lerp\&quot;),random:t(\&quot;./random\&quot;),transformMat4:t(\&quot;./transformMat4\&quot;),transformQuat:t(\&quot;./transformQuat\&quot;)}},{\&quot;./add\&quot;:405,\&quot;./clone\&quot;:406,\&quot;./copy\&quot;:407,\&quot;./create\&quot;:408,\&quot;./distance\&quot;:409,\&quot;./divide\&quot;:410,\&quot;./dot\&quot;:411,\&quot;./fromValues\&quot;:412,\&quot;./inverse\&quot;:414,\&quot;./length\&quot;:415,\&quot;./lerp\&quot;:416,\&quot;./max\&quot;:417,\&quot;./min\&quot;:418,\&quot;./multiply\&quot;:419,\&quot;./negate\&quot;:420,\&quot;./normalize\&quot;:421,\&quot;./random\&quot;:422,\&quot;./scale\&quot;:423,\&quot;./scaleAndAdd\&quot;:424,\&quot;./set\&quot;:425,\&quot;./squaredDistance\&quot;:426,\&quot;./squaredLength\&quot;:427,\&quot;./subtract\&quot;:428,\&quot;./transformMat4\&quot;:429,\&quot;./transformQuat\&quot;:430}],414:[function(t,e,r){e.exports=function(t,e){return t[0]=1/e[0],t[1]=1/e[1],t[2]=1/e[2],t[3]=1/e[3],t}},{}],415:[function(t,e,r){e.exports=function(t){var e=t[0],r=t[1],n=t[2],i=t[3];return Math.sqrt(e*e+r*r+n*n+i*i)}},{}],416:[function(t,e,r){e.exports=function(t,e,r,n){var i=e[0],a=e[1],o=e[2],s=e[3];return t[0]=i+n*(r[0]-i),t[1]=a+n*(r[1]-a),t[2]=o+n*(r[2]-o),t[3]=s+n*(r[3]-s),t}},{}],417:[function(t,e,r){e.exports=function(t,e,r){return t[0]=Math.max(e[0],r[0]),t[1]=Math.max(e[1],r[1]),t[2]=Math.max(e[2],r[2]),t[3]=Math.max(e[3],r[3]),t}},{}],418:[function(t,e,r){e.exports=function(t,e,r){return t[0]=Math.min(e[0],r[0]),t[1]=Math.min(e[1],r[1]),t[2]=Math.min(e[2],r[2]),t[3]=Math.min(e[3],r[3]),t}},{}],419:[function(t,e,r){e.exports=function(t,e,r){return t[0]=e[0]*r[0],t[1]=e[1]*r[1],t[2]=e[2]*r[2],t[3]=e[3]*r[3],t}},{}],420:[function(t,e,r){e.exports=function(t,e){return t[0]=-e[0],t[1]=-e[1],t[2]=-e[2],t[3]=-e[3],t}},{}],421:[function(t,e,r){e.exports=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=r*r+n*n+i*i+a*a;o&gt;0&amp;&amp;(o=1/Math.sqrt(o),t[0]=r*o,t[1]=n*o,t[2]=i*o,t[3]=a*o);return t}},{}],422:[function(t,e,r){var n=t(\&quot;./normalize\&quot;),i=t(\&quot;./scale\&quot;);e.exports=function(t,e){return e=e||1,t[0]=Math.random(),t[1]=Math.random(),t[2]=Math.random(),t[3]=Math.random(),n(t,t),i(t,t,e),t}},{\&quot;./normalize\&quot;:421,\&quot;./scale\&quot;:423}],423:[function(t,e,r){e.exports=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t}},{}],424:[function(t,e,r){e.exports=function(t,e,r,n){return t[0]=e[0]+r[0]*n,t[1]=e[1]+r[1]*n,t[2]=e[2]+r[2]*n,t[3]=e[3]+r[3]*n,t}},{}],425:[function(t,e,r){e.exports=function(t,e,r,n,i){return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}},{}],426:[function(t,e,r){e.exports=function(t,e){var r=e[0]-t[0],n=e[1]-t[1],i=e[2]-t[2],a=e[3]-t[3];return r*r+n*n+i*i+a*a}},{}],427:[function(t,e,r){e.exports=function(t){var e=t[0],r=t[1],n=t[2],i=t[3];return e*e+r*r+n*n+i*i}},{}],428:[function(t,e,r){e.exports=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t[3]=e[3]-r[3],t}},{}],429:[function(t,e,r){e.exports=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,t[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,t[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,t[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,t}},{}],430:[function(t,e,r){e.exports=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],l=r[2],c=r[3],u=c*n+s*a-l*i,f=c*i+l*n-o*a,h=c*a+o*i-s*n,p=-o*n-s*i-l*a;return t[0]=u*c+p*-o+f*-l-h*-s,t[1]=f*c+p*-s+h*-o-u*-l,t[2]=h*c+p*-l+u*-s-f*-o,t[3]=e[3],t}},{}],431:[function(t,e,r){var n=t(\&quot;glsl-tokenizer\&quot;),i=t(\&quot;atob-lite\&quot;);e.exports=function(t){for(var e=Array.isArray(t)?t:n(t),r=0;r&lt;e.length;r++){var a=e[r];if(\&quot;preprocessor\&quot;===a.type){var o=a.data.match(/\\#define\\s+SHADER_NAME(_B64)?\\s+(.+)$/);if(o&amp;&amp;o[2]){var s=o[1],l=o[2];return(s?i(l):l).trim()}}}}},{\&quot;atob-lite\&quot;:77,\&quot;glsl-tokenizer\&quot;:438}],432:[function(t,e,r){e.exports=function(t){var e,r,c,u=0,f=0,h=999,p=[],d=[],g=1,m=0,v=0,y=!1,x=!1,b=\&quot;\&quot;,_=a,w=n;\&quot;300 es\&quot;===(t=t||{}).version&amp;&amp;(_=s,w=o);var T={},k={};for(u=0;u&lt;_.length;u++)T[_[u]]=!0;for(u=0;u&lt;w.length;u++)k[w[u]]=!0;return function(t){return d=[],null!==t?function(t){u=0,t.toString&amp;&amp;(t=t.toString());var r;b+=t.replace(/\\r\\n/g,\&quot;\\n\&quot;),c=b.length;for(;e=b[u],u&lt;c;){switch(r=u,h){case 0:u=C();break;case 1:case 2:u=E();break;case 3:u=L();break;case 4:u=z();break;case 11:u=P();break;case 5:u=O();break;case 9999:u=D();break;case 9:u=S();break;case 999:u=A()}if(r!==u)switch(b[r]){case\&quot;\\n\&quot;:m=0,++g;break;default:++m}}return f+=u,b=b.slice(u),d}(t):function(t){p.length&amp;&amp;M(p.join(\&quot;\&quot;));return h=10,M(\&quot;(eof)\&quot;),d}()};function M(t){t.length&amp;&amp;d.push({type:l[h],data:t,position:v,line:g,column:m})}function A(){return p=p.length?[]:p,\&quot;/\&quot;===r&amp;&amp;\&quot;*\&quot;===e?(v=f+u-1,h=0,r=e,u+1):\&quot;/\&quot;===r&amp;&amp;\&quot;/\&quot;===e?(v=f+u-1,h=1,r=e,u+1):\&quot;#\&quot;===e?(h=2,v=f+u,u):/\\s/.test(e)?(h=9,v=f+u,u):(y=/\\d/.test(e),x=/[^\\w_]/.test(e),v=f+u,h=y?4:x?3:9999,u)}function S(){return/[^\\s]/g.test(e)?(M(p.join(\&quot;\&quot;)),h=999,u):(p.push(e),r=e,u+1)}function E(){return\&quot;\\r\&quot;!==e&amp;&amp;\&quot;\\n\&quot;!==e||\&quot;\\\\\&quot;===r?(p.push(e),r=e,u+1):(M(p.join(\&quot;\&quot;)),h=999,u)}function C(){return\&quot;/\&quot;===e&amp;&amp;\&quot;*\&quot;===r?(p.push(e),M(p.join(\&quot;\&quot;)),h=999,u+1):(p.push(e),r=e,u+1)}function L(){if(\&quot;.\&quot;===r&amp;&amp;/\\d/.test(e))return h=5,u;if(\&quot;/\&quot;===r&amp;&amp;\&quot;*\&quot;===e)return h=0,u;if(\&quot;/\&quot;===r&amp;&amp;\&quot;/\&quot;===e)return h=1,u;if(\&quot;.\&quot;===e&amp;&amp;p.length){for(;I(p););return h=5,u}if(\&quot;;\&quot;===e||\&quot;)\&quot;===e||\&quot;(\&quot;===e){if(p.length)for(;I(p););return M(e),h=999,u+1}var t=2===p.length&amp;&amp;\&quot;=\&quot;!==e;if(/[\\w_\\d\\s]/.test(e)||t){for(;I(p););return h=999,u}return p.push(e),r=e,u+1}function I(t){for(var e,r,n=0;;){if(e=i.indexOf(t.slice(0,t.length+n).join(\&quot;\&quot;)),r=i[e],-1===e){if(n--+t.length&gt;0)continue;r=t.slice(0,1).join(\&quot;\&quot;)}return M(r),v+=r.length,(p=p.slice(r.length)).length}}function P(){return/[^a-fA-F0-9]/.test(e)?(M(p.join(\&quot;\&quot;)),h=999,u):(p.push(e),r=e,u+1)}function z(){return\&quot;.\&quot;===e||/[eE]/.test(e)?(p.push(e),h=5,r=e,u+1):\&quot;x\&quot;===e&amp;&amp;1===p.length&amp;&amp;\&quot;0\&quot;===p[0]?(h=11,p.push(e),r=e,u+1):/[^\\d]/.test(e)?(M(p.join(\&quot;\&quot;)),h=999,u):(p.push(e),r=e,u+1)}function O(){return\&quot;f\&quot;===e&amp;&amp;(p.push(e),r=e,u+=1),/[eE]/.test(e)?(p.push(e),r=e,u+1):(\&quot;-\&quot;!==e&amp;&amp;\&quot;+\&quot;!==e||!/[eE]/.test(r))&amp;&amp;/[^\\d]/.test(e)?(M(p.join(\&quot;\&quot;)),h=999,u):(p.push(e),r=e,u+1)}function D(){if(/[^\\d\\w_]/.test(e)){var t=p.join(\&quot;\&quot;);return h=k[t]?8:T[t]?7:6,M(p.join(\&quot;\&quot;)),h=999,u}return p.push(e),r=e,u+1}};var n=t(\&quot;./lib/literals\&quot;),i=t(\&quot;./lib/operators\&quot;),a=t(\&quot;./lib/builtins\&quot;),o=t(\&quot;./lib/literals-300es\&quot;),s=t(\&quot;./lib/builtins-300es\&quot;),l=[\&quot;block-comment\&quot;,\&quot;line-comment\&quot;,\&quot;preprocessor\&quot;,\&quot;operator\&quot;,\&quot;integer\&quot;,\&quot;float\&quot;,\&quot;ident\&quot;,\&quot;builtin\&quot;,\&quot;keyword\&quot;,\&quot;whitespace\&quot;,\&quot;eof\&quot;,\&quot;integer\&quot;]},{\&quot;./lib/builtins\&quot;:434,\&quot;./lib/builtins-300es\&quot;:433,\&quot;./lib/literals\&quot;:436,\&quot;./lib/literals-300es\&quot;:435,\&quot;./lib/operators\&quot;:437}],433:[function(t,e,r){var n=t(\&quot;./builtins\&quot;);n=n.slice().filter((function(t){return!/^(gl\\_|texture)/.test(t)})),e.exports=n.concat([\&quot;gl_VertexID\&quot;,\&quot;gl_InstanceID\&quot;,\&quot;gl_Position\&quot;,\&quot;gl_PointSize\&quot;,\&quot;gl_FragCoord\&quot;,\&quot;gl_FrontFacing\&quot;,\&quot;gl_FragDepth\&quot;,\&quot;gl_PointCoord\&quot;,\&quot;gl_MaxVertexAttribs\&quot;,\&quot;gl_MaxVertexUniformVectors\&quot;,\&quot;gl_MaxVertexOutputVectors\&quot;,\&quot;gl_MaxFragmentInputVectors\&quot;,\&quot;gl_MaxVertexTextureImageUnits\&quot;,\&quot;gl_MaxCombinedTextureImageUnits\&quot;,\&quot;gl_MaxTextureImageUnits\&quot;,\&quot;gl_MaxFragmentUniformVectors\&quot;,\&quot;gl_MaxDrawBuffers\&quot;,\&quot;gl_MinProgramTexelOffset\&quot;,\&quot;gl_MaxProgramTexelOffset\&quot;,\&quot;gl_DepthRangeParameters\&quot;,\&quot;gl_DepthRange\&quot;,\&quot;trunc\&quot;,\&quot;round\&quot;,\&quot;roundEven\&quot;,\&quot;isnan\&quot;,\&quot;isinf\&quot;,\&quot;floatBitsToInt\&quot;,\&quot;floatBitsToUint\&quot;,\&quot;intBitsToFloat\&quot;,\&quot;uintBitsToFloat\&quot;,\&quot;packSnorm2x16\&quot;,\&quot;unpackSnorm2x16\&quot;,\&quot;packUnorm2x16\&quot;,\&quot;unpackUnorm2x16\&quot;,\&quot;packHalf2x16\&quot;,\&quot;unpackHalf2x16\&quot;,\&quot;outerProduct\&quot;,\&quot;transpose\&quot;,\&quot;determinant\&quot;,\&quot;inverse\&quot;,\&quot;texture\&quot;,\&quot;textureSize\&quot;,\&quot;textureProj\&quot;,\&quot;textureLod\&quot;,\&quot;textureOffset\&quot;,\&quot;texelFetch\&quot;,\&quot;texelFetchOffset\&quot;,\&quot;textureProjOffset\&quot;,\&quot;textureLodOffset\&quot;,\&quot;textureProjLod\&quot;,\&quot;textureProjLodOffset\&quot;,\&quot;textureGrad\&quot;,\&quot;textureGradOffset\&quot;,\&quot;textureProjGrad\&quot;,\&quot;textureProjGradOffset\&quot;])},{\&quot;./builtins\&quot;:434}],434:[function(t,e,r){e.exports=[\&quot;abs\&quot;,\&quot;acos\&quot;,\&quot;all\&quot;,\&quot;any\&quot;,\&quot;asin\&quot;,\&quot;atan\&quot;,\&quot;ceil\&quot;,\&quot;clamp\&quot;,\&quot;cos\&quot;,\&quot;cross\&quot;,\&quot;dFdx\&quot;,\&quot;dFdy\&quot;,\&quot;degrees\&quot;,\&quot;distance\&quot;,\&quot;dot\&quot;,\&quot;equal\&quot;,\&quot;exp\&quot;,\&quot;exp2\&quot;,\&quot;faceforward\&quot;,\&quot;floor\&quot;,\&quot;fract\&quot;,\&quot;gl_BackColor\&quot;,\&quot;gl_BackLightModelProduct\&quot;,\&quot;gl_BackLightProduct\&quot;,\&quot;gl_BackMaterial\&quot;,\&quot;gl_BackSecondaryColor\&quot;,\&quot;gl_ClipPlane\&quot;,\&quot;gl_ClipVertex\&quot;,\&quot;gl_Color\&quot;,\&quot;gl_DepthRange\&quot;,\&quot;gl_DepthRangeParameters\&quot;,\&quot;gl_EyePlaneQ\&quot;,\&quot;gl_EyePlaneR\&quot;,\&quot;gl_EyePlaneS\&quot;,\&quot;gl_EyePlaneT\&quot;,\&quot;gl_Fog\&quot;,\&quot;gl_FogCoord\&quot;,\&quot;gl_FogFragCoord\&quot;,\&quot;gl_FogParameters\&quot;,\&quot;gl_FragColor\&quot;,\&quot;gl_FragCoord\&quot;,\&quot;gl_FragData\&quot;,\&quot;gl_FragDepth\&quot;,\&quot;gl_FragDepthEXT\&quot;,\&quot;gl_FrontColor\&quot;,\&quot;gl_FrontFacing\&quot;,\&quot;gl_FrontLightModelProduct\&quot;,\&quot;gl_FrontLightProduct\&quot;,\&quot;gl_FrontMaterial\&quot;,\&quot;gl_FrontSecondaryColor\&quot;,\&quot;gl_LightModel\&quot;,\&quot;gl_LightModelParameters\&quot;,\&quot;gl_LightModelProducts\&quot;,\&quot;gl_LightProducts\&quot;,\&quot;gl_LightSource\&quot;,\&quot;gl_LightSourceParameters\&quot;,\&quot;gl_MaterialParameters\&quot;,\&quot;gl_MaxClipPlanes\&quot;,\&quot;gl_MaxCombinedTextureImageUnits\&quot;,\&quot;gl_MaxDrawBuffers\&quot;,\&quot;gl_MaxFragmentUniformComponents\&quot;,\&quot;gl_MaxLights\&quot;,\&quot;gl_MaxTextureCoords\&quot;,\&quot;gl_MaxTextureImageUnits\&quot;,\&quot;gl_MaxTextureUnits\&quot;,\&quot;gl_MaxVaryingFloats\&quot;,\&quot;gl_MaxVertexAttribs\&quot;,\&quot;gl_MaxVertexTextureImageUnits\&quot;,\&quot;gl_MaxVertexUniformComponents\&quot;,\&quot;gl_ModelViewMatrix\&quot;,\&quot;gl_ModelViewMatrixInverse\&quot;,\&quot;gl_ModelViewMatrixInverseTranspose\&quot;,\&quot;gl_ModelViewMatrixTranspose\&quot;,\&quot;gl_ModelViewProjectionMatrix\&quot;,\&quot;gl_ModelViewProjectionMatrixInverse\&quot;,\&quot;gl_ModelViewProjectionMatrixInverseTranspose\&quot;,\&quot;gl_ModelViewProjectionMatrixTranspose\&quot;,\&quot;gl_MultiTexCoord0\&quot;,\&quot;gl_MultiTexCoord1\&quot;,\&quot;gl_MultiTexCoord2\&quot;,\&quot;gl_MultiTexCoord3\&quot;,\&quot;gl_MultiTexCoord4\&quot;,\&quot;gl_MultiTexCoord5\&quot;,\&quot;gl_MultiTexCoord6\&quot;,\&quot;gl_MultiTexCoord7\&quot;,\&quot;gl_Normal\&quot;,\&quot;gl_NormalMatrix\&quot;,\&quot;gl_NormalScale\&quot;,\&quot;gl_ObjectPlaneQ\&quot;,\&quot;gl_ObjectPlaneR\&quot;,\&quot;gl_ObjectPlaneS\&quot;,\&quot;gl_ObjectPlaneT\&quot;,\&quot;gl_Point\&quot;,\&quot;gl_PointCoord\&quot;,\&quot;gl_PointParameters\&quot;,\&quot;gl_PointSize\&quot;,\&quot;gl_Position\&quot;,\&quot;gl_ProjectionMatrix\&quot;,\&quot;gl_ProjectionMatrixInverse\&quot;,\&quot;gl_ProjectionMatrixInverseTranspose\&quot;,\&quot;gl_ProjectionMatrixTranspose\&quot;,\&quot;gl_SecondaryColor\&quot;,\&quot;gl_TexCoord\&quot;,\&quot;gl_TextureEnvColor\&quot;,\&quot;gl_TextureMatrix\&quot;,\&quot;gl_TextureMatrixInverse\&quot;,\&quot;gl_TextureMatrixInverseTranspose\&quot;,\&quot;gl_TextureMatrixTranspose\&quot;,\&quot;gl_Vertex\&quot;,\&quot;greaterThan\&quot;,\&quot;greaterThanEqual\&quot;,\&quot;inversesqrt\&quot;,\&quot;length\&quot;,\&quot;lessThan\&quot;,\&quot;lessThanEqual\&quot;,\&quot;log\&quot;,\&quot;log2\&quot;,\&quot;matrixCompMult\&quot;,\&quot;max\&quot;,\&quot;min\&quot;,\&quot;mix\&quot;,\&quot;mod\&quot;,\&quot;normalize\&quot;,\&quot;not\&quot;,\&quot;notEqual\&quot;,\&quot;pow\&quot;,\&quot;radians\&quot;,\&quot;reflect\&quot;,\&quot;refract\&quot;,\&quot;sign\&quot;,\&quot;sin\&quot;,\&quot;smoothstep\&quot;,\&quot;sqrt\&quot;,\&quot;step\&quot;,\&quot;tan\&quot;,\&quot;texture2D\&quot;,\&quot;texture2DLod\&quot;,\&quot;texture2DProj\&quot;,\&quot;texture2DProjLod\&quot;,\&quot;textureCube\&quot;,\&quot;textureCubeLod\&quot;,\&quot;texture2DLodEXT\&quot;,\&quot;texture2DProjLodEXT\&quot;,\&quot;textureCubeLodEXT\&quot;,\&quot;texture2DGradEXT\&quot;,\&quot;texture2DProjGradEXT\&quot;,\&quot;textureCubeGradEXT\&quot;]},{}],435:[function(t,e,r){var n=t(\&quot;./literals\&quot;);e.exports=n.slice().concat([\&quot;layout\&quot;,\&quot;centroid\&quot;,\&quot;smooth\&quot;,\&quot;case\&quot;,\&quot;mat2x2\&quot;,\&quot;mat2x3\&quot;,\&quot;mat2x4\&quot;,\&quot;mat3x2\&quot;,\&quot;mat3x3\&quot;,\&quot;mat3x4\&quot;,\&quot;mat4x2\&quot;,\&quot;mat4x3\&quot;,\&quot;mat4x4\&quot;,\&quot;uvec2\&quot;,\&quot;uvec3\&quot;,\&quot;uvec4\&quot;,\&quot;samplerCubeShadow\&quot;,\&quot;sampler2DArray\&quot;,\&quot;sampler2DArrayShadow\&quot;,\&quot;isampler2D\&quot;,\&quot;isampler3D\&quot;,\&quot;isamplerCube\&quot;,\&quot;isampler2DArray\&quot;,\&quot;usampler2D\&quot;,\&quot;usampler3D\&quot;,\&quot;usamplerCube\&quot;,\&quot;usampler2DArray\&quot;,\&quot;coherent\&quot;,\&quot;restrict\&quot;,\&quot;readonly\&quot;,\&quot;writeonly\&quot;,\&quot;resource\&quot;,\&quot;atomic_uint\&quot;,\&quot;noperspective\&quot;,\&quot;patch\&quot;,\&quot;sample\&quot;,\&quot;subroutine\&quot;,\&quot;common\&quot;,\&quot;partition\&quot;,\&quot;active\&quot;,\&quot;filter\&quot;,\&quot;image1D\&quot;,\&quot;image2D\&quot;,\&quot;image3D\&quot;,\&quot;imageCube\&quot;,\&quot;iimage1D\&quot;,\&quot;iimage2D\&quot;,\&quot;iimage3D\&quot;,\&quot;iimageCube\&quot;,\&quot;uimage1D\&quot;,\&quot;uimage2D\&quot;,\&quot;uimage3D\&quot;,\&quot;uimageCube\&quot;,\&quot;image1DArray\&quot;,\&quot;image2DArray\&quot;,\&quot;iimage1DArray\&quot;,\&quot;iimage2DArray\&quot;,\&quot;uimage1DArray\&quot;,\&quot;uimage2DArray\&quot;,\&quot;image1DShadow\&quot;,\&quot;image2DShadow\&quot;,\&quot;image1DArrayShadow\&quot;,\&quot;image2DArrayShadow\&quot;,\&quot;imageBuffer\&quot;,\&quot;iimageBuffer\&quot;,\&quot;uimageBuffer\&quot;,\&quot;sampler1DArray\&quot;,\&quot;sampler1DArrayShadow\&quot;,\&quot;isampler1D\&quot;,\&quot;isampler1DArray\&quot;,\&quot;usampler1D\&quot;,\&quot;usampler1DArray\&quot;,\&quot;isampler2DRect\&quot;,\&quot;usampler2DRect\&quot;,\&quot;samplerBuffer\&quot;,\&quot;isamplerBuffer\&quot;,\&quot;usamplerBuffer\&quot;,\&quot;sampler2DMS\&quot;,\&quot;isampler2DMS\&quot;,\&quot;usampler2DMS\&quot;,\&quot;sampler2DMSArray\&quot;,\&quot;isampler2DMSArray\&quot;,\&quot;usampler2DMSArray\&quot;])},{\&quot;./literals\&quot;:436}],436:[function(t,e,r){e.exports=[\&quot;precision\&quot;,\&quot;highp\&quot;,\&quot;mediump\&quot;,\&quot;lowp\&quot;,\&quot;attribute\&quot;,\&quot;const\&quot;,\&quot;uniform\&quot;,\&quot;varying\&quot;,\&quot;break\&quot;,\&quot;continue\&quot;,\&quot;do\&quot;,\&quot;for\&quot;,\&quot;while\&quot;,\&quot;if\&quot;,\&quot;else\&quot;,\&quot;in\&quot;,\&quot;out\&quot;,\&quot;inout\&quot;,\&quot;float\&quot;,\&quot;int\&quot;,\&quot;uint\&quot;,\&quot;void\&quot;,\&quot;bool\&quot;,\&quot;true\&quot;,\&quot;false\&quot;,\&quot;discard\&quot;,\&quot;return\&quot;,\&quot;mat2\&quot;,\&quot;mat3\&quot;,\&quot;mat4\&quot;,\&quot;vec2\&quot;,\&quot;vec3\&quot;,\&quot;vec4\&quot;,\&quot;ivec2\&quot;,\&quot;ivec3\&quot;,\&quot;ivec4\&quot;,\&quot;bvec2\&quot;,\&quot;bvec3\&quot;,\&quot;bvec4\&quot;,\&quot;sampler1D\&quot;,\&quot;sampler2D\&quot;,\&quot;sampler3D\&quot;,\&quot;samplerCube\&quot;,\&quot;sampler1DShadow\&quot;,\&quot;sampler2DShadow\&quot;,\&quot;struct\&quot;,\&quot;asm\&quot;,\&quot;class\&quot;,\&quot;union\&quot;,\&quot;enum\&quot;,\&quot;typedef\&quot;,\&quot;template\&quot;,\&quot;this\&quot;,\&quot;packed\&quot;,\&quot;goto\&quot;,\&quot;switch\&quot;,\&quot;default\&quot;,\&quot;inline\&quot;,\&quot;noinline\&quot;,\&quot;volatile\&quot;,\&quot;public\&quot;,\&quot;static\&quot;,\&quot;extern\&quot;,\&quot;external\&quot;,\&quot;interface\&quot;,\&quot;long\&quot;,\&quot;short\&quot;,\&quot;double\&quot;,\&quot;half\&quot;,\&quot;fixed\&quot;,\&quot;unsigned\&quot;,\&quot;input\&quot;,\&quot;output\&quot;,\&quot;hvec2\&quot;,\&quot;hvec3\&quot;,\&quot;hvec4\&quot;,\&quot;dvec2\&quot;,\&quot;dvec3\&quot;,\&quot;dvec4\&quot;,\&quot;fvec2\&quot;,\&quot;fvec3\&quot;,\&quot;fvec4\&quot;,\&quot;sampler2DRect\&quot;,\&quot;sampler3DRect\&quot;,\&quot;sampler2DRectShadow\&quot;,\&quot;sizeof\&quot;,\&quot;cast\&quot;,\&quot;namespace\&quot;,\&quot;using\&quot;]},{}],437:[function(t,e,r){e.exports=[\&quot;&lt;&lt;=\&quot;,\&quot;&gt;&gt;=\&quot;,\&quot;++\&quot;,\&quot;--\&quot;,\&quot;&lt;&lt;\&quot;,\&quot;&gt;&gt;\&quot;,\&quot;&lt;=\&quot;,\&quot;&gt;=\&quot;,\&quot;==\&quot;,\&quot;!=\&quot;,\&quot;&amp;&amp;\&quot;,\&quot;||\&quot;,\&quot;+=\&quot;,\&quot;-=\&quot;,\&quot;*=\&quot;,\&quot;/=\&quot;,\&quot;%=\&quot;,\&quot;&amp;=\&quot;,\&quot;^^\&quot;,\&quot;^=\&quot;,\&quot;|=\&quot;,\&quot;(\&quot;,\&quot;)\&quot;,\&quot;[\&quot;,\&quot;]\&quot;,\&quot;.\&quot;,\&quot;!\&quot;,\&quot;~\&quot;,\&quot;*\&quot;,\&quot;/\&quot;,\&quot;%\&quot;,\&quot;+\&quot;,\&quot;-\&quot;,\&quot;&lt;\&quot;,\&quot;&gt;\&quot;,\&quot;&amp;\&quot;,\&quot;^\&quot;,\&quot;|\&quot;,\&quot;?\&quot;,\&quot;:\&quot;,\&quot;=\&quot;,\&quot;,\&quot;,\&quot;;\&quot;,\&quot;{\&quot;,\&quot;}\&quot;]},{}],438:[function(t,e,r){var n=t(\&quot;./index\&quot;);e.exports=function(t,e){var r=n(e),i=[];return i=(i=i.concat(r(t))).concat(r(null))}},{\&quot;./index\&quot;:432}],439:[function(t,e,r){arguments[4][257][0].apply(r,arguments)},{dup:257}],440:[function(t,e,r){(function(r){(function(){\&quot;use strict\&quot;;var n,i=t(\&quot;is-browser\&quot;);n=\&quot;function\&quot;==typeof r.matchMedia?!r.matchMedia(\&quot;(hover: none)\&quot;).matches:i,e.exports=n}).call(this)}).call(this,\&quot;undefined\&quot;!=typeof global?global:\&quot;undefined\&quot;!=typeof self?self:\&quot;undefined\&quot;!=typeof window?window:{})},{\&quot;is-browser\&quot;:464}],441:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;is-browser\&quot;);e.exports=n&amp;&amp;function(){var t=!1;try{var e=Object.defineProperty({},\&quot;passive\&quot;,{get:function(){t=!0}});window.addEventListener(\&quot;test\&quot;,null,e),window.removeEventListener(\&quot;test\&quot;,null,e)}catch(e){t=!1}return t}()},{\&quot;is-browser\&quot;:464}],442:[function(t,e,r){r.read=function(t,e,r,n,i){var a,o,s=8*i-n-1,l=(1&lt;&lt;s)-1,c=l&gt;&gt;1,u=-7,f=r?i-1:0,h=r?-1:1,p=t[e+f];for(f+=h,a=p&amp;(1&lt;&lt;-u)-1,p&gt;&gt;=-u,u+=s;u&gt;0;a=256*a+t[e+f],f+=h,u-=8);for(o=a&amp;(1&lt;&lt;-u)-1,a&gt;&gt;=-u,u+=n;u&gt;0;o=256*o+t[e+f],f+=h,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),a-=c}return(p?-1:1)*o*Math.pow(2,a-n)},r.write=function(t,e,r,n,i,a){var o,s,l,c=8*a-i-1,u=(1&lt;&lt;c)-1,f=u&gt;&gt;1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,d=n?1:-1,g=e&lt;0||0===e&amp;&amp;1/e&lt;0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))&lt;1&amp;&amp;(o--,l*=2),(e+=o+f&gt;=1?h/l:h*Math.pow(2,1-f))*l&gt;=2&amp;&amp;(o++,l/=2),o+f&gt;=u?(s=0,o=u):o+f&gt;=1?(s=(e*l-1)*Math.pow(2,i),o+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i&gt;=8;t[r+p]=255&amp;s,p+=d,s/=256,i-=8);for(o=o&lt;&lt;i|s,c+=i;c&gt;0;t[r+p]=255&amp;o,p+=d,o/=256,c-=8);t[r+p-d]|=128*g}},{}],443:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;./types\&quot;);e.exports=function(t,e){var r;for(r in n)if(n[r].detect(t,e))return r}},{\&quot;./types\&quot;:446}],444:[function(t,e,r){(function(r){(function(){\&quot;use strict\&quot;;var n=t(\&quot;fs\&quot;),i=t(\&quot;path\&quot;),a=t(\&quot;./types\&quot;),o=t(\&quot;./detector\&quot;);function s(t,e){var r=o(t,e);if(r in a){var n=a[r].calculate(t,e);if(!1!==n)return n.type=r,n}throw new TypeError(\&quot;unsupported file type: \&quot;+r+\&quot; (file: \&quot;+e+\&quot;)\&quot;)}e.exports=function(t,e){if(r.isBuffer(t))return s(t);if(\&quot;string\&quot;!=typeof t)throw new TypeError(\&quot;invalid invocation\&quot;);var a=i.resolve(t);if(\&quot;function\&quot;!=typeof e)return s(function(t){var e=n.openSync(t,\&quot;r\&quot;),i=n.fstatSync(e).size,a=Math.min(i,524288),o=r.alloc(a);return n.readSync(e,o,0,a,0),n.closeSync(e),o}(a),a);!function(t,e){n.open(t,\&quot;r\&quot;,(function(i,a){if(i)return e(i);n.fstat(a,(function(i,o){if(i)return e(i);var s=o.size;if(s&lt;=0)return e(new Error(\&quot;File size is not greater than 0 \\u2014\\u2014 \&quot;+t));var l=Math.min(s,524288),c=r.alloc(l);n.read(a,c,0,l,0,(function(t){if(t)return e(t);n.close(a,(function(t){e(t,c)}))}))}))}))}(a,(function(t,r){if(t)return e(t);var n;try{n=s(r,a)}catch(e){t=e}e(t,n)}))},e.exports.types=Object.keys(a)}).call(this)}).call(this,t(\&quot;buffer\&quot;).Buffer)},{\&quot;./detector\&quot;:443,\&quot;./types\&quot;:446,buffer:111,fs:109,path:507}],445:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e,r,n){return r=r||0,t[\&quot;readUInt\&quot;+e+(n?\&quot;BE\&quot;:\&quot;LE\&quot;)].call(t,r)}},{}],446:[function(t,e,r){\&quot;use strict\&quot;;var n={bmp:t(\&quot;./types/bmp\&quot;),cur:t(\&quot;./types/cur\&quot;),dds:t(\&quot;./types/dds\&quot;),gif:t(\&quot;./types/gif\&quot;),icns:t(\&quot;./types/icns\&quot;),ico:t(\&quot;./types/ico\&quot;),jpg:t(\&quot;./types/jpg\&quot;),png:t(\&quot;./types/png\&quot;),psd:t(\&quot;./types/psd\&quot;),svg:t(\&quot;./types/svg\&quot;),tiff:t(\&quot;./types/tiff\&quot;),webp:t(\&quot;./types/webp\&quot;)};e.exports=n},{\&quot;./types/bmp\&quot;:447,\&quot;./types/cur\&quot;:448,\&quot;./types/dds\&quot;:449,\&quot;./types/gif\&quot;:450,\&quot;./types/icns\&quot;:451,\&quot;./types/ico\&quot;:452,\&quot;./types/jpg\&quot;:453,\&quot;./types/png\&quot;:454,\&quot;./types/psd\&quot;:455,\&quot;./types/svg\&quot;:456,\&quot;./types/tiff\&quot;:457,\&quot;./types/webp\&quot;:458}],447:[function(t,e,r){\&quot;use strict\&quot;;e.exports={detect:function(t){return\&quot;BM\&quot;===t.toString(\&quot;ascii\&quot;,0,2)},calculate:function(t){return{width:t.readUInt32LE(18),height:Math.abs(t.readInt32LE(22))}}}},{}],448:[function(t,e,r){\&quot;use strict\&quot;;e.exports={detect:function(t){return 0===t.readUInt16LE(0)&amp;&amp;2===t.readUInt16LE(2)},calculate:t(\&quot;./ico\&quot;).calculate}},{\&quot;./ico\&quot;:452}],449:[function(t,e,r){\&quot;use strict\&quot;;e.exports={detect:function(t){return 542327876===t.readUInt32LE(0)},calculate:function(t){return{height:t.readUInt32LE(12),width:t.readUInt32LE(16)}}}},{}],450:[function(t,e,r){\&quot;use strict\&quot;;var n=/^GIF8[79]a/;e.exports={detect:function(t){var e=t.toString(\&quot;ascii\&quot;,0,6);return n.test(e)},calculate:function(t){return{width:t.readUInt16LE(6),height:t.readUInt16LE(8)}}}},{}],451:[function(t,e,r){\&quot;use strict\&quot;;var n={ICON:32,\&quot;ICN#\&quot;:32,\&quot;icm#\&quot;:16,icm4:16,icm8:16,\&quot;ics#\&quot;:16,ics4:16,ics8:16,is32:16,s8mk:16,icp4:16,icl4:32,icl8:32,il32:32,l8mk:32,icp5:32,ic11:32,ich4:48,ich8:48,ih32:48,h8mk:48,icp6:64,ic12:32,it32:128,t8mk:128,ic07:128,ic08:256,ic13:256,ic09:512,ic14:512,ic10:1024};function i(t,e){var r=e+4;return[t.toString(\&quot;ascii\&quot;,e,r),t.readUInt32BE(r)]}function a(t){var e=n[t];return{width:e,height:e,type:t}}e.exports={detect:function(t){return\&quot;icns\&quot;===t.toString(\&quot;ascii\&quot;,0,4)},calculate:function(t){var e,r,n,o=t.length,s=8,l=t.readUInt32BE(4);if(r=a((e=i(t,s))[0]),(s+=e[1])===l)return r;for(n={width:r.width,height:r.height,images:[r]};s&lt;l&amp;&amp;s&lt;o;)r=a((e=i(t,s))[0]),s+=e[1],n.images.push(r);return n}}},{}],452:[function(t,e,r){\&quot;use strict\&quot;;function n(t,e){var r=t.readUInt8(e);return 0===r?256:r}function i(t,e){var r=6+16*e;return{width:n(t,r),height:n(t,r+1)}}e.exports={detect:function(t){return 0===t.readUInt16LE(0)&amp;&amp;1===t.readUInt16LE(2)},calculate:function(t){var e,r=t.readUInt16LE(4),n=i(t,0);if(1===r)return n;for(n.images=[{width:n.width,height:n.height}],e=1;e&lt;r;e+=1)n.images.push(i(t,e));return n}}},{}],453:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;../readUInt\&quot;);function i(t){return\&quot;45786966\&quot;===t.toString(\&quot;hex\&quot;,2,6)}function a(t,e){return{height:t.readUInt16BE(e),width:t.readUInt16BE(e+2)}}function o(t,e){var r=t.slice(2,e),i=r.toString(\&quot;hex\&quot;,6,8),a=\&quot;4d4d\&quot;===i;if(a||\&quot;4949\&quot;===i)return function(t,e){for(var r,i,a=n(t,16,14,e),o=0;o&lt;a;o++){if(i=(r=16+12*o)+12,r&gt;t.length)return;var s=t.slice(r,i);if(274===n(s,16,0,e)){if(3!==n(s,16,2,e))return;if(1!==n(s,32,4,e))return;return n(s,16,8,e)}}}(r,a)}function s(t,e){if(e&gt;t.length)throw new TypeError(\&quot;Corrupt JPG, exceeded buffer limits\&quot;);if(255!==t[e])throw new TypeError(\&quot;Invalid JPG, marker table corrupted\&quot;)}e.exports={detect:function(t){return\&quot;ffd8\&quot;===t.toString(\&quot;hex\&quot;,0,2)},calculate:function(t){var e,r,n;for(t=t.slice(4);t.length;){if(r=t.readUInt16BE(0),i(t)&amp;&amp;(e=o(t,r)),s(t,r),192===(n=t[r+1])||193===n||194===n){var l=a(t,r+5);return e?{width:l.width,height:l.height,orientation:e}:l}t=t.slice(r+2)}throw new TypeError(\&quot;Invalid JPG, no size found\&quot;)}}},{\&quot;../readUInt\&quot;:445}],454:[function(t,e,r){\&quot;use strict\&quot;;e.exports={detect:function(t){if(\&quot;PNG\\r\\n\\x1a\\n\&quot;===t.toString(\&quot;ascii\&quot;,1,8)){var e=t.toString(\&quot;ascii\&quot;,12,16);if(\&quot;CgBI\&quot;===e&amp;&amp;(e=t.toString(\&quot;ascii\&quot;,28,32)),\&quot;IHDR\&quot;!==e)throw new TypeError(\&quot;invalid png\&quot;);return!0}},calculate:function(t){return\&quot;CgBI\&quot;===t.toString(\&quot;ascii\&quot;,12,16)?{width:t.readUInt32BE(32),height:t.readUInt32BE(36)}:{width:t.readUInt32BE(16),height:t.readUInt32BE(20)}}}},{}],455:[function(t,e,r){\&quot;use strict\&quot;;e.exports={detect:function(t){return\&quot;8BPS\&quot;===t.toString(\&quot;ascii\&quot;,0,4)},calculate:function(t){return{width:t.readUInt32BE(18),height:t.readUInt32BE(14)}}}},{}],456:[function(t,e,r){\&quot;use strict\&quot;;var n=/&lt;svg\\s([^&gt;\&quot;']|\&quot;[^\&quot;]*\&quot;|'[^']*')*&gt;/;var i={root:n,width:/\\swidth=(['\&quot;])([^%]+?)\\1/,height:/\\sheight=(['\&quot;])([^%]+?)\\1/,viewbox:/\\sviewBox=(['\&quot;])(.+?)\\1/},a={cm:96/2.54,mm:96/2.54/10,m:96/2.54*100,pt:96/72,pc:96/72/12,em:16,ex:8};function o(t){var e=/([0-9.]+)([a-z]*)/.exec(t);if(e)return Math.round(parseFloat(e[1])*(a[e[2]]||1))}function s(t){var e=t.split(\&quot; \&quot;);return{width:o(e[2]),height:o(e[3])}}e.exports={detect:function(t){return n.test(t)},calculate:function(t){var e=t.toString(\&quot;utf8\&quot;).match(i.root);if(e){var r=function(t){var e=t.match(i.width),r=t.match(i.height),n=t.match(i.viewbox);return{width:e&amp;&amp;o(e[2]),height:r&amp;&amp;o(r[2]),viewbox:n&amp;&amp;s(n[2])}}(e[0]);if(r.width&amp;&amp;r.height)return function(t){return{width:t.width,height:t.height}}(r);if(r.viewbox)return function(t){var e=t.viewbox.width/t.viewbox.height;return t.width?{width:t.width,height:Math.floor(t.width/e)}:t.height?{width:Math.floor(t.height*e),height:t.height}:{width:t.viewbox.width,height:t.viewbox.height}}(r)}throw new TypeError(\&quot;invalid svg\&quot;)}}},{}],457:[function(t,e,r){(function(r){(function(){\&quot;use strict\&quot;;var n=t(\&quot;fs\&quot;),i=t(\&quot;../readUInt\&quot;);function a(t,e){var r=i(t,16,8,e);return(i(t,16,10,e)&lt;&lt;16)+r}function o(t){if(t.length&gt;24)return t.slice(12)}e.exports={detect:function(t){var e=t.toString(\&quot;hex\&quot;,0,4);return\&quot;49492a00\&quot;===e||\&quot;4d4d002a\&quot;===e},calculate:function(t,e){if(!e)throw new TypeError(\&quot;Tiff doesn't support buffer\&quot;);var s=\&quot;BE\&quot;===function(t){var e=t.toString(\&quot;ascii\&quot;,0,2);return\&quot;II\&quot;===e?\&quot;LE\&quot;:\&quot;MM\&quot;===e?\&quot;BE\&quot;:void 0}(t),l=function(t,e){for(var r,n,s,l={};t&amp;&amp;t.length&amp;&amp;(r=i(t,16,0,e),n=i(t,16,2,e),s=i(t,32,4,e),0!==r);)1!==s||3!==n&amp;&amp;4!==n||(l[r]=a(t,e)),t=o(t);return l}(function(t,e,a){var o=i(t,32,4,a),s=1024,l=n.statSync(e).size;o+s&gt;l&amp;&amp;(s=l-o-10);var c=r.alloc(s),u=n.openSync(e,\&quot;r\&quot;);return n.readSync(u,c,0,s,o),c.slice(2)}(t,e,s),s),c=l[256],u=l[257];if(!c||!u)throw new TypeError(\&quot;Invalid Tiff, missing tags\&quot;);return{width:c,height:u}}}}).call(this)}).call(this,t(\&quot;buffer\&quot;).Buffer)},{\&quot;../readUInt\&quot;:445,buffer:111,fs:109}],458:[function(t,e,r){\&quot;use strict\&quot;;e.exports={detect:function(t){var e=\&quot;RIFF\&quot;===t.toString(\&quot;ascii\&quot;,0,4),r=\&quot;WEBP\&quot;===t.toString(\&quot;ascii\&quot;,8,12),n=\&quot;VP8\&quot;===t.toString(\&quot;ascii\&quot;,12,15);return e&amp;&amp;r&amp;&amp;n},calculate:function(t){var e=t.toString(\&quot;ascii\&quot;,12,16);if(t=t.slice(20,30),\&quot;VP8X\&quot;===e){var r=t[0];return!(!(0==(192&amp;r))||!(0==(1&amp;r)))&amp;&amp;function(t){return{width:1+t.readUIntLE(4,3),height:1+t.readUIntLE(7,3)}}(t)}if(\&quot;VP8 \&quot;===e&amp;&amp;47!==t[0])return function(t){return{width:16383&amp;t.readInt16LE(6),height:16383&amp;t.readInt16LE(8)}}(t);var n=t.toString(\&quot;hex\&quot;,3,6);return\&quot;VP8L\&quot;===e&amp;&amp;\&quot;9d012a\&quot;!==n&amp;&amp;function(t){return{width:1+((63&amp;t[2])&lt;&lt;8|t[1]),height:1+((15&amp;t[4])&lt;&lt;10|t[3]&lt;&lt;2|(192&amp;t[2])&gt;&gt;6)}}(t)}}},{}],459:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e){var r=t.length;if(0===r)throw new Error(\&quot;Must have at least d+1 points\&quot;);var i=t[0].length;if(r&lt;=i)throw new Error(\&quot;Must input at least d+1 points\&quot;);var o=t.slice(0,i+1),s=n.apply(void 0,o);if(0===s)throw new Error(\&quot;Input not in general position\&quot;);for(var l=new Array(i+1),u=0;u&lt;=i;++u)l[u]=u;s&lt;0&amp;&amp;(l[0]=1,l[1]=0);var f=new a(l,new Array(i+1),!1),h=f.adjacent,p=new Array(i+2);for(u=0;u&lt;=i;++u){for(var d=l.slice(),g=0;g&lt;=i;++g)g===u&amp;&amp;(d[g]=-1);var m=d[0];d[0]=d[1],d[1]=m;var v=new a(d,new Array(i+1),!0);h[u]=v,p[u]=v}p[i+1]=f;for(u=0;u&lt;=i;++u){d=h[u].vertices;var y=h[u].adjacent;for(g=0;g&lt;=i;++g){var x=d[g];if(x&lt;0)y[g]=f;else for(var b=0;b&lt;=i;++b)h[b].vertices.indexOf(x)&lt;0&amp;&amp;(y[g]=h[b])}}var _=new c(i,o,p),w=!!e;for(u=i+1;u&lt;r;++u)_.insert(t[u],w);return _.boundary()};var n=t(\&quot;robust-orientation\&quot;),i=t(\&quot;simplicial-complex\&quot;).compareCells;function a(t,e,r){this.vertices=t,this.adjacent=e,this.boundary=r,this.lastVisited=-1}function o(t,e,r){this.vertices=t,this.cell=e,this.index=r}function s(t,e){return i(t.vertices,e.vertices)}a.prototype.flip=function(){var t=this.vertices[0];this.vertices[0]=this.vertices[1],this.vertices[1]=t;var e=this.adjacent[0];this.adjacent[0]=this.adjacent[1],this.adjacent[1]=e};var l=[];function c(t,e,r){this.dimension=t,this.vertices=e,this.simplices=r,this.interior=r.filter((function(t){return!t.boundary})),this.tuple=new Array(t+1);for(var i=0;i&lt;=t;++i)this.tuple[i]=this.vertices[i];var a=l[t];a||(a=l[t]=function(t){for(var e=[\&quot;function orient(){var tuple=this.tuple;return test(\&quot;],r=0;r&lt;=t;++r)r&gt;0&amp;&amp;e.push(\&quot;,\&quot;),e.push(\&quot;tuple[\&quot;,r,\&quot;]\&quot;);e.push(\&quot;)}return orient\&quot;);var i=new Function(\&quot;test\&quot;,e.join(\&quot;\&quot;)),a=n[t+1];return a||(a=n),i(a)}(t)),this.orient=a}var u=c.prototype;u.handleBoundaryDegeneracy=function(t,e){var r=this.dimension,n=this.vertices.length-1,i=this.tuple,a=this.vertices,o=[t];for(t.lastVisited=-n;o.length&gt;0;){(t=o.pop()).vertices;for(var s=t.adjacent,l=0;l&lt;=r;++l){var c=s[l];if(c.boundary&amp;&amp;!(c.lastVisited&lt;=-n)){for(var u=c.vertices,f=0;f&lt;=r;++f){var h=u[f];i[f]=h&lt;0?e:a[h]}var p=this.orient();if(p&gt;0)return c;c.lastVisited=-n,0===p&amp;&amp;o.push(c)}}}return null},u.walk=function(t,e){var r=this.vertices.length-1,n=this.dimension,i=this.vertices,a=this.tuple,o=e?this.interior.length*Math.random()|0:this.interior.length-1,s=this.interior[o];t:for(;!s.boundary;){for(var l=s.vertices,c=s.adjacent,u=0;u&lt;=n;++u)a[u]=i[l[u]];s.lastVisited=r;for(u=0;u&lt;=n;++u){var f=c[u];if(!(f.lastVisited&gt;=r)){var h=a[u];a[u]=t;var p=this.orient();if(a[u]=h,p&lt;0){s=f;continue t}f.boundary?f.lastVisited=-r:f.lastVisited=r}}return}return s},u.addPeaks=function(t,e){var r=this.vertices.length-1,n=this.dimension,i=this.vertices,l=this.tuple,c=this.interior,u=this.simplices,f=[e];e.lastVisited=r,e.vertices[e.vertices.indexOf(-1)]=r,e.boundary=!1,c.push(e);for(var h=[];f.length&gt;0;){var p=(e=f.pop()).vertices,d=e.adjacent,g=p.indexOf(r);if(!(g&lt;0))for(var m=0;m&lt;=n;++m)if(m!==g){var v=d[m];if(v.boundary&amp;&amp;!(v.lastVisited&gt;=r)){var y=v.vertices;if(v.lastVisited!==-r){for(var x=0,b=0;b&lt;=n;++b)y[b]&lt;0?(x=b,l[b]=t):l[b]=i[y[b]];if(this.orient()&gt;0){y[x]=r,v.boundary=!1,c.push(v),f.push(v),v.lastVisited=r;continue}v.lastVisited=-r}var _=v.adjacent,w=p.slice(),T=d.slice(),k=new a(w,T,!0);u.push(k);var M=_.indexOf(e);if(!(M&lt;0)){_[M]=k,T[g]=v,w[m]=-1,T[m]=e,d[m]=k,k.flip();for(b=0;b&lt;=n;++b){var A=w[b];if(!(A&lt;0||A===r)){for(var S=new Array(n-1),E=0,C=0;C&lt;=n;++C){var L=w[C];L&lt;0||C===b||(S[E++]=L)}h.push(new o(S,k,b))}}}}}}h.sort(s);for(m=0;m+1&lt;h.length;m+=2){var I=h[m],P=h[m+1],z=I.index,O=P.index;z&lt;0||O&lt;0||(I.cell.adjacent[I.index]=P.cell,P.cell.adjacent[P.index]=I.cell)}},u.insert=function(t,e){var r=this.vertices;r.push(t);var n=this.walk(t,e);if(n){for(var i=this.dimension,a=this.tuple,o=0;o&lt;=i;++o){var s=n.vertices[o];a[o]=s&lt;0?t:r[s]}var l=this.orient(a);l&lt;0||(0!==l||(n=this.handleBoundaryDegeneracy(n,t)))&amp;&amp;this.addPeaks(t,n)}},u.boundary=function(){for(var t=this.dimension,e=[],r=this.simplices,n=r.length,i=0;i&lt;n;++i){var a=r[i];if(a.boundary){for(var o=new Array(t),s=a.vertices,l=0,c=0,u=0;u&lt;=t;++u)s[u]&gt;=0?o[l++]=s[u]:c=1&amp;u;if(c===(1&amp;t)){var f=o[0];o[0]=o[1],o[1]=f}e.push(o)}}return e}},{\&quot;robust-orientation\&quot;:548,\&quot;simplicial-complex\&quot;:558}],460:[function(t,e,r){\&quot;use strict\&quot;;var n=t(\&quot;binary-search-bounds\&quot;);function i(t,e,r,n,i){this.mid=t,this.left=e,this.right=r,this.leftPoints=n,this.rightPoints=i,this.count=(e?e.count:0)+(r?r.count:0)+n.length}e.exports=function(t){if(!t||0===t.length)return new v(null);return new v(m(t))};var a=i.prototype;function o(t,e){t.mid=e.mid,t.left=e.left,t.right=e.right,t.leftPoints=e.leftPoints,t.rightPoints=e.rightPoints,t.count=e.count}function s(t,e){var r=m(e);t.mid=r.mid,t.left=r.left,t.right=r.right,t.leftPoints=r.leftPoints,t.rightPoints=r.rightPoints,t.count=r.count}function l(t,e){var r=t.intervals([]);r.push(e),s(t,r)}function c(t,e){var r=t.intervals([]),n=r.indexOf(e);return n&lt;0?0:(r.splice(n,1),s(t,r),1)}function u(t,e,r){for(var n=0;n&lt;t.length&amp;&amp;t[n][0]&lt;=e;++n){var i=r(t[n]);if(i)return i}}function f(t,e,r){for(var n=t.length-1;n&gt;=0&amp;&amp;t[n][1]&gt;=e;--n){var i=r(t[n]);if(i)return i}}function h(t,e){for(var r=0;r&lt;t.length;++r){var n=e(t[r]);if(n)return n}}function p(t,e){return t-e}function d(t,e){var r=t[0]-e[0];return r||t[1]-e[1]}function g(t,e){var r=t[1]-e[1];return r||t[0]-e[0]}function m(t){if(0===t.length)return null;for(var e=[],r=0;r&lt;t.length;++r)e.push(t[r][0],t[r][1]);e.sort(p);var n=e[e.length&gt;&gt;1],a=[],o=[],s=[];for(r=0;r&lt;t.length;++r){var l=t[r];l[1]&lt;n?a.push(l):n&lt;l[0]?o.push(l):s.push(l)}var c=s,u=s.slice();return c.sort(d),u.sort(g),new i(n,m(a),m(o),c,u)}function v(t){this.root=t}a.intervals=function(t){return t.push.apply(t,this.leftPoints),this.left&amp;&amp;this.left.intervals(t),this.right&amp;&amp;this.right.intervals(t),t},a.insert=function(t){var e=this.count-this.leftPoints.length;if(this.count+=1,t[1]&lt;this.mid)this.left?4*(this.left.count+1)&gt;3*(e+1)?l(this,t):this.left.insert(t):this.left=m([t]);else if(t[0]&gt;this.mid)this.right?4*(this.right.count+1)&gt;3*(e+1)?l(this,t):this.right.insert(t):this.right=m([t]);else{var r=n.ge(this.leftPoints,t,d),i=n.ge(this.rightPoints,t,g);this.leftPoints.splice(r,0,t),this.rightPoints.splice(i,0,t)}},a.remove=function(t){var e=this.count-this.leftPoints;if(t[1]&lt;this.mid)return this.left?4*(this.right?this.right.count:0)&gt;3*(e-1)?c(this,t):2===(s=this.left.remove(t))?(this.left=null,this.count-=1,1):(1===s&amp;&amp;(this.count-=1),s):0;if(t[0]&gt;this.mid)return this.right?4*(this.left?this.left.count:0)&gt;3*(e-1)?c(this,t):2===(s=this.right.remove(t))?(this.right=null,this.count-=1,1):(1===s&amp;&amp;(this.count-=1),s):0;if(1===this.count)return this.leftPoints[0]===t?2:0;if(1===this.leftPoints.length&amp;&amp;this.leftPoints[0]===t){if(this.left&amp;&amp;this.right){for(var r=this,i=this.left;i.right;)r=i,i=i.right;if(r===this)i.right=this.right;else{var a=this.left,s=this.right;r.count-=i.count,r.right=i.left,i.left=a,i.right=s}o(this,i),this.count=(this.left?this.left.count:0)+(this.right?this.right.count:0)+this.leftPoints.length}else this.left?o(this,this.left):o(this,this.right);return 1}for(a=n.ge(this.leftPoints,t,d);a&lt;this.leftPoints.length&amp;&amp;this.leftPoints[a][0]===t[0];++a)if(this.leftPoints[a]===t){this.count-=1,this.leftPoints.splice(a,1);for(s=n.ge(this.rightPoints,t,g);s&lt;this.rightPoints.length&amp;&amp;this.rightPoints[s][1]===t[1];++s)if(this.rightPoints[s]===t)return this.rightPoints.splice(s,1),1}return 0},a.queryPoint=function(t,e){if(t&lt;this.mid){if(this.left)if(r=this.left.queryPoint(t,e))return r;return u(this.leftPoints,t,e)}if(t&gt;this.mid){var r;if(this.right)if(r=this.right.queryPoint(t,e))return r;return f(this.rightPoints,t,e)}return h(this.leftPoints,e)},a.queryInterval=function(t,e,r){var n;if(t&lt;this.mid&amp;&amp;this.left&amp;&amp;(n=this.left.queryInterval(t,e,r)))return n;if(e&gt;this.mid&amp;&amp;this.right&amp;&amp;(n=this.right.queryInterval(t,e,r)))return n;return e&lt;this.mid?u(this.leftPoints,e,r):t&gt;this.mid?f(this.rightPoints,t,r):h(this.leftPoints,r)};var y=v.prototype;y.insert=function(t){this.root?this.root.insert(t):this.root=new i(t[0],null,null,[t],[t])},y.remove=function(t){if(this.root){var e=this.root.remove(t);return 2===e&amp;&amp;(this.root=null),0!==e}return!1},y.queryPoint=function(t,e){if(this.root)return this.root.queryPoint(t,e)},y.queryInterval=function(t,e,r){if(t&lt;=e&amp;&amp;this.root)return this.root.queryInterval(t,e,r)},Object.defineProperty(y,\&quot;count\&quot;,{get:function(){return this.root?this.root.count:0}}),Object.defineProperty(y,\&quot;intervals\&quot;,{get:function(){return this.root?this.root.intervals([]):[]}})},{\&quot;binary-search-bounds\&quot;:461}],461:[function(t,e,r){arguments[4][243][0].apply(r,arguments)},{dup:243}],462:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t,e){e=e||new Array(t.length);for(var r=0;r&lt;t.length;++r)e[t[r]]=r;return e}},{}],463:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){for(var e=new Array(t),r=0;r&lt;t;++r)e[r]=r;return e}},{}],464:[function(t,e,r){e.exports=!0},{}],465:[function(t,e,r){function n(t){return!!t.constructor&amp;&amp;\&quot;function\&quot;==typeof t.constructor.isBuffer&amp;&amp;t.constructor.isBuffer(t)}\n/*!\n * Determine if an object is a Buffer\n *\n * @author   Feross Aboukhadijeh &lt;https://feross.org&gt;\n * @license  MIT\n */\ne.exports=function(t){return null!=t&amp;&amp;(n(t)||function(t){return\&quot;function\&quot;==typeof t.readFloatLE&amp;&amp;\&quot;function\&quot;==typeof t.slice&amp;&amp;n(t.slice(0,0))}(t)||!!t._isBuffer)}},{}],466:[function(t,e,r){\&quot;use strict\&quot;;e.exports=\&quot;undefined\&quot;!=typeof navigator&amp;&amp;(/MSIE/.test(navigator.userAgent)||/Trident\\//.test(navigator.appVersion))},{}],467:[function(t,e,r){\&quot;use strict\&quot;;e.exports=a,e.exports.isMobile=a,e.exports.default=a;var n=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino/i,i=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series[46]0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows (ce|phone)|xda|xiino|android|ipad|playbook|silk/i;function a(t){t||(t={});var e=t.ua;if(e||\&quot;undefined\&quot;==typeof navigator||(e=navigator.userAgent),e&amp;&amp;e.headers&amp;&amp;\&quot;string\&quot;==typeof e.headers[\&quot;user-agent\&quot;]&amp;&amp;(e=e.headers[\&quot;user-agent\&quot;]),\&quot;string\&quot;!=typeof e)return!1;var r=t.tablet?i.test(e):n.test(e);return!r&amp;&amp;t.tablet&amp;&amp;t.featureDetect&amp;&amp;navigator&amp;&amp;navigator.maxTouchPoints&gt;1&amp;&amp;-1!==e.indexOf(\&quot;Macintosh\&quot;)&amp;&amp;-1!==e.indexOf(\&quot;Safari\&quot;)&amp;&amp;(r=!0),r}},{}],468:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){var e=typeof t;return null!==t&amp;&amp;(\&quot;object\&quot;===e||\&quot;function\&quot;===e)}},{}],469:[function(t,e,r){\&quot;use strict\&quot;;var n=Object.prototype.toString;e.exports=function(t){var e;return\&quot;[object Object]\&quot;===n.call(t)&amp;&amp;(null===(e=Object.getPrototypeOf(t))||e===Object.getPrototypeOf({}))}},{}],470:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){for(var e,r=t.length,n=0;n&lt;r;n++)if(((e=t.charCodeAt(n))&lt;9||e&gt;13)&amp;&amp;32!==e&amp;&amp;133!==e&amp;&amp;160!==e&amp;&amp;5760!==e&amp;&amp;6158!==e&amp;&amp;(e&lt;8192||e&gt;8205)&amp;&amp;8232!==e&amp;&amp;8233!==e&amp;&amp;8239!==e&amp;&amp;8287!==e&amp;&amp;8288!==e&amp;&amp;12288!==e&amp;&amp;65279!==e)return!1;return!0}},{}],471:[function(t,e,r){\&quot;use strict\&quot;;e.exports=function(t){return\&quot;string\&quot;==typeof t&amp;&amp;(t=t.trim(),!!(/^[mzlhvcsqta]\\s*[-+.0-9][^mlhvzcsqta]+/i.test(t)&amp;&amp;/[\\dz]$/i.test(t)&amp;&amp;t.length&gt;4))}},{}],472:[function(t,e,r){e.exports=function(t,e,r){return t*(1-r)+e*r}},{}],473:[function(t,e,r){!function(t,n){\&quot;object\&quot;==typeof r&amp;&amp;\&quot;undefined\&quot;!=typeof e?e.exports=n():(t=t||self).mapboxgl=n()}(this,(function(){\&quot;use strict\&quot;;var t,e,r;function n(n,i){if(t)if(e){var a=\&quot;var sharedChunk = {}; (\&quot;+t+\&quot;)(sharedChunk); (\&quot;+e+\&quot;)(sharedChunk);\&quot;,o={};t(o),(r=i(o)).workerUrl=window.URL.createObjectURL(new Blob([a],{type:\&quot;text/javascript\&quot;}))}else e=i;else t=i}return n(0,(function(t){function e(t,e){return t(e={exports:{}},e.exports),e.exports}var r=n;function n(t,e,r,n){this.cx=3*t,this.bx=3*(r-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(n-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=n,this.p2x=r,this.p2y=n}n.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},n.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},n.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},n.prototype.solveCurveX=function(t,e){var r,n,i,a,o;for(void 0===e&amp;&amp;(e=1e-6),i=t,o=0;o&lt;8;o++){if(a=this.sampleCurveX(i)-t,Math.abs(a)&lt;e)return i;var s=this.sampleCurveDerivativeX(i);if(Math.abs(s)&lt;1e-6)break;i-=a/s}if((i=t)&lt;(r=0))return r;if(i&gt;(n=1))return n;for(;r&lt;n;){if(a=this.sampleCurveX(i),Math.abs(a-t)&lt;e)return i;t&gt;a?r=i:n=i,i=.5*(n-r)+r}return i},n.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))};var i=a;function a(t,e){this.x=t,this.y=e}function o(t,e,n,i){var a=new r(t,e,n,i);return function(t){return a.solve(t)}}a.prototype={clone:function(){return new a(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},multByPoint:function(t){return this.clone()._multByPoint(t)},divByPoint:function(t){return this.clone()._divByPoint(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},rotateAround:function(t,e){return this.clone()._rotateAround(t,e)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&amp;&amp;this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,r=t.y-this.y;return e*e+r*r},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[2]*this.x+t[3]*this.y;return this.x=t[0]*this.x+t[1]*this.y,this.y=e,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_multByPoint:function(t){return this.x*=t.x,this.y*=t.y,this},_divByPoint:function(t){return this.x/=t.x,this.y/=t.y,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),r=Math.sin(t),n=r*this.x+e*this.y;return this.x=e*this.x-r*this.y,this.y=n,this},_rotateAround:function(t,e){var r=Math.cos(t),n=Math.sin(t),i=e.y+n*(this.x-e.x)+r*(this.y-e.y);return this.x=e.x+r*(this.x-e.x)-n*(this.y-e.y),this.y=i,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},a.convert=function(t){return t instanceof a?t:Array.isArray(t)?new a(t[0],t[1]):t};var s=o(.25,.1,.25,1);function l(t,e,r){return Math.min(r,Math.max(e,t))}function c(t,e,r){var n=r-e,i=((t-e)%n+n)%n+e;return i===e?r:i}function u(t){for(var e=[],r=arguments.length-1;r-- &gt;0;)e[r]=arguments[r+1];for(var n=0,i=e;n&lt;i.length;n+=1){var a=i[n];for(var o in a)t[o]=a[o]}return t}var f=1;function h(){return f++}function p(){return function t(e){return e?(e^16*Math.random()&gt;&gt;e/4).toString(16):([1e7]+-[1e3]+-4e3+-8e3+-1e11).replace(/[018]/g,t)}()}function d(t){return!!t&amp;&amp;/^[0-9a-f]{8}-[0-9a-f]{4}-[4][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t)}function g(t,e){t.forEach((function(t){e[t]&amp;&amp;(e[t]=e[t].bind(e))}))}function m(t,e){return-1!==t.indexOf(e,t.length-e.length)}function v(t,e,r){var n={};for(var i in t)n[i]=e.call(r||this,t[i],i,t);return n}function y(t,e,r){var n={};for(var i in t)e.call(r||this,t[i],i,t)&amp;&amp;(n[i]=t[i]);return n}function x(t){return Array.isArray(t)?t.map(x):\&quot;object\&quot;==typeof t&amp;&amp;t?v(t,x):t}var b={};function _(t){b[t]||(\&quot;undefined\&quot;!=typeof console&amp;&amp;console.warn(t),b[t]=!0)}function w(t,e,r){return(r.y-t.y)*(e.x-t.x)&gt;(e.y-t.y)*(r.x-t.x)}function T(t){for(var e=0,r=0,n=t.length,i=n-1,a=void 0,o=void 0;r&lt;n;i=r++)e+=((o=t[i]).x-(a=t[r]).x)*(a.y+o.y);return e}function k(){return\&quot;undefined\&quot;!=typeof WorkerGlobalScope&amp;&amp;\&quot;undefined\&quot;!=typeof self&amp;&amp;self instanceof WorkerGlobalScope}function M(t){var e={};if(t.replace(/(?:^|(?:\\s*\\,\\s*))([^\\x00-\\x20\\(\\)&lt;&gt;@\\,;\\:\\\\\&quot;\\/\\[\\]\\?\\=\\{\\}\\x7F]+)(?:\\=(?:([^\\x00-\\x20\\(\\)&lt;&gt;@\\,;\\:\\\\\&quot;\\/\\[\\]\\?\\=\\{\\}\\x7F]+)|(?:\\\&quot;((?:[^\&quot;\\\\]|\\\\.)*)\\\&quot;)))?/g,(function(t,r,n,i){var a=n||i;return e[r]=!a||a.toLowerCase(),\&quot;\&quot;})),e[\&quot;max-age\&quot;]){var r=parseInt(e[\&quot;max-age\&quot;],10);isNaN(r)?delete e[\&quot;max-age\&quot;]:e[\&quot;max-age\&quot;]=r}return e}var A=null;function S(t){if(null==A){var e=t.navigator?t.navigator.userAgent:null;A=!!t.safari||!(!e||!(/\\b(iPad|iPhone|iPod)\\b/.test(e)||e.match(\&quot;Safari\&quot;)&amp;&amp;!e.match(\&quot;Chrome\&quot;)))}return A}function E(t){try{var e=self[t];return e.setItem(\&quot;_mapbox_test_\&quot;,1),e.removeItem(\&quot;_mapbox_test_\&quot;),!0}catch(t){return!1}}var C,L,I,P,z=self.performance&amp;&amp;self.performance.now?self.performance.now.bind(self.performance):Date.now.bind(Date),O=self.requestAnimationFrame||self.mozRequestAnimationFrame||self.webkitRequestAnimationFrame||self.msRequestAnimationFrame,D=self.cancelAnimationFrame||self.mozCancelAnimationFrame||self.webkitCancelAnimationFrame||self.msCancelAnimationFrame,R={now:z,frame:function(t){var e=O(t);return{cancel:function(){return D(e)}}},getImageData:function(t,e){void 0===e&amp;&amp;(e=0);var r=self.document.createElement(\&quot;canvas\&quot;),n=r.getContext(\&quot;2d\&quot;);if(!n)throw new Error(\&quot;failed to create canvas 2d context\&quot;);return r.width=t.width,r.height=t.height,n.drawImage(t,0,0,t.width,t.height),n.getImageData(-e,-e,t.width+2*e,t.height+2*e)},resolveURL:function(t){return C||(C=self.document.createElement(\&quot;a\&quot;)),C.href=t,C.href},hardwareConcurrency:self.navigator.hardwareConcurrency||4,get devicePixelRatio(){return self.devicePixelRatio},get prefersReducedMotion(){return!!self.matchMedia&amp;&amp;(null==L&amp;&amp;(L=self.matchMedia(\&quot;(prefers-reduced-motion: reduce)\&quot;)),L.matches)}},F={API_URL:\&quot;https://api.mapbox.com\&quot;,get EVENTS_URL(){return this.API_URL?0===this.API_URL.indexOf(\&quot;https://api.mapbox.cn\&quot;)?\&quot;https://events.mapbox.cn/events/v2\&quot;:0===this.API_URL.indexOf(\&quot;https://api.mapbox.com\&quot;)?\&quot;https://events.mapbox.com/events/v2\&quot;:null:null},FEEDBACK_URL:\&quot;https://apps.mapbox.com/feedback\&quot;,REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null,MAX_PARALLEL_IMAGE_REQUESTS:16},B={supported:!1,testSupport:function(t){!N&amp;&amp;P&amp;&amp;(j?U(t):I=t)}},N=!1,j=!1;function U(t){var e=t.createTexture();t.bindTexture(t.TEXTURE_2D,e);try{if(t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,P),t.isContextLost())return;B.supported=!0}catch(t){}t.deleteTexture(e),N=!0}self.document&amp;&amp;((P=self.document.createElement(\&quot;img\&quot;)).onload=function(){I&amp;&amp;U(I),I=null,j=!0},P.onerror=function(){N=!0,I=null},P.src=\&quot;data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA=\&quot;);var V=\&quot;01\&quot;,q=function(t,e){this._transformRequestFn=t,this._customAccessToken=e,this._createSkuToken()};function H(t){return 0===t.indexOf(\&quot;mapbox:\&quot;)}q.prototype._createSkuToken=function(){var t=function(){for(var t=\&quot;\&quot;,e=0;e&lt;10;e++)t+=\&quot;0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ\&quot;[Math.floor(62*Math.random())];return{token:[\&quot;1\&quot;,V,t].join(\&quot;\&quot;),tokenExpiresAt:Date.now()+432e5}}();this._skuToken=t.token,this._skuTokenExpiresAt=t.tokenExpiresAt},q.prototype._isSkuTokenExpired=function(){return Date.now()&gt;this._skuTokenExpiresAt},q.prototype.transformRequest=function(t,e){return this._transformRequestFn&amp;&amp;this._transformRequestFn(t,e)||{url:t}},q.prototype.normalizeStyleURL=function(t,e){if(!H(t))return t;var r=X(t);return r.path=\&quot;/styles/v1\&quot;+r.path,this._makeAPIURL(r,this._customAccessToken||e)},q.prototype.normalizeGlyphsURL=function(t,e){if(!H(t))return t;var r=X(t);return r.path=\&quot;/fonts/v1\&quot;+r.path,this._makeAPIURL(r,this._customAccessToken||e)},q.prototype.normalizeSourceURL=function(t,e){if(!H(t))return t;var r=X(t);return r.path=\&quot;/v4/\&quot;+r.authority+\&quot;.json\&quot;,r.params.push(\&quot;secure\&quot;),this._makeAPIURL(r,this._customAccessToken||e)},q.prototype.normalizeSpriteURL=function(t,e,r,n){var i=X(t);return H(t)?(i.path=\&quot;/styles/v1\&quot;+i.path+\&quot;/sprite\&quot;+e+r,this._makeAPIURL(i,this._customAccessToken||n)):(i.path+=\&quot;\&quot;+e+r,Z(i))},q.prototype.normalizeTileURL=function(t,e){if(this._isSkuTokenExpired()&amp;&amp;this._createSkuToken(),t&amp;&amp;!H(t))return t;var r=X(t);r.path=r.path.replace(/(\\.(png|jpg)\\d*)(?=$)/,(R.devicePixelRatio&gt;=2||512===e?\&quot;@2x\&quot;:\&quot;\&quot;)+(B.supported?\&quot;.webp\&quot;:\&quot;$1\&quot;)),r.path=r.path.replace(/^.+\\/v4\\//,\&quot;/\&quot;),r.path=\&quot;/v4\&quot;+r.path;var n=this._customAccessToken||function(t){for(var e=0,r=t;e&lt;r.length;e+=1){var n=r[e].match(/^access_token=(.*)$/);if(n)return n[1]}return null}(r.params)||F.ACCESS_TOKEN;return F.REQUIRE_ACCESS_TOKEN&amp;&amp;n&amp;&amp;this._skuToken&amp;&amp;r.params.push(\&quot;sku=\&quot;+this._skuToken),this._makeAPIURL(r,n)},q.prototype.canonicalizeTileURL=function(t,e){var r=X(t);if(!r.path.match(/(^\\/v4\\/)/)||!r.path.match(/\\.[\\w]+$/))return t;var n=\&quot;mapbox://tiles/\&quot;;n+=r.path.replace(\&quot;/v4/\&quot;,\&quot;\&quot;);var i=r.params;return e&amp;&amp;(i=i.filter((function(t){return!t.match(/^access_token=/)}))),i.length&amp;&amp;(n+=\&quot;?\&quot;+i.join(\&quot;&amp;\&quot;)),n},q.prototype.canonicalizeTileset=function(t,e){for(var r=!!e&amp;&amp;H(e),n=[],i=0,a=t.tiles||[];i&lt;a.length;i+=1){var o=a[i];Y(o)?n.push(this.canonicalizeTileURL(o,r)):n.push(o)}return n},q.prototype._makeAPIURL=function(t,e){var r=\&quot;See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes\&quot;,n=X(F.API_URL);if(t.protocol=n.protocol,t.authority=n.authority,\&quot;/\&quot;!==n.path&amp;&amp;(t.path=\&quot;\&quot;+n.path+t.path),!F.REQUIRE_ACCESS_TOKEN)return Z(t);if(!(e=e||F.ACCESS_TOKEN))throw new Error(\&quot;An API access token is required to use Mapbox GL. \&quot;+r);if(\&quot;s\&quot;===e[0])throw new Error(\&quot;Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). \&quot;+r);return t.params=t.params.filter((function(t){return-1===t.indexOf(\&quot;access_token\&quot;)})),t.params.push(\&quot;access_token=\&quot;+e),Z(t)};var G=/^((https?:)?\\/\\/)?([^\\/]+\\.)?mapbox\\.c(n|om)(\\/|\\?|$)/i;function Y(t){return G.test(t)}var W=/^(\\w+):\\/\\/([^/?]*)(\\/[^?]+)?\\??(.+)?/;function X(t){var e=t.match(W);if(!e)throw new Error(\&quot;Unable to parse URL object\&quot;);return{protocol:e[1],authority:e[2],path:e[3]||\&quot;/\&quot;,params:e[4]?e[4].split(\&quot;&amp;\&quot;):[]}}function Z(t){var e=t.params.length?\&quot;?\&quot;+t.params.join(\&quot;&amp;\&quot;):\&quot;\&quot;;return t.protocol+\&quot;://\&quot;+t.authority+t.path+e}function J(t){if(!t)return null;var e=t.split(\&quot;.\&quot;);if(!e||3!==e.length)return null;try{return JSON.parse(decodeURIComponent(self.atob(e[1]).split(\&quot;\&quot;).map((function(t){return\&quot;%\&quot;+(\&quot;00\&quot;+t.charCodeAt(0).toString(16)).slice(-2)})).join(\&quot;\&quot;)))}catch(t){return null}}var K=function(t){this.type=t,this.anonId=null,this.eventData={},this.queue=[],this.pendingRequest=null};K.prototype.getStorageKey=function(t){var e,r=J(F.ACCESS_TOKEN);return e=r&amp;&amp;r.u?self.btoa(encodeURIComponent(r.u).replace(/%([0-9A-F]{2})/g,(function(t,e){return String.fromCharCode(Number(\&quot;0x\&quot;+e))}))):F.ACCESS_TOKEN||\&quot;\&quot;,t?\&quot;mapbox.eventData.\&quot;+t+\&quot;:\&quot;+e:\&quot;mapbox.eventData:\&quot;+e},K.prototype.fetchEventData=function(){var t=E(\&quot;localStorage\&quot;),e=this.getStorageKey(),r=this.getStorageKey(\&quot;uuid\&quot;);if(t)try{var n=self.localStorage.getItem(e);n&amp;&amp;(this.eventData=JSON.parse(n));var i=self.localStorage.getItem(r);i&amp;&amp;(this.anonId=i)}catch(t){_(\&quot;Unable to read from LocalStorage\&quot;)}},K.prototype.saveEventData=function(){var t=E(\&quot;localStorage\&quot;),e=this.getStorageKey(),r=this.getStorageKey(\&quot;uuid\&quot;);if(t)try{self.localStorage.setItem(r,this.anonId),Object.keys(this.eventData).length&gt;=1&amp;&amp;self.localStorage.setItem(e,JSON.stringify(this.eventData))}catch(t){_(\&quot;Unable to write to LocalStorage\&quot;)}},K.prototype.processRequests=function(t){},K.prototype.postEvent=function(t,e,r,n){var i=this;if(F.EVENTS_URL){var a=X(F.EVENTS_URL);a.params.push(\&quot;access_token=\&quot;+(n||F.ACCESS_TOKEN||\&quot;\&quot;));var o={event:this.type,created:new Date(t).toISOString(),sdkIdentifier:\&quot;mapbox-gl-js\&quot;,sdkVersion:\&quot;1.10.1\&quot;,skuId:V,userId:this.anonId},s=e?u(o,e):o,l={url:Z(a),headers:{\&quot;Content-Type\&quot;:\&quot;text/plain\&quot;},body:JSON.stringify([s])};this.pendingRequest=xt(l,(function(t){i.pendingRequest=null,r(t),i.saveEventData(),i.processRequests(n)}))}},K.prototype.queueRequest=function(t,e){this.queue.push(t),this.processRequests(e)};var Q,$,tt=function(t){function e(){t.call(this,\&quot;map.load\&quot;),this.success={},this.skuToken=\&quot;\&quot;}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.postMapLoadEvent=function(t,e,r,n){this.skuToken=r,(F.EVENTS_URL&amp;&amp;n||F.ACCESS_TOKEN&amp;&amp;Array.isArray(t)&amp;&amp;t.some((function(t){return H(t)||Y(t)})))&amp;&amp;this.queueRequest({id:e,timestamp:Date.now()},n)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&amp;&amp;0!==this.queue.length){var r=this.queue.shift(),n=r.id,i=r.timestamp;n&amp;&amp;this.success[n]||(this.anonId||this.fetchEventData(),d(this.anonId)||(this.anonId=p()),this.postEvent(i,{skuToken:this.skuToken},(function(t){t||n&amp;&amp;(e.success[n]=!0)}),t))}},e}(K),et=new(function(t){function e(e){t.call(this,\&quot;appUserTurnstile\&quot;),this._customAccessToken=e}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.postTurnstileEvent=function(t,e){F.EVENTS_URL&amp;&amp;F.ACCESS_TOKEN&amp;&amp;Array.isArray(t)&amp;&amp;t.some((function(t){return H(t)||Y(t)}))&amp;&amp;this.queueRequest(Date.now(),e)},e.prototype.processRequests=function(t){var e=this;if(!this.pendingRequest&amp;&amp;0!==this.queue.length){this.anonId&amp;&amp;this.eventData.lastSuccess&amp;&amp;this.eventData.tokenU||this.fetchEventData();var r=J(F.ACCESS_TOKEN),n=r?r.u:F.ACCESS_TOKEN,i=n!==this.eventData.tokenU;d(this.anonId)||(this.anonId=p(),i=!0);var a=this.queue.shift();if(this.eventData.lastSuccess){var o=new Date(this.eventData.lastSuccess),s=new Date(a),l=(a-this.eventData.lastSuccess)/864e5;i=i||l&gt;=1||l&lt;-1||o.getDate()!==s.getDate()}else i=!0;if(!i)return this.processRequests();this.postEvent(a,{\&quot;enabled.telemetry\&quot;:!1},(function(t){t||(e.eventData.lastSuccess=a,e.eventData.tokenU=n)}),t)}},e}(K)),rt=et.postTurnstileEvent.bind(et),nt=new tt,it=nt.postMapLoadEvent.bind(nt),at=500,ot=50;function st(){self.caches&amp;&amp;!Q&amp;&amp;(Q=self.caches.open(\&quot;mapbox-tiles\&quot;))}function lt(t){var e=t.indexOf(\&quot;?\&quot;);return e&lt;0?t:t.slice(0,e)}var ct,ut=1/0;function ft(){return null==ct&amp;&amp;(ct=self.OffscreenCanvas&amp;&amp;new self.OffscreenCanvas(1,1).getContext(\&quot;2d\&quot;)&amp;&amp;\&quot;function\&quot;==typeof self.createImageBitmap),ct}var ht={Unknown:\&quot;Unknown\&quot;,Style:\&quot;Style\&quot;,Source:\&quot;Source\&quot;,Tile:\&quot;Tile\&quot;,Glyphs:\&quot;Glyphs\&quot;,SpriteImage:\&quot;SpriteImage\&quot;,SpriteJSON:\&quot;SpriteJSON\&quot;,Image:\&quot;Image\&quot;};\&quot;function\&quot;==typeof Object.freeze&amp;&amp;Object.freeze(ht);var pt,dt,gt=function(t){function e(e,r,n){401===r&amp;&amp;Y(n)&amp;&amp;(e+=\&quot;: you may have provided an invalid Mapbox access token. See https://www.mapbox.com/api-documentation/#access-tokens-and-token-scopes\&quot;),t.call(this,e),this.status=r,this.url=n,this.name=this.constructor.name,this.message=e}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.toString=function(){return this.name+\&quot;: \&quot;+this.message+\&quot; (\&quot;+this.status+\&quot;): \&quot;+this.url},e}(Error),mt=k()?function(){return self.worker&amp;&amp;self.worker.referrer}:function(){return(\&quot;blob:\&quot;===self.location.protocol?self.parent:self).location.href},vt=function(t,e){if(!(/^file:/.test(r=t.url)||/^file:/.test(mt())&amp;&amp;!/^\\w+:/.test(r))){if(self.fetch&amp;&amp;self.Request&amp;&amp;self.AbortController&amp;&amp;self.Request.prototype.hasOwnProperty(\&quot;signal\&quot;))return function(t,e){var r,n=new self.AbortController,i=new self.Request(t.url,{method:t.method||\&quot;GET\&quot;,body:t.body,credentials:t.credentials,headers:t.headers,referrer:mt(),signal:n.signal}),a=!1,o=!1,s=(r=i.url).indexOf(\&quot;sku=\&quot;)&gt;0&amp;&amp;Y(r);\&quot;json\&quot;===t.type&amp;&amp;i.headers.set(\&quot;Accept\&quot;,\&quot;application/json\&quot;);var l=function(r,n,a){if(!o){if(r&amp;&amp;\&quot;SecurityError\&quot;!==r.message&amp;&amp;_(r),n&amp;&amp;a)return c(n);var l=Date.now();self.fetch(i).then((function(r){if(r.ok){var n=s?r.clone():null;return c(r,n,l)}return e(new gt(r.statusText,r.status,t.url))})).catch((function(t){20!==t.code&amp;&amp;e(new Error(t.message))}))}},c=function(r,n,s){(\&quot;arrayBuffer\&quot;===t.type?r.arrayBuffer():\&quot;json\&quot;===t.type?r.json():r.text()).then((function(t){o||(n&amp;&amp;s&amp;&amp;function(t,e,r){if(st(),Q){var n={status:e.status,statusText:e.statusText,headers:new self.Headers};e.headers.forEach((function(t,e){return n.headers.set(e,t)}));var i=M(e.headers.get(\&quot;Cache-Control\&quot;)||\&quot;\&quot;);i[\&quot;no-store\&quot;]||(i[\&quot;max-age\&quot;]&amp;&amp;n.headers.set(\&quot;Expires\&quot;,new Date(r+1e3*i[\&quot;max-age\&quot;]).toUTCString()),new Date(n.headers.get(\&quot;Expires\&quot;)).getTime()-r&lt;42e4||function(t,e){if(void 0===$)try{new Response(new ReadableStream),$=!0}catch(t){$=!1}$?e(t.body):t.blob().then(e)}(e,(function(e){var r=new self.Response(e,n);st(),Q&amp;&amp;Q.then((function(e){return e.put(lt(t.url),r)})).catch((function(t){return _(t.message)}))})))}}(i,n,s),a=!0,e(null,t,r.headers.get(\&quot;Cache-Control\&quot;),r.headers.get(\&quot;Expires\&quot;)))})).catch((function(t){o||e(new Error(t.message))}))};return s?function(t,e){if(st(),!Q)return e(null);var r=lt(t.url);Q.then((function(t){t.match(r).then((function(n){var i=function(t){if(!t)return!1;var e=new Date(t.headers.get(\&quot;Expires\&quot;)||0),r=M(t.headers.get(\&quot;Cache-Control\&quot;)||\&quot;\&quot;);return e&gt;Date.now()&amp;&amp;!r[\&quot;no-cache\&quot;]}(n);t.delete(r),i&amp;&amp;t.put(r,n.clone()),e(null,n,i)})).catch(e)})).catch(e)}(i,l):l(null,null),{cancel:function(){o=!0,a||n.abort()}}}(t,e);if(k()&amp;&amp;self.worker&amp;&amp;self.worker.actor)return self.worker.actor.send(\&quot;getResource\&quot;,t,e,void 0,!0)}var r;return function(t,e){var r=new self.XMLHttpRequest;for(var n in r.open(t.method||\&quot;GET\&quot;,t.url,!0),\&quot;arrayBuffer\&quot;===t.type&amp;&amp;(r.responseType=\&quot;arraybuffer\&quot;),t.headers)r.setRequestHeader(n,t.headers[n]);return\&quot;json\&quot;===t.type&amp;&amp;(r.responseType=\&quot;text\&quot;,r.setRequestHeader(\&quot;Accept\&quot;,\&quot;application/json\&quot;)),r.withCredentials=\&quot;include\&quot;===t.credentials,r.onerror=function(){e(new Error(r.statusText))},r.onload=function(){if((r.status&gt;=200&amp;&amp;r.status&lt;300||0===r.status)&amp;&amp;null!==r.response){var n=r.response;if(\&quot;json\&quot;===t.type)try{n=JSON.parse(r.response)}catch(t){return e(t)}e(null,n,r.getResponseHeader(\&quot;Cache-Control\&quot;),r.getResponseHeader(\&quot;Expires\&quot;))}else e(new gt(r.statusText,r.status,t.url))},r.send(t.body),{cancel:function(){return r.abort()}}}(t,e)},yt=function(t,e){return vt(u(t,{type:\&quot;arrayBuffer\&quot;}),e)},xt=function(t,e){return vt(u(t,{method:\&quot;POST\&quot;}),e)};pt=[],dt=0;var bt=function(t,e){if(B.supported&amp;&amp;(t.headers||(t.headers={}),t.headers.accept=\&quot;image/webp,*/*\&quot;),dt&gt;=F.MAX_PARALLEL_IMAGE_REQUESTS){var r={requestParameters:t,callback:e,cancelled:!1,cancel:function(){this.cancelled=!0}};return pt.push(r),r}dt++;var n=!1,i=function(){if(!n)for(n=!0,dt--;pt.length&amp;&amp;dt&lt;F.MAX_PARALLEL_IMAGE_REQUESTS;){var t=pt.shift();t.cancelled||(t.cancel=bt(t.requestParameters,t.callback).cancel)}},a=yt(t,(function(t,r,n,a){i(),t?e(t):r&amp;&amp;(ft()?function(t,e){var r=new self.Blob([new Uint8Array(t)],{type:\&quot;image/png\&quot;});self.createImageBitmap(r).then((function(t){e(null,t)})).catch((function(t){e(new Error(\&quot;Could not load image because of \&quot;+t.message+\&quot;. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.\&quot;))}))}(r,e):function(t,e,r,n){var i=new self.Image,a=self.URL;i.onload=function(){e(null,i),a.revokeObjectURL(i.src)},i.onerror=function(){return e(new Error(\&quot;Could not load image. Please make sure to use a supported image type such as PNG or JPEG. Note that SVGs are not supported.\&quot;))};var o=new self.Blob([new Uint8Array(t)],{type:\&quot;image/png\&quot;});i.cacheControl=r,i.expires=n,i.src=t.byteLength?a.createObjectURL(o):\&quot;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=\&quot;}(r,e,n,a))}));return{cancel:function(){a.cancel(),i()}}};function _t(t,e,r){r[t]&amp;&amp;-1!==r[t].indexOf(e)||(r[t]=r[t]||[],r[t].push(e))}function wt(t,e,r){if(r&amp;&amp;r[t]){var n=r[t].indexOf(e);-1!==n&amp;&amp;r[t].splice(n,1)}}var Tt=function(t,e){void 0===e&amp;&amp;(e={}),u(this,e),this.type=t},kt=function(t){function e(e,r){void 0===r&amp;&amp;(r={}),t.call(this,\&quot;error\&quot;,u({error:e},r))}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e}(Tt),Mt=function(){};Mt.prototype.on=function(t,e){return this._listeners=this._listeners||{},_t(t,e,this._listeners),this},Mt.prototype.off=function(t,e){return wt(t,e,this._listeners),wt(t,e,this._oneTimeListeners),this},Mt.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},_t(t,e,this._oneTimeListeners),this},Mt.prototype.fire=function(t,e){\&quot;string\&quot;==typeof t&amp;&amp;(t=new Tt(t,e||{}));var r=t.type;if(this.listens(r)){t.target=this;for(var n=0,i=this._listeners&amp;&amp;this._listeners[r]?this._listeners[r].slice():[];n&lt;i.length;n+=1)i[n].call(this,t);for(var a=0,o=this._oneTimeListeners&amp;&amp;this._oneTimeListeners[r]?this._oneTimeListeners[r].slice():[];a&lt;o.length;a+=1){var s=o[a];wt(r,s,this._oneTimeListeners),s.call(this,t)}var l=this._eventedParent;l&amp;&amp;(u(t,\&quot;function\&quot;==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData),l.fire(t))}else t instanceof kt&amp;&amp;console.error(t.error);return this},Mt.prototype.listens=function(t){return this._listeners&amp;&amp;this._listeners[t]&amp;&amp;this._listeners[t].length&gt;0||this._oneTimeListeners&amp;&amp;this._oneTimeListeners[t]&amp;&amp;this._oneTimeListeners[t].length&gt;0||this._eventedParent&amp;&amp;this._eventedParent.listens(t)},Mt.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this};var At={$version:8,$root:{version:{required:!0,type:\&quot;enum\&quot;,values:[8]},name:{type:\&quot;string\&quot;},metadata:{type:\&quot;*\&quot;},center:{type:\&quot;array\&quot;,value:\&quot;number\&quot;},zoom:{type:\&quot;number\&quot;},bearing:{type:\&quot;number\&quot;,default:0,period:360,units:\&quot;degrees\&quot;},pitch:{type:\&quot;number\&quot;,default:0,units:\&quot;degrees\&quot;},light:{type:\&quot;light\&quot;},sources:{required:!0,type:\&quot;sources\&quot;},sprite:{type:\&quot;string\&quot;},glyphs:{type:\&quot;string\&quot;},transition:{type:\&quot;transition\&quot;},layers:{required:!0,type:\&quot;array\&quot;,value:\&quot;layer\&quot;}},sources:{\&quot;*\&quot;:{type:\&quot;source\&quot;}},source:[\&quot;source_vector\&quot;,\&quot;source_raster\&quot;,\&quot;source_raster_dem\&quot;,\&quot;source_geojson\&quot;,\&quot;source_video\&quot;,\&quot;source_image\&quot;],source_vector:{type:{required:!0,type:\&quot;enum\&quot;,values:{vector:{}}},url:{type:\&quot;string\&quot;},tiles:{type:\&quot;array\&quot;,value:\&quot;string\&quot;},bounds:{type:\&quot;array\&quot;,value:\&quot;number\&quot;,length:4,default:[-180,-85.051129,180,85.051129]},scheme:{type:\&quot;enum\&quot;,values:{xyz:{},tms:{}},default:\&quot;xyz\&quot;},minzoom:{type:\&quot;number\&quot;,default:0},maxzoom:{type:\&quot;number\&quot;,default:22},attribution:{type:\&quot;string\&quot;},promoteId:{type:\&quot;promoteId\&quot;},\&quot;*\&quot;:{type:\&quot;*\&quot;}},source_raster:{type:{required:!0,type:\&quot;enum\&quot;,values:{raster:{}}},url:{type:\&quot;string\&quot;},tiles:{type:\&quot;array\&quot;,value:\&quot;string\&quot;},bounds:{type:\&quot;array\&quot;,value:\&quot;number\&quot;,length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:\&quot;number\&quot;,default:0},maxzoom:{type:\&quot;number\&quot;,default:22},tileSize:{type:\&quot;number\&quot;,default:512,units:\&quot;pixels\&quot;},scheme:{type:\&quot;enum\&quot;,values:{xyz:{},tms:{}},default:\&quot;xyz\&quot;},attribution:{type:\&quot;string\&quot;},\&quot;*\&quot;:{type:\&quot;*\&quot;}},source_raster_dem:{type:{required:!0,type:\&quot;enum\&quot;,values:{\&quot;raster-dem\&quot;:{}}},url:{type:\&quot;string\&quot;},tiles:{type:\&quot;array\&quot;,value:\&quot;string\&quot;},bounds:{type:\&quot;array\&quot;,value:\&quot;number\&quot;,length:4,default:[-180,-85.051129,180,85.051129]},minzoom:{type:\&quot;number\&quot;,default:0},maxzoom:{type:\&quot;number\&quot;,default:22},tileSize:{type:\&quot;number\&quot;,default:512,units:\&quot;pixels\&quot;},attribution:{type:\&quot;string\&quot;},encoding:{type:\&quot;enum\&quot;,values:{terrarium:{},mapbox:{}},default:\&quot;mapbox\&quot;},\&quot;*\&quot;:{type:\&quot;*\&quot;}},source_geojson:{type:{required:!0,type:\&quot;enum\&quot;,values:{geojson:{}}},data:{type:\&quot;*\&quot;},maxzoom:{type:\&quot;number\&quot;,default:18},attribution:{type:\&quot;string\&quot;},buffer:{type:\&quot;number\&quot;,default:128,maximum:512,minimum:0},tolerance:{type:\&quot;number\&quot;,default:.375},cluster:{type:\&quot;boolean\&quot;,default:!1},clusterRadius:{type:\&quot;number\&quot;,default:50,minimum:0},clusterMaxZoom:{type:\&quot;number\&quot;},clusterProperties:{type:\&quot;*\&quot;},lineMetrics:{type:\&quot;boolean\&quot;,default:!1},generateId:{type:\&quot;boolean\&quot;,default:!1},promoteId:{type:\&quot;promoteId\&quot;}},source_video:{type:{required:!0,type:\&quot;enum\&quot;,values:{video:{}}},urls:{required:!0,type:\&quot;array\&quot;,value:\&quot;string\&quot;},coordinates:{required:!0,type:\&quot;array\&quot;,length:4,value:{type:\&quot;array\&quot;,length:2,value:\&quot;number\&quot;}}},source_image:{type:{required:!0,type:\&quot;enum\&quot;,values:{image:{}}},url:{required:!0,type:\&quot;string\&quot;},coordinates:{required:!0,type:\&quot;array\&quot;,length:4,value:{type:\&quot;array\&quot;,length:2,value:\&quot;number\&quot;}}},layer:{id:{type:\&quot;string\&quot;,required:!0},type:{type:\&quot;enum\&quot;,values:{fill:{},line:{},symbol:{},circle:{},heatmap:{},\&quot;fill-extrusion\&quot;:{},raster:{},hillshade:{},background:{}},required:!0},metadata:{type:\&quot;*\&quot;},source:{type:\&quot;string\&quot;},\&quot;source-layer\&quot;:{type:\&quot;string\&quot;},minzoom:{type:\&quot;number\&quot;,minimum:0,maximum:24},maxzoom:{type:\&quot;number\&quot;,minimum:0,maximum:24},filter:{type:\&quot;filter\&quot;},layout:{type:\&quot;layout\&quot;},paint:{type:\&quot;paint\&quot;}},layout:[\&quot;layout_fill\&quot;,\&quot;layout_line\&quot;,\&quot;layout_circle\&quot;,\&quot;layout_heatmap\&quot;,\&quot;layout_fill-extrusion\&quot;,\&quot;layout_symbol\&quot;,\&quot;layout_raster\&quot;,\&quot;layout_hillshade\&quot;,\&quot;layout_background\&quot;],layout_background:{visibility:{type:\&quot;enum\&quot;,values:{visible:{},none:{}},default:\&quot;visible\&quot;,\&quot;property-type\&quot;:\&quot;constant\&quot;}},layout_fill:{\&quot;fill-sort-key\&quot;:{type:\&quot;number\&quot;,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},visibility:{type:\&quot;enum\&quot;,values:{visible:{},none:{}},default:\&quot;visible\&quot;,\&quot;property-type\&quot;:\&quot;constant\&quot;}},layout_circle:{\&quot;circle-sort-key\&quot;:{type:\&quot;number\&quot;,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},visibility:{type:\&quot;enum\&quot;,values:{visible:{},none:{}},default:\&quot;visible\&quot;,\&quot;property-type\&quot;:\&quot;constant\&quot;}},layout_heatmap:{visibility:{type:\&quot;enum\&quot;,values:{visible:{},none:{}},default:\&quot;visible\&quot;,\&quot;property-type\&quot;:\&quot;constant\&quot;}},\&quot;layout_fill-extrusion\&quot;:{visibility:{type:\&quot;enum\&quot;,values:{visible:{},none:{}},default:\&quot;visible\&quot;,\&quot;property-type\&quot;:\&quot;constant\&quot;}},layout_line:{\&quot;line-cap\&quot;:{type:\&quot;enum\&quot;,values:{butt:{},round:{},square:{}},default:\&quot;butt\&quot;,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;line-join\&quot;:{type:\&quot;enum\&quot;,values:{bevel:{},round:{},miter:{}},default:\&quot;miter\&quot;,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;line-miter-limit\&quot;:{type:\&quot;number\&quot;,default:2,requires:[{\&quot;line-join\&quot;:\&quot;miter\&quot;}],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;line-round-limit\&quot;:{type:\&quot;number\&quot;,default:1.05,requires:[{\&quot;line-join\&quot;:\&quot;round\&quot;}],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;line-sort-key\&quot;:{type:\&quot;number\&quot;,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},visibility:{type:\&quot;enum\&quot;,values:{visible:{},none:{}},default:\&quot;visible\&quot;,\&quot;property-type\&quot;:\&quot;constant\&quot;}},layout_symbol:{\&quot;symbol-placement\&quot;:{type:\&quot;enum\&quot;,values:{point:{},line:{},\&quot;line-center\&quot;:{}},default:\&quot;point\&quot;,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;symbol-spacing\&quot;:{type:\&quot;number\&quot;,default:250,minimum:1,units:\&quot;pixels\&quot;,requires:[{\&quot;symbol-placement\&quot;:\&quot;line\&quot;}],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;symbol-avoid-edges\&quot;:{type:\&quot;boolean\&quot;,default:!1,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;symbol-sort-key\&quot;:{type:\&quot;number\&quot;,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;symbol-z-order\&quot;:{type:\&quot;enum\&quot;,values:{auto:{},\&quot;viewport-y\&quot;:{},source:{}},default:\&quot;auto\&quot;,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;icon-allow-overlap\&quot;:{type:\&quot;boolean\&quot;,default:!1,requires:[\&quot;icon-image\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;icon-ignore-placement\&quot;:{type:\&quot;boolean\&quot;,default:!1,requires:[\&quot;icon-image\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;icon-optional\&quot;:{type:\&quot;boolean\&quot;,default:!1,requires:[\&quot;icon-image\&quot;,\&quot;text-field\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;icon-rotation-alignment\&quot;:{type:\&quot;enum\&quot;,values:{map:{},viewport:{},auto:{}},default:\&quot;auto\&quot;,requires:[\&quot;icon-image\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;icon-size\&quot;:{type:\&quot;number\&quot;,default:1,minimum:0,units:\&quot;factor of the original icon size\&quot;,requires:[\&quot;icon-image\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;icon-text-fit\&quot;:{type:\&quot;enum\&quot;,values:{none:{},width:{},height:{},both:{}},default:\&quot;none\&quot;,requires:[\&quot;icon-image\&quot;,\&quot;text-field\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;icon-text-fit-padding\&quot;:{type:\&quot;array\&quot;,value:\&quot;number\&quot;,length:4,default:[0,0,0,0],units:\&quot;pixels\&quot;,requires:[\&quot;icon-image\&quot;,\&quot;text-field\&quot;,{\&quot;icon-text-fit\&quot;:[\&quot;both\&quot;,\&quot;width\&quot;,\&quot;height\&quot;]}],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;icon-image\&quot;:{type:\&quot;resolvedImage\&quot;,tokens:!0,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;icon-rotate\&quot;:{type:\&quot;number\&quot;,default:0,period:360,units:\&quot;degrees\&quot;,requires:[\&quot;icon-image\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;icon-padding\&quot;:{type:\&quot;number\&quot;,default:2,minimum:0,units:\&quot;pixels\&quot;,requires:[\&quot;icon-image\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;icon-keep-upright\&quot;:{type:\&quot;boolean\&quot;,default:!1,requires:[\&quot;icon-image\&quot;,{\&quot;icon-rotation-alignment\&quot;:\&quot;map\&quot;},{\&quot;symbol-placement\&quot;:[\&quot;line\&quot;,\&quot;line-center\&quot;]}],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;icon-offset\&quot;:{type:\&quot;array\&quot;,value:\&quot;number\&quot;,length:2,default:[0,0],requires:[\&quot;icon-image\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;icon-anchor\&quot;:{type:\&quot;enum\&quot;,values:{center:{},left:{},right:{},top:{},bottom:{},\&quot;top-left\&quot;:{},\&quot;top-right\&quot;:{},\&quot;bottom-left\&quot;:{},\&quot;bottom-right\&quot;:{}},default:\&quot;center\&quot;,requires:[\&quot;icon-image\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;icon-pitch-alignment\&quot;:{type:\&quot;enum\&quot;,values:{map:{},viewport:{},auto:{}},default:\&quot;auto\&quot;,requires:[\&quot;icon-image\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;text-pitch-alignment\&quot;:{type:\&quot;enum\&quot;,values:{map:{},viewport:{},auto:{}},default:\&quot;auto\&quot;,requires:[\&quot;text-field\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;text-rotation-alignment\&quot;:{type:\&quot;enum\&quot;,values:{map:{},viewport:{},auto:{}},default:\&quot;auto\&quot;,requires:[\&quot;text-field\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;text-field\&quot;:{type:\&quot;formatted\&quot;,default:\&quot;\&quot;,tokens:!0,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;text-font\&quot;:{type:\&quot;array\&quot;,value:\&quot;string\&quot;,default:[\&quot;Open Sans Regular\&quot;,\&quot;Arial Unicode MS Regular\&quot;],requires:[\&quot;text-field\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;text-size\&quot;:{type:\&quot;number\&quot;,default:16,minimum:0,units:\&quot;pixels\&quot;,requires:[\&quot;text-field\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;text-max-width\&quot;:{type:\&quot;number\&quot;,default:10,minimum:0,units:\&quot;ems\&quot;,requires:[\&quot;text-field\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;text-line-height\&quot;:{type:\&quot;number\&quot;,default:1.2,units:\&quot;ems\&quot;,requires:[\&quot;text-field\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;text-letter-spacing\&quot;:{type:\&quot;number\&quot;,default:0,units:\&quot;ems\&quot;,requires:[\&quot;text-field\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;text-justify\&quot;:{type:\&quot;enum\&quot;,values:{auto:{},left:{},center:{},right:{}},default:\&quot;center\&quot;,requires:[\&quot;text-field\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;text-radial-offset\&quot;:{type:\&quot;number\&quot;,units:\&quot;ems\&quot;,default:0,requires:[\&quot;text-field\&quot;],\&quot;property-type\&quot;:\&quot;data-driven\&quot;,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]}},\&quot;text-variable-anchor\&quot;:{type:\&quot;array\&quot;,value:\&quot;enum\&quot;,values:{center:{},left:{},right:{},top:{},bottom:{},\&quot;top-left\&quot;:{},\&quot;top-right\&quot;:{},\&quot;bottom-left\&quot;:{},\&quot;bottom-right\&quot;:{}},requires:[\&quot;text-field\&quot;,{\&quot;symbol-placement\&quot;:[\&quot;point\&quot;]}],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;text-anchor\&quot;:{type:\&quot;enum\&quot;,values:{center:{},left:{},right:{},top:{},bottom:{},\&quot;top-left\&quot;:{},\&quot;top-right\&quot;:{},\&quot;bottom-left\&quot;:{},\&quot;bottom-right\&quot;:{}},default:\&quot;center\&quot;,requires:[\&quot;text-field\&quot;,{\&quot;!\&quot;:\&quot;text-variable-anchor\&quot;}],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;text-max-angle\&quot;:{type:\&quot;number\&quot;,default:45,units:\&quot;degrees\&quot;,requires:[\&quot;text-field\&quot;,{\&quot;symbol-placement\&quot;:[\&quot;line\&quot;,\&quot;line-center\&quot;]}],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;text-writing-mode\&quot;:{type:\&quot;array\&quot;,value:\&quot;enum\&quot;,values:{horizontal:{},vertical:{}},requires:[\&quot;text-field\&quot;,{\&quot;symbol-placement\&quot;:[\&quot;point\&quot;]}],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;text-rotate\&quot;:{type:\&quot;number\&quot;,default:0,period:360,units:\&quot;degrees\&quot;,requires:[\&quot;text-field\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;text-padding\&quot;:{type:\&quot;number\&quot;,default:2,minimum:0,units:\&quot;pixels\&quot;,requires:[\&quot;text-field\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;text-keep-upright\&quot;:{type:\&quot;boolean\&quot;,default:!0,requires:[\&quot;text-field\&quot;,{\&quot;text-rotation-alignment\&quot;:\&quot;map\&quot;},{\&quot;symbol-placement\&quot;:[\&quot;line\&quot;,\&quot;line-center\&quot;]}],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;text-transform\&quot;:{type:\&quot;enum\&quot;,values:{none:{},uppercase:{},lowercase:{}},default:\&quot;none\&quot;,requires:[\&quot;text-field\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;text-offset\&quot;:{type:\&quot;array\&quot;,value:\&quot;number\&quot;,units:\&quot;ems\&quot;,length:2,default:[0,0],requires:[\&quot;text-field\&quot;,{\&quot;!\&quot;:\&quot;text-radial-offset\&quot;}],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;text-allow-overlap\&quot;:{type:\&quot;boolean\&quot;,default:!1,requires:[\&quot;text-field\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;text-ignore-placement\&quot;:{type:\&quot;boolean\&quot;,default:!1,requires:[\&quot;text-field\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;text-optional\&quot;:{type:\&quot;boolean\&quot;,default:!1,requires:[\&quot;text-field\&quot;,\&quot;icon-image\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},visibility:{type:\&quot;enum\&quot;,values:{visible:{},none:{}},default:\&quot;visible\&quot;,\&quot;property-type\&quot;:\&quot;constant\&quot;}},layout_raster:{visibility:{type:\&quot;enum\&quot;,values:{visible:{},none:{}},default:\&quot;visible\&quot;,\&quot;property-type\&quot;:\&quot;constant\&quot;}},layout_hillshade:{visibility:{type:\&quot;enum\&quot;,values:{visible:{},none:{}},default:\&quot;visible\&quot;,\&quot;property-type\&quot;:\&quot;constant\&quot;}},filter:{type:\&quot;array\&quot;,value:\&quot;*\&quot;},filter_operator:{type:\&quot;enum\&quot;,values:{\&quot;==\&quot;:{},\&quot;!=\&quot;:{},\&quot;&gt;\&quot;:{},\&quot;&gt;=\&quot;:{},\&quot;&lt;\&quot;:{},\&quot;&lt;=\&quot;:{},in:{},\&quot;!in\&quot;:{},all:{},any:{},none:{},has:{},\&quot;!has\&quot;:{},within:{}}},geometry_type:{type:\&quot;enum\&quot;,values:{Point:{},LineString:{},Polygon:{}}},function:{expression:{type:\&quot;expression\&quot;},stops:{type:\&quot;array\&quot;,value:\&quot;function_stop\&quot;},base:{type:\&quot;number\&quot;,default:1,minimum:0},property:{type:\&quot;string\&quot;,default:\&quot;$zoom\&quot;},type:{type:\&quot;enum\&quot;,values:{identity:{},exponential:{},interval:{},categorical:{}},default:\&quot;exponential\&quot;},colorSpace:{type:\&quot;enum\&quot;,values:{rgb:{},lab:{},hcl:{}},default:\&quot;rgb\&quot;},default:{type:\&quot;*\&quot;,required:!1}},function_stop:{type:\&quot;array\&quot;,minimum:0,maximum:24,value:[\&quot;number\&quot;,\&quot;color\&quot;],length:2},expression:{type:\&quot;array\&quot;,value:\&quot;*\&quot;,minimum:1},expression_name:{type:\&quot;enum\&quot;,values:{let:{group:\&quot;Variable binding\&quot;},var:{group:\&quot;Variable binding\&quot;},literal:{group:\&quot;Types\&quot;},array:{group:\&quot;Types\&quot;},at:{group:\&quot;Lookup\&quot;},in:{group:\&quot;Lookup\&quot;},\&quot;index-of\&quot;:{group:\&quot;Lookup\&quot;},slice:{group:\&quot;Lookup\&quot;},case:{group:\&quot;Decision\&quot;},match:{group:\&quot;Decision\&quot;},coalesce:{group:\&quot;Decision\&quot;},step:{group:\&quot;Ramps, scales, curves\&quot;},interpolate:{group:\&quot;Ramps, scales, curves\&quot;},\&quot;interpolate-hcl\&quot;:{group:\&quot;Ramps, scales, curves\&quot;},\&quot;interpolate-lab\&quot;:{group:\&quot;Ramps, scales, curves\&quot;},ln2:{group:\&quot;Math\&quot;},pi:{group:\&quot;Math\&quot;},e:{group:\&quot;Math\&quot;},typeof:{group:\&quot;Types\&quot;},string:{group:\&quot;Types\&quot;},number:{group:\&quot;Types\&quot;},boolean:{group:\&quot;Types\&quot;},object:{group:\&quot;Types\&quot;},collator:{group:\&quot;Types\&quot;},format:{group:\&quot;Types\&quot;},image:{group:\&quot;Types\&quot;},\&quot;number-format\&quot;:{group:\&quot;Types\&quot;},\&quot;to-string\&quot;:{group:\&quot;Types\&quot;},\&quot;to-number\&quot;:{group:\&quot;Types\&quot;},\&quot;to-boolean\&quot;:{group:\&quot;Types\&quot;},\&quot;to-rgba\&quot;:{group:\&quot;Color\&quot;},\&quot;to-color\&quot;:{group:\&quot;Types\&quot;},rgb:{group:\&quot;Color\&quot;},rgba:{group:\&quot;Color\&quot;},get:{group:\&quot;Lookup\&quot;},has:{group:\&quot;Lookup\&quot;},length:{group:\&quot;Lookup\&quot;},properties:{group:\&quot;Feature data\&quot;},\&quot;feature-state\&quot;:{group:\&quot;Feature data\&quot;},\&quot;geometry-type\&quot;:{group:\&quot;Feature data\&quot;},id:{group:\&quot;Feature data\&quot;},zoom:{group:\&quot;Zoom\&quot;},\&quot;heatmap-density\&quot;:{group:\&quot;Heatmap\&quot;},\&quot;line-progress\&quot;:{group:\&quot;Feature data\&quot;},accumulated:{group:\&quot;Feature data\&quot;},\&quot;+\&quot;:{group:\&quot;Math\&quot;},\&quot;*\&quot;:{group:\&quot;Math\&quot;},\&quot;-\&quot;:{group:\&quot;Math\&quot;},\&quot;/\&quot;:{group:\&quot;Math\&quot;},\&quot;%\&quot;:{group:\&quot;Math\&quot;},\&quot;^\&quot;:{group:\&quot;Math\&quot;},sqrt:{group:\&quot;Math\&quot;},log10:{group:\&quot;Math\&quot;},ln:{group:\&quot;Math\&quot;},log2:{group:\&quot;Math\&quot;},sin:{group:\&quot;Math\&quot;},cos:{group:\&quot;Math\&quot;},tan:{group:\&quot;Math\&quot;},asin:{group:\&quot;Math\&quot;},acos:{group:\&quot;Math\&quot;},atan:{group:\&quot;Math\&quot;},min:{group:\&quot;Math\&quot;},max:{group:\&quot;Math\&quot;},round:{group:\&quot;Math\&quot;},abs:{group:\&quot;Math\&quot;},ceil:{group:\&quot;Math\&quot;},floor:{group:\&quot;Math\&quot;},distance:{group:\&quot;Math\&quot;},\&quot;==\&quot;:{group:\&quot;Decision\&quot;},\&quot;!=\&quot;:{group:\&quot;Decision\&quot;},\&quot;&gt;\&quot;:{group:\&quot;Decision\&quot;},\&quot;&lt;\&quot;:{group:\&quot;Decision\&quot;},\&quot;&gt;=\&quot;:{group:\&quot;Decision\&quot;},\&quot;&lt;=\&quot;:{group:\&quot;Decision\&quot;},all:{group:\&quot;Decision\&quot;},any:{group:\&quot;Decision\&quot;},\&quot;!\&quot;:{group:\&quot;Decision\&quot;},within:{group:\&quot;Decision\&quot;},\&quot;is-supported-script\&quot;:{group:\&quot;String\&quot;},upcase:{group:\&quot;String\&quot;},downcase:{group:\&quot;String\&quot;},concat:{group:\&quot;String\&quot;},\&quot;resolved-locale\&quot;:{group:\&quot;String\&quot;}}},light:{anchor:{type:\&quot;enum\&quot;,default:\&quot;viewport\&quot;,values:{map:{},viewport:{}},\&quot;property-type\&quot;:\&quot;data-constant\&quot;,transition:!1,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]}},position:{type:\&quot;array\&quot;,default:[1.15,210,30],length:3,value:\&quot;number\&quot;,\&quot;property-type\&quot;:\&quot;data-constant\&quot;,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]}},color:{type:\&quot;color\&quot;,\&quot;property-type\&quot;:\&quot;data-constant\&quot;,default:\&quot;#ffffff\&quot;,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},transition:!0},intensity:{type:\&quot;number\&quot;,\&quot;property-type\&quot;:\&quot;data-constant\&quot;,default:.5,minimum:0,maximum:1,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},transition:!0}},paint:[\&quot;paint_fill\&quot;,\&quot;paint_line\&quot;,\&quot;paint_circle\&quot;,\&quot;paint_heatmap\&quot;,\&quot;paint_fill-extrusion\&quot;,\&quot;paint_symbol\&quot;,\&quot;paint_raster\&quot;,\&quot;paint_hillshade\&quot;,\&quot;paint_background\&quot;],paint_fill:{\&quot;fill-antialias\&quot;:{type:\&quot;boolean\&quot;,default:!0,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;fill-opacity\&quot;:{type:\&quot;number\&quot;,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;fill-color\&quot;:{type:\&quot;color\&quot;,default:\&quot;#000000\&quot;,transition:!0,requires:[{\&quot;!\&quot;:\&quot;fill-pattern\&quot;}],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;fill-outline-color\&quot;:{type:\&quot;color\&quot;,transition:!0,requires:[{\&quot;!\&quot;:\&quot;fill-pattern\&quot;},{\&quot;fill-antialias\&quot;:!0}],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;fill-translate\&quot;:{type:\&quot;array\&quot;,value:\&quot;number\&quot;,length:2,default:[0,0],transition:!0,units:\&quot;pixels\&quot;,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;fill-translate-anchor\&quot;:{type:\&quot;enum\&quot;,values:{map:{},viewport:{}},default:\&quot;map\&quot;,requires:[\&quot;fill-translate\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;fill-pattern\&quot;:{type:\&quot;resolvedImage\&quot;,transition:!0,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;cross-faded-data-driven\&quot;}},\&quot;paint_fill-extrusion\&quot;:{\&quot;fill-extrusion-opacity\&quot;:{type:\&quot;number\&quot;,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;fill-extrusion-color\&quot;:{type:\&quot;color\&quot;,default:\&quot;#000000\&quot;,transition:!0,requires:[{\&quot;!\&quot;:\&quot;fill-extrusion-pattern\&quot;}],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;fill-extrusion-translate\&quot;:{type:\&quot;array\&quot;,value:\&quot;number\&quot;,length:2,default:[0,0],transition:!0,units:\&quot;pixels\&quot;,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;fill-extrusion-translate-anchor\&quot;:{type:\&quot;enum\&quot;,values:{map:{},viewport:{}},default:\&quot;map\&quot;,requires:[\&quot;fill-extrusion-translate\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;fill-extrusion-pattern\&quot;:{type:\&quot;resolvedImage\&quot;,transition:!0,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;cross-faded-data-driven\&quot;},\&quot;fill-extrusion-height\&quot;:{type:\&quot;number\&quot;,default:0,minimum:0,units:\&quot;meters\&quot;,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;fill-extrusion-base\&quot;:{type:\&quot;number\&quot;,default:0,minimum:0,units:\&quot;meters\&quot;,transition:!0,requires:[\&quot;fill-extrusion-height\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;fill-extrusion-vertical-gradient\&quot;:{type:\&quot;boolean\&quot;,default:!0,transition:!1,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;}},paint_line:{\&quot;line-opacity\&quot;:{type:\&quot;number\&quot;,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;line-color\&quot;:{type:\&quot;color\&quot;,default:\&quot;#000000\&quot;,transition:!0,requires:[{\&quot;!\&quot;:\&quot;line-pattern\&quot;}],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;line-translate\&quot;:{type:\&quot;array\&quot;,value:\&quot;number\&quot;,length:2,default:[0,0],transition:!0,units:\&quot;pixels\&quot;,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;line-translate-anchor\&quot;:{type:\&quot;enum\&quot;,values:{map:{},viewport:{}},default:\&quot;map\&quot;,requires:[\&quot;line-translate\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;line-width\&quot;:{type:\&quot;number\&quot;,default:1,minimum:0,transition:!0,units:\&quot;pixels\&quot;,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;line-gap-width\&quot;:{type:\&quot;number\&quot;,default:0,minimum:0,transition:!0,units:\&quot;pixels\&quot;,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;line-offset\&quot;:{type:\&quot;number\&quot;,default:0,transition:!0,units:\&quot;pixels\&quot;,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;line-blur\&quot;:{type:\&quot;number\&quot;,default:0,minimum:0,transition:!0,units:\&quot;pixels\&quot;,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;line-dasharray\&quot;:{type:\&quot;array\&quot;,value:\&quot;number\&quot;,minimum:0,transition:!0,units:\&quot;line widths\&quot;,requires:[{\&quot;!\&quot;:\&quot;line-pattern\&quot;}],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;cross-faded\&quot;},\&quot;line-pattern\&quot;:{type:\&quot;resolvedImage\&quot;,transition:!0,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]},\&quot;property-type\&quot;:\&quot;cross-faded-data-driven\&quot;},\&quot;line-gradient\&quot;:{type:\&quot;color\&quot;,transition:!1,requires:[{\&quot;!\&quot;:\&quot;line-dasharray\&quot;},{\&quot;!\&quot;:\&quot;line-pattern\&quot;},{source:\&quot;geojson\&quot;,has:{lineMetrics:!0}}],expression:{interpolated:!0,parameters:[\&quot;line-progress\&quot;]},\&quot;property-type\&quot;:\&quot;color-ramp\&quot;}},paint_circle:{\&quot;circle-radius\&quot;:{type:\&quot;number\&quot;,default:5,minimum:0,transition:!0,units:\&quot;pixels\&quot;,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;circle-color\&quot;:{type:\&quot;color\&quot;,default:\&quot;#000000\&quot;,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;circle-blur\&quot;:{type:\&quot;number\&quot;,default:0,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;circle-opacity\&quot;:{type:\&quot;number\&quot;,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;circle-translate\&quot;:{type:\&quot;array\&quot;,value:\&quot;number\&quot;,length:2,default:[0,0],transition:!0,units:\&quot;pixels\&quot;,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;circle-translate-anchor\&quot;:{type:\&quot;enum\&quot;,values:{map:{},viewport:{}},default:\&quot;map\&quot;,requires:[\&quot;circle-translate\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;circle-pitch-scale\&quot;:{type:\&quot;enum\&quot;,values:{map:{},viewport:{}},default:\&quot;map\&quot;,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;circle-pitch-alignment\&quot;:{type:\&quot;enum\&quot;,values:{map:{},viewport:{}},default:\&quot;viewport\&quot;,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;circle-stroke-width\&quot;:{type:\&quot;number\&quot;,default:0,minimum:0,transition:!0,units:\&quot;pixels\&quot;,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;circle-stroke-color\&quot;:{type:\&quot;color\&quot;,default:\&quot;#000000\&quot;,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;circle-stroke-opacity\&quot;:{type:\&quot;number\&quot;,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;}},paint_heatmap:{\&quot;heatmap-radius\&quot;:{type:\&quot;number\&quot;,default:30,minimum:1,transition:!0,units:\&quot;pixels\&quot;,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;heatmap-weight\&quot;:{type:\&quot;number\&quot;,default:1,minimum:0,transition:!1,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;heatmap-intensity\&quot;:{type:\&quot;number\&quot;,default:1,minimum:0,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;heatmap-color\&quot;:{type:\&quot;color\&quot;,default:[\&quot;interpolate\&quot;,[\&quot;linear\&quot;],[\&quot;heatmap-density\&quot;],0,\&quot;rgba(0, 0, 255, 0)\&quot;,.1,\&quot;royalblue\&quot;,.3,\&quot;cyan\&quot;,.5,\&quot;lime\&quot;,.7,\&quot;yellow\&quot;,1,\&quot;red\&quot;],transition:!1,expression:{interpolated:!0,parameters:[\&quot;heatmap-density\&quot;]},\&quot;property-type\&quot;:\&quot;color-ramp\&quot;},\&quot;heatmap-opacity\&quot;:{type:\&quot;number\&quot;,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;}},paint_symbol:{\&quot;icon-opacity\&quot;:{type:\&quot;number\&quot;,default:1,minimum:0,maximum:1,transition:!0,requires:[\&quot;icon-image\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;icon-color\&quot;:{type:\&quot;color\&quot;,default:\&quot;#000000\&quot;,transition:!0,requires:[\&quot;icon-image\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;icon-halo-color\&quot;:{type:\&quot;color\&quot;,default:\&quot;rgba(0, 0, 0, 0)\&quot;,transition:!0,requires:[\&quot;icon-image\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;icon-halo-width\&quot;:{type:\&quot;number\&quot;,default:0,minimum:0,transition:!0,units:\&quot;pixels\&quot;,requires:[\&quot;icon-image\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;icon-halo-blur\&quot;:{type:\&quot;number\&quot;,default:0,minimum:0,transition:!0,units:\&quot;pixels\&quot;,requires:[\&quot;icon-image\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;icon-translate\&quot;:{type:\&quot;array\&quot;,value:\&quot;number\&quot;,length:2,default:[0,0],transition:!0,units:\&quot;pixels\&quot;,requires:[\&quot;icon-image\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;icon-translate-anchor\&quot;:{type:\&quot;enum\&quot;,values:{map:{},viewport:{}},default:\&quot;map\&quot;,requires:[\&quot;icon-image\&quot;,\&quot;icon-translate\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;text-opacity\&quot;:{type:\&quot;number\&quot;,default:1,minimum:0,maximum:1,transition:!0,requires:[\&quot;text-field\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;text-color\&quot;:{type:\&quot;color\&quot;,default:\&quot;#000000\&quot;,transition:!0,overridable:!0,requires:[\&quot;text-field\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;text-halo-color\&quot;:{type:\&quot;color\&quot;,default:\&quot;rgba(0, 0, 0, 0)\&quot;,transition:!0,requires:[\&quot;text-field\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;text-halo-width\&quot;:{type:\&quot;number\&quot;,default:0,minimum:0,transition:!0,units:\&quot;pixels\&quot;,requires:[\&quot;text-field\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;text-halo-blur\&quot;:{type:\&quot;number\&quot;,default:0,minimum:0,transition:!0,units:\&quot;pixels\&quot;,requires:[\&quot;text-field\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;,\&quot;feature-state\&quot;]},\&quot;property-type\&quot;:\&quot;data-driven\&quot;},\&quot;text-translate\&quot;:{type:\&quot;array\&quot;,value:\&quot;number\&quot;,length:2,default:[0,0],transition:!0,units:\&quot;pixels\&quot;,requires:[\&quot;text-field\&quot;],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;text-translate-anchor\&quot;:{type:\&quot;enum\&quot;,values:{map:{},viewport:{}},default:\&quot;map\&quot;,requires:[\&quot;text-field\&quot;,\&quot;text-translate\&quot;],expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;}},paint_raster:{\&quot;raster-opacity\&quot;:{type:\&quot;number\&quot;,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;raster-hue-rotate\&quot;:{type:\&quot;number\&quot;,default:0,period:360,transition:!0,units:\&quot;degrees\&quot;,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;raster-brightness-min\&quot;:{type:\&quot;number\&quot;,default:0,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;raster-brightness-max\&quot;:{type:\&quot;number\&quot;,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;raster-saturation\&quot;:{type:\&quot;number\&quot;,default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;raster-contrast\&quot;:{type:\&quot;number\&quot;,default:0,minimum:-1,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;raster-resampling\&quot;:{type:\&quot;enum\&quot;,values:{linear:{},nearest:{}},default:\&quot;linear\&quot;,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;raster-fade-duration\&quot;:{type:\&quot;number\&quot;,default:300,minimum:0,transition:!1,units:\&quot;milliseconds\&quot;,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;}},paint_hillshade:{\&quot;hillshade-illumination-direction\&quot;:{type:\&quot;number\&quot;,default:335,minimum:0,maximum:359,transition:!1,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;hillshade-illumination-anchor\&quot;:{type:\&quot;enum\&quot;,values:{map:{},viewport:{}},default:\&quot;viewport\&quot;,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;hillshade-exaggeration\&quot;:{type:\&quot;number\&quot;,default:.5,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;hillshade-shadow-color\&quot;:{type:\&quot;color\&quot;,default:\&quot;#000000\&quot;,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;hillshade-highlight-color\&quot;:{type:\&quot;color\&quot;,default:\&quot;#FFFFFF\&quot;,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;hillshade-accent-color\&quot;:{type:\&quot;color\&quot;,default:\&quot;#000000\&quot;,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;}},paint_background:{\&quot;background-color\&quot;:{type:\&quot;color\&quot;,default:\&quot;#000000\&quot;,transition:!0,requires:[{\&quot;!\&quot;:\&quot;background-pattern\&quot;}],expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;},\&quot;background-pattern\&quot;:{type:\&quot;resolvedImage\&quot;,transition:!0,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;cross-faded\&quot;},\&quot;background-opacity\&quot;:{type:\&quot;number\&quot;,default:1,minimum:0,maximum:1,transition:!0,expression:{interpolated:!0,parameters:[\&quot;zoom\&quot;]},\&quot;property-type\&quot;:\&quot;data-constant\&quot;}},transition:{duration:{type:\&quot;number\&quot;,default:300,minimum:0,units:\&quot;milliseconds\&quot;},delay:{type:\&quot;number\&quot;,default:0,minimum:0,units:\&quot;milliseconds\&quot;}},\&quot;property-type\&quot;:{\&quot;data-driven\&quot;:{type:\&quot;property-type\&quot;},\&quot;cross-faded\&quot;:{type:\&quot;property-type\&quot;},\&quot;cross-faded-data-driven\&quot;:{type:\&quot;property-type\&quot;},\&quot;color-ramp\&quot;:{type:\&quot;property-type\&quot;},\&quot;data-constant\&quot;:{type:\&quot;property-type\&quot;},constant:{type:\&quot;property-type\&quot;}},promoteId:{\&quot;*\&quot;:{type:\&quot;string\&quot;}}},St=function(t,e,r,n){this.message=(t?t+\&quot;: \&quot;:\&quot;\&quot;)+r,n&amp;&amp;(this.identifier=n),null!=e&amp;&amp;e.__line__&amp;&amp;(this.line=e.__line__)};function Et(t){var e=t.value;return e?[new St(t.key,e,\&quot;constants have been deprecated as of v8\&quot;)]:[]}function Ct(t){for(var e=[],r=arguments.length-1;r-- &gt;0;)e[r]=arguments[r+1];for(var n=0,i=e;n&lt;i.length;n+=1){var a=i[n];for(var o in a)t[o]=a[o]}return t}function Lt(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}function It(t){if(Array.isArray(t))return t.map(It);if(t instanceof Object&amp;&amp;!(t instanceof Number||t instanceof String||t instanceof Boolean)){var e={};for(var r in t)e[r]=It(t[r]);return e}return Lt(t)}var Pt=function(t){function e(e,r){t.call(this,r),this.message=r,this.key=e}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e}(Error),zt=function(t,e){void 0===e&amp;&amp;(e=[]),this.parent=t,this.bindings={};for(var r=0,n=e;r&lt;n.length;r+=1){var i=n[r];this.bindings[i[0]]=i[1]}};zt.prototype.concat=function(t){return new zt(this,t)},zt.prototype.get=function(t){if(this.bindings[t])return this.bindings[t];if(this.parent)return this.parent.get(t);throw new Error(t+\&quot; not found in scope.\&quot;)},zt.prototype.has=function(t){return!!this.bindings[t]||!!this.parent&amp;&amp;this.parent.has(t)};var Ot={kind:\&quot;null\&quot;},Dt={kind:\&quot;number\&quot;},Rt={kind:\&quot;string\&quot;},Ft={kind:\&quot;boolean\&quot;},Bt={kind:\&quot;color\&quot;},Nt={kind:\&quot;object\&quot;},jt={kind:\&quot;value\&quot;},Ut={kind:\&quot;collator\&quot;},Vt={kind:\&quot;formatted\&quot;},qt={kind:\&quot;resolvedImage\&quot;};function Ht(t,e){return{kind:\&quot;array\&quot;,itemType:t,N:e}}function Gt(t){if(\&quot;array\&quot;===t.kind){var e=Gt(t.itemType);return\&quot;number\&quot;==typeof t.N?\&quot;array&lt;\&quot;+e+\&quot;, \&quot;+t.N+\&quot;&gt;\&quot;:\&quot;value\&quot;===t.itemType.kind?\&quot;array\&quot;:\&quot;array&lt;\&quot;+e+\&quot;&gt;\&quot;}return t.kind}var Yt=[Ot,Dt,Rt,Ft,Bt,Vt,Nt,Ht(jt),qt];function Wt(t,e){if(\&quot;error\&quot;===e.kind)return null;if(\&quot;array\&quot;===t.kind){if(\&quot;array\&quot;===e.kind&amp;&amp;(0===e.N&amp;&amp;\&quot;value\&quot;===e.itemType.kind||!Wt(t.itemType,e.itemType))&amp;&amp;(\&quot;number\&quot;!=typeof t.N||t.N===e.N))return null}else{if(t.kind===e.kind)return null;if(\&quot;value\&quot;===t.kind)for(var r=0,n=Yt;r&lt;n.length;r+=1)if(!Wt(n[r],e))return null}return\&quot;Expected \&quot;+Gt(t)+\&quot; but found \&quot;+Gt(e)+\&quot; instead.\&quot;}function Xt(t,e){return e.some((function(e){return e.kind===t.kind}))}function Zt(t,e){return e.some((function(e){return\&quot;null\&quot;===e?null===t:\&quot;array\&quot;===e?Array.isArray(t):\&quot;object\&quot;===e?t&amp;&amp;!Array.isArray(t)&amp;&amp;\&quot;object\&quot;==typeof t:e===typeof t}))}var Jt=e((function(t,e){var r={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function n(t){return(t=Math.round(t))&lt;0?0:t&gt;255?255:t}function i(t){return n(\&quot;%\&quot;===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function a(t){return(e=\&quot;%\&quot;===t[t.length-1]?parseFloat(t)/100:parseFloat(t))&lt;0?0:e&gt;1?1:e;var e}function o(t,e,r){return r&lt;0?r+=1:r&gt;1&amp;&amp;(r-=1),6*r&lt;1?t+(e-t)*r*6:2*r&lt;1?e:3*r&lt;2?t+(e-t)*(2/3-r)*6:t}try{e.parseCSSColor=function(t){var e,s=t.replace(/ /g,\&quot;\&quot;).toLowerCase();if(s in r)return r[s].slice();if(\&quot;#\&quot;===s[0])return 4===s.length?(e=parseInt(s.substr(1),16))&gt;=0&amp;&amp;e&lt;=4095?[(3840&amp;e)&gt;&gt;4|(3840&amp;e)&gt;&gt;8,240&amp;e|(240&amp;e)&gt;&gt;4,15&amp;e|(15&amp;e)&lt;&lt;4,1]:null:7===s.length&amp;&amp;(e=parseInt(s.substr(1),16))&gt;=0&amp;&amp;e&lt;=16777215?[(16711680&amp;e)&gt;&gt;16,(65280&amp;e)&gt;&gt;8,255&amp;e,1]:null;var l=s.indexOf(\&quot;(\&quot;),c=s.indexOf(\&quot;)\&quot;);if(-1!==l&amp;&amp;c+1===s.length){var u=s.substr(0,l),f=s.substr(l+1,c-(l+1)).split(\&quot;,\&quot;),h=1;switch(u){case\&quot;rgba\&quot;:if(4!==f.length)return null;h=a(f.pop());case\&quot;rgb\&quot;:return 3!==f.length?null:[i(f[0]),i(f[1]),i(f[2]),h];case\&quot;hsla\&quot;:if(4!==f.length)return null;h=a(f.pop());case\&quot;hsl\&quot;:if(3!==f.length)return null;var p=(parseFloat(f[0])%360+360)%360/360,d=a(f[1]),g=a(f[2]),m=g&lt;=.5?g*(d+1):g+d-g*d,v=2*g-m;return[n(255*o(v,m,p+1/3)),n(255*o(v,m,p)),n(255*o(v,m,p-1/3)),h];default:return null}}return null}}catch(t){}})).parseCSSColor,Kt=function(t,e,r,n){void 0===n&amp;&amp;(n=1),this.r=t,this.g=e,this.b=r,this.a=n};Kt.parse=function(t){if(t){if(t instanceof Kt)return t;if(\&quot;string\&quot;==typeof t){var e=Jt(t);if(e)return new Kt(e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3])}}},Kt.prototype.toString=function(){var t=this.toArray(),e=t[1],r=t[2],n=t[3];return\&quot;rgba(\&quot;+Math.round(t[0])+\&quot;,\&quot;+Math.round(e)+\&quot;,\&quot;+Math.round(r)+\&quot;,\&quot;+n+\&quot;)\&quot;},Kt.prototype.toArray=function(){var t=this.a;return 0===t?[0,0,0,0]:[255*this.r/t,255*this.g/t,255*this.b/t,t]},Kt.black=new Kt(0,0,0,1),Kt.white=new Kt(1,1,1,1),Kt.transparent=new Kt(0,0,0,0),Kt.red=new Kt(1,0,0,1);var Qt=function(t,e,r){this.sensitivity=t?e?\&quot;variant\&quot;:\&quot;case\&quot;:e?\&quot;accent\&quot;:\&quot;base\&quot;,this.locale=r,this.collator=new Intl.Collator(this.locale?this.locale:[],{sensitivity:this.sensitivity,usage:\&quot;search\&quot;})};Qt.prototype.compare=function(t,e){return this.collator.compare(t,e)},Qt.prototype.resolvedLocale=function(){return new Intl.Collator(this.locale?this.locale:[]).resolvedOptions().locale};var $t=function(t,e,r,n,i){this.text=t,this.image=e,this.scale=r,this.fontStack=n,this.textColor=i},te=function(t){this.sections=t};te.fromString=function(t){return new te([new $t(t,null,null,null,null)])},te.prototype.isEmpty=function(){return 0===this.sections.length||!this.sections.some((function(t){return 0!==t.text.length||t.image&amp;&amp;0!==t.image.name.length}))},te.factory=function(t){return t instanceof te?t:te.fromString(t)},te.prototype.toString=function(){return 0===this.sections.length?\&quot;\&quot;:this.sections.map((function(t){return t.text})).join(\&quot;\&quot;)},te.prototype.serialize=function(){for(var t=[\&quot;format\&quot;],e=0,r=this.sections;e&lt;r.length;e+=1){var n=r[e];if(n.image)t.push([\&quot;image\&quot;,n.image.name]);else{t.push(n.text);var i={};n.fontStack&amp;&amp;(i[\&quot;text-font\&quot;]=[\&quot;literal\&quot;,n.fontStack.split(\&quot;,\&quot;)]),n.scale&amp;&amp;(i[\&quot;font-scale\&quot;]=n.scale),n.textColor&amp;&amp;(i[\&quot;text-color\&quot;]=[\&quot;rgba\&quot;].concat(n.textColor.toArray())),t.push(i)}}return t};var ee=function(t){this.name=t.name,this.available=t.available};function re(t,e,r,n){return\&quot;number\&quot;==typeof t&amp;&amp;t&gt;=0&amp;&amp;t&lt;=255&amp;&amp;\&quot;number\&quot;==typeof e&amp;&amp;e&gt;=0&amp;&amp;e&lt;=255&amp;&amp;\&quot;number\&quot;==typeof r&amp;&amp;r&gt;=0&amp;&amp;r&lt;=255?void 0===n||\&quot;number\&quot;==typeof n&amp;&amp;n&gt;=0&amp;&amp;n&lt;=1?null:\&quot;Invalid rgba value [\&quot;+[t,e,r,n].join(\&quot;, \&quot;)+\&quot;]: 'a' must be between 0 and 1.\&quot;:\&quot;Invalid rgba value [\&quot;+(\&quot;number\&quot;==typeof n?[t,e,r,n]:[t,e,r]).join(\&quot;, \&quot;)+\&quot;]: 'r', 'g', and 'b' must be between 0 and 255.\&quot;}function ne(t){if(null===t)return!0;if(\&quot;string\&quot;==typeof t)return!0;if(\&quot;boolean\&quot;==typeof t)return!0;if(\&quot;number\&quot;==typeof t)return!0;if(t instanceof Kt)return!0;if(t instanceof Qt)return!0;if(t instanceof te)return!0;if(t instanceof ee)return!0;if(Array.isArray(t)){for(var e=0,r=t;e&lt;r.length;e+=1)if(!ne(r[e]))return!1;return!0}if(\&quot;object\&quot;==typeof t){for(var n in t)if(!ne(t[n]))return!1;return!0}return!1}function ie(t){if(null===t)return Ot;if(\&quot;string\&quot;==typeof t)return Rt;if(\&quot;boolean\&quot;==typeof t)return Ft;if(\&quot;number\&quot;==typeof t)return Dt;if(t instanceof Kt)return Bt;if(t instanceof Qt)return Ut;if(t instanceof te)return Vt;if(t instanceof ee)return qt;if(Array.isArray(t)){for(var e,r=t.length,n=0,i=t;n&lt;i.length;n+=1){var a=ie(i[n]);if(e){if(e===a)continue;e=jt;break}e=a}return Ht(e||jt,r)}return Nt}function ae(t){var e=typeof t;return null===t?\&quot;\&quot;:\&quot;string\&quot;===e||\&quot;number\&quot;===e||\&quot;boolean\&quot;===e?String(t):t instanceof Kt||t instanceof te||t instanceof ee?t.toString():JSON.stringify(t)}ee.prototype.toString=function(){return this.name},ee.fromString=function(t){return t?new ee({name:t,available:!1}):null},ee.prototype.serialize=function(){return[\&quot;image\&quot;,this.name]};var oe=function(t,e){this.type=t,this.value=e};oe.parse=function(t,e){if(2!==t.length)return e.error(\&quot;'literal' expression requires exactly one argument, but found \&quot;+(t.length-1)+\&quot; instead.\&quot;);if(!ne(t[1]))return e.error(\&quot;invalid value\&quot;);var r=t[1],n=ie(r),i=e.expectedType;return\&quot;array\&quot;!==n.kind||0!==n.N||!i||\&quot;array\&quot;!==i.kind||\&quot;number\&quot;==typeof i.N&amp;&amp;0!==i.N||(n=i),new oe(n,r)},oe.prototype.evaluate=function(){return this.value},oe.prototype.eachChild=function(){},oe.prototype.outputDefined=function(){return!0},oe.prototype.serialize=function(){return\&quot;array\&quot;===this.type.kind||\&quot;object\&quot;===this.type.kind?[\&quot;literal\&quot;,this.value]:this.value instanceof Kt?[\&quot;rgba\&quot;].concat(this.value.toArray()):this.value instanceof te?this.value.serialize():this.value};var se=function(t){this.name=\&quot;ExpressionEvaluationError\&quot;,this.message=t};se.prototype.toJSON=function(){return this.message};var le={string:Rt,number:Dt,boolean:Ft,object:Nt},ce=function(t,e){this.type=t,this.args=e};ce.parse=function(t,e){if(t.length&lt;2)return e.error(\&quot;Expected at least one argument.\&quot;);var r,n=1,i=t[0];if(\&quot;array\&quot;===i){var a,o;if(t.length&gt;2){var s=t[1];if(\&quot;string\&quot;!=typeof s||!(s in le)||\&quot;object\&quot;===s)return e.error('The item type argument of \&quot;array\&quot; must be one of string, number, boolean',1);a=le[s],n++}else a=jt;if(t.length&gt;3){if(null!==t[2]&amp;&amp;(\&quot;number\&quot;!=typeof t[2]||t[2]&lt;0||t[2]!==Math.floor(t[2])))return e.error('The length argument to \&quot;array\&quot; must be a positive integer literal',2);o=t[2],n++}r=Ht(a,o)}else r=le[i];for(var l=[];n&lt;t.length;n++){var c=e.parse(t[n],n,jt);if(!c)return null;l.push(c)}return new ce(r,l)},ce.prototype.evaluate=function(t){for(var e=0;e&lt;this.args.length;e++){var r=this.args[e].evaluate(t);if(!Wt(this.type,ie(r)))return r;if(e===this.args.length-1)throw new se(\&quot;Expected value to be of type \&quot;+Gt(this.type)+\&quot;, but found \&quot;+Gt(ie(r))+\&quot; instead.\&quot;)}return null},ce.prototype.eachChild=function(t){this.args.forEach(t)},ce.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},ce.prototype.serialize=function(){var t=this.type,e=[t.kind];if(\&quot;array\&quot;===t.kind){var r=t.itemType;if(\&quot;string\&quot;===r.kind||\&quot;number\&quot;===r.kind||\&quot;boolean\&quot;===r.kind){e.push(r.kind);var n=t.N;(\&quot;number\&quot;==typeof n||this.args.length&gt;1)&amp;&amp;e.push(n)}}return e.concat(this.args.map((function(t){return t.serialize()})))};var ue=function(t){this.type=Vt,this.sections=t};ue.parse=function(t,e){if(t.length&lt;2)return e.error(\&quot;Expected at least one argument.\&quot;);var r=t[1];if(!Array.isArray(r)&amp;&amp;\&quot;object\&quot;==typeof r)return e.error(\&quot;First argument must be an image or text section.\&quot;);for(var n=[],i=!1,a=1;a&lt;=t.length-1;++a){var o=t[a];if(i&amp;&amp;\&quot;object\&quot;==typeof o&amp;&amp;!Array.isArray(o)){i=!1;var s=null;if(o[\&quot;font-scale\&quot;]&amp;&amp;!(s=e.parse(o[\&quot;font-scale\&quot;],1,Dt)))return null;var l=null;if(o[\&quot;text-font\&quot;]&amp;&amp;!(l=e.parse(o[\&quot;text-font\&quot;],1,Ht(Rt))))return null;var c=null;if(o[\&quot;text-color\&quot;]&amp;&amp;!(c=e.parse(o[\&quot;text-color\&quot;],1,Bt)))return null;var u=n[n.length-1];u.scale=s,u.font=l,u.textColor=c}else{var f=e.parse(t[a],1,jt);if(!f)return null;var h=f.type.kind;if(\&quot;string\&quot;!==h&amp;&amp;\&quot;value\&quot;!==h&amp;&amp;\&quot;null\&quot;!==h&amp;&amp;\&quot;resolvedImage\&quot;!==h)return e.error(\&quot;Formatted text type must be 'string', 'value', 'image' or 'null'.\&quot;);i=!0,n.push({content:f,scale:null,font:null,textColor:null})}}return new ue(n)},ue.prototype.evaluate=function(t){return new te(this.sections.map((function(e){var r=e.content.evaluate(t);return ie(r)===qt?new $t(\&quot;\&quot;,r,null,null,null):new $t(ae(r),null,e.scale?e.scale.evaluate(t):null,e.font?e.font.evaluate(t).join(\&quot;,\&quot;):null,e.textColor?e.textColor.evaluate(t):null)})))},ue.prototype.eachChild=function(t){for(var e=0,r=this.sections;e&lt;r.length;e+=1){var n=r[e];t(n.content),n.scale&amp;&amp;t(n.scale),n.font&amp;&amp;t(n.font),n.textColor&amp;&amp;t(n.textColor)}},ue.prototype.outputDefined=function(){return!1},ue.prototype.serialize=function(){for(var t=[\&quot;format\&quot;],e=0,r=this.sections;e&lt;r.length;e+=1){var n=r[e];t.push(n.content.serialize());var i={};n.scale&amp;&amp;(i[\&quot;font-scale\&quot;]=n.scale.serialize()),n.font&amp;&amp;(i[\&quot;text-font\&quot;]=n.font.serialize()),n.textColor&amp;&amp;(i[\&quot;text-color\&quot;]=n.textColor.serialize()),t.push(i)}return t};var fe=function(t){this.type=qt,this.input=t};fe.parse=function(t,e){if(2!==t.length)return e.error(\&quot;Expected two arguments.\&quot;);var r=e.parse(t[1],1,Rt);return r?new fe(r):e.error(\&quot;No image name provided.\&quot;)},fe.prototype.evaluate=function(t){var e=this.input.evaluate(t),r=ee.fromString(e);return r&amp;&amp;t.availableImages&amp;&amp;(r.available=t.availableImages.indexOf(e)&gt;-1),r},fe.prototype.eachChild=function(t){t(this.input)},fe.prototype.outputDefined=function(){return!1},fe.prototype.serialize=function(){return[\&quot;image\&quot;,this.input.serialize()]};var he={\&quot;to-boolean\&quot;:Ft,\&quot;to-color\&quot;:Bt,\&quot;to-number\&quot;:Dt,\&quot;to-string\&quot;:Rt},pe=function(t,e){this.type=t,this.args=e};pe.parse=function(t,e){if(t.length&lt;2)return e.error(\&quot;Expected at least one argument.\&quot;);var r=t[0];if((\&quot;to-boolean\&quot;===r||\&quot;to-string\&quot;===r)&amp;&amp;2!==t.length)return e.error(\&quot;Expected one argument.\&quot;);for(var n=he[r],i=[],a=1;a&lt;t.length;a++){var o=e.parse(t[a],a,jt);if(!o)return null;i.push(o)}return new pe(n,i)},pe.prototype.evaluate=function(t){if(\&quot;boolean\&quot;===this.type.kind)return Boolean(this.args[0].evaluate(t));if(\&quot;color\&quot;===this.type.kind){for(var e,r,n=0,i=this.args;n&lt;i.length;n+=1){if(r=null,(e=i[n].evaluate(t))instanceof Kt)return e;if(\&quot;string\&quot;==typeof e){var a=t.parseColor(e);if(a)return a}else if(Array.isArray(e)&amp;&amp;!(r=e.length&lt;3||e.length&gt;4?\&quot;Invalid rbga value \&quot;+JSON.stringify(e)+\&quot;: expected an array containing either three or four numeric values.\&quot;:re(e[0],e[1],e[2],e[3])))return new Kt(e[0]/255,e[1]/255,e[2]/255,e[3])}throw new se(r||\&quot;Could not parse color from value '\&quot;+(\&quot;string\&quot;==typeof e?e:String(JSON.stringify(e)))+\&quot;'\&quot;)}if(\&quot;number\&quot;===this.type.kind){for(var o=null,s=0,l=this.args;s&lt;l.length;s+=1){if(null===(o=l[s].evaluate(t)))return 0;var c=Number(o);if(!isNaN(c))return c}throw new se(\&quot;Could not convert \&quot;+JSON.stringify(o)+\&quot; to number.\&quot;)}return\&quot;formatted\&quot;===this.type.kind?te.fromString(ae(this.args[0].evaluate(t))):\&quot;resolvedImage\&quot;===this.type.kind?ee.fromString(ae(this.args[0].evaluate(t))):ae(this.args[0].evaluate(t))},pe.prototype.eachChild=function(t){this.args.forEach(t)},pe.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},pe.prototype.serialize=function(){if(\&quot;formatted\&quot;===this.type.kind)return new ue([{content:this.args[0],scale:null,font:null,textColor:null}]).serialize();if(\&quot;resolvedImage\&quot;===this.type.kind)return new fe(this.args[0]).serialize();var t=[\&quot;to-\&quot;+this.type.kind];return this.eachChild((function(e){t.push(e.serialize())})),t};var de=[\&quot;Unknown\&quot;,\&quot;Point\&quot;,\&quot;LineString\&quot;,\&quot;Polygon\&quot;],ge=function(){this.globals=null,this.feature=null,this.featureState=null,this.formattedSection=null,this._parseColorCache={},this.availableImages=null,this.canonical=null};ge.prototype.id=function(){return this.feature&amp;&amp;\&quot;id\&quot;in this.feature?this.feature.id:null},ge.prototype.geometryType=function(){return this.feature?\&quot;number\&quot;==typeof this.feature.type?de[this.feature.type]:this.feature.type:null},ge.prototype.geometry=function(){return this.feature&amp;&amp;\&quot;geometry\&quot;in this.feature?this.feature.geometry:null},ge.prototype.canonicalID=function(){return this.canonical},ge.prototype.properties=function(){return this.feature&amp;&amp;this.feature.properties||{}},ge.prototype.parseColor=function(t){var e=this._parseColorCache[t];return e||(e=this._parseColorCache[t]=Kt.parse(t)),e};var me=function(t,e,r,n){this.name=t,this.type=e,this._evaluate=r,this.args=n};me.prototype.evaluate=function(t){return this._evaluate(t,this.args)},me.prototype.eachChild=function(t){this.args.forEach(t)},me.prototype.outputDefined=function(){return!1},me.prototype.serialize=function(){return[this.name].concat(this.args.map((function(t){return t.serialize()})))},me.parse=function(t,e){var r,n=t[0],i=me.definitions[n];if(!i)return e.error('Unknown expression \&quot;'+n+'\&quot;. If you wanted a literal array, use [\&quot;literal\&quot;, [...]].',0);for(var a=Array.isArray(i)?i[0]:i.type,o=Array.isArray(i)?[[i[1],i[2]]]:i.overloads,s=o.filter((function(e){var r=e[0];return!Array.isArray(r)||r.length===t.length-1})),l=null,c=0,u=s;c&lt;u.length;c+=1){var f=u[c],h=f[0],p=f[1];l=new Be(e.registry,e.path,null,e.scope);for(var d=[],g=!1,m=1;m&lt;t.length;m++){var v=t[m],y=Array.isArray(h)?h[m-1]:h.type,x=l.parse(v,1+d.length,y);if(!x){g=!0;break}d.push(x)}if(!g)if(Array.isArray(h)&amp;&amp;h.length!==d.length)l.error(\&quot;Expected \&quot;+h.length+\&quot; arguments, but found \&quot;+d.length+\&quot; instead.\&quot;);else{for(var b=0;b&lt;d.length;b++){var _=Array.isArray(h)?h[b]:h.type,w=d[b];l.concat(b+1).checkSubtype(_,w.type)}if(0===l.errors.length)return new me(n,a,p,d)}}if(1===s.length)(r=e.errors).push.apply(r,l.errors);else{for(var T=(s.length?s:o).map((function(t){var e;return e=t[0],Array.isArray(e)?\&quot;(\&quot;+e.map(Gt).join(\&quot;, \&quot;)+\&quot;)\&quot;:\&quot;(\&quot;+Gt(e.type)+\&quot;...)\&quot;})).join(\&quot; | \&quot;),k=[],M=1;M&lt;t.length;M++){var A=e.parse(t[M],1+k.length);if(!A)return null;k.push(Gt(A.type))}e.error(\&quot;Expected arguments of type \&quot;+T+\&quot;, but found (\&quot;+k.join(\&quot;, \&quot;)+\&quot;) instead.\&quot;)}return null},me.register=function(t,e){for(var r in me.definitions=e,e)t[r]=me};var ve=function(t,e,r){this.type=Ut,this.locale=r,this.caseSensitive=t,this.diacriticSensitive=e};function ye(t,e){t[0]=Math.min(t[0],e[0]),t[1]=Math.min(t[1],e[1]),t[2]=Math.max(t[2],e[0]),t[3]=Math.max(t[3],e[1])}function xe(t,e){return!(t[0]&lt;=e[0]||t[2]&gt;=e[2]||t[1]&lt;=e[1]||t[3]&gt;=e[3])}function be(t,e){var r=(180+t[0])/360,n=(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t[1]*Math.PI/360)))/360,i=Math.pow(2,e.z);return[Math.round(r*i*8192),Math.round(n*i*8192)]}function _e(t,e,r){return e[1]&gt;t[1]!=r[1]&gt;t[1]&amp;&amp;t[0]&lt;(r[0]-e[0])*(t[1]-e[1])/(r[1]-e[1])+e[0]}function we(t,e){for(var r,n,i,a,o,s,l,c=!1,u=0,f=e.length;u&lt;f;u++)for(var h=e[u],p=0,d=h.length;p&lt;d-1;p++){if((a=(r=t)[0]-(n=h[p])[0])*(l=r[1]-(i=h[p+1])[1])-(s=r[0]-i[0])*(o=r[1]-n[1])==0&amp;&amp;a*s&lt;=0&amp;&amp;o*l&lt;=0)return!1;_e(t,h[p],h[p+1])&amp;&amp;(c=!c)}return c}function Te(t,e){for(var r=0;r&lt;e.length;r++)if(we(t,e[r]))return!0;return!1}function ke(t,e,r,n){var i=n[0]-r[0],a=n[1]-r[1],o=(t[0]-r[0])*a-i*(t[1]-r[1]),s=(e[0]-r[0])*a-i*(e[1]-r[1]);return o&gt;0&amp;&amp;s&lt;0||o&lt;0&amp;&amp;s&gt;0}function Me(t,e,r){for(var n=0,i=r;n&lt;i.length;n+=1)for(var a=i[n],o=0;o&lt;a.length-1;++o)if(0!=(f=[(u=a[o+1])[0]-(c=a[o])[0],u[1]-c[1]])[0]*(h=[(l=e)[0]-(s=t)[0],l[1]-s[1]])[1]-f[1]*h[0]&amp;&amp;ke(s,l,c,u)&amp;&amp;ke(c,u,s,l))return!0;var s,l,c,u,f,h;return!1}function Ae(t,e){for(var r=0;r&lt;t.length;++r)if(!we(t[r],e))return!1;for(var n=0;n&lt;t.length-1;++n)if(Me(t[n],t[n+1],e))return!1;return!0}function Se(t,e){for(var r=0;r&lt;e.length;r++)if(Ae(t,e[r]))return!0;return!1}function Ee(t,e,r){for(var n=[],i=0;i&lt;t.length;i++){for(var a=[],o=0;o&lt;t[i].length;o++){var s=be(t[i][o],r);ye(e,s),a.push(s)}n.push(a)}return n}function Ce(t,e,r){for(var n=[],i=0;i&lt;t.length;i++){var a=Ee(t[i],e,r);n.push(a)}return n}function Le(t,e,r,n){if(t[0]&lt;r[0]||t[0]&gt;r[2]){var i=.5*n,a=t[0]-r[0]&gt;i?-n:r[0]-t[0]&gt;i?n:0;0===a&amp;&amp;(a=t[0]-r[2]&gt;i?-n:r[2]-t[0]&gt;i?n:0),t[0]+=a}ye(e,t)}function Ie(t,e,r,n){for(var i=8192*Math.pow(2,n.z),a=[8192*n.x,8192*n.y],o=[],s=0,l=t;s&lt;l.length;s+=1)for(var c=0,u=l[s];c&lt;u.length;c+=1){var f=u[c],h=[f.x+a[0],f.y+a[1]];Le(h,e,r,i),o.push(h)}return o}function Pe(t,e,r,n){for(var i,a=8192*Math.pow(2,n.z),o=[8192*n.x,8192*n.y],s=[],l=0,c=t;l&lt;c.length;l+=1){for(var u=[],f=0,h=c[l];f&lt;h.length;f+=1){var p=h[f],d=[p.x+o[0],p.y+o[1]];ye(e,d),u.push(d)}s.push(u)}if(e[2]-e[0]&lt;=a/2){(i=e)[0]=i[1]=1/0,i[2]=i[3]=-1/0;for(var g=0,m=s;g&lt;m.length;g+=1)for(var v=0,y=m[g];v&lt;y.length;v+=1)Le(y[v],e,r,a)}return s}ve.parse=function(t,e){if(2!==t.length)return e.error(\&quot;Expected one argument.\&quot;);var r=t[1];if(\&quot;object\&quot;!=typeof r||Array.isArray(r))return e.error(\&quot;Collator options argument must be an object.\&quot;);var n=e.parse(void 0!==r[\&quot;case-sensitive\&quot;]&amp;&amp;r[\&quot;case-sensitive\&quot;],1,Ft);if(!n)return null;var i=e.parse(void 0!==r[\&quot;diacritic-sensitive\&quot;]&amp;&amp;r[\&quot;diacritic-sensitive\&quot;],1,Ft);if(!i)return null;var a=null;return r.locale&amp;&amp;!(a=e.parse(r.locale,1,Rt))?null:new ve(n,i,a)},ve.prototype.evaluate=function(t){return new Qt(this.caseSensitive.evaluate(t),this.diacriticSensitive.evaluate(t),this.locale?this.locale.evaluate(t):null)},ve.prototype.eachChild=function(t){t(this.caseSensitive),t(this.diacriticSensitive),this.locale&amp;&amp;t(this.locale)},ve.prototype.outputDefined=function(){return!1},ve.prototype.serialize=function(){var t={};return t[\&quot;case-sensitive\&quot;]=this.caseSensitive.serialize(),t[\&quot;diacritic-sensitive\&quot;]=this.diacriticSensitive.serialize(),this.locale&amp;&amp;(t.locale=this.locale.serialize()),[\&quot;collator\&quot;,t]};var ze=function(t,e){this.type=Ft,this.geojson=t,this.geometries=e};function Oe(t){if(t instanceof me){if(\&quot;get\&quot;===t.name&amp;&amp;1===t.args.length)return!1;if(\&quot;feature-state\&quot;===t.name)return!1;if(\&quot;has\&quot;===t.name&amp;&amp;1===t.args.length)return!1;if(\&quot;properties\&quot;===t.name||\&quot;geometry-type\&quot;===t.name||\&quot;id\&quot;===t.name)return!1;if(/^filter-/.test(t.name))return!1}if(t instanceof ze)return!1;var e=!0;return t.eachChild((function(t){e&amp;&amp;!Oe(t)&amp;&amp;(e=!1)})),e}function De(t){if(t instanceof me&amp;&amp;\&quot;feature-state\&quot;===t.name)return!1;var e=!0;return t.eachChild((function(t){e&amp;&amp;!De(t)&amp;&amp;(e=!1)})),e}function Re(t,e){if(t instanceof me&amp;&amp;e.indexOf(t.name)&gt;=0)return!1;var r=!0;return t.eachChild((function(t){r&amp;&amp;!Re(t,e)&amp;&amp;(r=!1)})),r}ze.parse=function(t,e){if(2!==t.length)return e.error(\&quot;'within' expression requires exactly one argument, but found \&quot;+(t.length-1)+\&quot; instead.\&quot;);if(ne(t[1])){var r=t[1];if(\&quot;FeatureCollection\&quot;===r.type)for(var n=0;n&lt;r.features.length;++n){var i=r.features[n].geometry.type;if(\&quot;Polygon\&quot;===i||\&quot;MultiPolygon\&quot;===i)return new ze(r,r.features[n].geometry)}else if(\&quot;Feature\&quot;===r.type){var a=r.geometry.type;if(\&quot;Polygon\&quot;===a||\&quot;MultiPolygon\&quot;===a)return new ze(r,r.geometry)}else if(\&quot;Polygon\&quot;===r.type||\&quot;MultiPolygon\&quot;===r.type)return new ze(r,r)}return e.error(\&quot;'within' expression requires valid geojson object that contains polygon geometry type.\&quot;)},ze.prototype.evaluate=function(t){if(null!=t.geometry()&amp;&amp;null!=t.canonicalID()){if(\&quot;Point\&quot;===t.geometryType())return function(t,e){var r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if(\&quot;Polygon\&quot;===e.type){var a=Ee(e.coordinates,n,i),o=Ie(t.geometry(),r,n,i);if(!xe(r,n))return!1;for(var s=0,l=o;s&lt;l.length;s+=1)if(!we(l[s],a))return!1}if(\&quot;MultiPolygon\&quot;===e.type){var c=Ce(e.coordinates,n,i),u=Ie(t.geometry(),r,n,i);if(!xe(r,n))return!1;for(var f=0,h=u;f&lt;h.length;f+=1)if(!Te(h[f],c))return!1}return!0}(t,this.geometries);if(\&quot;LineString\&quot;===t.geometryType())return function(t,e){var r=[1/0,1/0,-1/0,-1/0],n=[1/0,1/0,-1/0,-1/0],i=t.canonicalID();if(\&quot;Polygon\&quot;===e.type){var a=Ee(e.coordinates,n,i),o=Pe(t.geometry(),r,n,i);if(!xe(r,n))return!1;for(var s=0,l=o;s&lt;l.length;s+=1)if(!Ae(l[s],a))return!1}if(\&quot;MultiPolygon\&quot;===e.type){var c=Ce(e.coordinates,n,i),u=Pe(t.geometry(),r,n,i);if(!xe(r,n))return!1;for(var f=0,h=u;f&lt;h.length;f+=1)if(!Se(h[f],c))return!1}return!0}(t,this.geometries)}return!1},ze.prototype.eachChild=function(){},ze.prototype.outputDefined=function(){return!0},ze.prototype.serialize=function(){return[\&quot;within\&quot;,this.geojson]};var Fe=function(t,e){this.type=e.type,this.name=t,this.boundExpression=e};Fe.parse=function(t,e){if(2!==t.length||\&quot;string\&quot;!=typeof t[1])return e.error(\&quot;'var' expression requires exactly one string literal argument.\&quot;);var r=t[1];return e.scope.has(r)?new Fe(r,e.scope.get(r)):e.error('Unknown variable \&quot;'+r+'\&quot;. Make sure \&quot;'+r+'\&quot; has been bound in an enclosing \&quot;let\&quot; expression before using it.',1)},Fe.prototype.evaluate=function(t){return this.boundExpression.evaluate(t)},Fe.prototype.eachChild=function(){},Fe.prototype.outputDefined=function(){return!1},Fe.prototype.serialize=function(){return[\&quot;var\&quot;,this.name]};var Be=function(t,e,r,n,i){void 0===e&amp;&amp;(e=[]),void 0===n&amp;&amp;(n=new zt),void 0===i&amp;&amp;(i=[]),this.registry=t,this.path=e,this.key=e.map((function(t){return\&quot;[\&quot;+t+\&quot;]\&quot;})).join(\&quot;\&quot;),this.scope=n,this.errors=i,this.expectedType=r};function Ne(t,e){for(var r,n=t.length-1,i=0,a=n,o=0;i&lt;=a;)if((r=t[o=Math.floor((i+a)/2)])&lt;=e){if(o===n||e&lt;t[o+1])return o;i=o+1}else{if(!(r&gt;e))throw new se(\&quot;Input is not a number.\&quot;);a=o-1}return 0}Be.prototype.parse=function(t,e,r,n,i){return void 0===i&amp;&amp;(i={}),e?this.concat(e,r,n)._parse(t,i):this._parse(t,i)},Be.prototype._parse=function(t,e){function r(t,e,r){return\&quot;assert\&quot;===r?new ce(e,[t]):\&quot;coerce\&quot;===r?new pe(e,[t]):t}if(null!==t&amp;&amp;\&quot;string\&quot;!=typeof t&amp;&amp;\&quot;boolean\&quot;!=typeof t&amp;&amp;\&quot;number\&quot;!=typeof t||(t=[\&quot;literal\&quot;,t]),Array.isArray(t)){if(0===t.length)return this.error('Expected an array with at least one element. If you wanted a literal array, use [\&quot;literal\&quot;, []].');var n=t[0];if(\&quot;string\&quot;!=typeof n)return this.error(\&quot;Expression name must be a string, but found \&quot;+typeof n+' instead. If you wanted a literal array, use [\&quot;literal\&quot;, [...]].',0),null;var i=this.registry[n];if(i){var a=i.parse(t,this);if(!a)return null;if(this.expectedType){var o=this.expectedType,s=a.type;if(\&quot;string\&quot;!==o.kind&amp;&amp;\&quot;number\&quot;!==o.kind&amp;&amp;\&quot;boolean\&quot;!==o.kind&amp;&amp;\&quot;object\&quot;!==o.kind&amp;&amp;\&quot;array\&quot;!==o.kind||\&quot;value\&quot;!==s.kind)if(\&quot;color\&quot;!==o.kind&amp;&amp;\&quot;formatted\&quot;!==o.kind&amp;&amp;\&quot;resolvedImage\&quot;!==o.kind||\&quot;value\&quot;!==s.kind&amp;&amp;\&quot;string\&quot;!==s.kind){if(this.checkSubtype(o,s))return null}else a=r(a,o,e.typeAnnotation||\&quot;coerce\&quot;);else a=r(a,o,e.typeAnnotation||\&quot;assert\&quot;)}if(!(a instanceof oe)&amp;&amp;\&quot;resolvedImage\&quot;!==a.type.kind&amp;&amp;function t(e){if(e instanceof Fe)return t(e.boundExpression);if(e instanceof me&amp;&amp;\&quot;error\&quot;===e.name)return!1;if(e instanceof ve)return!1;if(e instanceof ze)return!1;var r=e instanceof pe||e instanceof ce,n=!0;return e.eachChild((function(e){n=r?n&amp;&amp;t(e):n&amp;&amp;e instanceof oe})),!!n&amp;&amp;Oe(e)&amp;&amp;Re(e,[\&quot;zoom\&quot;,\&quot;heatmap-density\&quot;,\&quot;line-progress\&quot;,\&quot;accumulated\&quot;,\&quot;is-supported-script\&quot;])}(a)){var l=new ge;try{a=new oe(a.type,a.evaluate(l))}catch(t){return this.error(t.message),null}}return a}return this.error('Unknown expression \&quot;'+n+'\&quot;. If you wanted a literal array, use [\&quot;literal\&quot;, [...]].',0)}return this.error(void 0===t?\&quot;'undefined' value invalid. Use null instead.\&quot;:\&quot;object\&quot;==typeof t?'Bare objects invalid. Use [\&quot;literal\&quot;, {...}] instead.':\&quot;Expected an array, but found \&quot;+typeof t+\&quot; instead.\&quot;)},Be.prototype.concat=function(t,e,r){var n=\&quot;number\&quot;==typeof t?this.path.concat(t):this.path,i=r?this.scope.concat(r):this.scope;return new Be(this.registry,n,e||null,i,this.errors)},Be.prototype.error=function(t){for(var e=[],r=arguments.length-1;r-- &gt;0;)e[r]=arguments[r+1];var n=\&quot;\&quot;+this.key+e.map((function(t){return\&quot;[\&quot;+t+\&quot;]\&quot;})).join(\&quot;\&quot;);this.errors.push(new Pt(n,t))},Be.prototype.checkSubtype=function(t,e){var r=Wt(t,e);return r&amp;&amp;this.error(r),r};var je=function(t,e,r){this.type=t,this.input=e,this.labels=[],this.outputs=[];for(var n=0,i=r;n&lt;i.length;n+=1){var a=i[n],o=a[1];this.labels.push(a[0]),this.outputs.push(o)}};function Ue(t,e,r){return t*(1-r)+e*r}je.parse=function(t,e){if(t.length-1&lt;4)return e.error(\&quot;Expected at least 4 arguments, but found only \&quot;+(t.length-1)+\&quot;.\&quot;);if((t.length-1)%2!=0)return e.error(\&quot;Expected an even number of arguments.\&quot;);var r=e.parse(t[1],1,Dt);if(!r)return null;var n=[],i=null;e.expectedType&amp;&amp;\&quot;value\&quot;!==e.expectedType.kind&amp;&amp;(i=e.expectedType);for(var a=1;a&lt;t.length;a+=2){var o=1===a?-1/0:t[a],s=t[a+1],l=a,c=a+1;if(\&quot;number\&quot;!=typeof o)return e.error('Input/output pairs for \&quot;step\&quot; expressions must be defined using literal numeric values (not computed expressions) for the input values.',l);if(n.length&amp;&amp;n[n.length-1][0]&gt;=o)return e.error('Input/output pairs for \&quot;step\&quot; expressions must be arranged with input values in strictly ascending order.',l);var u=e.parse(s,c,i);if(!u)return null;i=i||u.type,n.push([o,u])}return new je(i,r,n)},je.prototype.evaluate=function(t){var e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);var n=this.input.evaluate(t);if(n&lt;=e[0])return r[0].evaluate(t);var i=e.length;return n&gt;=e[i-1]?r[i-1].evaluate(t):r[Ne(e,n)].evaluate(t)},je.prototype.eachChild=function(t){t(this.input);for(var e=0,r=this.outputs;e&lt;r.length;e+=1)t(r[e])},je.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))},je.prototype.serialize=function(){for(var t=[\&quot;step\&quot;,this.input.serialize()],e=0;e&lt;this.labels.length;e++)e&gt;0&amp;&amp;t.push(this.labels[e]),t.push(this.outputs[e].serialize());return t};var Ve=Object.freeze({__proto__:null,number:Ue,color:function(t,e,r){return new Kt(Ue(t.r,e.r,r),Ue(t.g,e.g,r),Ue(t.b,e.b,r),Ue(t.a,e.a,r))},array:function(t,e,r){return t.map((function(t,n){return Ue(t,e[n],r)}))}}),qe=6/29*3*(6/29),He=Math.PI/180,Ge=180/Math.PI;function Ye(t){return t&gt;.008856451679035631?Math.pow(t,1/3):t/qe+4/29}function We(t){return t&gt;6/29?t*t*t:qe*(t-4/29)}function Xe(t){return 255*(t&lt;=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ze(t){return(t/=255)&lt;=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Je(t){var e=Ze(t.r),r=Ze(t.g),n=Ze(t.b),i=Ye((.4124564*e+.3575761*r+.1804375*n)/.95047),a=Ye((.2126729*e+.7151522*r+.072175*n)/1);return{l:116*a-16,a:500*(i-a),b:200*(a-Ye((.0193339*e+.119192*r+.9503041*n)/1.08883)),alpha:t.a}}function Ke(t){var e=(t.l+16)/116,r=isNaN(t.a)?e:e+t.a/500,n=isNaN(t.b)?e:e-t.b/200;return e=1*We(e),r=.95047*We(r),n=1.08883*We(n),new Kt(Xe(3.2404542*r-1.5371385*e-.4985314*n),Xe(-.969266*r+1.8760108*e+.041556*n),Xe(.0556434*r-.2040259*e+1.0572252*n),t.alpha)}function Qe(t,e,r){var n=e-t;return t+r*(n&gt;180||n&lt;-180?n-360*Math.round(n/360):n)}var $e={forward:Je,reverse:Ke,interpolate:function(t,e,r){return{l:Ue(t.l,e.l,r),a:Ue(t.a,e.a,r),b:Ue(t.b,e.b,r),alpha:Ue(t.alpha,e.alpha,r)}}},tr={forward:function(t){var e=Je(t),r=e.l,n=e.a,i=e.b,a=Math.atan2(i,n)*Ge;return{h:a&lt;0?a+360:a,c:Math.sqrt(n*n+i*i),l:r,alpha:t.a}},reverse:function(t){var e=t.h*He,r=t.c;return Ke({l:t.l,a:Math.cos(e)*r,b:Math.sin(e)*r,alpha:t.alpha})},interpolate:function(t,e,r){return{h:Qe(t.h,e.h,r),c:Ue(t.c,e.c,r),l:Ue(t.l,e.l,r),alpha:Ue(t.alpha,e.alpha,r)}}},er=Object.freeze({__proto__:null,lab:$e,hcl:tr}),rr=function(t,e,r,n,i){this.type=t,this.operator=e,this.interpolation=r,this.input=n,this.labels=[],this.outputs=[];for(var a=0,o=i;a&lt;o.length;a+=1){var s=o[a],l=s[1];this.labels.push(s[0]),this.outputs.push(l)}};function nr(t,e,r,n){var i=n-r,a=t-r;return 0===i?0:1===e?a/i:(Math.pow(e,a)-1)/(Math.pow(e,i)-1)}rr.interpolationFactor=function(t,e,n,i){var a=0;if(\&quot;exponential\&quot;===t.name)a=nr(e,t.base,n,i);else if(\&quot;linear\&quot;===t.name)a=nr(e,1,n,i);else if(\&quot;cubic-bezier\&quot;===t.name){var o=t.controlPoints;a=new r(o[0],o[1],o[2],o[3]).solve(nr(e,1,n,i))}return a},rr.parse=function(t,e){var r=t[0],n=t[1],i=t[2],a=t.slice(3);if(!Array.isArray(n)||0===n.length)return e.error(\&quot;Expected an interpolation type expression.\&quot;,1);if(\&quot;linear\&quot;===n[0])n={name:\&quot;linear\&quot;};else if(\&quot;exponential\&quot;===n[0]){var o=n[1];if(\&quot;number\&quot;!=typeof o)return e.error(\&quot;Exponential interpolation requires a numeric base.\&quot;,1,1);n={name:\&quot;exponential\&quot;,base:o}}else{if(\&quot;cubic-bezier\&quot;!==n[0])return e.error(\&quot;Unknown interpolation type \&quot;+String(n[0]),1,0);var s=n.slice(1);if(4!==s.length||s.some((function(t){return\&quot;number\&quot;!=typeof t||t&lt;0||t&gt;1})))return e.error(\&quot;Cubic bezier interpolation requires four numeric arguments with values between 0 and 1.\&quot;,1);n={name:\&quot;cubic-bezier\&quot;,controlPoints:s}}if(t.length-1&lt;4)return e.error(\&quot;Expected at least 4 arguments, but found only \&quot;+(t.length-1)+\&quot;.\&quot;);if((t.length-1)%2!=0)return e.error(\&quot;Expected an even number of arguments.\&quot;);if(!(i=e.parse(i,2,Dt)))return null;var l=[],c=null;\&quot;interpolate-hcl\&quot;===r||\&quot;interpolate-lab\&quot;===r?c=Bt:e.expectedType&amp;&amp;\&quot;value\&quot;!==e.expectedType.kind&amp;&amp;(c=e.expectedType);for(var u=0;u&lt;a.length;u+=2){var f=a[u],h=a[u+1],p=u+3,d=u+4;if(\&quot;number\&quot;!=typeof f)return e.error('Input/output pairs for \&quot;interpolate\&quot; expressions must be defined using literal numeric values (not computed expressions) for the input values.',p);if(l.length&amp;&amp;l[l.length-1][0]&gt;=f)return e.error('Input/output pairs for \&quot;interpolate\&quot; expressions must be arranged with input values in strictly ascending order.',p);var g=e.parse(h,d,c);if(!g)return null;c=c||g.type,l.push([f,g])}return\&quot;number\&quot;===c.kind||\&quot;color\&quot;===c.kind||\&quot;array\&quot;===c.kind&amp;&amp;\&quot;number\&quot;===c.itemType.kind&amp;&amp;\&quot;number\&quot;==typeof c.N?new rr(c,r,n,i,l):e.error(\&quot;Type \&quot;+Gt(c)+\&quot; is not interpolatable.\&quot;)},rr.prototype.evaluate=function(t){var e=this.labels,r=this.outputs;if(1===e.length)return r[0].evaluate(t);var n=this.input.evaluate(t);if(n&lt;=e[0])return r[0].evaluate(t);var i=e.length;if(n&gt;=e[i-1])return r[i-1].evaluate(t);var a=Ne(e,n),o=rr.interpolationFactor(this.interpolation,n,e[a],e[a+1]),s=r[a].evaluate(t),l=r[a+1].evaluate(t);return\&quot;interpolate\&quot;===this.operator?Ve[this.type.kind.toLowerCase()](s,l,o):\&quot;interpolate-hcl\&quot;===this.operator?tr.reverse(tr.interpolate(tr.forward(s),tr.forward(l),o)):$e.reverse($e.interpolate($e.forward(s),$e.forward(l),o))},rr.prototype.eachChild=function(t){t(this.input);for(var e=0,r=this.outputs;e&lt;r.length;e+=1)t(r[e])},rr.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))},rr.prototype.serialize=function(){var t;t=\&quot;linear\&quot;===this.interpolation.name?[\&quot;linear\&quot;]:\&quot;exponential\&quot;===this.interpolation.name?1===this.interpolation.base?[\&quot;linear\&quot;]:[\&quot;exponential\&quot;,this.interpolation.base]:[\&quot;cubic-bezier\&quot;].concat(this.interpolation.controlPoints);for(var e=[this.operator,t,this.input.serialize()],r=0;r&lt;this.labels.length;r++)e.push(this.labels[r],this.outputs[r].serialize());return e};var ir=function(t,e){this.type=t,this.args=e};ir.parse=function(t,e){if(t.length&lt;2)return e.error(\&quot;Expectected at least one argument.\&quot;);var r=null,n=e.expectedType;n&amp;&amp;\&quot;value\&quot;!==n.kind&amp;&amp;(r=n);for(var i=[],a=0,o=t.slice(1);a&lt;o.length;a+=1){var s=e.parse(o[a],1+i.length,r,void 0,{typeAnnotation:\&quot;omit\&quot;});if(!s)return null;r=r||s.type,i.push(s)}var l=n&amp;&amp;i.some((function(t){return Wt(n,t.type)}));return new ir(l?jt:r,i)},ir.prototype.evaluate=function(t){for(var e,r=null,n=0,i=0,a=this.args;i&lt;a.length&amp;&amp;(n++,(r=a[i].evaluate(t))&amp;&amp;r instanceof ee&amp;&amp;!r.available&amp;&amp;(e||(e=r.name),r=null,n===this.args.length&amp;&amp;(r=e)),null===r);i+=1);return r},ir.prototype.eachChild=function(t){this.args.forEach(t)},ir.prototype.outputDefined=function(){return this.args.every((function(t){return t.outputDefined()}))},ir.prototype.serialize=function(){var t=[\&quot;coalesce\&quot;];return this.eachChild((function(e){t.push(e.serialize())})),t};var ar=function(t,e){this.type=e.type,this.bindings=[].concat(t),this.result=e};ar.prototype.evaluate=function(t){return this.result.evaluate(t)},ar.prototype.eachChild=function(t){for(var e=0,r=this.bindings;e&lt;r.length;e+=1)t(r[e][1]);t(this.result)},ar.parse=function(t,e){if(t.length&lt;4)return e.error(\&quot;Expected at least 3 arguments, but found \&quot;+(t.length-1)+\&quot; instead.\&quot;);for(var r=[],n=1;n&lt;t.length-1;n+=2){var i=t[n];if(\&quot;string\&quot;!=typeof i)return e.error(\&quot;Expected string, but found \&quot;+typeof i+\&quot; instead.\&quot;,n);if(/[^a-zA-Z0-9_]/.test(i))return e.error(\&quot;Variable names must contain only alphanumeric characters or '_'.\&quot;,n);var a=e.parse(t[n+1],n+1);if(!a)return null;r.push([i,a])}var o=e.parse(t[t.length-1],t.length-1,e.expectedType,r);return o?new ar(r,o):null},ar.prototype.outputDefined=function(){return this.result.outputDefined()},ar.prototype.serialize=function(){for(var t=[\&quot;let\&quot;],e=0,r=this.bindings;e&lt;r.length;e+=1){var n=r[e];t.push(n[0],n[1].serialize())}return t.push(this.result.serialize()),t};var or=function(t,e,r){this.type=t,this.index=e,this.input=r};or.parse=function(t,e){if(3!==t.length)return e.error(\&quot;Expected 2 arguments, but found \&quot;+(t.length-1)+\&quot; instead.\&quot;);var r=e.parse(t[1],1,Dt),n=e.parse(t[2],2,Ht(e.expectedType||jt));return r&amp;&amp;n?new or(n.type.itemType,r,n):null},or.prototype.evaluate=function(t){var e=this.index.evaluate(t),r=this.input.evaluate(t);if(e&lt;0)throw new se(\&quot;Array index out of bounds: \&quot;+e+\&quot; &lt; 0.\&quot;);if(e&gt;=r.length)throw new se(\&quot;Array index out of bounds: \&quot;+e+\&quot; &gt; \&quot;+(r.length-1)+\&quot;.\&quot;);if(e!==Math.floor(e))throw new se(\&quot;Array index must be an integer, but found \&quot;+e+\&quot; instead.\&quot;);return r[e]},or.prototype.eachChild=function(t){t(this.index),t(this.input)},or.prototype.outputDefined=function(){return!1},or.prototype.serialize=function(){return[\&quot;at\&quot;,this.index.serialize(),this.input.serialize()]};var sr=function(t,e){this.type=Ft,this.needle=t,this.haystack=e};sr.parse=function(t,e){if(3!==t.length)return e.error(\&quot;Expected 2 arguments, but found \&quot;+(t.length-1)+\&quot; instead.\&quot;);var r=e.parse(t[1],1,jt),n=e.parse(t[2],2,jt);return r&amp;&amp;n?Xt(r.type,[Ft,Rt,Dt,Ot,jt])?new sr(r,n):e.error(\&quot;Expected first argument to be of type boolean, string, number or null, but found \&quot;+Gt(r.type)+\&quot; instead\&quot;):null},sr.prototype.evaluate=function(t){var e=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(!r)return!1;if(!Zt(e,[\&quot;boolean\&quot;,\&quot;string\&quot;,\&quot;number\&quot;,\&quot;null\&quot;]))throw new se(\&quot;Expected first argument to be of type boolean, string, number or null, but found \&quot;+Gt(ie(e))+\&quot; instead.\&quot;);if(!Zt(r,[\&quot;string\&quot;,\&quot;array\&quot;]))throw new se(\&quot;Expected second argument to be of type array or string, but found \&quot;+Gt(ie(r))+\&quot; instead.\&quot;);return r.indexOf(e)&gt;=0},sr.prototype.eachChild=function(t){t(this.needle),t(this.haystack)},sr.prototype.outputDefined=function(){return!0},sr.prototype.serialize=function(){return[\&quot;in\&quot;,this.needle.serialize(),this.haystack.serialize()]};var lr=function(t,e,r){this.type=Dt,this.needle=t,this.haystack=e,this.fromIndex=r};lr.parse=function(t,e){if(t.length&lt;=2||t.length&gt;=5)return e.error(\&quot;Expected 3 or 4 arguments, but found \&quot;+(t.length-1)+\&quot; instead.\&quot;);var r=e.parse(t[1],1,jt),n=e.parse(t[2],2,jt);if(!r||!n)return null;if(!Xt(r.type,[Ft,Rt,Dt,Ot,jt]))return e.error(\&quot;Expected first argument to be of type boolean, string, number or null, but found \&quot;+Gt(r.type)+\&quot; instead\&quot;);if(4===t.length){var i=e.parse(t[3],3,Dt);return i?new lr(r,n,i):null}return new lr(r,n)},lr.prototype.evaluate=function(t){var e=this.needle.evaluate(t),r=this.haystack.evaluate(t);if(!Zt(e,[\&quot;boolean\&quot;,\&quot;string\&quot;,\&quot;number\&quot;,\&quot;null\&quot;]))throw new se(\&quot;Expected first argument to be of type boolean, string, number or null, but found \&quot;+Gt(ie(e))+\&quot; instead.\&quot;);if(!Zt(r,[\&quot;string\&quot;,\&quot;array\&quot;]))throw new se(\&quot;Expected second argument to be of type array or string, but found \&quot;+Gt(ie(r))+\&quot; instead.\&quot;);if(this.fromIndex){var n=this.fromIndex.evaluate(t);return r.indexOf(e,n)}return r.indexOf(e)},lr.prototype.eachChild=function(t){t(this.needle),t(this.haystack),this.fromIndex&amp;&amp;t(this.fromIndex)},lr.prototype.outputDefined=function(){return!1},lr.prototype.serialize=function(){if(null!=this.fromIndex&amp;&amp;void 0!==this.fromIndex){var t=this.fromIndex.serialize();return[\&quot;index-of\&quot;,this.needle.serialize(),this.haystack.serialize(),t]}return[\&quot;index-of\&quot;,this.needle.serialize(),this.haystack.serialize()]};var cr=function(t,e,r,n,i,a){this.inputType=t,this.type=e,this.input=r,this.cases=n,this.outputs=i,this.otherwise=a};cr.parse=function(t,e){if(t.length&lt;5)return e.error(\&quot;Expected at least 4 arguments, but found only \&quot;+(t.length-1)+\&quot;.\&quot;);if(t.length%2!=1)return e.error(\&quot;Expected an even number of arguments.\&quot;);var r,n;e.expectedType&amp;&amp;\&quot;value\&quot;!==e.expectedType.kind&amp;&amp;(n=e.expectedType);for(var i={},a=[],o=2;o&lt;t.length-1;o+=2){var s=t[o],l=t[o+1];Array.isArray(s)||(s=[s]);var c=e.concat(o);if(0===s.length)return c.error(\&quot;Expected at least one branch label.\&quot;);for(var u=0,f=s;u&lt;f.length;u+=1){var h=f[u];if(\&quot;number\&quot;!=typeof h&amp;&amp;\&quot;string\&quot;!=typeof h)return c.error(\&quot;Branch labels must be numbers or strings.\&quot;);if(\&quot;number\&quot;==typeof h&amp;&amp;Math.abs(h)&gt;Number.MAX_SAFE_INTEGER)return c.error(\&quot;Branch labels must be integers no larger than \&quot;+Number.MAX_SAFE_INTEGER+\&quot;.\&quot;);if(\&quot;number\&quot;==typeof h&amp;&amp;Math.floor(h)!==h)return c.error(\&quot;Numeric branch labels must be integer values.\&quot;);if(r){if(c.checkSubtype(r,ie(h)))return null}else r=ie(h);if(void 0!==i[String(h)])return c.error(\&quot;Branch labels must be unique.\&quot;);i[String(h)]=a.length}var p=e.parse(l,o,n);if(!p)return null;n=n||p.type,a.push(p)}var d=e.parse(t[1],1,jt);if(!d)return null;var g=e.parse(t[t.length-1],t.length-1,n);return g?\&quot;value\&quot;!==d.type.kind&amp;&amp;e.concat(1).checkSubtype(r,d.type)?null:new cr(r,n,d,i,a,g):null},cr.prototype.evaluate=function(t){var e=this.input.evaluate(t);return(ie(e)===this.inputType&amp;&amp;this.outputs[this.cases[e]]||this.otherwise).evaluate(t)},cr.prototype.eachChild=function(t){t(this.input),this.outputs.forEach(t),t(this.otherwise)},cr.prototype.outputDefined=function(){return this.outputs.every((function(t){return t.outputDefined()}))&amp;&amp;this.otherwise.outputDefined()},cr.prototype.serialize=function(){for(var t=this,e=[\&quot;match\&quot;,this.input.serialize()],r=[],n={},i=0,a=Object.keys(this.cases).sort();i&lt;a.length;i+=1){var o=a[i];void 0===(f=n[this.cases[o]])?(n[this.cases[o]]=r.length,r.push([this.cases[o],[o]])):r[f][1].push(o)}for(var s=function(e){return\&quot;number\&quot;===t.inputType.kind?Number(e):e},l=0,c=r;l&lt;c.length;l+=1){var u=c[l],f=u[0],h=u[1];e.push(1===h.length?s(h[0]):h.map(s)),e.push(this.outputs[outputIndex$1].serialize())}return e.push(this.otherwise.serialize()),e};var ur=function(t,e,r){this.type=t,this.branches=e,this.otherwise=r};ur.parse=function(t,e){if(t.length&lt;4)return e.error(\&quot;Expected at least 3 arguments, but found only \&quot;+(t.length-1)+\&quot;.\&quot;);if(t.length%2!=0)return e.error(\&quot;Expected an odd number of arguments.\&quot;);var r;e.expectedType&amp;&amp;\&quot;value\&quot;!==e.expectedType.kind&amp;&amp;(r=e.expectedType);for(var n=[],i=1;i&lt;t.length-1;i+=2){var a=e.parse(t[i],i,Ft);if(!a)return null;var o=e.parse(t[i+1],i+1,r);if(!o)return null;n.push([a,o]),r=r||o.type}var s=e.parse(t[t.length-1],t.length-1,r);return s?new ur(r,n,s):null},ur.prototype.evaluate=function(t){for(var e=0,r=this.branches;e&lt;r.length;e+=1){var n=r[e],i=n[1];if(n[0].evaluate(t))return i.evaluate(t)}return this.otherwise.evaluate(t)},ur.prototype.eachChild=function(t){for(var e=0,r=this.branches;e&lt;r.length;e+=1){var n=r[e],i=n[1];t(n[0]),t(i)}t(this.otherwise)},ur.prototype.outputDefined=function(){return this.branches.every((function(t){return t[1].outputDefined()}))&amp;&amp;this.otherwise.outputDefined()},ur.prototype.serialize=function(){var t=[\&quot;case\&quot;];return this.eachChild((function(e){t.push(e.serialize())})),t};var fr=function(t,e,r,n){this.type=t,this.input=e,this.beginIndex=r,this.endIndex=n};function hr(t,e){return\&quot;==\&quot;===t||\&quot;!=\&quot;===t?\&quot;boolean\&quot;===e.kind||\&quot;string\&quot;===e.kind||\&quot;number\&quot;===e.kind||\&quot;null\&quot;===e.kind||\&quot;value\&quot;===e.kind:\&quot;string\&quot;===e.kind||\&quot;number\&quot;===e.kind||\&quot;value\&quot;===e.kind}function pr(t,e,r,n){return 0===n.compare(e,r)}function dr(t,e,r){var n=\&quot;==\&quot;!==t&amp;&amp;\&quot;!=\&quot;!==t;return function(){function i(t,e,r){this.type=Ft,this.lhs=t,this.rhs=e,this.collator=r,this.hasUntypedArgument=\&quot;value\&quot;===t.type.kind||\&quot;value\&quot;===e.type.kind}return i.parse=function(t,e){if(3!==t.length&amp;&amp;4!==t.length)return e.error(\&quot;Expected two or three arguments.\&quot;);var r=t[0],a=e.parse(t[1],1,jt);if(!a)return null;if(!hr(r,a.type))return e.concat(1).error('\&quot;'+r+\&quot;\\\&quot; comparisons are not supported for type '\&quot;+Gt(a.type)+\&quot;'.\&quot;);var o=e.parse(t[2],2,jt);if(!o)return null;if(!hr(r,o.type))return e.concat(2).error('\&quot;'+r+\&quot;\\\&quot; comparisons are not supported for type '\&quot;+Gt(o.type)+\&quot;'.\&quot;);if(a.type.kind!==o.type.kind&amp;&amp;\&quot;value\&quot;!==a.type.kind&amp;&amp;\&quot;value\&quot;!==o.type.kind)return e.error(\&quot;Cannot compare types '\&quot;+Gt(a.type)+\&quot;' and '\&quot;+Gt(o.type)+\&quot;'.\&quot;);n&amp;&amp;(\&quot;value\&quot;===a.type.kind&amp;&amp;\&quot;value\&quot;!==o.type.kind?a=new ce(o.type,[a]):\&quot;value\&quot;!==a.type.kind&amp;&amp;\&quot;value\&quot;===o.type.kind&amp;&amp;(o=new ce(a.type,[o])));var s=null;if(4===t.length){if(\&quot;string\&quot;!==a.type.kind&amp;&amp;\&quot;string\&quot;!==o.type.kind&amp;&amp;\&quot;value\&quot;!==a.type.kind&amp;&amp;\&quot;value\&quot;!==o.type.kind)return e.error(\&quot;Cannot use collator to compare non-string types.\&quot;);if(!(s=e.parse(t[3],3,Ut)))return null}return new i(a,o,s)},i.prototype.evaluate=function(i){var a=this.lhs.evaluate(i),o=this.rhs.evaluate(i);if(n&amp;&amp;this.hasUntypedArgument){var s=ie(a),l=ie(o);if(s.kind!==l.kind||\&quot;string\&quot;!==s.kind&amp;&amp;\&quot;number\&quot;!==s.kind)throw new se('Expected arguments for \&quot;'+t+'\&quot; to be (string, string) or (number, number), but found ('+s.kind+\&quot;, \&quot;+l.kind+\&quot;) instead.\&quot;)}if(this.collator&amp;&amp;!n&amp;&amp;this.hasUntypedArgument){var c=ie(a),u=ie(o);if(\&quot;string\&quot;!==c.kind||\&quot;string\&quot;!==u.kind)return e(i,a,o)}return this.collator?r(i,a,o,this.collator.evaluate(i)):e(i,a,o)},i.prototype.eachChild=function(t){t(this.lhs),t(this.rhs),this.collator&amp;&amp;t(this.collator)},i.prototype.outputDefined=function(){return!0},i.prototype.serialize=function(){var e=[t];return this.eachChild((function(t){e.push(t.serialize())})),e},i}()}fr.parse=function(t,e){if(t.length&lt;=2||t.length&gt;=5)return e.error(\&quot;Expected 3 or 4 arguments, but found \&quot;+(t.length-1)+\&quot; instead.\&quot;);var r=e.parse(t[1],1,jt),n=e.parse(t[2],2,Dt);if(!r||!n)return null;if(!Xt(r.type,[Ht(jt),Rt,jt]))return e.error(\&quot;Expected first argument to be of type array or string, but found \&quot;+Gt(r.type)+\&quot; instead\&quot;);if(4===t.length){var i=e.parse(t[3],3,Dt);return i?new fr(r.type,r,n,i):null}return new fr(r.type,r,n)},fr.prototype.evaluate=function(t){var e=this.input.evaluate(t),r=this.beginIndex.evaluate(t);if(!Zt(e,[\&quot;string\&quot;,\&quot;array\&quot;]))throw new se(\&quot;Expected first argument to be of type array or string, but found \&quot;+Gt(ie(e))+\&quot; instead.\&quot;);if(this.endIndex){var n=this.endIndex.evaluate(t);return e.slice(r,n)}return e.slice(r)},fr.prototype.eachChild=function(t){t(this.input),t(this.beginIndex),this.endIndex&amp;&amp;t(this.endIndex)},fr.prototype.outputDefined=function(){return!1},fr.prototype.serialize=function(){if(null!=this.endIndex&amp;&amp;void 0!==this.endIndex){var t=this.endIndex.serialize();return[\&quot;slice\&quot;,this.input.serialize(),this.beginIndex.serialize(),t]}return[\&quot;slice\&quot;,this.input.serialize(),this.beginIndex.serialize()]};var gr=dr(\&quot;==\&quot;,(function(t,e,r){return e===r}),pr),mr=dr(\&quot;!=\&quot;,(function(t,e,r){return e!==r}),(function(t,e,r,n){return!pr(0,e,r,n)})),vr=dr(\&quot;&lt;\&quot;,(function(t,e,r){return e&lt;r}),(function(t,e,r,n){return n.compare(e,r)&lt;0})),yr=dr(\&quot;&gt;\&quot;,(function(t,e,r){return e&gt;r}),(function(t,e,r,n){return n.compare(e,r)&gt;0})),xr=dr(\&quot;&lt;=\&quot;,(function(t,e,r){return e&lt;=r}),(function(t,e,r,n){return n.compare(e,r)&lt;=0})),br=dr(\&quot;&gt;=\&quot;,(function(t,e,r){return e&gt;=r}),(function(t,e,r,n){return n.compare(e,r)&gt;=0})),_r=function(t,e,r,n,i){this.type=Rt,this.number=t,this.locale=e,this.currency=r,this.minFractionDigits=n,this.maxFractionDigits=i};_r.parse=function(t,e){if(3!==t.length)return e.error(\&quot;Expected two arguments.\&quot;);var r=e.parse(t[1],1,Dt);if(!r)return null;var n=t[2];if(\&quot;object\&quot;!=typeof n||Array.isArray(n))return e.error(\&quot;NumberFormat options argument must be an object.\&quot;);var i=null;if(n.locale&amp;&amp;!(i=e.parse(n.locale,1,Rt)))return null;var a=null;if(n.currency&amp;&amp;!(a=e.parse(n.currency,1,Rt)))return null;var o=null;if(n[\&quot;min-fraction-digits\&quot;]&amp;&amp;!(o=e.parse(n[\&quot;min-fraction-digits\&quot;],1,Dt)))return null;var s=null;return n[\&quot;max-fraction-digits\&quot;]&amp;&amp;!(s=e.parse(n[\&quot;max-fraction-digits\&quot;],1,Dt))?null:new _r(r,i,a,o,s)},_r.prototype.evaluate=function(t){return new Intl.NumberFormat(this.locale?this.locale.evaluate(t):[],{style:this.currency?\&quot;currency\&quot;:\&quot;decimal\&quot;,currency:this.currency?this.currency.evaluate(t):void 0,minimumFractionDigits:this.minFractionDigits?this.minFractionDigits.evaluate(t):void 0,maximumFractionDigits:this.maxFractionDigits?this.maxFractionDigits.evaluate(t):void 0}).format(this.number.evaluate(t))},_r.prototype.eachChild=function(t){t(this.number),this.locale&amp;&amp;t(this.locale),this.currency&amp;&amp;t(this.currency),this.minFractionDigits&amp;&amp;t(this.minFractionDigits),this.maxFractionDigits&amp;&amp;t(this.maxFractionDigits)},_r.prototype.outputDefined=function(){return!1},_r.prototype.serialize=function(){var t={};return this.locale&amp;&amp;(t.locale=this.locale.serialize()),this.currency&amp;&amp;(t.currency=this.currency.serialize()),this.minFractionDigits&amp;&amp;(t[\&quot;min-fraction-digits\&quot;]=this.minFractionDigits.serialize()),this.maxFractionDigits&amp;&amp;(t[\&quot;max-fraction-digits\&quot;]=this.maxFractionDigits.serialize()),[\&quot;number-format\&quot;,this.number.serialize(),t]};var wr=function(t){this.type=Dt,this.input=t};wr.parse=function(t,e){if(2!==t.length)return e.error(\&quot;Expected 1 argument, but found \&quot;+(t.length-1)+\&quot; instead.\&quot;);var r=e.parse(t[1],1);return r?\&quot;array\&quot;!==r.type.kind&amp;&amp;\&quot;string\&quot;!==r.type.kind&amp;&amp;\&quot;value\&quot;!==r.type.kind?e.error(\&quot;Expected argument of type string or array, but found \&quot;+Gt(r.type)+\&quot; instead.\&quot;):new wr(r):null},wr.prototype.evaluate=function(t){var e=this.input.evaluate(t);if(\&quot;string\&quot;==typeof e)return e.length;if(Array.isArray(e))return e.length;throw new se(\&quot;Expected value to be of type string or array, but found \&quot;+Gt(ie(e))+\&quot; instead.\&quot;)},wr.prototype.eachChild=function(t){t(this.input)},wr.prototype.outputDefined=function(){return!1},wr.prototype.serialize=function(){var t=[\&quot;length\&quot;];return this.eachChild((function(e){t.push(e.serialize())})),t};var Tr={\&quot;==\&quot;:gr,\&quot;!=\&quot;:mr,\&quot;&gt;\&quot;:yr,\&quot;&lt;\&quot;:vr,\&quot;&gt;=\&quot;:br,\&quot;&lt;=\&quot;:xr,array:ce,at:or,boolean:ce,case:ur,coalesce:ir,collator:ve,format:ue,image:fe,in:sr,\&quot;index-of\&quot;:lr,interpolate:rr,\&quot;interpolate-hcl\&quot;:rr,\&quot;interpolate-lab\&quot;:rr,length:wr,let:ar,literal:oe,match:cr,number:ce,\&quot;number-format\&quot;:_r,object:ce,slice:fr,step:je,string:ce,\&quot;to-boolean\&quot;:pe,\&quot;to-color\&quot;:pe,\&quot;to-number\&quot;:pe,\&quot;to-string\&quot;:pe,var:Fe,within:ze};function kr(t,e){var r=e[0],n=e[1],i=e[2],a=e[3];r=r.evaluate(t),n=n.evaluate(t),i=i.evaluate(t);var o=a?a.evaluate(t):1,s=re(r,n,i,o);if(s)throw new se(s);return new Kt(r/255*o,n/255*o,i/255*o,o)}function Mr(t,e){return t in e}function Ar(t,e){var r=e[t];return void 0===r?null:r}function Sr(t){return{type:t}}function Er(t){return{result:\&quot;success\&quot;,value:t}}function Cr(t){return{result:\&quot;error\&quot;,value:t}}function Lr(t){return\&quot;data-driven\&quot;===t[\&quot;property-type\&quot;]||\&quot;cross-faded-data-driven\&quot;===t[\&quot;property-type\&quot;]}function Ir(t){return!!t.expression&amp;&amp;t.expression.parameters.indexOf(\&quot;zoom\&quot;)&gt;-1}function Pr(t){return!!t.expression&amp;&amp;t.expression.interpolated}function zr(t){return t instanceof Number?\&quot;number\&quot;:t instanceof String?\&quot;string\&quot;:t instanceof Boolean?\&quot;boolean\&quot;:Array.isArray(t)?\&quot;array\&quot;:null===t?\&quot;null\&quot;:typeof t}function Or(t){return\&quot;object\&quot;==typeof t&amp;&amp;null!==t&amp;&amp;!Array.isArray(t)}function Dr(t){return t}function Rr(t,e,r){return void 0!==t?t:void 0!==e?e:void 0!==r?r:void 0}function Fr(t,e,r,n,i){return Rr(typeof r===i?n[r]:void 0,t.default,e.default)}function Br(t,e,r){if(\&quot;number\&quot;!==zr(r))return Rr(t.default,e.default);var n=t.stops.length;if(1===n)return t.stops[0][1];if(r&lt;=t.stops[0][0])return t.stops[0][1];if(r&gt;=t.stops[n-1][0])return t.stops[n-1][1];var i=Ne(t.stops.map((function(t){return t[0]})),r);return t.stops[i][1]}function Nr(t,e,r){var n=void 0!==t.base?t.base:1;if(\&quot;number\&quot;!==zr(r))return Rr(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(r&lt;=t.stops[0][0])return t.stops[0][1];if(r&gt;=t.stops[i-1][0])return t.stops[i-1][1];var a=Ne(t.stops.map((function(t){return t[0]})),r),o=function(t,e,r,n){var i=n-r,a=t-r;return 0===i?0:1===e?a/i:(Math.pow(e,a)-1)/(Math.pow(e,i)-1)}(r,n,t.stops[a][0],t.stops[a+1][0]),s=t.stops[a][1],l=t.stops[a+1][1],c=Ve[e.type]||Dr;if(t.colorSpace&amp;&amp;\&quot;rgb\&quot;!==t.colorSpace){var u=er[t.colorSpace];c=function(t,e){return u.reverse(u.interpolate(u.forward(t),u.forward(e),o))}}return\&quot;function\&quot;==typeof s.evaluate?{evaluate:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];var r=s.evaluate.apply(void 0,t),n=l.evaluate.apply(void 0,t);if(void 0!==r&amp;&amp;void 0!==n)return c(r,n,o)}}:c(s,l,o)}function jr(t,e,r){return\&quot;color\&quot;===e.type?r=Kt.parse(r):\&quot;formatted\&quot;===e.type?r=te.fromString(r.toString()):\&quot;resolvedImage\&quot;===e.type?r=ee.fromString(r.toString()):zr(r)===e.type||\&quot;enum\&quot;===e.type&amp;&amp;e.values[r]||(r=void 0),Rr(r,t.default,e.default)}me.register(Tr,{error:[{kind:\&quot;error\&quot;},[Rt],function(t,e){throw new se(e[0].evaluate(t))}],typeof:[Rt,[jt],function(t,e){return Gt(ie(e[0].evaluate(t)))}],\&quot;to-rgba\&quot;:[Ht(Dt,4),[Bt],function(t,e){return e[0].evaluate(t).toArray()}],rgb:[Bt,[Dt,Dt,Dt],kr],rgba:[Bt,[Dt,Dt,Dt,Dt],kr],has:{type:Ft,overloads:[[[Rt],function(t,e){return Mr(e[0].evaluate(t),t.properties())}],[[Rt,Nt],function(t,e){var r=e[1];return Mr(e[0].evaluate(t),r.evaluate(t))}]]},get:{type:jt,overloads:[[[Rt],function(t,e){return Ar(e[0].evaluate(t),t.properties())}],[[Rt,Nt],function(t,e){var r=e[1];return Ar(e[0].evaluate(t),r.evaluate(t))}]]},\&quot;feature-state\&quot;:[jt,[Rt],function(t,e){return Ar(e[0].evaluate(t),t.featureState||{})}],properties:[Nt,[],function(t){return t.properties()}],\&quot;geometry-type\&quot;:[Rt,[],function(t){return t.geometryType()}],id:[jt,[],function(t){return t.id()}],zoom:[Dt,[],function(t){return t.globals.zoom}],\&quot;heatmap-density\&quot;:[Dt,[],function(t){return t.globals.heatmapDensity||0}],\&quot;line-progress\&quot;:[Dt,[],function(t){return t.globals.lineProgress||0}],accumulated:[jt,[],function(t){return void 0===t.globals.accumulated?null:t.globals.accumulated}],\&quot;+\&quot;:[Dt,Sr(Dt),function(t,e){for(var r=0,n=0,i=e;n&lt;i.length;n+=1)r+=i[n].evaluate(t);return r}],\&quot;*\&quot;:[Dt,Sr(Dt),function(t,e){for(var r=1,n=0,i=e;n&lt;i.length;n+=1)r*=i[n].evaluate(t);return r}],\&quot;-\&quot;:{type:Dt,overloads:[[[Dt,Dt],function(t,e){var r=e[1];return e[0].evaluate(t)-r.evaluate(t)}],[[Dt],function(t,e){return-e[0].evaluate(t)}]]},\&quot;/\&quot;:[Dt,[Dt,Dt],function(t,e){var r=e[1];return e[0].evaluate(t)/r.evaluate(t)}],\&quot;%\&quot;:[Dt,[Dt,Dt],function(t,e){var r=e[1];return e[0].evaluate(t)%r.evaluate(t)}],ln2:[Dt,[],function(){return Math.LN2}],pi:[Dt,[],function(){return Math.PI}],e:[Dt,[],function(){return Math.E}],\&quot;^\&quot;:[Dt,[Dt,Dt],function(t,e){var r=e[1];return Math.pow(e[0].evaluate(t),r.evaluate(t))}],sqrt:[Dt,[Dt],function(t,e){return Math.sqrt(e[0].evaluate(t))}],log10:[Dt,[Dt],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN10}],ln:[Dt,[Dt],function(t,e){return Math.log(e[0].evaluate(t))}],log2:[Dt,[Dt],function(t,e){return Math.log(e[0].evaluate(t))/Math.LN2}],sin:[Dt,[Dt],function(t,e){return Math.sin(e[0].evaluate(t))}],cos:[Dt,[Dt],function(t,e){return Math.cos(e[0].evaluate(t))}],tan:[Dt,[Dt],function(t,e){return Math.tan(e[0].evaluate(t))}],asin:[Dt,[Dt],function(t,e){return Math.asin(e[0].evaluate(t))}],acos:[Dt,[Dt],function(t,e){return Math.acos(e[0].evaluate(t))}],atan:[Dt,[Dt],function(t,e){return Math.atan(e[0].evaluate(t))}],min:[Dt,Sr(Dt),function(t,e){return Math.min.apply(Math,e.map((function(e){return e.evaluate(t)})))}],max:[Dt,Sr(Dt),function(t,e){return Math.max.apply(Math,e.map((function(e){return e.evaluate(t)})))}],abs:[Dt,[Dt],function(t,e){return Math.abs(e[0].evaluate(t))}],round:[Dt,[Dt],function(t,e){var r=e[0].evaluate(t);return r&lt;0?-Math.round(-r):Math.round(r)}],floor:[Dt,[Dt],function(t,e){return Math.floor(e[0].evaluate(t))}],ceil:[Dt,[Dt],function(t,e){return Math.ceil(e[0].evaluate(t))}],\&quot;filter-==\&quot;:[Ft,[Rt,jt],function(t,e){var r=e[0],n=e[1];return t.properties()[r.value]===n.value}],\&quot;filter-id-==\&quot;:[Ft,[jt],function(t,e){var r=e[0];return t.id()===r.value}],\&quot;filter-type-==\&quot;:[Ft,[Rt],function(t,e){var r=e[0];return t.geometryType()===r.value}],\&quot;filter-&lt;\&quot;:[Ft,[Rt,jt],function(t,e){var r=e[0],n=e[1],i=t.properties()[r.value],a=n.value;return typeof i==typeof a&amp;&amp;i&lt;a}],\&quot;filter-id-&lt;\&quot;:[Ft,[jt],function(t,e){var r=e[0],n=t.id(),i=r.value;return typeof n==typeof i&amp;&amp;n&lt;i}],\&quot;filter-&gt;\&quot;:[Ft,[Rt,jt],function(t,e){var r=e[0],n=e[1],i=t.properties()[r.value],a=n.value;return typeof i==typeof a&amp;&amp;i&gt;a}],\&quot;filter-id-&gt;\&quot;:[Ft,[jt],function(t,e){var r=e[0],n=t.id(),i=r.value;return typeof n==typeof i&amp;&amp;n&gt;i}],\&quot;filter-&lt;=\&quot;:[Ft,[Rt,jt],function(t,e){var r=e[0],n=e[1],i=t.properties()[r.value],a=n.value;return typeof i==typeof a&amp;&amp;i&lt;=a}],\&quot;filter-id-&lt;=\&quot;:[Ft,[jt],function(t,e){var r=e[0],n=t.id(),i=r.value;return typeof n==typeof i&amp;&amp;n&lt;=i}],\&quot;filter-&gt;=\&quot;:[Ft,[Rt,jt],function(t,e){var r=e[0],n=e[1],i=t.properties()[r.value],a=n.value;return typeof i==typeof a&amp;&amp;i&gt;=a}],\&quot;filter-id-&gt;=\&quot;:[Ft,[jt],function(t,e){var r=e[0],n=t.id(),i=r.value;return typeof n==typeof i&amp;&amp;n&gt;=i}],\&quot;filter-has\&quot;:[Ft,[jt],function(t,e){return e[0].value in t.properties()}],\&quot;filter-has-id\&quot;:[Ft,[],function(t){return null!==t.id()&amp;&amp;void 0!==t.id()}],\&quot;filter-type-in\&quot;:[Ft,[Ht(Rt)],function(t,e){return e[0].value.indexOf(t.geometryType())&gt;=0}],\&quot;filter-id-in\&quot;:[Ft,[Ht(jt)],function(t,e){return e[0].value.indexOf(t.id())&gt;=0}],\&quot;filter-in-small\&quot;:[Ft,[Rt,Ht(jt)],function(t,e){var r=e[0];return e[1].value.indexOf(t.properties()[r.value])&gt;=0}],\&quot;filter-in-large\&quot;:[Ft,[Rt,Ht(jt)],function(t,e){var r=e[0],n=e[1];return function(t,e,r,n){for(;r&lt;=n;){var i=r+n&gt;&gt;1;if(e[i]===t)return!0;e[i]&gt;t?n=i-1:r=i+1}return!1}(t.properties()[r.value],n.value,0,n.value.length-1)}],all:{type:Ft,overloads:[[[Ft,Ft],function(t,e){var r=e[1];return e[0].evaluate(t)&amp;&amp;r.evaluate(t)}],[Sr(Ft),function(t,e){for(var r=0,n=e;r&lt;n.length;r+=1)if(!n[r].evaluate(t))return!1;return!0}]]},any:{type:Ft,overloads:[[[Ft,Ft],function(t,e){var r=e[1];return e[0].evaluate(t)||r.evaluate(t)}],[Sr(Ft),function(t,e){for(var r=0,n=e;r&lt;n.length;r+=1)if(n[r].evaluate(t))return!0;return!1}]]},\&quot;!\&quot;:[Ft,[Ft],function(t,e){return!e[0].evaluate(t)}],\&quot;is-supported-script\&quot;:[Ft,[Rt],function(t,e){var r=t.globals&amp;&amp;t.globals.isSupportedScript;return!r||r(e[0].evaluate(t))}],upcase:[Rt,[Rt],function(t,e){return e[0].evaluate(t).toUpperCase()}],downcase:[Rt,[Rt],function(t,e){return e[0].evaluate(t).toLowerCase()}],concat:[Rt,Sr(jt),function(t,e){return e.map((function(e){return ae(e.evaluate(t))})).join(\&quot;\&quot;)}],\&quot;resolved-locale\&quot;:[Rt,[Ut],function(t,e){return e[0].evaluate(t).resolvedLocale()}]});var Ur=function(t,e){this.expression=t,this._warningHistory={},this._evaluator=new ge,this._defaultValue=e?function(t){return\&quot;color\&quot;===t.type&amp;&amp;Or(t.default)?new Kt(0,0,0,0):\&quot;color\&quot;===t.type?Kt.parse(t.default)||null:void 0===t.default?null:t.default}(e):null,this._enumValues=e&amp;&amp;\&quot;enum\&quot;===e.type?e.values:null};function Vr(t){return Array.isArray(t)&amp;&amp;t.length&gt;0&amp;&amp;\&quot;string\&quot;==typeof t[0]&amp;&amp;t[0]in Tr}function qr(t,e){var r=new Be(Tr,[],e?function(t){var e={color:Bt,string:Rt,number:Dt,enum:Rt,boolean:Ft,formatted:Vt,resolvedImage:qt};return\&quot;array\&quot;===t.type?Ht(e[t.value]||jt,t.length):e[t.type]}(e):void 0),n=r.parse(t,void 0,void 0,void 0,e&amp;&amp;\&quot;string\&quot;===e.type?{typeAnnotation:\&quot;coerce\&quot;}:void 0);return n?Er(new Ur(n,e)):Cr(r.errors)}Ur.prototype.evaluateWithoutErrorHandling=function(t,e,r,n,i,a){return this._evaluator.globals=t,this._evaluator.feature=e,this._evaluator.featureState=r,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a,this.expression.evaluate(this._evaluator)},Ur.prototype.evaluate=function(t,e,r,n,i,a){this._evaluator.globals=t,this._evaluator.feature=e||null,this._evaluator.featureState=r||null,this._evaluator.canonical=n,this._evaluator.availableImages=i||null,this._evaluator.formattedSection=a||null;try{var o=this.expression.evaluate(this._evaluator);if(null==o||\&quot;number\&quot;==typeof o&amp;&amp;o!=o)return this._defaultValue;if(this._enumValues&amp;&amp;!(o in this._enumValues))throw new se(\&quot;Expected value to be one of \&quot;+Object.keys(this._enumValues).map((function(t){return JSON.stringify(t)})).join(\&quot;, \&quot;)+\&quot;, but found \&quot;+JSON.stringify(o)+\&quot; instead.\&quot;);return o}catch(t){return this._warningHistory[t.message]||(this._warningHistory[t.message]=!0,\&quot;undefined\&quot;!=typeof console&amp;&amp;console.warn(t.message)),this._defaultValue}};var Hr=function(t,e){this.kind=t,this._styleExpression=e,this.isStateDependent=\&quot;constant\&quot;!==t&amp;&amp;!De(e.expression)};Hr.prototype.evaluateWithoutErrorHandling=function(t,e,r,n,i,a){return this._styleExpression.evaluateWithoutErrorHandling(t,e,r,n,i,a)},Hr.prototype.evaluate=function(t,e,r,n,i,a){return this._styleExpression.evaluate(t,e,r,n,i,a)};var Gr=function(t,e,r,n){this.kind=t,this.zoomStops=r,this._styleExpression=e,this.isStateDependent=\&quot;camera\&quot;!==t&amp;&amp;!De(e.expression),this.interpolationType=n};function Yr(t,e){if(\&quot;error\&quot;===(t=qr(t,e)).result)return t;var r=t.value.expression,n=Oe(r);if(!n&amp;&amp;!Lr(e))return Cr([new Pt(\&quot;\&quot;,\&quot;data expressions not supported\&quot;)]);var i=Re(r,[\&quot;zoom\&quot;]);if(!i&amp;&amp;!Ir(e))return Cr([new Pt(\&quot;\&quot;,\&quot;zoom expressions not supported\&quot;)]);var a=function t(e){var r=null;if(e instanceof ar)r=t(e.result);else if(e instanceof ir)for(var n=0,i=e.args;n&lt;i.length&amp;&amp;!(r=t(i[n]));n+=1);else(e instanceof je||e instanceof rr)&amp;&amp;e.input instanceof me&amp;&amp;\&quot;zoom\&quot;===e.input.name&amp;&amp;(r=e);return r instanceof Pt||e.eachChild((function(e){var n=t(e);n instanceof Pt?r=n:!r&amp;&amp;n?r=new Pt(\&quot;\&quot;,'\&quot;zoom\&quot; expression may only be used as input to a top-level \&quot;step\&quot; or \&quot;interpolate\&quot; expression.'):r&amp;&amp;n&amp;&amp;r!==n&amp;&amp;(r=new Pt(\&quot;\&quot;,'Only one zoom-based \&quot;step\&quot; or \&quot;interpolate\&quot; subexpression may be used in an expression.'))})),r}(r);return a||i?a instanceof Pt?Cr([a]):a instanceof rr&amp;&amp;!Pr(e)?Cr([new Pt(\&quot;\&quot;,'\&quot;interpolate\&quot; expressions cannot be used with this property')]):Er(a?new Gr(n?\&quot;camera\&quot;:\&quot;composite\&quot;,t.value,a.labels,a instanceof rr?a.interpolation:void 0):new Hr(n?\&quot;constant\&quot;:\&quot;source\&quot;,t.value)):Cr([new Pt(\&quot;\&quot;,'\&quot;zoom\&quot; expression may only be used as input to a top-level \&quot;step\&quot; or \&quot;interpolate\&quot; expression.')])}Gr.prototype.evaluateWithoutErrorHandling=function(t,e,r,n,i,a){return this._styleExpression.evaluateWithoutErrorHandling(t,e,r,n,i,a)},Gr.prototype.evaluate=function(t,e,r,n,i,a){return this._styleExpression.evaluate(t,e,r,n,i,a)},Gr.prototype.interpolationFactor=function(t,e,r){return this.interpolationType?rr.interpolationFactor(this.interpolationType,t,e,r):0};var Wr=function(t,e){this._parameters=t,this._specification=e,Ct(this,function t(e,r){var n,i,a,o=\&quot;color\&quot;===r.type,s=e.stops&amp;&amp;\&quot;object\&quot;==typeof e.stops[0][0],l=s||!(s||void 0!==e.property),c=e.type||(Pr(r)?\&quot;exponential\&quot;:\&quot;interval\&quot;);if(o&amp;&amp;((e=Ct({},e)).stops&amp;&amp;(e.stops=e.stops.map((function(t){return[t[0],Kt.parse(t[1])]}))),e.default=Kt.parse(e.default?e.default:r.default)),e.colorSpace&amp;&amp;\&quot;rgb\&quot;!==e.colorSpace&amp;&amp;!er[e.colorSpace])throw new Error(\&quot;Unknown color space: \&quot;+e.colorSpace);if(\&quot;exponential\&quot;===c)n=Nr;else if(\&quot;interval\&quot;===c)n=Br;else if(\&quot;categorical\&quot;===c){n=Fr,i=Object.create(null);for(var u=0,f=e.stops;u&lt;f.length;u+=1){var h=f[u];i[h[0]]=h[1]}a=typeof e.stops[0][0]}else{if(\&quot;identity\&quot;!==c)throw new Error('Unknown function type \&quot;'+c+'\&quot;');n=jr}if(s){for(var p={},d=[],g=0;g&lt;e.stops.length;g++){var m=e.stops[g],v=m[0].zoom;void 0===p[v]&amp;&amp;(p[v]={zoom:v,type:e.type,property:e.property,default:e.default,stops:[]},d.push(v)),p[v].stops.push([m[0].value,m[1]])}for(var y=[],x=0,b=d;x&lt;b.length;x+=1){var _=b[x];y.push([p[_].zoom,t(p[_],r)])}var w={name:\&quot;linear\&quot;};return{kind:\&quot;composite\&quot;,interpolationType:w,interpolationFactor:rr.interpolationFactor.bind(void 0,w),zoomStops:y.map((function(t){return t[0]})),evaluate:function(t,n){var i=t.zoom;return Nr({stops:y,base:e.base},r,i).evaluate(i,n)}}}if(l){var T=\&quot;exponential\&quot;===c?{name:\&quot;exponential\&quot;,base:void 0!==e.base?e.base:1}:null;return{kind:\&quot;camera\&quot;,interpolationType:T,interpolationFactor:rr.interpolationFactor.bind(void 0,T),zoomStops:e.stops.map((function(t){return t[0]})),evaluate:function(t){return n(e,r,t.zoom,i,a)}}}return{kind:\&quot;source\&quot;,evaluate:function(t,o){var s=o&amp;&amp;o.properties?o.properties[e.property]:void 0;return void 0===s?Rr(e.default,r.default):n(e,r,s,i,a)}}}(this._parameters,this._specification))};function Xr(t){var e=t.key,r=t.value,n=t.valueSpec||{},i=t.objectElementValidators||{},a=t.style,o=t.styleSpec,s=[],l=zr(r);if(\&quot;object\&quot;!==l)return[new St(e,r,\&quot;object expected, \&quot;+l+\&quot; found\&quot;)];for(var c in r){var u=c.split(\&quot;.\&quot;)[0],f=n[u]||n[\&quot;*\&quot;],h=void 0;if(i[u])h=i[u];else if(n[u])h=bn;else if(i[\&quot;*\&quot;])h=i[\&quot;*\&quot;];else{if(!n[\&quot;*\&quot;]){s.push(new St(e,r[c],'unknown property \&quot;'+c+'\&quot;'));continue}h=bn}s=s.concat(h({key:(e?e+\&quot;.\&quot;:e)+c,value:r[c],valueSpec:f,style:a,styleSpec:o,object:r,objectKey:c},r))}for(var p in n)i[p]||n[p].required&amp;&amp;void 0===n[p].default&amp;&amp;void 0===r[p]&amp;&amp;s.push(new St(e,r,'missing required property \&quot;'+p+'\&quot;'));return s}function Zr(t){var e=t.value,r=t.valueSpec,n=t.style,i=t.styleSpec,a=t.key,o=t.arrayElementValidator||bn;if(\&quot;array\&quot;!==zr(e))return[new St(a,e,\&quot;array expected, \&quot;+zr(e)+\&quot; found\&quot;)];if(r.length&amp;&amp;e.length!==r.length)return[new St(a,e,\&quot;array length \&quot;+r.length+\&quot; expected, length \&quot;+e.length+\&quot; found\&quot;)];if(r[\&quot;min-length\&quot;]&amp;&amp;e.length&lt;r[\&quot;min-length\&quot;])return[new St(a,e,\&quot;array length at least \&quot;+r[\&quot;min-length\&quot;]+\&quot; expected, length \&quot;+e.length+\&quot; found\&quot;)];var s={type:r.value,values:r.values};i.$version&lt;7&amp;&amp;(s.function=r.function),\&quot;object\&quot;===zr(r.value)&amp;&amp;(s=r.value);for(var l=[],c=0;c&lt;e.length;c++)l=l.concat(o({array:e,arrayIndex:c,value:e[c],valueSpec:s,style:n,styleSpec:i,key:a+\&quot;[\&quot;+c+\&quot;]\&quot;}));return l}function Jr(t){var e=t.key,r=t.value,n=t.valueSpec,i=zr(r);return\&quot;number\&quot;===i&amp;&amp;r!=r&amp;&amp;(i=\&quot;NaN\&quot;),\&quot;number\&quot;!==i?[new St(e,r,\&quot;number expected, \&quot;+i+\&quot; found\&quot;)]:\&quot;minimum\&quot;in n&amp;&amp;r&lt;n.minimum?[new St(e,r,r+\&quot; is less than the minimum value \&quot;+n.minimum)]:\&quot;maximum\&quot;in n&amp;&amp;r&gt;n.maximum?[new St(e,r,r+\&quot; is greater than the maximum value \&quot;+n.maximum)]:[]}function Kr(t){var e,r,n,i=t.valueSpec,a=Lt(t.value.type),o={},s=\&quot;categorical\&quot;!==a&amp;&amp;void 0===t.value.property,l=!s,c=\&quot;array\&quot;===zr(t.value.stops)&amp;&amp;\&quot;array\&quot;===zr(t.value.stops[0])&amp;&amp;\&quot;object\&quot;===zr(t.value.stops[0][0]),u=Xr({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:function(t){if(\&quot;identity\&quot;===a)return[new St(t.key,t.value,'identity function may not have a \&quot;stops\&quot; property')];var e=[],r=t.value;return e=e.concat(Zr({key:t.key,value:r,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:f})),\&quot;array\&quot;===zr(r)&amp;&amp;0===r.length&amp;&amp;e.push(new St(t.key,r,\&quot;array must have at least one stop\&quot;)),e},default:function(t){return bn({key:t.key,value:t.value,valueSpec:i,style:t.style,styleSpec:t.styleSpec})}}});return\&quot;identity\&quot;===a&amp;&amp;s&amp;&amp;u.push(new St(t.key,t.value,'missing required property \&quot;property\&quot;')),\&quot;identity\&quot;===a||t.value.stops||u.push(new St(t.key,t.value,'missing required property \&quot;stops\&quot;')),\&quot;exponential\&quot;===a&amp;&amp;t.valueSpec.expression&amp;&amp;!Pr(t.valueSpec)&amp;&amp;u.push(new St(t.key,t.value,\&quot;exponential functions not supported\&quot;)),t.styleSpec.$version&gt;=8&amp;&amp;(l&amp;&amp;!Lr(t.valueSpec)?u.push(new St(t.key,t.value,\&quot;property functions not supported\&quot;)):s&amp;&amp;!Ir(t.valueSpec)&amp;&amp;u.push(new St(t.key,t.value,\&quot;zoom functions not supported\&quot;))),\&quot;categorical\&quot;!==a&amp;&amp;!c||void 0!==t.value.property||u.push(new St(t.key,t.value,'\&quot;property\&quot; property is required')),u;function f(t){var e=[],a=t.value,s=t.key;if(\&quot;array\&quot;!==zr(a))return[new St(s,a,\&quot;array expected, \&quot;+zr(a)+\&quot; found\&quot;)];if(2!==a.length)return[new St(s,a,\&quot;array length 2 expected, length \&quot;+a.length+\&quot; found\&quot;)];if(c){if(\&quot;object\&quot;!==zr(a[0]))return[new St(s,a,\&quot;object expected, \&quot;+zr(a[0])+\&quot; found\&quot;)];if(void 0===a[0].zoom)return[new St(s,a,\&quot;object stop key must have zoom\&quot;)];if(void 0===a[0].value)return[new St(s,a,\&quot;object stop key must have value\&quot;)];if(n&amp;&amp;n&gt;Lt(a[0].zoom))return[new St(s,a[0].zoom,\&quot;stop zoom values must appear in ascending order\&quot;)];Lt(a[0].zoom)!==n&amp;&amp;(n=Lt(a[0].zoom),r=void 0,o={}),e=e.concat(Xr({key:s+\&quot;[0]\&quot;,value:a[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:Jr,value:h}}))}else e=e.concat(h({key:s+\&quot;[0]\&quot;,value:a[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec},a));return Vr(It(a[1]))?e.concat([new St(s+\&quot;[1]\&quot;,a[1],\&quot;expressions are not allowed in function stops.\&quot;)]):e.concat(bn({key:s+\&quot;[1]\&quot;,value:a[1],valueSpec:i,style:t.style,styleSpec:t.styleSpec}))}function h(t,n){var s=zr(t.value),l=Lt(t.value),c=null!==t.value?t.value:n;if(e){if(s!==e)return[new St(t.key,c,s+\&quot; stop domain type must match previous stop domain type \&quot;+e)]}else e=s;if(\&quot;number\&quot;!==s&amp;&amp;\&quot;string\&quot;!==s&amp;&amp;\&quot;boolean\&quot;!==s)return[new St(t.key,c,\&quot;stop domain value must be a number, string, or boolean\&quot;)];if(\&quot;number\&quot;!==s&amp;&amp;\&quot;categorical\&quot;!==a){var u=\&quot;number expected, \&quot;+s+\&quot; found\&quot;;return Lr(i)&amp;&amp;void 0===a&amp;&amp;(u+='\\nIf you intended to use a categorical function, specify `\&quot;type\&quot;: \&quot;categorical\&quot;`.'),[new St(t.key,c,u)]}return\&quot;categorical\&quot;!==a||\&quot;number\&quot;!==s||isFinite(l)&amp;&amp;Math.floor(l)===l?\&quot;categorical\&quot;!==a&amp;&amp;\&quot;number\&quot;===s&amp;&amp;void 0!==r&amp;&amp;l&lt;r?[new St(t.key,c,\&quot;stop domain values must appear in ascending order\&quot;)]:(r=l,\&quot;categorical\&quot;===a&amp;&amp;l in o?[new St(t.key,c,\&quot;stop domain values must be unique\&quot;)]:(o[l]=!0,[])):[new St(t.key,c,\&quot;integer expected, found \&quot;+l)]}}function Qr(t){var e=(\&quot;property\&quot;===t.expressionContext?Yr:qr)(It(t.value),t.valueSpec);if(\&quot;error\&quot;===e.result)return e.value.map((function(e){return new St(\&quot;\&quot;+t.key+e.key,t.value,e.message)}));var r=e.value.expression||e.value._styleExpression.expression;if(\&quot;property\&quot;===t.expressionContext&amp;&amp;\&quot;text-font\&quot;===t.propertyKey&amp;&amp;!r.outputDefined())return[new St(t.key,t.value,'Invalid data expression for \&quot;'+t.propertyKey+'\&quot;. Output values must be contained as literals within the expression.')];if(\&quot;property\&quot;===t.expressionContext&amp;&amp;\&quot;layout\&quot;===t.propertyType&amp;&amp;!De(r))return[new St(t.key,t.value,'\&quot;feature-state\&quot; data expressions are not supported with layout properties.')];if(\&quot;filter\&quot;===t.expressionContext&amp;&amp;!De(r))return[new St(t.key,t.value,'\&quot;feature-state\&quot; data expressions are not supported with filters.')];if(t.expressionContext&amp;&amp;0===t.expressionContext.indexOf(\&quot;cluster\&quot;)){if(!Re(r,[\&quot;zoom\&quot;,\&quot;feature-state\&quot;]))return[new St(t.key,t.value,'\&quot;zoom\&quot; and \&quot;feature-state\&quot; expressions are not supported with cluster properties.')];if(\&quot;cluster-initial\&quot;===t.expressionContext&amp;&amp;!Oe(r))return[new St(t.key,t.value,\&quot;Feature data expressions are not supported with initial expression part of cluster properties.\&quot;)]}return[]}function $r(t){var e=t.key,r=t.value,n=t.valueSpec,i=[];return Array.isArray(n.values)?-1===n.values.indexOf(Lt(r))&amp;&amp;i.push(new St(e,r,\&quot;expected one of [\&quot;+n.values.join(\&quot;, \&quot;)+\&quot;], \&quot;+JSON.stringify(r)+\&quot; found\&quot;)):-1===Object.keys(n.values).indexOf(Lt(r))&amp;&amp;i.push(new St(e,r,\&quot;expected one of [\&quot;+Object.keys(n.values).join(\&quot;, \&quot;)+\&quot;], \&quot;+JSON.stringify(r)+\&quot; found\&quot;)),i}function tn(t){if(!0===t||!1===t)return!0;if(!Array.isArray(t)||0===t.length)return!1;switch(t[0]){case\&quot;has\&quot;:return t.length&gt;=2&amp;&amp;\&quot;$id\&quot;!==t[1]&amp;&amp;\&quot;$type\&quot;!==t[1];case\&quot;in\&quot;:return t.length&gt;=3&amp;&amp;(\&quot;string\&quot;!=typeof t[1]||Array.isArray(t[2]));case\&quot;!in\&quot;:case\&quot;!has\&quot;:case\&quot;none\&quot;:return!1;case\&quot;==\&quot;:case\&quot;!=\&quot;:case\&quot;&gt;\&quot;:case\&quot;&gt;=\&quot;:case\&quot;&lt;\&quot;:case\&quot;&lt;=\&quot;:return 3!==t.length||Array.isArray(t[1])||Array.isArray(t[2]);case\&quot;any\&quot;:case\&quot;all\&quot;:for(var e=0,r=t.slice(1);e&lt;r.length;e+=1){var n=r[e];if(!tn(n)&amp;&amp;\&quot;boolean\&quot;!=typeof n)return!1}return!0;default:return!0}}Wr.deserialize=function(t){return new Wr(t._parameters,t._specification)},Wr.serialize=function(t){return{_parameters:t._parameters,_specification:t._specification}};var en={type:\&quot;boolean\&quot;,default:!1,transition:!1,\&quot;property-type\&quot;:\&quot;data-driven\&quot;,expression:{interpolated:!1,parameters:[\&quot;zoom\&quot;,\&quot;feature\&quot;]}};function rn(t){if(null==t)return{filter:function(){return!0},needGeometry:!1};tn(t)||(t=an(t));var e=qr(t,en);if(\&quot;error\&quot;===e.result)throw new Error(e.value.map((function(t){return t.key+\&quot;: \&quot;+t.message})).join(\&quot;, \&quot;));return{filter:function(t,r,n){return e.value.evaluate(t,r,{},n)},needGeometry:function t(e){if(!Array.isArray(e))return!1;if(\&quot;within\&quot;===e[0])return!0;for(var r=1;r&lt;e.length;r++)if(t(e[r]))return!0;return!1}(t)}}function nn(t,e){return t&lt;e?-1:t&gt;e?1:0}function an(t){if(!t)return!0;var e,r=t[0];return t.length&lt;=1?\&quot;any\&quot;!==r:\&quot;==\&quot;===r?on(t[1],t[2],\&quot;==\&quot;):\&quot;!=\&quot;===r?cn(on(t[1],t[2],\&quot;==\&quot;)):\&quot;&lt;\&quot;===r||\&quot;&gt;\&quot;===r||\&quot;&lt;=\&quot;===r||\&quot;&gt;=\&quot;===r?on(t[1],t[2],r):\&quot;any\&quot;===r?(e=t.slice(1),[\&quot;any\&quot;].concat(e.map(an))):\&quot;all\&quot;===r?[\&quot;all\&quot;].concat(t.slice(1).map(an)):\&quot;none\&quot;===r?[\&quot;all\&quot;].concat(t.slice(1).map(an).map(cn)):\&quot;in\&quot;===r?sn(t[1],t.slice(2)):\&quot;!in\&quot;===r?cn(sn(t[1],t.slice(2))):\&quot;has\&quot;===r?ln(t[1]):\&quot;!has\&quot;===r?cn(ln(t[1])):\&quot;within\&quot;!==r||t}function on(t,e,r){switch(t){case\&quot;$type\&quot;:return[\&quot;filter-type-\&quot;+r,e];case\&quot;$id\&quot;:return[\&quot;filter-id-\&quot;+r,e];default:return[\&quot;filter-\&quot;+r,t,e]}}function sn(t,e){if(0===e.length)return!1;switch(t){case\&quot;$type\&quot;:return[\&quot;filter-type-in\&quot;,[\&quot;literal\&quot;,e]];case\&quot;$id\&quot;:return[\&quot;filter-id-in\&quot;,[\&quot;literal\&quot;,e]];default:return e.length&gt;200&amp;&amp;!e.some((function(t){return typeof t!=typeof e[0]}))?[\&quot;filter-in-large\&quot;,t,[\&quot;literal\&quot;,e.sort(nn)]]:[\&quot;filter-in-small\&quot;,t,[\&quot;literal\&quot;,e]]}}function ln(t){switch(t){case\&quot;$type\&quot;:return!0;case\&quot;$id\&quot;:return[\&quot;filter-has-id\&quot;];default:return[\&quot;filter-has\&quot;,t]}}function cn(t){return[\&quot;!\&quot;,t]}function un(t){return tn(It(t.value))?Qr(Ct({},t,{expressionContext:\&quot;filter\&quot;,valueSpec:{value:\&quot;boolean\&quot;}})):function t(e){var r=e.value,n=e.key;if(\&quot;array\&quot;!==zr(r))return[new St(n,r,\&quot;array expected, \&quot;+zr(r)+\&quot; found\&quot;)];var i,a=e.styleSpec,o=[];if(r.length&lt;1)return[new St(n,r,\&quot;filter array must have at least 1 element\&quot;)];switch(o=o.concat($r({key:n+\&quot;[0]\&quot;,value:r[0],valueSpec:a.filter_operator,style:e.style,styleSpec:e.styleSpec})),Lt(r[0])){case\&quot;&lt;\&quot;:case\&quot;&lt;=\&quot;:case\&quot;&gt;\&quot;:case\&quot;&gt;=\&quot;:r.length&gt;=2&amp;&amp;\&quot;$type\&quot;===Lt(r[1])&amp;&amp;o.push(new St(n,r,'\&quot;$type\&quot; cannot be use with operator \&quot;'+r[0]+'\&quot;'));case\&quot;==\&quot;:case\&quot;!=\&quot;:3!==r.length&amp;&amp;o.push(new St(n,r,'filter array for operator \&quot;'+r[0]+'\&quot; must have 3 elements'));case\&quot;in\&quot;:case\&quot;!in\&quot;:r.length&gt;=2&amp;&amp;\&quot;string\&quot;!==(i=zr(r[1]))&amp;&amp;o.push(new St(n+\&quot;[1]\&quot;,r[1],\&quot;string expected, \&quot;+i+\&quot; found\&quot;));for(var s=2;s&lt;r.length;s++)i=zr(r[s]),\&quot;$type\&quot;===Lt(r[1])?o=o.concat($r({key:n+\&quot;[\&quot;+s+\&quot;]\&quot;,value:r[s],valueSpec:a.geometry_type,style:e.style,styleSpec:e.styleSpec})):\&quot;string\&quot;!==i&amp;&amp;\&quot;number\&quot;!==i&amp;&amp;\&quot;boolean\&quot;!==i&amp;&amp;o.push(new St(n+\&quot;[\&quot;+s+\&quot;]\&quot;,r[s],\&quot;string, number, or boolean expected, \&quot;+i+\&quot; found\&quot;));break;case\&quot;any\&quot;:case\&quot;all\&quot;:case\&quot;none\&quot;:for(var l=1;l&lt;r.length;l++)o=o.concat(t({key:n+\&quot;[\&quot;+l+\&quot;]\&quot;,value:r[l],style:e.style,styleSpec:e.styleSpec}));break;case\&quot;has\&quot;:case\&quot;!has\&quot;:i=zr(r[1]),2!==r.length?o.push(new St(n,r,'filter array for \&quot;'+r[0]+'\&quot; operator must have 2 elements')):\&quot;string\&quot;!==i&amp;&amp;o.push(new St(n+\&quot;[1]\&quot;,r[1],\&quot;string expected, \&quot;+i+\&quot; found\&quot;));break;case\&quot;within\&quot;:i=zr(r[1]),2!==r.length?o.push(new St(n,r,'filter array for \&quot;'+r[0]+'\&quot; operator must have 2 elements')):\&quot;object\&quot;!==i&amp;&amp;o.push(new St(n+\&quot;[1]\&quot;,r[1],\&quot;object expected, \&quot;+i+\&quot; found\&quot;))}return o}(t)}function fn(t,e){var r=t.key,n=t.style,i=t.styleSpec,a=t.value,o=t.objectKey,s=i[e+\&quot;_\&quot;+t.layerType];if(!s)return[];var l=o.match(/^(.*)-transition$/);if(\&quot;paint\&quot;===e&amp;&amp;l&amp;&amp;s[l[1]]&amp;&amp;s[l[1]].transition)return bn({key:r,value:a,valueSpec:i.transition,style:n,styleSpec:i});var c,u=t.valueSpec||s[o];if(!u)return[new St(r,a,'unknown property \&quot;'+o+'\&quot;')];if(\&quot;string\&quot;===zr(a)&amp;&amp;Lr(u)&amp;&amp;!u.tokens&amp;&amp;(c=/^{([^}]+)}$/.exec(a)))return[new St(r,a,'\&quot;'+o+'\&quot; does not support interpolation syntax\\nUse an identity property function instead: `{ \&quot;type\&quot;: \&quot;identity\&quot;, \&quot;property\&quot;: '+JSON.stringify(c[1])+\&quot; }`.\&quot;)];var f=[];return\&quot;symbol\&quot;===t.layerType&amp;&amp;(\&quot;text-field\&quot;===o&amp;&amp;n&amp;&amp;!n.glyphs&amp;&amp;f.push(new St(r,a,'use of \&quot;text-field\&quot; requires a style \&quot;glyphs\&quot; property')),\&quot;text-font\&quot;===o&amp;&amp;Or(It(a))&amp;&amp;\&quot;identity\&quot;===Lt(a.type)&amp;&amp;f.push(new St(r,a,'\&quot;text-font\&quot; does not support identity functions'))),f.concat(bn({key:t.key,value:a,valueSpec:u,style:n,styleSpec:i,expressionContext:\&quot;property\&quot;,propertyType:e,propertyKey:o}))}function hn(t){return fn(t,\&quot;paint\&quot;)}function pn(t){return fn(t,\&quot;layout\&quot;)}function dn(t){var e=[],r=t.value,n=t.key,i=t.style,a=t.styleSpec;r.type||r.ref||e.push(new St(n,r,'either \&quot;type\&quot; or \&quot;ref\&quot; is required'));var o,s=Lt(r.type),l=Lt(r.ref);if(r.id)for(var c=Lt(r.id),u=0;u&lt;t.arrayIndex;u++){var f=i.layers[u];Lt(f.id)===c&amp;&amp;e.push(new St(n,r.id,'duplicate layer id \&quot;'+r.id+'\&quot;, previously used at line '+f.id.__line__))}if(\&quot;ref\&quot;in r)[\&quot;type\&quot;,\&quot;source\&quot;,\&quot;source-layer\&quot;,\&quot;filter\&quot;,\&quot;layout\&quot;].forEach((function(t){t in r&amp;&amp;e.push(new St(n,r[t],'\&quot;'+t+'\&quot; is prohibited for ref layers'))})),i.layers.forEach((function(t){Lt(t.id)===l&amp;&amp;(o=t)})),o?o.ref?e.push(new St(n,r.ref,\&quot;ref cannot reference another ref layer\&quot;)):s=Lt(o.type):e.push(new St(n,r.ref,'ref layer \&quot;'+l+'\&quot; not found'));else if(\&quot;background\&quot;!==s)if(r.source){var h=i.sources&amp;&amp;i.sources[r.source],p=h&amp;&amp;Lt(h.type);h?\&quot;vector\&quot;===p&amp;&amp;\&quot;raster\&quot;===s?e.push(new St(n,r.source,'layer \&quot;'+r.id+'\&quot; requires a raster source')):\&quot;raster\&quot;===p&amp;&amp;\&quot;raster\&quot;!==s?e.push(new St(n,r.source,'layer \&quot;'+r.id+'\&quot; requires a vector source')):\&quot;vector\&quot;!==p||r[\&quot;source-layer\&quot;]?\&quot;raster-dem\&quot;===p&amp;&amp;\&quot;hillshade\&quot;!==s?e.push(new St(n,r.source,\&quot;raster-dem source can only be used with layer type 'hillshade'.\&quot;)):\&quot;line\&quot;!==s||!r.paint||!r.paint[\&quot;line-gradient\&quot;]||\&quot;geojson\&quot;===p&amp;&amp;h.lineMetrics||e.push(new St(n,r,'layer \&quot;'+r.id+'\&quot; specifies a line-gradient, which requires a GeoJSON source with `lineMetrics` enabled.')):e.push(new St(n,r,'layer \&quot;'+r.id+'\&quot; must specify a \&quot;source-layer\&quot;')):e.push(new St(n,r.source,'source \&quot;'+r.source+'\&quot; not found'))}else e.push(new St(n,r,'missing required property \&quot;source\&quot;'));return e=e.concat(Xr({key:n,value:r,valueSpec:a.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{\&quot;*\&quot;:function(){return[]},type:function(){return bn({key:n+\&quot;.type\&quot;,value:r.type,valueSpec:a.layer.type,style:t.style,styleSpec:t.styleSpec,object:r,objectKey:\&quot;type\&quot;})},filter:un,layout:function(t){return Xr({layer:r,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{\&quot;*\&quot;:function(t){return pn(Ct({layerType:s},t))}}})},paint:function(t){return Xr({layer:r,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{\&quot;*\&quot;:function(t){return hn(Ct({layerType:s},t))}}})}}}))}function gn(t){var e=t.value,r=t.key,n=zr(e);return\&quot;string\&quot;!==n?[new St(r,e,\&quot;string expected, \&quot;+n+\&quot; found\&quot;)]:[]}var mn={promoteId:function(t){var e=t.key,r=t.value;if(\&quot;string\&quot;===zr(r))return gn({key:e,value:r});var n=[];for(var i in r)n.push.apply(n,gn({key:e+\&quot;.\&quot;+i,value:r[i]}));return n}};function vn(t){var e=t.value,r=t.key,n=t.styleSpec,i=t.style;if(!e.type)return[new St(r,e,'\&quot;type\&quot; is required')];var a,o=Lt(e.type);switch(o){case\&quot;vector\&quot;:case\&quot;raster\&quot;:case\&quot;raster-dem\&quot;:return Xr({key:r,value:e,valueSpec:n[\&quot;source_\&quot;+o.replace(\&quot;-\&quot;,\&quot;_\&quot;)],style:t.style,styleSpec:n,objectElementValidators:mn});case\&quot;geojson\&quot;:if(a=Xr({key:r,value:e,valueSpec:n.source_geojson,style:i,styleSpec:n,objectElementValidators:mn}),e.cluster)for(var s in e.clusterProperties){var l=e.clusterProperties[s],c=l[0],u=\&quot;string\&quot;==typeof c?[c,[\&quot;accumulated\&quot;],[\&quot;get\&quot;,s]]:c;a.push.apply(a,Qr({key:r+\&quot;.\&quot;+s+\&quot;.map\&quot;,value:l[1],expressionContext:\&quot;cluster-map\&quot;})),a.push.apply(a,Qr({key:r+\&quot;.\&quot;+s+\&quot;.reduce\&quot;,value:u,expressionContext:\&quot;cluster-reduce\&quot;}))}return a;case\&quot;video\&quot;:return Xr({key:r,value:e,valueSpec:n.source_video,style:i,styleSpec:n});case\&quot;image\&quot;:return Xr({key:r,value:e,valueSpec:n.source_image,style:i,styleSpec:n});case\&quot;canvas\&quot;:return[new St(r,null,\&quot;Please use runtime APIs to add canvas sources, rather than including them in stylesheets.\&quot;,\&quot;source.canvas\&quot;)];default:return $r({key:r+\&quot;.type\&quot;,value:e.type,valueSpec:{values:[\&quot;vector\&quot;,\&quot;raster\&quot;,\&quot;raster-dem\&quot;,\&quot;geojson\&quot;,\&quot;video\&quot;,\&quot;image\&quot;]},style:i,styleSpec:n})}}function yn(t){var e=t.value,r=t.styleSpec,n=r.light,i=t.style,a=[],o=zr(e);if(void 0===e)return a;if(\&quot;object\&quot;!==o)return a.concat([new St(\&quot;light\&quot;,e,\&quot;object expected, \&quot;+o+\&quot; found\&quot;)]);for(var s in e){var l=s.match(/^(.*)-transition$/);a=a.concat(l&amp;&amp;n[l[1]]&amp;&amp;n[l[1]].transition?bn({key:s,value:e[s],valueSpec:r.transition,style:i,styleSpec:r}):n[s]?bn({key:s,value:e[s],valueSpec:n[s],style:i,styleSpec:r}):[new St(s,e[s],'unknown property \&quot;'+s+'\&quot;')])}return a}var xn={\&quot;*\&quot;:function(){return[]},array:Zr,boolean:function(t){var e=t.value,r=t.key,n=zr(e);return\&quot;boolean\&quot;!==n?[new St(r,e,\&quot;boolean expected, \&quot;+n+\&quot; found\&quot;)]:[]},number:Jr,color:function(t){var e=t.key,r=t.value,n=zr(r);return\&quot;string\&quot;!==n?[new St(e,r,\&quot;color expected, \&quot;+n+\&quot; found\&quot;)]:null===Jt(r)?[new St(e,r,'color expected, \&quot;'+r+'\&quot; found')]:[]},constants:Et,enum:$r,filter:un,function:Kr,layer:dn,object:Xr,source:vn,light:yn,string:gn,formatted:function(t){return 0===gn(t).length?[]:Qr(t)},resolvedImage:function(t){return 0===gn(t).length?[]:Qr(t)}};function bn(t){var e=t.value,r=t.valueSpec,n=t.styleSpec;return r.expression&amp;&amp;Or(Lt(e))?Kr(t):r.expression&amp;&amp;Vr(It(e))?Qr(t):r.type&amp;&amp;xn[r.type]?xn[r.type](t):Xr(Ct({},t,{valueSpec:r.type?n[r.type]:r}))}function _n(t){var e=t.value,r=t.key,n=gn(t);return n.length||(-1===e.indexOf(\&quot;{fontstack}\&quot;)&amp;&amp;n.push(new St(r,e,'\&quot;glyphs\&quot; url must include a \&quot;{fontstack}\&quot; token')),-1===e.indexOf(\&quot;{range}\&quot;)&amp;&amp;n.push(new St(r,e,'\&quot;glyphs\&quot; url must include a \&quot;{range}\&quot; token'))),n}function wn(t,e){void 0===e&amp;&amp;(e=At);var r=[];return r=r.concat(bn({key:\&quot;\&quot;,value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:_n,\&quot;*\&quot;:function(){return[]}}})),t.constants&amp;&amp;(r=r.concat(Et({key:\&quot;constants\&quot;,value:t.constants,style:t,styleSpec:e}))),Tn(r)}function Tn(t){return[].concat(t).sort((function(t,e){return t.line-e.line}))}function kn(t){return function(){for(var e=[],r=arguments.length;r--;)e[r]=arguments[r];return Tn(t.apply(this,e))}}wn.source=kn(vn),wn.light=kn(yn),wn.layer=kn(dn),wn.filter=kn(un),wn.paintProperty=kn(hn),wn.layoutProperty=kn(pn);var Mn=wn,An=Mn.light,Sn=Mn.paintProperty,En=Mn.layoutProperty;function Cn(t,e){var r=!1;if(e&amp;&amp;e.length)for(var n=0,i=e;n&lt;i.length;n+=1)t.fire(new kt(new Error(i[n].message))),r=!0;return r}var Ln=In;function In(t,e,r){var n=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var i=new Int32Array(this.arrayBuffer);t=i[0],this.d=(e=i[1])+2*(r=i[2]);for(var a=0;a&lt;this.d*this.d;a++){var o=i[3+a],s=i[3+a+1];n.push(o===s?null:i.subarray(o,s))}var l=i[3+n.length+1];this.keys=i.subarray(i[3+n.length],l),this.bboxes=i.subarray(l),this.insert=this._insertReadonly}else{this.d=e+2*r;for(var c=0;c&lt;this.d*this.d;c++)n.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=r,this.scale=e/t,this.uid=0;var u=r/e*t;this.min=-u,this.max=t+u}In.prototype.insert=function(t,e,r,n,i){this._forEachCell(e,r,n,i,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(r),this.bboxes.push(n),this.bboxes.push(i)},In.prototype._insertReadonly=function(){throw\&quot;Cannot insert into a GridIndex created from an ArrayBuffer.\&quot;},In.prototype._insertCell=function(t,e,r,n,i,a){this.cells[i].push(a)},In.prototype.query=function(t,e,r,n,i){var a=this.min,o=this.max;if(t&lt;=a&amp;&amp;e&lt;=a&amp;&amp;o&lt;=r&amp;&amp;o&lt;=n&amp;&amp;!i)return Array.prototype.slice.call(this.keys);var s=[];return this._forEachCell(t,e,r,n,this._queryCell,s,{},i),s},In.prototype._queryCell=function(t,e,r,n,i,a,o,s){var l=this.cells[i];if(null!==l)for(var c=this.keys,u=this.bboxes,f=0;f&lt;l.length;f++){var h=l[f];if(void 0===o[h]){var p=4*h;(s?s(u[p+0],u[p+1],u[p+2],u[p+3]):t&lt;=u[p+2]&amp;&amp;e&lt;=u[p+3]&amp;&amp;r&gt;=u[p+0]&amp;&amp;n&gt;=u[p+1])?(o[h]=!0,a.push(c[h])):o[h]=!1}}},In.prototype._forEachCell=function(t,e,r,n,i,a,o,s){for(var l=this._convertToCellCoord(t),c=this._convertToCellCoord(e),u=this._convertToCellCoord(r),f=this._convertToCellCoord(n),h=l;h&lt;=u;h++)for(var p=c;p&lt;=f;p++){var d=this.d*p+h;if((!s||s(this._convertFromCellCoord(h),this._convertFromCellCoord(p),this._convertFromCellCoord(h+1),this._convertFromCellCoord(p+1)))&amp;&amp;i.call(this,t,e,r,n,d,a,o,s))return}},In.prototype._convertFromCellCoord=function(t){return(t-this.padding)/this.scale},In.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},In.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=3+this.cells.length+1+1,r=0,n=0;n&lt;this.cells.length;n++)r+=this.cells[n].length;var i=new Int32Array(e+r+this.keys.length+this.bboxes.length);i[0]=this.extent,i[1]=this.n,i[2]=this.padding;for(var a=e,o=0;o&lt;t.length;o++){var s=t[o];i[3+o]=a,i.set(s,a),a+=s.length}return i[3+t.length]=a,i.set(this.keys,a),i[3+t.length+1]=a+=this.keys.length,i.set(this.bboxes,a),a+=this.bboxes.length,i.buffer};var Pn=self.ImageData,zn=self.ImageBitmap,On={};function Dn(t,e,r){void 0===r&amp;&amp;(r={}),Object.defineProperty(e,\&quot;_classRegistryKey\&quot;,{value:t,writeable:!1}),On[t]={klass:e,omit:r.omit||[],shallow:r.shallow||[]}}for(var Rn in Dn(\&quot;Object\&quot;,Object),Ln.serialize=function(t,e){var r=t.toArrayBuffer();return e&amp;&amp;e.push(r),{buffer:r}},Ln.deserialize=function(t){return new Ln(t.buffer)},Dn(\&quot;Grid\&quot;,Ln),Dn(\&quot;Color\&quot;,Kt),Dn(\&quot;Error\&quot;,Error),Dn(\&quot;ResolvedImage\&quot;,ee),Dn(\&quot;StylePropertyFunction\&quot;,Wr),Dn(\&quot;StyleExpression\&quot;,Ur,{omit:[\&quot;_evaluator\&quot;]}),Dn(\&quot;ZoomDependentExpression\&quot;,Gr),Dn(\&quot;ZoomConstantExpression\&quot;,Hr),Dn(\&quot;CompoundExpression\&quot;,me,{omit:[\&quot;_evaluate\&quot;]}),Tr)Tr[Rn]._classRegistryKey||Dn(\&quot;Expression_\&quot;+Rn,Tr[Rn]);function Fn(t){return t&amp;&amp;\&quot;undefined\&quot;!=typeof ArrayBuffer&amp;&amp;(t instanceof ArrayBuffer||t.constructor&amp;&amp;\&quot;ArrayBuffer\&quot;===t.constructor.name)}function Bn(t){return zn&amp;&amp;t instanceof zn}function Nn(t,e){if(null==t||\&quot;boolean\&quot;==typeof t||\&quot;number\&quot;==typeof t||\&quot;string\&quot;==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp)return t;if(Fn(t)||Bn(t))return e&amp;&amp;e.push(t),t;if(ArrayBuffer.isView(t)){var r=t;return e&amp;&amp;e.push(r.buffer),r}if(t instanceof Pn)return e&amp;&amp;e.push(t.data.buffer),t;if(Array.isArray(t)){for(var n=[],i=0,a=t;i&lt;a.length;i+=1)n.push(Nn(a[i],e));return n}if(\&quot;object\&quot;==typeof t){var o=t.constructor,s=o._classRegistryKey;if(!s)throw new Error(\&quot;can't serialize object of unregistered class\&quot;);var l=o.serialize?o.serialize(t,e):{};if(!o.serialize){for(var c in t)if(t.hasOwnProperty(c)&amp;&amp;!(On[s].omit.indexOf(c)&gt;=0)){var u=t[c];l[c]=On[s].shallow.indexOf(c)&gt;=0?u:Nn(u,e)}t instanceof Error&amp;&amp;(l.message=t.message)}if(l.$name)throw new Error(\&quot;$name property is reserved for worker serialization logic.\&quot;);return\&quot;Object\&quot;!==s&amp;&amp;(l.$name=s),l}throw new Error(\&quot;can't serialize object of type \&quot;+typeof t)}function jn(t){if(null==t||\&quot;boolean\&quot;==typeof t||\&quot;number\&quot;==typeof t||\&quot;string\&quot;==typeof t||t instanceof Boolean||t instanceof Number||t instanceof String||t instanceof Date||t instanceof RegExp||Fn(t)||Bn(t)||ArrayBuffer.isView(t)||t instanceof Pn)return t;if(Array.isArray(t))return t.map(jn);if(\&quot;object\&quot;==typeof t){var e=t.$name||\&quot;Object\&quot;,r=On[e].klass;if(!r)throw new Error(\&quot;can't deserialize unregistered class \&quot;+e);if(r.deserialize)return r.deserialize(t);for(var n=Object.create(r.prototype),i=0,a=Object.keys(t);i&lt;a.length;i+=1){var o=a[i];if(\&quot;$name\&quot;!==o){var s=t[o];n[o]=On[e].shallow.indexOf(o)&gt;=0?s:jn(s)}}return n}throw new Error(\&quot;can't deserialize object of type \&quot;+typeof t)}var Un=function(){this.first=!0};Un.prototype.update=function(t,e){var r=Math.floor(t);return this.first?(this.first=!1,this.lastIntegerZoom=r,this.lastIntegerZoomTime=0,this.lastZoom=t,this.lastFloorZoom=r,!0):(this.lastFloorZoom&gt;r?(this.lastIntegerZoom=r+1,this.lastIntegerZoomTime=e):this.lastFloorZoom&lt;r&amp;&amp;(this.lastIntegerZoom=r,this.lastIntegerZoomTime=e),t!==this.lastZoom&amp;&amp;(this.lastZoom=t,this.lastFloorZoom=r,!0))};var Vn={\&quot;Latin-1 Supplement\&quot;:function(t){return t&gt;=128&amp;&amp;t&lt;=255},Arabic:function(t){return t&gt;=1536&amp;&amp;t&lt;=1791},\&quot;Arabic Supplement\&quot;:function(t){return t&gt;=1872&amp;&amp;t&lt;=1919},\&quot;Arabic Extended-A\&quot;:function(t){return t&gt;=2208&amp;&amp;t&lt;=2303},\&quot;Hangul Jamo\&quot;:function(t){return t&gt;=4352&amp;&amp;t&lt;=4607},\&quot;Unified Canadian Aboriginal Syllabics\&quot;:function(t){return t&gt;=5120&amp;&amp;t&lt;=5759},Khmer:function(t){return t&gt;=6016&amp;&amp;t&lt;=6143},\&quot;Unified Canadian Aboriginal Syllabics Extended\&quot;:function(t){return t&gt;=6320&amp;&amp;t&lt;=6399},\&quot;General Punctuation\&quot;:function(t){return t&gt;=8192&amp;&amp;t&lt;=8303},\&quot;Letterlike Symbols\&quot;:function(t){return t&gt;=8448&amp;&amp;t&lt;=8527},\&quot;Number Forms\&quot;:function(t){return t&gt;=8528&amp;&amp;t&lt;=8591},\&quot;Miscellaneous Technical\&quot;:function(t){return t&gt;=8960&amp;&amp;t&lt;=9215},\&quot;Control Pictures\&quot;:function(t){return t&gt;=9216&amp;&amp;t&lt;=9279},\&quot;Optical Character Recognition\&quot;:function(t){return t&gt;=9280&amp;&amp;t&lt;=9311},\&quot;Enclosed Alphanumerics\&quot;:function(t){return t&gt;=9312&amp;&amp;t&lt;=9471},\&quot;Geometric Shapes\&quot;:function(t){return t&gt;=9632&amp;&amp;t&lt;=9727},\&quot;Miscellaneous Symbols\&quot;:function(t){return t&gt;=9728&amp;&amp;t&lt;=9983},\&quot;Miscellaneous Symbols and Arrows\&quot;:function(t){return t&gt;=11008&amp;&amp;t&lt;=11263},\&quot;CJK Radicals Supplement\&quot;:function(t){return t&gt;=11904&amp;&amp;t&lt;=12031},\&quot;Kangxi Radicals\&quot;:function(t){return t&gt;=12032&amp;&amp;t&lt;=12255},\&quot;Ideographic Description Characters\&quot;:function(t){return t&gt;=12272&amp;&amp;t&lt;=12287},\&quot;CJK Symbols and Punctuation\&quot;:function(t){return t&gt;=12288&amp;&amp;t&lt;=12351},Hiragana:function(t){return t&gt;=12352&amp;&amp;t&lt;=12447},Katakana:function(t){return t&gt;=12448&amp;&amp;t&lt;=12543},Bopomofo:function(t){return t&gt;=12544&amp;&amp;t&lt;=12591},\&quot;Hangul Compatibility Jamo\&quot;:function(t){return t&gt;=12592&amp;&amp;t&lt;=12687},Kanbun:function(t){return t&gt;=12688&amp;&amp;t&lt;=12703},\&quot;Bopomofo Extended\&quot;:function(t){return t&gt;=12704&amp;&amp;t&lt;=12735},\&quot;CJK Strokes\&quot;:function(t){return t&gt;=12736&amp;&amp;t&lt;=12783},\&quot;Katakana Phonetic Extensions\&quot;:function(t){return t&gt;=12784&amp;&amp;t&lt;=12799},\&quot;Enclosed CJK Letters and Months\&quot;:function(t){return t&gt;=12800&amp;&amp;t&lt;=13055},\&quot;CJK Compatibility\&quot;:function(t){return t&gt;=13056&amp;&amp;t&lt;=13311},\&quot;CJK Unified Ideographs Extension A\&quot;:function(t){return t&gt;=13312&amp;&amp;t&lt;=19903},\&quot;Yijing Hexagram Symbols\&quot;:function(t){return t&gt;=19904&amp;&amp;t&lt;=19967},\&quot;CJK Unified Ideographs\&quot;:function(t){return t&gt;=19968&amp;&amp;t&lt;=40959},\&quot;Yi Syllables\&quot;:function(t){return t&gt;=40960&amp;&amp;t&lt;=42127},\&quot;Yi Radicals\&quot;:function(t){return t&gt;=42128&amp;&amp;t&lt;=42191},\&quot;Hangul Jamo Extended-A\&quot;:function(t){return t&gt;=43360&amp;&amp;t&lt;=43391},\&quot;Hangul Syllables\&quot;:function(t){return t&gt;=44032&amp;&amp;t&lt;=55215},\&quot;Hangul Jamo Extended-B\&quot;:function(t){return t&gt;=55216&amp;&amp;t&lt;=55295},\&quot;Private Use Area\&quot;:function(t){return t&gt;=57344&amp;&amp;t&lt;=63743},\&quot;CJK Compatibility Ideographs\&quot;:function(t){return t&gt;=63744&amp;&amp;t&lt;=64255},\&quot;Arabic Presentation Forms-A\&quot;:function(t){return t&gt;=64336&amp;&amp;t&lt;=65023},\&quot;Vertical Forms\&quot;:function(t){return t&gt;=65040&amp;&amp;t&lt;=65055},\&quot;CJK Compatibility Forms\&quot;:function(t){return t&gt;=65072&amp;&amp;t&lt;=65103},\&quot;Small Form Variants\&quot;:function(t){return t&gt;=65104&amp;&amp;t&lt;=65135},\&quot;Arabic Presentation Forms-B\&quot;:function(t){return t&gt;=65136&amp;&amp;t&lt;=65279},\&quot;Halfwidth and Fullwidth Forms\&quot;:function(t){return t&gt;=65280&amp;&amp;t&lt;=65519}};function qn(t){for(var e=0,r=t;e&lt;r.length;e+=1)if(Hn(r[e].charCodeAt(0)))return!0;return!1}function Hn(t){return!(746!==t&amp;&amp;747!==t&amp;&amp;(t&lt;4352||!(Vn[\&quot;Bopomofo Extended\&quot;](t)||Vn.Bopomofo(t)||Vn[\&quot;CJK Compatibility Forms\&quot;](t)&amp;&amp;!(t&gt;=65097&amp;&amp;t&lt;=65103)||Vn[\&quot;CJK Compatibility Ideographs\&quot;](t)||Vn[\&quot;CJK Compatibility\&quot;](t)||Vn[\&quot;CJK Radicals Supplement\&quot;](t)||Vn[\&quot;CJK Strokes\&quot;](t)||!(!Vn[\&quot;CJK Symbols and Punctuation\&quot;](t)||t&gt;=12296&amp;&amp;t&lt;=12305||t&gt;=12308&amp;&amp;t&lt;=12319||12336===t)||Vn[\&quot;CJK Unified Ideographs Extension A\&quot;](t)||Vn[\&quot;CJK Unified Ideographs\&quot;](t)||Vn[\&quot;Enclosed CJK Letters and Months\&quot;](t)||Vn[\&quot;Hangul Compatibility Jamo\&quot;](t)||Vn[\&quot;Hangul Jamo Extended-A\&quot;](t)||Vn[\&quot;Hangul Jamo Extended-B\&quot;](t)||Vn[\&quot;Hangul Jamo\&quot;](t)||Vn[\&quot;Hangul Syllables\&quot;](t)||Vn.Hiragana(t)||Vn[\&quot;Ideographic Description Characters\&quot;](t)||Vn.Kanbun(t)||Vn[\&quot;Kangxi Radicals\&quot;](t)||Vn[\&quot;Katakana Phonetic Extensions\&quot;](t)||Vn.Katakana(t)&amp;&amp;12540!==t||!(!Vn[\&quot;Halfwidth and Fullwidth Forms\&quot;](t)||65288===t||65289===t||65293===t||t&gt;=65306&amp;&amp;t&lt;=65310||65339===t||65341===t||65343===t||t&gt;=65371&amp;&amp;t&lt;=65503||65507===t||t&gt;=65512&amp;&amp;t&lt;=65519)||!(!Vn[\&quot;Small Form Variants\&quot;](t)||t&gt;=65112&amp;&amp;t&lt;=65118||t&gt;=65123&amp;&amp;t&lt;=65126)||Vn[\&quot;Unified Canadian Aboriginal Syllabics\&quot;](t)||Vn[\&quot;Unified Canadian Aboriginal Syllabics Extended\&quot;](t)||Vn[\&quot;Vertical Forms\&quot;](t)||Vn[\&quot;Yijing Hexagram Symbols\&quot;](t)||Vn[\&quot;Yi Syllables\&quot;](t)||Vn[\&quot;Yi Radicals\&quot;](t))))}function Gn(t){return!(Hn(t)||function(t){return!!(Vn[\&quot;Latin-1 Supplement\&quot;](t)&amp;&amp;(167===t||169===t||174===t||177===t||188===t||189===t||190===t||215===t||247===t)||Vn[\&quot;General Punctuation\&quot;](t)&amp;&amp;(8214===t||8224===t||8225===t||8240===t||8241===t||8251===t||8252===t||8258===t||8263===t||8264===t||8265===t||8273===t)||Vn[\&quot;Letterlike Symbols\&quot;](t)||Vn[\&quot;Number Forms\&quot;](t)||Vn[\&quot;Miscellaneous Technical\&quot;](t)&amp;&amp;(t&gt;=8960&amp;&amp;t&lt;=8967||t&gt;=8972&amp;&amp;t&lt;=8991||t&gt;=8996&amp;&amp;t&lt;=9e3||9003===t||t&gt;=9085&amp;&amp;t&lt;=9114||t&gt;=9150&amp;&amp;t&lt;=9165||9167===t||t&gt;=9169&amp;&amp;t&lt;=9179||t&gt;=9186&amp;&amp;t&lt;=9215)||Vn[\&quot;Control Pictures\&quot;](t)&amp;&amp;9251!==t||Vn[\&quot;Optical Character Recognition\&quot;](t)||Vn[\&quot;Enclosed Alphanumerics\&quot;](t)||Vn[\&quot;Geometric Shapes\&quot;](t)||Vn[\&quot;Miscellaneous Symbols\&quot;](t)&amp;&amp;!(t&gt;=9754&amp;&amp;t&lt;=9759)||Vn[\&quot;Miscellaneous Symbols and Arrows\&quot;](t)&amp;&amp;(t&gt;=11026&amp;&amp;t&lt;=11055||t&gt;=11088&amp;&amp;t&lt;=11097||t&gt;=11192&amp;&amp;t&lt;=11243)||Vn[\&quot;CJK Symbols and Punctuation\&quot;](t)||Vn.Katakana(t)||Vn[\&quot;Private Use Area\&quot;](t)||Vn[\&quot;CJK Compatibility Forms\&quot;](t)||Vn[\&quot;Small Form Variants\&quot;](t)||Vn[\&quot;Halfwidth and Fullwidth Forms\&quot;](t)||8734===t||8756===t||8757===t||t&gt;=9984&amp;&amp;t&lt;=10087||t&gt;=10102&amp;&amp;t&lt;=10131||65532===t||65533===t)}(t))}function Yn(t){return t&gt;=1424&amp;&amp;t&lt;=2303||Vn[\&quot;Arabic Presentation Forms-A\&quot;](t)||Vn[\&quot;Arabic Presentation Forms-B\&quot;](t)}function Wn(t,e){return!(!e&amp;&amp;Yn(t)||t&gt;=2304&amp;&amp;t&lt;=3583||t&gt;=3840&amp;&amp;t&lt;=4255||Vn.Khmer(t))}function Xn(t){for(var e=0,r=t;e&lt;r.length;e+=1)if(Yn(r[e].charCodeAt(0)))return!0;return!1}var Zn=null,Jn=\&quot;unavailable\&quot;,Kn=null,Qn=function(t){t&amp;&amp;\&quot;string\&quot;==typeof t&amp;&amp;t.indexOf(\&quot;NetworkError\&quot;)&gt;-1&amp;&amp;(Jn=\&quot;error\&quot;),Zn&amp;&amp;Zn(t)};function $n(){ti.fire(new Tt(\&quot;pluginStateChange\&quot;,{pluginStatus:Jn,pluginURL:Kn}))}var ti=new Mt,ei=function(){return Jn},ri=function(){if(\&quot;deferred\&quot;!==Jn||!Kn)throw new Error(\&quot;rtl-text-plugin cannot be downloaded unless a pluginURL is specified\&quot;);Jn=\&quot;loading\&quot;,$n(),Kn&amp;&amp;yt({url:Kn},(function(t){t?Qn(t):(Jn=\&quot;loaded\&quot;,$n())}))},ni={applyArabicShaping:null,processBidirectionalText:null,processStyledBidirectionalText:null,isLoaded:function(){return\&quot;loaded\&quot;===Jn||null!=ni.applyArabicShaping},isLoading:function(){return\&quot;loading\&quot;===Jn},setState:function(t){Jn=t.pluginStatus,Kn=t.pluginURL},isParsed:function(){return null!=ni.applyArabicShaping&amp;&amp;null!=ni.processBidirectionalText&amp;&amp;null!=ni.processStyledBidirectionalText},getPluginURL:function(){return Kn}},ii=function(t,e){this.zoom=t,e?(this.now=e.now,this.fadeDuration=e.fadeDuration,this.zoomHistory=e.zoomHistory,this.transition=e.transition):(this.now=0,this.fadeDuration=0,this.zoomHistory=new Un,this.transition={})};ii.prototype.isSupportedScript=function(t){return function(t,e){for(var r=0,n=t;r&lt;n.length;r+=1)if(!Wn(n[r].charCodeAt(0),e))return!1;return!0}(t,ni.isLoaded())},ii.prototype.crossFadingFactor=function(){return 0===this.fadeDuration?1:Math.min((this.now-this.zoomHistory.lastIntegerZoomTime)/this.fadeDuration,1)},ii.prototype.getCrossfadeParameters=function(){var t=this.zoom,e=t-Math.floor(t),r=this.crossFadingFactor();return t&gt;this.zoomHistory.lastIntegerZoom?{fromScale:2,toScale:1,t:e+(1-e)*r}:{fromScale:.5,toScale:1,t:1-(1-r)*e}};var ai=function(t,e){this.property=t,this.value=e,this.expression=function(t,e){if(Or(t))return new Wr(t,e);if(Vr(t)){var r=Yr(t,e);if(\&quot;error\&quot;===r.result)throw new Error(r.value.map((function(t){return t.key+\&quot;: \&quot;+t.message})).join(\&quot;, \&quot;));return r.value}var n=t;return\&quot;string\&quot;==typeof t&amp;&amp;\&quot;color\&quot;===e.type&amp;&amp;(n=Kt.parse(t)),{kind:\&quot;constant\&quot;,evaluate:function(){return n}}}(void 0===e?t.specification.default:e,t.specification)};ai.prototype.isDataDriven=function(){return\&quot;source\&quot;===this.expression.kind||\&quot;composite\&quot;===this.expression.kind},ai.prototype.possiblyEvaluate=function(t,e,r){return this.property.possiblyEvaluate(this,t,e,r)};var oi=function(t){this.property=t,this.value=new ai(t,void 0)};oi.prototype.transitioned=function(t,e){return new li(this.property,this.value,e,u({},t.transition,this.transition),t.now)},oi.prototype.untransitioned=function(){return new li(this.property,this.value,null,{},0)};var si=function(t){this._properties=t,this._values=Object.create(t.defaultTransitionablePropertyValues)};si.prototype.getValue=function(t){return x(this._values[t].value.value)},si.prototype.setValue=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new oi(this._values[t].property)),this._values[t].value=new ai(this._values[t].property,null===e?void 0:x(e))},si.prototype.getTransition=function(t){return x(this._values[t].transition)},si.prototype.setTransition=function(t,e){this._values.hasOwnProperty(t)||(this._values[t]=new oi(this._values[t].property)),this._values[t].transition=x(e)||void 0},si.prototype.serialize=function(){for(var t={},e=0,r=Object.keys(this._values);e&lt;r.length;e+=1){var n=r[e],i=this.getValue(n);void 0!==i&amp;&amp;(t[n]=i);var a=this.getTransition(n);void 0!==a&amp;&amp;(t[n+\&quot;-transition\&quot;]=a)}return t},si.prototype.transitioned=function(t,e){for(var r=new ci(this._properties),n=0,i=Object.keys(this._values);n&lt;i.length;n+=1){var a=i[n];r._values[a]=this._values[a].transitioned(t,e._values[a])}return r},si.prototype.untransitioned=function(){for(var t=new ci(this._properties),e=0,r=Object.keys(this._values);e&lt;r.length;e+=1){var n=r[e];t._values[n]=this._values[n].untransitioned()}return t};var li=function(t,e,r,n,i){this.property=t,this.value=e,this.begin=i+n.delay||0,this.end=this.begin+n.duration||0,t.specification.transition&amp;&amp;(n.delay||n.duration)&amp;&amp;(this.prior=r)};li.prototype.possiblyEvaluate=function(t,e,r){var n=t.now||0,i=this.value.possiblyEvaluate(t,e,r),a=this.prior;if(a){if(n&gt;this.end)return this.prior=null,i;if(this.value.isDataDriven())return this.prior=null,i;if(n&lt;this.begin)return a.possiblyEvaluate(t,e,r);var o=(n-this.begin)/(this.end-this.begin);return this.property.interpolate(a.possiblyEvaluate(t,e,r),i,function(t){if(t&lt;=0)return 0;if(t&gt;=1)return 1;var e=t*t,r=e*t;return 4*(t&lt;.5?r:3*(t-e)+r-.75)}(o))}return i};var ci=function(t){this._properties=t,this._values=Object.create(t.defaultTransitioningPropertyValues)};ci.prototype.possiblyEvaluate=function(t,e,r){for(var n=new hi(this._properties),i=0,a=Object.keys(this._values);i&lt;a.length;i+=1){var o=a[i];n._values[o]=this._values[o].possiblyEvaluate(t,e,r)}return n},ci.prototype.hasTransition=function(){for(var t=0,e=Object.keys(this._values);t&lt;e.length;t+=1)if(this._values[e[t]].prior)return!0;return!1};var ui=function(t){this._properties=t,this._values=Object.create(t.defaultPropertyValues)};ui.prototype.getValue=function(t){return x(this._values[t].value)},ui.prototype.setValue=function(t,e){this._values[t]=new ai(this._values[t].property,null===e?void 0:x(e))},ui.prototype.serialize=function(){for(var t={},e=0,r=Object.keys(this._values);e&lt;r.length;e+=1){var n=r[e],i=this.getValue(n);void 0!==i&amp;&amp;(t[n]=i)}return t},ui.prototype.possiblyEvaluate=function(t,e,r){for(var n=new hi(this._properties),i=0,a=Object.keys(this._values);i&lt;a.length;i+=1){var o=a[i];n._values[o]=this._values[o].possiblyEvaluate(t,e,r)}return n};var fi=function(t,e,r){this.property=t,this.value=e,this.parameters=r};fi.prototype.isConstant=function(){return\&quot;constant\&quot;===this.value.kind},fi.prototype.constantOr=function(t){return\&quot;constant\&quot;===this.value.kind?this.value.value:t},fi.prototype.evaluate=function(t,e,r,n){return this.property.evaluate(this.value,this.parameters,t,e,r,n)};var hi=function(t){this._properties=t,this._values=Object.create(t.defaultPossiblyEvaluatedValues)};hi.prototype.get=function(t){return this._values[t]};var pi=function(t){this.specification=t};pi.prototype.possiblyEvaluate=function(t,e){return t.expression.evaluate(e)},pi.prototype.interpolate=function(t,e,r){var n=Ve[this.specification.type];return n?n(t,e,r):t};var di=function(t,e){this.specification=t,this.overrides=e};di.prototype.possiblyEvaluate=function(t,e,r,n){return new fi(this,\&quot;constant\&quot;===t.expression.kind||\&quot;camera\&quot;===t.expression.kind?{kind:\&quot;constant\&quot;,value:t.expression.evaluate(e,null,{},r,n)}:t.expression,e)},di.prototype.interpolate=function(t,e,r){if(\&quot;constant\&quot;!==t.value.kind||\&quot;constant\&quot;!==e.value.kind)return t;if(void 0===t.value.value||void 0===e.value.value)return new fi(this,{kind:\&quot;constant\&quot;,value:void 0},t.parameters);var n=Ve[this.specification.type];return n?new fi(this,{kind:\&quot;constant\&quot;,value:n(t.value.value,e.value.value,r)},t.parameters):t},di.prototype.evaluate=function(t,e,r,n,i,a){return\&quot;constant\&quot;===t.kind?t.value:t.evaluate(e,r,n,i,a)};var gi=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(t,e,r,n){if(void 0===t.value)return new fi(this,{kind:\&quot;constant\&quot;,value:void 0},e);if(\&quot;constant\&quot;===t.expression.kind){var i=t.expression.evaluate(e,null,{},r,n),a=\&quot;resolvedImage\&quot;===t.property.specification.type&amp;&amp;\&quot;string\&quot;!=typeof i?i.name:i,o=this._calculate(a,a,a,e);return new fi(this,{kind:\&quot;constant\&quot;,value:o},e)}if(\&quot;camera\&quot;===t.expression.kind){var s=this._calculate(t.expression.evaluate({zoom:e.zoom-1}),t.expression.evaluate({zoom:e.zoom}),t.expression.evaluate({zoom:e.zoom+1}),e);return new fi(this,{kind:\&quot;constant\&quot;,value:s},e)}return new fi(this,t.expression,e)},e.prototype.evaluate=function(t,e,r,n,i,a){if(\&quot;source\&quot;===t.kind){var o=t.evaluate(e,r,n,i,a);return this._calculate(o,o,o,e)}return\&quot;composite\&quot;===t.kind?this._calculate(t.evaluate({zoom:Math.floor(e.zoom)-1},r,n),t.evaluate({zoom:Math.floor(e.zoom)},r,n),t.evaluate({zoom:Math.floor(e.zoom)+1},r,n),e):t.value},e.prototype._calculate=function(t,e,r,n){return n.zoom&gt;n.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:r,to:e}},e.prototype.interpolate=function(t){return t},e}(di),mi=function(t){this.specification=t};mi.prototype.possiblyEvaluate=function(t,e,r,n){if(void 0!==t.value){if(\&quot;constant\&quot;===t.expression.kind){var i=t.expression.evaluate(e,null,{},r,n);return this._calculate(i,i,i,e)}return this._calculate(t.expression.evaluate(new ii(Math.floor(e.zoom-1),e)),t.expression.evaluate(new ii(Math.floor(e.zoom),e)),t.expression.evaluate(new ii(Math.floor(e.zoom+1),e)),e)}},mi.prototype._calculate=function(t,e,r,n){return n.zoom&gt;n.zoomHistory.lastIntegerZoom?{from:t,to:e}:{from:r,to:e}},mi.prototype.interpolate=function(t){return t};var vi=function(t){this.specification=t};vi.prototype.possiblyEvaluate=function(t,e,r,n){return!!t.expression.evaluate(e,null,{},r,n)},vi.prototype.interpolate=function(){return!1};var yi=function(t){for(var e in this.properties=t,this.defaultPropertyValues={},this.defaultTransitionablePropertyValues={},this.defaultTransitioningPropertyValues={},this.defaultPossiblyEvaluatedValues={},this.overridableProperties=[],t){var r=t[e];r.specification.overridable&amp;&amp;this.overridableProperties.push(e);var n=this.defaultPropertyValues[e]=new ai(r,void 0),i=this.defaultTransitionablePropertyValues[e]=new oi(r);this.defaultTransitioningPropertyValues[e]=i.untransitioned(),this.defaultPossiblyEvaluatedValues[e]=n.possiblyEvaluate({})}};Dn(\&quot;DataDrivenProperty\&quot;,di),Dn(\&quot;DataConstantProperty\&quot;,pi),Dn(\&quot;CrossFadedDataDrivenProperty\&quot;,gi),Dn(\&quot;CrossFadedProperty\&quot;,mi),Dn(\&quot;ColorRampProperty\&quot;,vi);var xi=function(t){function e(e,r){if(t.call(this),this.id=e.id,this.type=e.type,this._featureFilter={filter:function(){return!0},needGeometry:!1},\&quot;custom\&quot;!==e.type&amp;&amp;(this.metadata=(e=e).metadata,this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,\&quot;background\&quot;!==e.type&amp;&amp;(this.source=e.source,this.sourceLayer=e[\&quot;source-layer\&quot;],this.filter=e.filter),r.layout&amp;&amp;(this._unevaluatedLayout=new ui(r.layout)),r.paint)){for(var n in this._transitionablePaint=new si(r.paint),e.paint)this.setPaintProperty(n,e.paint[n],{validate:!1});for(var i in e.layout)this.setLayoutProperty(i,e.layout[i],{validate:!1});this._transitioningPaint=this._transitionablePaint.untransitioned(),this.paint=new hi(r.paint)}}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.getCrossfadeParameters=function(){return this._crossfadeParameters},e.prototype.getLayoutProperty=function(t){return\&quot;visibility\&quot;===t?this.visibility:this._unevaluatedLayout.getValue(t)},e.prototype.setLayoutProperty=function(t,e,r){void 0===r&amp;&amp;(r={}),null!=e&amp;&amp;this._validate(En,\&quot;layers.\&quot;+this.id+\&quot;.layout.\&quot;+t,t,e,r)||(\&quot;visibility\&quot;!==t?this._unevaluatedLayout.setValue(t,e):this.visibility=e)},e.prototype.getPaintProperty=function(t){return m(t,\&quot;-transition\&quot;)?this._transitionablePaint.getTransition(t.slice(0,-\&quot;-transition\&quot;.length)):this._transitionablePaint.getValue(t)},e.prototype.setPaintProperty=function(t,e,r){if(void 0===r&amp;&amp;(r={}),null!=e&amp;&amp;this._validate(Sn,\&quot;layers.\&quot;+this.id+\&quot;.paint.\&quot;+t,t,e,r))return!1;if(m(t,\&quot;-transition\&quot;))return this._transitionablePaint.setTransition(t.slice(0,-\&quot;-transition\&quot;.length),e||void 0),!1;var n=this._transitionablePaint._values[t],i=\&quot;cross-faded-data-driven\&quot;===n.property.specification[\&quot;property-type\&quot;],a=n.value.isDataDriven(),o=n.value;this._transitionablePaint.setValue(t,e),this._handleSpecialPaintPropertyUpdate(t);var s=this._transitionablePaint._values[t].value;return s.isDataDriven()||a||i||this._handleOverridablePaintPropertyUpdate(t,o,s)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){},e.prototype._handleOverridablePaintPropertyUpdate=function(t,e,r){return!1},e.prototype.isHidden=function(t){return!!(this.minzoom&amp;&amp;t&lt;this.minzoom)||!!(this.maxzoom&amp;&amp;t&gt;=this.maxzoom)||\&quot;none\&quot;===this.visibility},e.prototype.updateTransitions=function(t){this._transitioningPaint=this._transitionablePaint.transitioned(t,this._transitioningPaint)},e.prototype.hasTransition=function(){return this._transitioningPaint.hasTransition()},e.prototype.recalculate=function(t,e){t.getCrossfadeParameters&amp;&amp;(this._crossfadeParameters=t.getCrossfadeParameters()),this._unevaluatedLayout&amp;&amp;(this.layout=this._unevaluatedLayout.possiblyEvaluate(t,void 0,e)),this.paint=this._transitioningPaint.possiblyEvaluate(t,void 0,e)},e.prototype.serialize=function(){var t={id:this.id,type:this.type,source:this.source,\&quot;source-layer\&quot;:this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:this._unevaluatedLayout&amp;&amp;this._unevaluatedLayout.serialize(),paint:this._transitionablePaint&amp;&amp;this._transitionablePaint.serialize()};return this.visibility&amp;&amp;(t.layout=t.layout||{},t.layout.visibility=this.visibility),y(t,(function(t,e){return!(void 0===t||\&quot;layout\&quot;===e&amp;&amp;!Object.keys(t).length||\&quot;paint\&quot;===e&amp;&amp;!Object.keys(t).length)}))},e.prototype._validate=function(t,e,r,n,i){return void 0===i&amp;&amp;(i={}),(!i||!1!==i.validate)&amp;&amp;Cn(this,t.call(Mn,{key:e,layerType:this.type,objectKey:r,value:n,styleSpec:At,style:{glyphs:!0,sprite:!0}}))},e.prototype.is3D=function(){return!1},e.prototype.isTileClipped=function(){return!1},e.prototype.hasOffscreenPass=function(){return!1},e.prototype.resize=function(){},e.prototype.isStateDependent=function(){for(var t in this.paint._values){var e=this.paint.get(t);if(e instanceof fi&amp;&amp;Lr(e.property.specification)&amp;&amp;(\&quot;source\&quot;===e.value.kind||\&quot;composite\&quot;===e.value.kind)&amp;&amp;e.value.isStateDependent)return!0}return!1},e}(Mt),bi={Int8:Int8Array,Uint8:Uint8Array,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array},_i=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},wi=function(){this.isTransferred=!1,this.capacity=-1,this.resize(0)};function Ti(t,e){void 0===e&amp;&amp;(e=1);var r=0,n=0;return{members:t.map((function(t){var i=bi[t.type].BYTES_PER_ELEMENT,a=r=ki(r,Math.max(e,i)),o=t.components||1;return n=Math.max(n,i),r+=i*o,{name:t.name,type:t.type,components:o,offset:a}})),size:ki(r,Math.max(n,e)),alignment:e}}function ki(t,e){return Math.ceil(t/e)*e}wi.serialize=function(t,e){return t._trim(),e&amp;&amp;(t.isTransferred=!0,e.push(t.arrayBuffer)),{length:t.length,arrayBuffer:t.arrayBuffer}},wi.deserialize=function(t){var e=Object.create(this.prototype);return e.arrayBuffer=t.arrayBuffer,e.length=t.length,e.capacity=t.arrayBuffer.byteLength/e.bytesPerElement,e._refreshViews(),e},wi.prototype._trim=function(){this.length!==this.capacity&amp;&amp;(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},wi.prototype.clear=function(){this.length=0},wi.prototype.resize=function(t){this.reserve(t),this.length=t},wi.prototype.reserve=function(t){if(t&gt;this.capacity){this.capacity=Math.max(t,Math.floor(5*this.capacity),128),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&amp;&amp;this.uint8.set(e)}},wi.prototype._refreshViews=function(){throw new Error(\&quot;_refreshViews() must be implemented by each concrete StructArray layout\&quot;)};var Mi=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var r=this.length;return this.resize(r+1),this.emplace(r,t,e)},e.prototype.emplace=function(t,e,r){var n=2*t;return this.int16[n+0]=e,this.int16[n+1]=r,t},e}(wi);Mi.prototype.bytesPerElement=4,Dn(\&quot;StructArrayLayout2i4\&quot;,Mi);var Ai=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,r,n)},e.prototype.emplace=function(t,e,r,n,i){var a=4*t;return this.int16[a+0]=e,this.int16[a+1]=r,this.int16[a+2]=n,this.int16[a+3]=i,t},e}(wi);Ai.prototype.bytesPerElement=8,Dn(\&quot;StructArrayLayout4i8\&quot;,Ai);var Si=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,r,n,i,a)},e.prototype.emplace=function(t,e,r,n,i,a,o){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,t},e}(wi);Si.prototype.bytesPerElement=12,Dn(\&quot;StructArrayLayout2i4i12\&quot;,Si);var Ei=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,r,n,i,a)},e.prototype.emplace=function(t,e,r,n,i,a,o){var s=4*t,l=8*t;return this.int16[s+0]=e,this.int16[s+1]=r,this.uint8[l+4]=n,this.uint8[l+5]=i,this.uint8[l+6]=a,this.uint8[l+7]=o,t},e}(wi);Ei.prototype.bytesPerElement=8,Dn(\&quot;StructArrayLayout2i4ub8\&quot;,Ei);var Ci=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,i,a,o,s,l,c){var u=this.length;return this.resize(u+1),this.emplace(u,t,e,r,n,i,a,o,s,l,c)},e.prototype.emplace=function(t,e,r,n,i,a,o,s,l,c,u){var f=9*t,h=18*t;return this.uint16[f+0]=e,this.uint16[f+1]=r,this.uint16[f+2]=n,this.uint16[f+3]=i,this.uint16[f+4]=a,this.uint16[f+5]=o,this.uint16[f+6]=s,this.uint16[f+7]=l,this.uint8[h+16]=c,this.uint8[h+17]=u,t},e}(wi);Ci.prototype.bytesPerElement=18,Dn(\&quot;StructArrayLayout8ui2ub18\&quot;,Ci);var Li=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,i,a,o,s,l,c,u,f){var h=this.length;return this.resize(h+1),this.emplace(h,t,e,r,n,i,a,o,s,l,c,u,f)},e.prototype.emplace=function(t,e,r,n,i,a,o,s,l,c,u,f,h){var p=12*t;return this.int16[p+0]=e,this.int16[p+1]=r,this.int16[p+2]=n,this.int16[p+3]=i,this.uint16[p+4]=a,this.uint16[p+5]=o,this.uint16[p+6]=s,this.uint16[p+7]=l,this.int16[p+8]=c,this.int16[p+9]=u,this.int16[p+10]=f,this.int16[p+11]=h,t},e}(wi);Li.prototype.bytesPerElement=24,Dn(\&quot;StructArrayLayout4i4ui4i24\&quot;,Li);var Ii=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r){var n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)},e.prototype.emplace=function(t,e,r,n){var i=3*t;return this.float32[i+0]=e,this.float32[i+1]=r,this.float32[i+2]=n,t},e}(wi);Ii.prototype.bytesPerElement=12,Dn(\&quot;StructArrayLayout3f12\&quot;,Ii);var Pi=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint32[1*t+0]=e,t},e}(wi);Pi.prototype.bytesPerElement=4,Dn(\&quot;StructArrayLayout1ul4\&quot;,Pi);var zi=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,i,a,o,s,l){var c=this.length;return this.resize(c+1),this.emplace(c,t,e,r,n,i,a,o,s,l)},e.prototype.emplace=function(t,e,r,n,i,a,o,s,l,c){var u=10*t,f=5*t;return this.int16[u+0]=e,this.int16[u+1]=r,this.int16[u+2]=n,this.int16[u+3]=i,this.int16[u+4]=a,this.int16[u+5]=o,this.uint32[f+3]=s,this.uint16[u+8]=l,this.uint16[u+9]=c,t},e}(wi);zi.prototype.bytesPerElement=20,Dn(\&quot;StructArrayLayout6i1ul2ui20\&quot;,zi);var Oi=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,i,a){var o=this.length;return this.resize(o+1),this.emplace(o,t,e,r,n,i,a)},e.prototype.emplace=function(t,e,r,n,i,a,o){var s=6*t;return this.int16[s+0]=e,this.int16[s+1]=r,this.int16[s+2]=n,this.int16[s+3]=i,this.int16[s+4]=a,this.int16[s+5]=o,t},e}(wi);Oi.prototype.bytesPerElement=12,Dn(\&quot;StructArrayLayout2i2i2i12\&quot;,Oi);var Di=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,i){var a=this.length;return this.resize(a+1),this.emplace(a,t,e,r,n,i)},e.prototype.emplace=function(t,e,r,n,i,a){var o=4*t,s=8*t;return this.float32[o+0]=e,this.float32[o+1]=r,this.float32[o+2]=n,this.int16[s+6]=i,this.int16[s+7]=a,t},e}(wi);Di.prototype.bytesPerElement=16,Dn(\&quot;StructArrayLayout2f1f2i16\&quot;,Di);var Ri=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,r,n)},e.prototype.emplace=function(t,e,r,n,i){var a=12*t,o=3*t;return this.uint8[a+0]=e,this.uint8[a+1]=r,this.float32[o+1]=n,this.float32[o+2]=i,t},e}(wi);Ri.prototype.bytesPerElement=12,Dn(\&quot;StructArrayLayout2ub2f12\&quot;,Ri);var Fi=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r){var n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)},e.prototype.emplace=function(t,e,r,n){var i=3*t;return this.uint16[i+0]=e,this.uint16[i+1]=r,this.uint16[i+2]=n,t},e}(wi);Fi.prototype.bytesPerElement=6,Dn(\&quot;StructArrayLayout3ui6\&quot;,Fi);var Bi=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,i,a,o,s,l,c,u,f,h,p,d,g,m){var v=this.length;return this.resize(v+1),this.emplace(v,t,e,r,n,i,a,o,s,l,c,u,f,h,p,d,g,m)},e.prototype.emplace=function(t,e,r,n,i,a,o,s,l,c,u,f,h,p,d,g,m,v){var y=24*t,x=12*t,b=48*t;return this.int16[y+0]=e,this.int16[y+1]=r,this.uint16[y+2]=n,this.uint16[y+3]=i,this.uint32[x+2]=a,this.uint32[x+3]=o,this.uint32[x+4]=s,this.uint16[y+10]=l,this.uint16[y+11]=c,this.uint16[y+12]=u,this.float32[x+7]=f,this.float32[x+8]=h,this.uint8[b+36]=p,this.uint8[b+37]=d,this.uint8[b+38]=g,this.uint32[x+10]=m,this.int16[y+22]=v,t},e}(wi);Bi.prototype.bytesPerElement=48,Dn(\&quot;StructArrayLayout2i2ui3ul3ui2f3ub1ul1i48\&quot;,Bi);var Ni=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n,i,a,o,s,l,c,u,f,h,p,d,g,m,v,y,x,b,_,w,T,k,M,A,S){var E=this.length;return this.resize(E+1),this.emplace(E,t,e,r,n,i,a,o,s,l,c,u,f,h,p,d,g,m,v,y,x,b,_,w,T,k,M,A,S)},e.prototype.emplace=function(t,e,r,n,i,a,o,s,l,c,u,f,h,p,d,g,m,v,y,x,b,_,w,T,k,M,A,S,E){var C=34*t,L=17*t;return this.int16[C+0]=e,this.int16[C+1]=r,this.int16[C+2]=n,this.int16[C+3]=i,this.int16[C+4]=a,this.int16[C+5]=o,this.int16[C+6]=s,this.int16[C+7]=l,this.uint16[C+8]=c,this.uint16[C+9]=u,this.uint16[C+10]=f,this.uint16[C+11]=h,this.uint16[C+12]=p,this.uint16[C+13]=d,this.uint16[C+14]=g,this.uint16[C+15]=m,this.uint16[C+16]=v,this.uint16[C+17]=y,this.uint16[C+18]=x,this.uint16[C+19]=b,this.uint16[C+20]=_,this.uint16[C+21]=w,this.uint16[C+22]=T,this.uint32[L+12]=k,this.float32[L+13]=M,this.float32[L+14]=A,this.float32[L+15]=S,this.float32[L+16]=E,t},e}(wi);Ni.prototype.bytesPerElement=68,Dn(\&quot;StructArrayLayout8i15ui1ul4f68\&quot;,Ni);var ji=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.float32[1*t+0]=e,t},e}(wi);ji.prototype.bytesPerElement=4,Dn(\&quot;StructArrayLayout1f4\&quot;,ji);var Ui=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.int16=new Int16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r){var n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)},e.prototype.emplace=function(t,e,r,n){var i=3*t;return this.int16[i+0]=e,this.int16[i+1]=r,this.int16[i+2]=n,t},e}(wi);Ui.prototype.bytesPerElement=6,Dn(\&quot;StructArrayLayout3i6\&quot;,Ui);var Vi=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint32=new Uint32Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r){var n=this.length;return this.resize(n+1),this.emplace(n,t,e,r)},e.prototype.emplace=function(t,e,r,n){var i=4*t;return this.uint32[2*t+0]=e,this.uint16[i+2]=r,this.uint16[i+3]=n,t},e}(wi);Vi.prototype.bytesPerElement=8,Dn(\&quot;StructArrayLayout1ul2ui8\&quot;,Vi);var qi=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var r=this.length;return this.resize(r+1),this.emplace(r,t,e)},e.prototype.emplace=function(t,e,r){var n=2*t;return this.uint16[n+0]=e,this.uint16[n+1]=r,t},e}(wi);qi.prototype.bytesPerElement=4,Dn(\&quot;StructArrayLayout2ui4\&quot;,qi);var Hi=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.uint16=new Uint16Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t){var e=this.length;return this.resize(e+1),this.emplace(e,t)},e.prototype.emplace=function(t,e){return this.uint16[1*t+0]=e,t},e}(wi);Hi.prototype.bytesPerElement=2,Dn(\&quot;StructArrayLayout1ui2\&quot;,Hi);var Gi=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e){var r=this.length;return this.resize(r+1),this.emplace(r,t,e)},e.prototype.emplace=function(t,e,r){var n=2*t;return this.float32[n+0]=e,this.float32[n+1]=r,t},e}(wi);Gi.prototype.bytesPerElement=8,Dn(\&quot;StructArrayLayout2f8\&quot;,Gi);var Yi=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._refreshViews=function(){this.uint8=new Uint8Array(this.arrayBuffer),this.float32=new Float32Array(this.arrayBuffer)},e.prototype.emplaceBack=function(t,e,r,n){var i=this.length;return this.resize(i+1),this.emplace(i,t,e,r,n)},e.prototype.emplace=function(t,e,r,n,i){var a=4*t;return this.float32[a+0]=e,this.float32[a+1]=r,this.float32[a+2]=n,this.float32[a+3]=i,t},e}(wi);Yi.prototype.bytesPerElement=16,Dn(\&quot;StructArrayLayout4f16\&quot;,Yi);var Wi=function(t){function e(){t.apply(this,arguments)}t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e;var r={anchorPointX:{configurable:!0},anchorPointY:{configurable:!0},x1:{configurable:!0},y1:{configurable:!0},x2:{configurable:!0},y2:{configurable:!0},featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0},anchorPoint:{configurable:!0}};return r.anchorPointX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorPointY.get=function(){return this._structArray.int16[this._pos2+1]},r.x1.get=function(){return this._structArray.int16[this._pos2+2]},r.y1.get=function(){return this._structArray.int16[this._pos2+3]},r.x2.get=function(){return this._structArray.int16[this._pos2+4]},r.y2.get=function(){return this._structArray.int16[this._pos2+5]},r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+8]},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.anchorPoint.get=function(){return new i(this.anchorPointX,this.anchorPointY)},Object.defineProperties(e.prototype,r),e}(_i);Wi.prototype.size=20;var Xi=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.get=function(t){return new Wi(this,t)},e}(zi);Dn(\&quot;CollisionBoxArray\&quot;,Xi);var Zi=function(t){function e(){t.apply(this,arguments)}t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},glyphStartIndex:{configurable:!0},numGlyphs:{configurable:!0},vertexStartIndex:{configurable:!0},lineStartIndex:{configurable:!0},lineLength:{configurable:!0},segment:{configurable:!0},lowerSize:{configurable:!0},upperSize:{configurable:!0},lineOffsetX:{configurable:!0},lineOffsetY:{configurable:!0},writingMode:{configurable:!0},placedOrientation:{configurable:!0},hidden:{configurable:!0},crossTileID:{configurable:!0},associatedIconIndex:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.glyphStartIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.numGlyphs.get=function(){return this._structArray.uint16[this._pos2+3]},r.vertexStartIndex.get=function(){return this._structArray.uint32[this._pos4+2]},r.lineStartIndex.get=function(){return this._structArray.uint32[this._pos4+3]},r.lineLength.get=function(){return this._structArray.uint32[this._pos4+4]},r.segment.get=function(){return this._structArray.uint16[this._pos2+10]},r.lowerSize.get=function(){return this._structArray.uint16[this._pos2+11]},r.upperSize.get=function(){return this._structArray.uint16[this._pos2+12]},r.lineOffsetX.get=function(){return this._structArray.float32[this._pos4+7]},r.lineOffsetY.get=function(){return this._structArray.float32[this._pos4+8]},r.writingMode.get=function(){return this._structArray.uint8[this._pos1+36]},r.placedOrientation.get=function(){return this._structArray.uint8[this._pos1+37]},r.placedOrientation.set=function(t){this._structArray.uint8[this._pos1+37]=t},r.hidden.get=function(){return this._structArray.uint8[this._pos1+38]},r.hidden.set=function(t){this._structArray.uint8[this._pos1+38]=t},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+10]},r.crossTileID.set=function(t){this._structArray.uint32[this._pos4+10]=t},r.associatedIconIndex.get=function(){return this._structArray.int16[this._pos2+22]},Object.defineProperties(e.prototype,r),e}(_i);Zi.prototype.size=48;var Ji=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.get=function(t){return new Zi(this,t)},e}(Bi);Dn(\&quot;PlacedSymbolArray\&quot;,Ji);var Ki=function(t){function e(){t.apply(this,arguments)}t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e;var r={anchorX:{configurable:!0},anchorY:{configurable:!0},rightJustifiedTextSymbolIndex:{configurable:!0},centerJustifiedTextSymbolIndex:{configurable:!0},leftJustifiedTextSymbolIndex:{configurable:!0},verticalPlacedTextSymbolIndex:{configurable:!0},placedIconSymbolIndex:{configurable:!0},verticalPlacedIconSymbolIndex:{configurable:!0},key:{configurable:!0},textBoxStartIndex:{configurable:!0},textBoxEndIndex:{configurable:!0},verticalTextBoxStartIndex:{configurable:!0},verticalTextBoxEndIndex:{configurable:!0},iconBoxStartIndex:{configurable:!0},iconBoxEndIndex:{configurable:!0},verticalIconBoxStartIndex:{configurable:!0},verticalIconBoxEndIndex:{configurable:!0},featureIndex:{configurable:!0},numHorizontalGlyphVertices:{configurable:!0},numVerticalGlyphVertices:{configurable:!0},numIconVertices:{configurable:!0},numVerticalIconVertices:{configurable:!0},useRuntimeCollisionCircles:{configurable:!0},crossTileID:{configurable:!0},textBoxScale:{configurable:!0},textOffset0:{configurable:!0},textOffset1:{configurable:!0},collisionCircleDiameter:{configurable:!0}};return r.anchorX.get=function(){return this._structArray.int16[this._pos2+0]},r.anchorY.get=function(){return this._structArray.int16[this._pos2+1]},r.rightJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+2]},r.centerJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+3]},r.leftJustifiedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+4]},r.verticalPlacedTextSymbolIndex.get=function(){return this._structArray.int16[this._pos2+5]},r.placedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+6]},r.verticalPlacedIconSymbolIndex.get=function(){return this._structArray.int16[this._pos2+7]},r.key.get=function(){return this._structArray.uint16[this._pos2+8]},r.textBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+9]},r.textBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+10]},r.verticalTextBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+11]},r.verticalTextBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+12]},r.iconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+13]},r.iconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+14]},r.verticalIconBoxStartIndex.get=function(){return this._structArray.uint16[this._pos2+15]},r.verticalIconBoxEndIndex.get=function(){return this._structArray.uint16[this._pos2+16]},r.featureIndex.get=function(){return this._structArray.uint16[this._pos2+17]},r.numHorizontalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+18]},r.numVerticalGlyphVertices.get=function(){return this._structArray.uint16[this._pos2+19]},r.numIconVertices.get=function(){return this._structArray.uint16[this._pos2+20]},r.numVerticalIconVertices.get=function(){return this._structArray.uint16[this._pos2+21]},r.useRuntimeCollisionCircles.get=function(){return this._structArray.uint16[this._pos2+22]},r.crossTileID.get=function(){return this._structArray.uint32[this._pos4+12]},r.crossTileID.set=function(t){this._structArray.uint32[this._pos4+12]=t},r.textBoxScale.get=function(){return this._structArray.float32[this._pos4+13]},r.textOffset0.get=function(){return this._structArray.float32[this._pos4+14]},r.textOffset1.get=function(){return this._structArray.float32[this._pos4+15]},r.collisionCircleDiameter.get=function(){return this._structArray.float32[this._pos4+16]},Object.defineProperties(e.prototype,r),e}(_i);Ki.prototype.size=68;var Qi=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.get=function(t){return new Ki(this,t)},e}(Ni);Dn(\&quot;SymbolInstanceArray\&quot;,Qi);var $i=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.getoffsetX=function(t){return this.float32[1*t+0]},e}(ji);Dn(\&quot;GlyphOffsetArray\&quot;,$i);var ta=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.getx=function(t){return this.int16[3*t+0]},e.prototype.gety=function(t){return this.int16[3*t+1]},e.prototype.gettileUnitDistanceFromAnchor=function(t){return this.int16[3*t+2]},e}(Ui);Dn(\&quot;SymbolLineVertexArray\&quot;,ta);var ea=function(t){function e(){t.apply(this,arguments)}t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e;var r={featureIndex:{configurable:!0},sourceLayerIndex:{configurable:!0},bucketIndex:{configurable:!0}};return r.featureIndex.get=function(){return this._structArray.uint32[this._pos4+0]},r.sourceLayerIndex.get=function(){return this._structArray.uint16[this._pos2+2]},r.bucketIndex.get=function(){return this._structArray.uint16[this._pos2+3]},Object.defineProperties(e.prototype,r),e}(_i);ea.prototype.size=8;var ra=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.get=function(t){return new ea(this,t)},e}(Vi);Dn(\&quot;FeatureIndexArray\&quot;,ra);var na=Ti([{name:\&quot;a_pos\&quot;,components:2,type:\&quot;Int16\&quot;}],4).members,ia=function(t){void 0===t&amp;&amp;(t=[]),this.segments=t};function aa(t,e){return 256*(t=l(Math.floor(t),0,255))+l(Math.floor(e),0,255)}ia.prototype.prepareSegment=function(t,e,r,n){var i=this.segments[this.segments.length-1];return t&gt;ia.MAX_VERTEX_ARRAY_LENGTH&amp;&amp;_(\&quot;Max vertices per segment is \&quot;+ia.MAX_VERTEX_ARRAY_LENGTH+\&quot;: bucket requested \&quot;+t),(!i||i.vertexLength+t&gt;ia.MAX_VERTEX_ARRAY_LENGTH||i.sortKey!==n)&amp;&amp;(i={vertexOffset:e.length,primitiveOffset:r.length,vertexLength:0,primitiveLength:0},void 0!==n&amp;&amp;(i.sortKey=n),this.segments.push(i)),i},ia.prototype.get=function(){return this.segments},ia.prototype.destroy=function(){for(var t=0,e=this.segments;t&lt;e.length;t+=1){var r=e[t];for(var n in r.vaos)r.vaos[n].destroy()}},ia.simpleSegment=function(t,e,r,n){return new ia([{vertexOffset:t,primitiveOffset:e,vertexLength:r,primitiveLength:n,vaos:{},sortKey:0}])},ia.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,Dn(\&quot;SegmentVector\&quot;,ia);var oa=Ti([{name:\&quot;a_pattern_from\&quot;,components:4,type:\&quot;Uint16\&quot;},{name:\&quot;a_pattern_to\&quot;,components:4,type:\&quot;Uint16\&quot;},{name:\&quot;a_pixel_ratio_from\&quot;,components:1,type:\&quot;Uint8\&quot;},{name:\&quot;a_pixel_ratio_to\&quot;,components:1,type:\&quot;Uint8\&quot;}]),sa=e((function(t){t.exports=function(t,e){var r,n,i,a,o,s,l,c;for(n=t.length-(r=3&amp;t.length),i=e,o=3432918353,s=461845907,c=0;c&lt;n;)l=255&amp;t.charCodeAt(c)|(255&amp;t.charCodeAt(++c))&lt;&lt;8|(255&amp;t.charCodeAt(++c))&lt;&lt;16|(255&amp;t.charCodeAt(++c))&lt;&lt;24,++c,i=27492+(65535&amp;(a=5*(65535&amp;(i=(i^=l=(65535&amp;(l=(l=(65535&amp;l)*o+(((l&gt;&gt;&gt;16)*o&amp;65535)&lt;&lt;16)&amp;4294967295)&lt;&lt;15|l&gt;&gt;&gt;17))*s+(((l&gt;&gt;&gt;16)*s&amp;65535)&lt;&lt;16)&amp;4294967295)&lt;&lt;13|i&gt;&gt;&gt;19))+((5*(i&gt;&gt;&gt;16)&amp;65535)&lt;&lt;16)&amp;4294967295))+((58964+(a&gt;&gt;&gt;16)&amp;65535)&lt;&lt;16);switch(l=0,r){case 3:l^=(255&amp;t.charCodeAt(c+2))&lt;&lt;16;case 2:l^=(255&amp;t.charCodeAt(c+1))&lt;&lt;8;case 1:i^=l=(65535&amp;(l=(l=(65535&amp;(l^=255&amp;t.charCodeAt(c)))*o+(((l&gt;&gt;&gt;16)*o&amp;65535)&lt;&lt;16)&amp;4294967295)&lt;&lt;15|l&gt;&gt;&gt;17))*s+(((l&gt;&gt;&gt;16)*s&amp;65535)&lt;&lt;16)&amp;4294967295}return i^=t.length,i=2246822507*(65535&amp;(i^=i&gt;&gt;&gt;16))+((2246822507*(i&gt;&gt;&gt;16)&amp;65535)&lt;&lt;16)&amp;4294967295,i=3266489909*(65535&amp;(i^=i&gt;&gt;&gt;13))+((3266489909*(i&gt;&gt;&gt;16)&amp;65535)&lt;&lt;16)&amp;4294967295,(i^=i&gt;&gt;&gt;16)&gt;&gt;&gt;0}})),la=e((function(t){t.exports=function(t,e){for(var r,n=t.length,i=e^n,a=0;n&gt;=4;)r=1540483477*(65535&amp;(r=255&amp;t.charCodeAt(a)|(255&amp;t.charCodeAt(++a))&lt;&lt;8|(255&amp;t.charCodeAt(++a))&lt;&lt;16|(255&amp;t.charCodeAt(++a))&lt;&lt;24))+((1540483477*(r&gt;&gt;&gt;16)&amp;65535)&lt;&lt;16),i=1540483477*(65535&amp;i)+((1540483477*(i&gt;&gt;&gt;16)&amp;65535)&lt;&lt;16)^(r=1540483477*(65535&amp;(r^=r&gt;&gt;&gt;24))+((1540483477*(r&gt;&gt;&gt;16)&amp;65535)&lt;&lt;16)),n-=4,++a;switch(n){case 3:i^=(255&amp;t.charCodeAt(a+2))&lt;&lt;16;case 2:i^=(255&amp;t.charCodeAt(a+1))&lt;&lt;8;case 1:i=1540483477*(65535&amp;(i^=255&amp;t.charCodeAt(a)))+((1540483477*(i&gt;&gt;&gt;16)&amp;65535)&lt;&lt;16)}return i=1540483477*(65535&amp;(i^=i&gt;&gt;&gt;13))+((1540483477*(i&gt;&gt;&gt;16)&amp;65535)&lt;&lt;16),(i^=i&gt;&gt;&gt;15)&gt;&gt;&gt;0}})),ca=sa,ua=la;ca.murmur3=sa,ca.murmur2=ua;var fa=function(){this.ids=[],this.positions=[],this.indexed=!1};fa.prototype.add=function(t,e,r,n){this.ids.push(pa(t)),this.positions.push(e,r,n)},fa.prototype.getPositions=function(t){for(var e=pa(t),r=0,n=this.ids.length-1;r&lt;n;){var i=r+n&gt;&gt;1;this.ids[i]&gt;=e?n=i:r=i+1}for(var a=[];this.ids[r]===e;)a.push({index:this.positions[3*r],start:this.positions[3*r+1],end:this.positions[3*r+2]}),r++;return a},fa.serialize=function(t,e){var r=new Float64Array(t.ids),n=new Uint32Array(t.positions);return function t(e,r,n,i){for(;n&lt;i;){for(var a=e[n+i&gt;&gt;1],o=n-1,s=i+1;;){do{o++}while(e[o]&lt;a);do{s--}while(e[s]&gt;a);if(o&gt;=s)break;da(e,o,s),da(r,3*o,3*s),da(r,3*o+1,3*s+1),da(r,3*o+2,3*s+2)}s-n&lt;i-s?(t(e,r,n,s),n=s+1):(t(e,r,s+1,i),i=s)}}(r,n,0,r.length-1),e&amp;&amp;e.push(r.buffer,n.buffer),{ids:r,positions:n}},fa.deserialize=function(t){var e=new fa;return e.ids=t.ids,e.positions=t.positions,e.indexed=!0,e};var ha=Math.pow(2,53)-1;function pa(t){var e=+t;return!isNaN(e)&amp;&amp;e&lt;=ha?e:ca(String(t))}function da(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}Dn(\&quot;FeaturePositionMap\&quot;,fa);var ga=function(t,e){this.gl=t.gl,this.location=e},ma=function(t){function e(e,r){t.call(this,e,r),this.current=0}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&amp;&amp;(this.current=t,this.gl.uniform1i(this.location,t))},e}(ga),va=function(t){function e(e,r){t.call(this,e,r),this.current=0}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.set=function(t){this.current!==t&amp;&amp;(this.current=t,this.gl.uniform1f(this.location,t))},e}(ga),ya=function(t){function e(e,r){t.call(this,e,r),this.current=[0,0]}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&amp;&amp;t[1]===this.current[1]||(this.current=t,this.gl.uniform2f(this.location,t[0],t[1]))},e}(ga),xa=function(t){function e(e,r){t.call(this,e,r),this.current=[0,0,0]}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&amp;&amp;t[1]===this.current[1]&amp;&amp;t[2]===this.current[2]||(this.current=t,this.gl.uniform3f(this.location,t[0],t[1],t[2]))},e}(ga),ba=function(t){function e(e,r){t.call(this,e,r),this.current=[0,0,0,0]}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.set=function(t){t[0]===this.current[0]&amp;&amp;t[1]===this.current[1]&amp;&amp;t[2]===this.current[2]&amp;&amp;t[3]===this.current[3]||(this.current=t,this.gl.uniform4f(this.location,t[0],t[1],t[2],t[3]))},e}(ga),_a=function(t){function e(e,r){t.call(this,e,r),this.current=Kt.transparent}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.set=function(t){t.r===this.current.r&amp;&amp;t.g===this.current.g&amp;&amp;t.b===this.current.b&amp;&amp;t.a===this.current.a||(this.current=t,this.gl.uniform4f(this.location,t.r,t.g,t.b,t.a))},e}(ga),wa=new Float32Array(16),Ta=function(t){function e(e,r){t.call(this,e,r),this.current=wa}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.set=function(t){if(t[12]!==this.current[12]||t[0]!==this.current[0])return this.current=t,void this.gl.uniformMatrix4fv(this.location,!1,t);for(var e=1;e&lt;16;e++)if(t[e]!==this.current[e]){this.current=t,this.gl.uniformMatrix4fv(this.location,!1,t);break}},e}(ga);function ka(t){return[aa(255*t.r,255*t.g),aa(255*t.b,255*t.a)]}var Ma=function(t,e,r){this.value=t,this.uniformNames=e.map((function(t){return\&quot;u_\&quot;+t})),this.type=r};Ma.prototype.setUniform=function(t,e,r){t.set(r.constantOr(this.value))},Ma.prototype.getBinding=function(t,e,r){return\&quot;color\&quot;===this.type?new _a(t,e):new va(t,e)};var Aa=function(t,e){this.uniformNames=e.map((function(t){return\&quot;u_\&quot;+t})),this.patternFrom=null,this.patternTo=null,this.pixelRatioFrom=1,this.pixelRatioTo=1};Aa.prototype.setConstantPatternPositions=function(t,e){this.pixelRatioFrom=e.pixelRatio,this.pixelRatioTo=t.pixelRatio,this.patternFrom=e.tlbr,this.patternTo=t.tlbr},Aa.prototype.setUniform=function(t,e,r,n){var i=\&quot;u_pattern_to\&quot;===n?this.patternTo:\&quot;u_pattern_from\&quot;===n?this.patternFrom:\&quot;u_pixel_ratio_to\&quot;===n?this.pixelRatioTo:\&quot;u_pixel_ratio_from\&quot;===n?this.pixelRatioFrom:null;i&amp;&amp;t.set(i)},Aa.prototype.getBinding=function(t,e,r){return\&quot;u_pattern\&quot;===r.substr(0,9)?new ba(t,e):new va(t,e)};var Sa=function(t,e,r,n){this.expression=t,this.type=r,this.maxValue=0,this.paintVertexAttributes=e.map((function(t){return{name:\&quot;a_\&quot;+t,type:\&quot;Float32\&quot;,components:\&quot;color\&quot;===r?2:1,offset:0}})),this.paintVertexArray=new n};Sa.prototype.populatePaintArray=function(t,e,r,n,i){var a=this.paintVertexArray.length,o=this.expression.evaluate(new ii(0),e,{},n,[],i);this.paintVertexArray.resize(t),this._setPaintValue(a,t,o)},Sa.prototype.updatePaintArray=function(t,e,r,n){var i=this.expression.evaluate({zoom:0},r,n);this._setPaintValue(t,e,i)},Sa.prototype._setPaintValue=function(t,e,r){if(\&quot;color\&quot;===this.type)for(var n=ka(r),i=t;i&lt;e;i++)this.paintVertexArray.emplace(i,n[0],n[1]);else{for(var a=t;a&lt;e;a++)this.paintVertexArray.emplace(a,r);this.maxValue=Math.max(this.maxValue,Math.abs(r))}},Sa.prototype.upload=function(t){this.paintVertexArray&amp;&amp;this.paintVertexArray.arrayBuffer&amp;&amp;(this.paintVertexBuffer&amp;&amp;this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Sa.prototype.destroy=function(){this.paintVertexBuffer&amp;&amp;this.paintVertexBuffer.destroy()};var Ea=function(t,e,r,n,i,a){this.expression=t,this.uniformNames=e.map((function(t){return\&quot;u_\&quot;+t+\&quot;_t\&quot;})),this.type=r,this.useIntegerZoom=n,this.zoom=i,this.maxValue=0,this.paintVertexAttributes=e.map((function(t){return{name:\&quot;a_\&quot;+t,type:\&quot;Float32\&quot;,components:\&quot;color\&quot;===r?4:2,offset:0}})),this.paintVertexArray=new a};Ea.prototype.populatePaintArray=function(t,e,r,n,i){var a=this.expression.evaluate(new ii(this.zoom),e,{},n,[],i),o=this.expression.evaluate(new ii(this.zoom+1),e,{},n,[],i),s=this.paintVertexArray.length;this.paintVertexArray.resize(t),this._setPaintValue(s,t,a,o)},Ea.prototype.updatePaintArray=function(t,e,r,n){var i=this.expression.evaluate({zoom:this.zoom},r,n),a=this.expression.evaluate({zoom:this.zoom+1},r,n);this._setPaintValue(t,e,i,a)},Ea.prototype._setPaintValue=function(t,e,r,n){if(\&quot;color\&quot;===this.type)for(var i=ka(r),a=ka(n),o=t;o&lt;e;o++)this.paintVertexArray.emplace(o,i[0],i[1],a[0],a[1]);else{for(var s=t;s&lt;e;s++)this.paintVertexArray.emplace(s,r,n);this.maxValue=Math.max(this.maxValue,Math.abs(r),Math.abs(n))}},Ea.prototype.upload=function(t){this.paintVertexArray&amp;&amp;this.paintVertexArray.arrayBuffer&amp;&amp;(this.paintVertexBuffer&amp;&amp;this.paintVertexBuffer.buffer?this.paintVertexBuffer.updateData(this.paintVertexArray):this.paintVertexBuffer=t.createVertexBuffer(this.paintVertexArray,this.paintVertexAttributes,this.expression.isStateDependent))},Ea.prototype.destroy=function(){this.paintVertexBuffer&amp;&amp;this.paintVertexBuffer.destroy()},Ea.prototype.setUniform=function(t,e){var r=this.useIntegerZoom?Math.floor(e.zoom):e.zoom,n=l(this.expression.interpolationFactor(r,this.zoom,this.zoom+1),0,1);t.set(n)},Ea.prototype.getBinding=function(t,e,r){return new va(t,e)};var Ca=function(t,e,r,n,i,a){this.expression=t,this.type=e,this.useIntegerZoom=r,this.zoom=n,this.layerId=a,this.zoomInPaintVertexArray=new i,this.zoomOutPaintVertexArray=new i};Ca.prototype.populatePaintArray=function(t,e,r){var n=this.zoomInPaintVertexArray.length;this.zoomInPaintVertexArray.resize(t),this.zoomOutPaintVertexArray.resize(t),this._setPaintValues(n,t,e.patterns&amp;&amp;e.patterns[this.layerId],r)},Ca.prototype.updatePaintArray=function(t,e,r,n,i){this._setPaintValues(t,e,r.patterns&amp;&amp;r.patterns[this.layerId],i)},Ca.prototype._setPaintValues=function(t,e,r,n){if(n&amp;&amp;r){var i=n[r.min],a=n[r.mid],o=n[r.max];if(i&amp;&amp;a&amp;&amp;o)for(var s=t;s&lt;e;s++)this.zoomInPaintVertexArray.emplace(s,a.tl[0],a.tl[1],a.br[0],a.br[1],i.tl[0],i.tl[1],i.br[0],i.br[1],a.pixelRatio,i.pixelRatio),this.zoomOutPaintVertexArray.emplace(s,a.tl[0],a.tl[1],a.br[0],a.br[1],o.tl[0],o.tl[1],o.br[0],o.br[1],a.pixelRatio,o.pixelRatio)}},Ca.prototype.upload=function(t){this.zoomInPaintVertexArray&amp;&amp;this.zoomInPaintVertexArray.arrayBuffer&amp;&amp;this.zoomOutPaintVertexArray&amp;&amp;this.zoomOutPaintVertexArray.arrayBuffer&amp;&amp;(this.zoomInPaintVertexBuffer=t.createVertexBuffer(this.zoomInPaintVertexArray,oa.members,this.expression.isStateDependent),this.zoomOutPaintVertexBuffer=t.createVertexBuffer(this.zoomOutPaintVertexArray,oa.members,this.expression.isStateDependent))},Ca.prototype.destroy=function(){this.zoomOutPaintVertexBuffer&amp;&amp;this.zoomOutPaintVertexBuffer.destroy(),this.zoomInPaintVertexBuffer&amp;&amp;this.zoomInPaintVertexBuffer.destroy()};var La=function(t,e,r,n){this.binders={},this.layoutAttributes=n,this._buffers=[];var i=[];for(var a in t.paint._values)if(r(a)){var o=t.paint.get(a);if(o instanceof fi&amp;&amp;Lr(o.property.specification)){var s=Pa(a,t.type),l=o.value,c=o.property.specification.type,u=o.property.useIntegerZoom,f=o.property.specification[\&quot;property-type\&quot;],h=\&quot;cross-faded\&quot;===f||\&quot;cross-faded-data-driven\&quot;===f;if(\&quot;constant\&quot;===l.kind)this.binders[a]=h?new Aa(l.value,s):new Ma(l.value,s,c),i.push(\&quot;/u_\&quot;+a);else if(\&quot;source\&quot;===l.kind||h){var p=za(a,c,\&quot;source\&quot;);this.binders[a]=h?new Ca(l,c,u,e,p,t.id):new Sa(l,s,c,p),i.push(\&quot;/a_\&quot;+a)}else{var d=za(a,c,\&quot;composite\&quot;);this.binders[a]=new Ea(l,s,c,u,e,d),i.push(\&quot;/z_\&quot;+a)}}}this.cacheKey=i.sort().join(\&quot;\&quot;)};La.prototype.getMaxValue=function(t){var e=this.binders[t];return e instanceof Sa||e instanceof Ea?e.maxValue:0},La.prototype.populatePaintArrays=function(t,e,r,n,i){for(var a in this.binders){var o=this.binders[a];(o instanceof Sa||o instanceof Ea||o instanceof Ca)&amp;&amp;o.populatePaintArray(t,e,r,n,i)}},La.prototype.setConstantPatternPositions=function(t,e){for(var r in this.binders){var n=this.binders[r];n instanceof Aa&amp;&amp;n.setConstantPatternPositions(t,e)}},La.prototype.updatePaintArrays=function(t,e,r,n,i){var a=!1;for(var o in t)for(var s=0,l=e.getPositions(o);s&lt;l.length;s+=1){var c=l[s],u=r.feature(c.index);for(var f in this.binders){var h=this.binders[f];if((h instanceof Sa||h instanceof Ea||h instanceof Ca)&amp;&amp;!0===h.expression.isStateDependent){var p=n.paint.get(f);h.expression=p.value,h.updatePaintArray(c.start,c.end,u,t[o],i),a=!0}}}return a},La.prototype.defines=function(){var t=[];for(var e in this.binders){var r=this.binders[e];(r instanceof Ma||r instanceof Aa)&amp;&amp;t.push.apply(t,r.uniformNames.map((function(t){return\&quot;#define HAS_UNIFORM_\&quot;+t})))}return t},La.prototype.getPaintVertexBuffers=function(){return this._buffers},La.prototype.getUniforms=function(t,e){var r=[];for(var n in this.binders){var i=this.binders[n];if(i instanceof Ma||i instanceof Aa||i instanceof Ea)for(var a=0,o=i.uniformNames;a&lt;o.length;a+=1){var s=o[a];if(e[s]){var l=i.getBinding(t,e[s],s);r.push({name:s,property:n,binding:l})}}}return r},La.prototype.setUniforms=function(t,e,r,n){for(var i=0,a=e;i&lt;a.length;i+=1){var o=a[i],s=o.name,l=o.property;this.binders[l].setUniform(o.binding,n,r.get(l),s)}},La.prototype.updatePaintBuffers=function(t){for(var e in this._buffers=[],this.binders){var r=this.binders[e];if(t&amp;&amp;r instanceof Ca){var n=2===t.fromScale?r.zoomInPaintVertexBuffer:r.zoomOutPaintVertexBuffer;n&amp;&amp;this._buffers.push(n)}else(r instanceof Sa||r instanceof Ea)&amp;&amp;r.paintVertexBuffer&amp;&amp;this._buffers.push(r.paintVertexBuffer)}},La.prototype.upload=function(t){for(var e in this.binders){var r=this.binders[e];(r instanceof Sa||r instanceof Ea||r instanceof Ca)&amp;&amp;r.upload(t)}this.updatePaintBuffers()},La.prototype.destroy=function(){for(var t in this.binders){var e=this.binders[t];(e instanceof Sa||e instanceof Ea||e instanceof Ca)&amp;&amp;e.destroy()}};var Ia=function(t,e,r,n){void 0===n&amp;&amp;(n=function(){return!0}),this.programConfigurations={};for(var i=0,a=e;i&lt;a.length;i+=1){var o=a[i];this.programConfigurations[o.id]=new La(o,r,n,t)}this.needsUpload=!1,this._featureMap=new fa,this._bufferOffset=0};function Pa(t,e){return{\&quot;text-opacity\&quot;:[\&quot;opacity\&quot;],\&quot;icon-opacity\&quot;:[\&quot;opacity\&quot;],\&quot;text-color\&quot;:[\&quot;fill_color\&quot;],\&quot;icon-color\&quot;:[\&quot;fill_color\&quot;],\&quot;text-halo-color\&quot;:[\&quot;halo_color\&quot;],\&quot;icon-halo-color\&quot;:[\&quot;halo_color\&quot;],\&quot;text-halo-blur\&quot;:[\&quot;halo_blur\&quot;],\&quot;icon-halo-blur\&quot;:[\&quot;halo_blur\&quot;],\&quot;text-halo-width\&quot;:[\&quot;halo_width\&quot;],\&quot;icon-halo-width\&quot;:[\&quot;halo_width\&quot;],\&quot;line-gap-width\&quot;:[\&quot;gapwidth\&quot;],\&quot;line-pattern\&quot;:[\&quot;pattern_to\&quot;,\&quot;pattern_from\&quot;,\&quot;pixel_ratio_to\&quot;,\&quot;pixel_ratio_from\&quot;],\&quot;fill-pattern\&quot;:[\&quot;pattern_to\&quot;,\&quot;pattern_from\&quot;,\&quot;pixel_ratio_to\&quot;,\&quot;pixel_ratio_from\&quot;],\&quot;fill-extrusion-pattern\&quot;:[\&quot;pattern_to\&quot;,\&quot;pattern_from\&quot;,\&quot;pixel_ratio_to\&quot;,\&quot;pixel_ratio_from\&quot;]}[t]||[t.replace(e+\&quot;-\&quot;,\&quot;\&quot;).replace(/-/g,\&quot;_\&quot;)]}function za(t,e,r){var n={color:{source:Gi,composite:Yi},number:{source:ji,composite:Gi}},i=function(t){return{\&quot;line-pattern\&quot;:{source:Ci,composite:Ci},\&quot;fill-pattern\&quot;:{source:Ci,composite:Ci},\&quot;fill-extrusion-pattern\&quot;:{source:Ci,composite:Ci}}[t]}(t);return i&amp;&amp;i[r]||n[e][r]}Ia.prototype.populatePaintArrays=function(t,e,r,n,i,a){for(var o in this.programConfigurations)this.programConfigurations[o].populatePaintArrays(t,e,n,i,a);void 0!==e.id&amp;&amp;this._featureMap.add(e.id,r,this._bufferOffset,t),this._bufferOffset=t,this.needsUpload=!0},Ia.prototype.updatePaintArrays=function(t,e,r,n){for(var i=0,a=r;i&lt;a.length;i+=1){var o=a[i];this.needsUpload=this.programConfigurations[o.id].updatePaintArrays(t,this._featureMap,e,o,n)||this.needsUpload}},Ia.prototype.get=function(t){return this.programConfigurations[t]},Ia.prototype.upload=function(t){if(this.needsUpload){for(var e in this.programConfigurations)this.programConfigurations[e].upload(t);this.needsUpload=!1}},Ia.prototype.destroy=function(){for(var t in this.programConfigurations)this.programConfigurations[t].destroy()},Dn(\&quot;ConstantBinder\&quot;,Ma),Dn(\&quot;CrossFadedConstantBinder\&quot;,Aa),Dn(\&quot;SourceExpressionBinder\&quot;,Sa),Dn(\&quot;CrossFadedCompositeBinder\&quot;,Ca),Dn(\&quot;CompositeExpressionBinder\&quot;,Ea),Dn(\&quot;ProgramConfiguration\&quot;,La,{omit:[\&quot;_buffers\&quot;]}),Dn(\&quot;ProgramConfigurationSet\&quot;,Ia);var Oa={min:-1*Math.pow(2,14),max:Math.pow(2,14)-1};function Da(t){for(var e=8192/t.extent,r=t.loadGeometry(),n=0;n&lt;r.length;n++)for(var i=r[n],a=0;a&lt;i.length;a++){var o=i[a];o.x=Math.round(o.x*e),o.y=Math.round(o.y*e),(o.x&lt;Oa.min||o.x&gt;Oa.max||o.y&lt;Oa.min||o.y&gt;Oa.max)&amp;&amp;(_(\&quot;Geometry exceeds allowed extent, reduce your vector tile buffer size\&quot;),o.x=l(o.x,Oa.min,Oa.max),o.y=l(o.y,Oa.min,Oa.max))}return r}function Ra(t,e,r,n,i){t.emplaceBack(2*e+(n+1)/2,2*r+(i+1)/2)}var Fa=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Mi,this.indexArray=new Fi,this.segments=new ia,this.programConfigurations=new Ia(na,t.layers,t.zoom),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function Ba(t,e){for(var r=0;r&lt;t.length;r++)if(Wa(e,t[r]))return!0;for(var n=0;n&lt;e.length;n++)if(Wa(t,e[n]))return!0;return!!Va(t,e)}function Na(t,e,r){return!!Wa(t,e)||!!Ha(e,t,r)}function ja(t,e){if(1===t.length)return Ya(e,t[0]);for(var r=0;r&lt;e.length;r++)for(var n=e[r],i=0;i&lt;n.length;i++)if(Wa(t,n[i]))return!0;for(var a=0;a&lt;t.length;a++)if(Ya(e,t[a]))return!0;for(var o=0;o&lt;e.length;o++)if(Va(t,e[o]))return!0;return!1}function Ua(t,e,r){if(t.length&gt;1){if(Va(t,e))return!0;for(var n=0;n&lt;e.length;n++)if(Ha(e[n],t,r))return!0}for(var i=0;i&lt;t.length;i++)if(Ha(t[i],e,r))return!0;return!1}function Va(t,e){if(0===t.length||0===e.length)return!1;for(var r=0;r&lt;t.length-1;r++)for(var n=t[r],i=t[r+1],a=0;a&lt;e.length-1;a++)if(qa(n,i,e[a],e[a+1]))return!0;return!1}function qa(t,e,r,n){return w(t,r,n)!==w(e,r,n)&amp;&amp;w(t,e,r)!==w(t,e,n)}function Ha(t,e,r){var n=r*r;if(1===e.length)return t.distSqr(e[0])&lt;n;for(var i=1;i&lt;e.length;i++)if(Ga(t,e[i-1],e[i])&lt;n)return!0;return!1}function Ga(t,e,r){var n=e.distSqr(r);if(0===n)return t.distSqr(e);var i=((t.x-e.x)*(r.x-e.x)+(t.y-e.y)*(r.y-e.y))/n;return t.distSqr(i&lt;0?e:i&gt;1?r:r.sub(e)._mult(i)._add(e))}function Ya(t,e){for(var r,n,i,a=!1,o=0;o&lt;t.length;o++)for(var s=0,l=(r=t[o]).length-1;s&lt;r.length;l=s++)(n=r[s]).y&gt;e.y!=(i=r[l]).y&gt;e.y&amp;&amp;e.x&lt;(i.x-n.x)*(e.y-n.y)/(i.y-n.y)+n.x&amp;&amp;(a=!a);return a}function Wa(t,e){for(var r=!1,n=0,i=t.length-1;n&lt;t.length;i=n++){var a=t[n],o=t[i];a.y&gt;e.y!=o.y&gt;e.y&amp;&amp;e.x&lt;(o.x-a.x)*(e.y-a.y)/(o.y-a.y)+a.x&amp;&amp;(r=!r)}return r}function Xa(t,e,r){var n=r[0],i=r[2];if(t.x&lt;n.x&amp;&amp;e.x&lt;n.x||t.x&gt;i.x&amp;&amp;e.x&gt;i.x||t.y&lt;n.y&amp;&amp;e.y&lt;n.y||t.y&gt;i.y&amp;&amp;e.y&gt;i.y)return!1;var a=w(t,e,r[0]);return a!==w(t,e,r[1])||a!==w(t,e,r[2])||a!==w(t,e,r[3])}function Za(t,e,r){var n=e.paint.get(t).value;return\&quot;constant\&quot;===n.kind?n.value:r.programConfigurations.get(e.id).getMaxValue(t)}function Ja(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function Ka(t,e,r,n,a){if(!e[0]&amp;&amp;!e[1])return t;var o=i.convert(e)._mult(a);\&quot;viewport\&quot;===r&amp;&amp;o._rotate(-n);for(var s=[],l=0;l&lt;t.length;l++)s.push(t[l].sub(o));return s}Fa.prototype.populate=function(t,e,r){var n=this.layers[0],i=[],a=null;\&quot;circle\&quot;===n.type&amp;&amp;(a=n.layout.get(\&quot;circle-sort-key\&quot;));for(var o=0,s=t;o&lt;s.length;o+=1){var l=s[o],c=l.feature,u=l.id,f=l.index,h=l.sourceLayerIndex,p=this.layers[0]._featureFilter.needGeometry,d={type:c.type,id:u,properties:c.properties,geometry:p?Da(c):[]};if(this.layers[0]._featureFilter.filter(new ii(this.zoom),d,r)){p||(d.geometry=Da(c));var g=a?a.evaluate(d,{},r):void 0;i.push({id:u,properties:c.properties,type:c.type,sourceLayerIndex:h,index:f,geometry:d.geometry,patterns:{},sortKey:g})}}a&amp;&amp;i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var m=0,v=i;m&lt;v.length;m+=1){var y=v[m],x=y.geometry,b=y.index,_=y.sourceLayerIndex,w=t[b].feature;this.addFeature(y,x,b,r),e.featureIndex.insert(w,x,b,_,this.index)}},Fa.prototype.update=function(t,e,r){this.stateDependentLayers.length&amp;&amp;this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r)},Fa.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Fa.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Fa.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,na),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Fa.prototype.destroy=function(){this.layoutVertexBuffer&amp;&amp;(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Fa.prototype.addFeature=function(t,e,r,n){for(var i=0,a=e;i&lt;a.length;i+=1)for(var o=0,s=a[i];o&lt;s.length;o+=1){var l=s[o],c=l.x,u=l.y;if(!(c&lt;0||c&gt;=8192||u&lt;0||u&gt;=8192)){var f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray,t.sortKey),h=f.vertexLength;Ra(this.layoutVertexArray,c,u,-1,-1),Ra(this.layoutVertexArray,c,u,1,-1),Ra(this.layoutVertexArray,c,u,1,1),Ra(this.layoutVertexArray,c,u,-1,1),this.indexArray.emplaceBack(h,h+1,h+2),this.indexArray.emplaceBack(h,h+3,h+2),f.vertexLength+=4,f.primitiveLength+=2}}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,{},n)},Dn(\&quot;CircleBucket\&quot;,Fa,{omit:[\&quot;layers\&quot;]});var Qa=new yi({\&quot;circle-sort-key\&quot;:new di(At.layout_circle[\&quot;circle-sort-key\&quot;])}),$a={paint:new yi({\&quot;circle-radius\&quot;:new di(At.paint_circle[\&quot;circle-radius\&quot;]),\&quot;circle-color\&quot;:new di(At.paint_circle[\&quot;circle-color\&quot;]),\&quot;circle-blur\&quot;:new di(At.paint_circle[\&quot;circle-blur\&quot;]),\&quot;circle-opacity\&quot;:new di(At.paint_circle[\&quot;circle-opacity\&quot;]),\&quot;circle-translate\&quot;:new pi(At.paint_circle[\&quot;circle-translate\&quot;]),\&quot;circle-translate-anchor\&quot;:new pi(At.paint_circle[\&quot;circle-translate-anchor\&quot;]),\&quot;circle-pitch-scale\&quot;:new pi(At.paint_circle[\&quot;circle-pitch-scale\&quot;]),\&quot;circle-pitch-alignment\&quot;:new pi(At.paint_circle[\&quot;circle-pitch-alignment\&quot;]),\&quot;circle-stroke-width\&quot;:new di(At.paint_circle[\&quot;circle-stroke-width\&quot;]),\&quot;circle-stroke-color\&quot;:new di(At.paint_circle[\&quot;circle-stroke-color\&quot;]),\&quot;circle-stroke-opacity\&quot;:new di(At.paint_circle[\&quot;circle-stroke-opacity\&quot;])}),layout:Qa},to=\&quot;undefined\&quot;!=typeof Float32Array?Float32Array:Array;function eo(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function ro(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],f=e[8],h=e[9],p=e[10],d=e[11],g=e[12],m=e[13],v=e[14],y=e[15],x=r[0],b=r[1],_=r[2],w=r[3];return t[0]=x*n+b*s+_*f+w*g,t[1]=x*i+b*l+_*h+w*m,t[2]=x*a+b*c+_*p+w*v,t[3]=x*o+b*u+_*d+w*y,t[4]=(x=r[4])*n+(b=r[5])*s+(_=r[6])*f+(w=r[7])*g,t[5]=x*i+b*l+_*h+w*m,t[6]=x*a+b*c+_*p+w*v,t[7]=x*o+b*u+_*d+w*y,t[8]=(x=r[8])*n+(b=r[9])*s+(_=r[10])*f+(w=r[11])*g,t[9]=x*i+b*l+_*h+w*m,t[10]=x*a+b*c+_*p+w*v,t[11]=x*o+b*u+_*d+w*y,t[12]=(x=r[12])*n+(b=r[13])*s+(_=r[14])*f+(w=r[15])*g,t[13]=x*i+b*l+_*h+w*m,t[14]=x*a+b*c+_*p+w*v,t[15]=x*o+b*u+_*d+w*y,t}Math.hypot||(Math.hypot=function(){for(var t=arguments,e=0,r=arguments.length;r--;)e+=t[r]*t[r];return Math.sqrt(e)});var no,io=ro;function ao(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3];return t[0]=r[0]*n+r[4]*i+r[8]*a+r[12]*o,t[1]=r[1]*n+r[5]*i+r[9]*a+r[13]*o,t[2]=r[2]*n+r[6]*i+r[10]*a+r[14]*o,t[3]=r[3]*n+r[7]*i+r[11]*a+r[15]*o,t}no=new to(3),to!=Float32Array&amp;&amp;(no[0]=0,no[1]=0,no[2]=0),function(){var t=new to(4);to!=Float32Array&amp;&amp;(t[0]=0,t[1]=0,t[2]=0,t[3]=0)}();var oo=(function(){var t=new to(2);to!=Float32Array&amp;&amp;(t[0]=0,t[1]=0)}(),function(t){function e(e){t.call(this,e,$a)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new Fa(t)},e.prototype.queryRadius=function(t){var e=t;return Za(\&quot;circle-radius\&quot;,this,e)+Za(\&quot;circle-stroke-width\&quot;,this,e)+Ja(this.paint.get(\&quot;circle-translate\&quot;))},e.prototype.queryIntersectsFeature=function(t,e,r,n,i,a,o,s){for(var l=Ka(t,this.paint.get(\&quot;circle-translate\&quot;),this.paint.get(\&quot;circle-translate-anchor\&quot;),a.angle,o),c=this.paint.get(\&quot;circle-radius\&quot;).evaluate(e,r)+this.paint.get(\&quot;circle-stroke-width\&quot;).evaluate(e,r),u=\&quot;map\&quot;===this.paint.get(\&quot;circle-pitch-alignment\&quot;),f=u?l:function(t,e){return t.map((function(t){return so(t,e)}))}(l,s),h=u?c*o:c,p=0,d=n;p&lt;d.length;p+=1)for(var g=0,m=d[p];g&lt;m.length;g+=1){var v=m[g],y=u?v:so(v,s),x=h,b=ao([],[v.x,v.y,0,1],s);if(\&quot;viewport\&quot;===this.paint.get(\&quot;circle-pitch-scale\&quot;)&amp;&amp;\&quot;map\&quot;===this.paint.get(\&quot;circle-pitch-alignment\&quot;)?x*=b[3]/a.cameraToCenterDistance:\&quot;map\&quot;===this.paint.get(\&quot;circle-pitch-scale\&quot;)&amp;&amp;\&quot;viewport\&quot;===this.paint.get(\&quot;circle-pitch-alignment\&quot;)&amp;&amp;(x*=a.cameraToCenterDistance/b[3]),Na(f,y,x))return!0}return!1},e}(xi));function so(t,e){var r=ao([],[t.x,t.y,0,1],e);return new i(r[0]/r[3],r[1]/r[3])}var lo=function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e}(Fa);function co(t,e,r,n){var i=e.width,a=e.height;if(n){if(n instanceof Uint8ClampedArray)n=new Uint8Array(n.buffer);else if(n.length!==i*a*r)throw new RangeError(\&quot;mismatched image size\&quot;)}else n=new Uint8Array(i*a*r);return t.width=i,t.height=a,t.data=n,t}function uo(t,e,r){var n=e.width,i=e.height;if(n!==t.width||i!==t.height){var a=co({},{width:n,height:i},r);fo(t,a,{x:0,y:0},{x:0,y:0},{width:Math.min(t.width,n),height:Math.min(t.height,i)},r),t.width=n,t.height=i,t.data=a.data}}function fo(t,e,r,n,i,a){if(0===i.width||0===i.height)return e;if(i.width&gt;t.width||i.height&gt;t.height||r.x&gt;t.width-i.width||r.y&gt;t.height-i.height)throw new RangeError(\&quot;out of range source coordinates for image copy\&quot;);if(i.width&gt;e.width||i.height&gt;e.height||n.x&gt;e.width-i.width||n.y&gt;e.height-i.height)throw new RangeError(\&quot;out of range destination coordinates for image copy\&quot;);for(var o=t.data,s=e.data,l=0;l&lt;i.height;l++)for(var c=((r.y+l)*t.width+r.x)*a,u=((n.y+l)*e.width+n.x)*a,f=0;f&lt;i.width*a;f++)s[u+f]=o[c+f];return e}Dn(\&quot;HeatmapBucket\&quot;,lo,{omit:[\&quot;layers\&quot;]});var ho=function(t,e){co(this,t,1,e)};ho.prototype.resize=function(t){uo(this,t,1)},ho.prototype.clone=function(){return new ho({width:this.width,height:this.height},new Uint8Array(this.data))},ho.copy=function(t,e,r,n,i){fo(t,e,r,n,i,1)};var po=function(t,e){co(this,t,4,e)};po.prototype.resize=function(t){uo(this,t,4)},po.prototype.replace=function(t,e){e?this.data.set(t):this.data=t instanceof Uint8ClampedArray?new Uint8Array(t.buffer):t},po.prototype.clone=function(){return new po({width:this.width,height:this.height},new Uint8Array(this.data))},po.copy=function(t,e,r,n,i){fo(t,e,r,n,i,4)},Dn(\&quot;AlphaImage\&quot;,ho),Dn(\&quot;RGBAImage\&quot;,po);var go={paint:new yi({\&quot;heatmap-radius\&quot;:new di(At.paint_heatmap[\&quot;heatmap-radius\&quot;]),\&quot;heatmap-weight\&quot;:new di(At.paint_heatmap[\&quot;heatmap-weight\&quot;]),\&quot;heatmap-intensity\&quot;:new pi(At.paint_heatmap[\&quot;heatmap-intensity\&quot;]),\&quot;heatmap-color\&quot;:new vi(At.paint_heatmap[\&quot;heatmap-color\&quot;]),\&quot;heatmap-opacity\&quot;:new pi(At.paint_heatmap[\&quot;heatmap-opacity\&quot;])})};function mo(t,e){for(var r=new Uint8Array(1024),n={},i=0,a=0;i&lt;256;i++,a+=4){n[e]=i/255;var o=t.evaluate(n);r[a+0]=Math.floor(255*o.r/o.a),r[a+1]=Math.floor(255*o.g/o.a),r[a+2]=Math.floor(255*o.b/o.a),r[a+3]=Math.floor(255*o.a)}return new po({width:256,height:1},r)}var vo=function(t){function e(e){t.call(this,e,go),this._updateColorRamp()}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new lo(t)},e.prototype._handleSpecialPaintPropertyUpdate=function(t){\&quot;heatmap-color\&quot;===t&amp;&amp;this._updateColorRamp()},e.prototype._updateColorRamp=function(){this.colorRamp=mo(this._transitionablePaint._values[\&quot;heatmap-color\&quot;].value.expression,\&quot;heatmapDensity\&quot;),this.colorRampTexture=null},e.prototype.resize=function(){this.heatmapFbo&amp;&amp;(this.heatmapFbo.destroy(),this.heatmapFbo=null)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get(\&quot;heatmap-opacity\&quot;)&amp;&amp;\&quot;none\&quot;!==this.visibility},e}(xi),yo={paint:new yi({\&quot;hillshade-illumination-direction\&quot;:new pi(At.paint_hillshade[\&quot;hillshade-illumination-direction\&quot;]),\&quot;hillshade-illumination-anchor\&quot;:new pi(At.paint_hillshade[\&quot;hillshade-illumination-anchor\&quot;]),\&quot;hillshade-exaggeration\&quot;:new pi(At.paint_hillshade[\&quot;hillshade-exaggeration\&quot;]),\&quot;hillshade-shadow-color\&quot;:new pi(At.paint_hillshade[\&quot;hillshade-shadow-color\&quot;]),\&quot;hillshade-highlight-color\&quot;:new pi(At.paint_hillshade[\&quot;hillshade-highlight-color\&quot;]),\&quot;hillshade-accent-color\&quot;:new pi(At.paint_hillshade[\&quot;hillshade-accent-color\&quot;])})},xo=function(t){function e(e){t.call(this,e,yo)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.hasOffscreenPass=function(){return 0!==this.paint.get(\&quot;hillshade-exaggeration\&quot;)&amp;&amp;\&quot;none\&quot;!==this.visibility},e}(xi),bo=Ti([{name:\&quot;a_pos\&quot;,components:2,type:\&quot;Int16\&quot;}],4).members,_o=To,wo=To;function To(t,e,r){r=r||2;var n,i,a,o,s,l,c,u=e&amp;&amp;e.length,f=u?e[0]*r:t.length,h=ko(t,0,f,r,!0),p=[];if(!h||h.next===h.prev)return p;if(u&amp;&amp;(h=function(t,e,r,n){var i,a,o,s=[];for(i=0,a=e.length;i&lt;a;i++)(o=ko(t,e[i]*n,i&lt;a-1?e[i+1]*n:t.length,n,!1))===o.next&amp;&amp;(o.steiner=!0),s.push(Do(o));for(s.sort(Io),i=0;i&lt;s.length;i++)Po(s[i],r),r=Mo(r,r.next);return r}(t,e,h,r)),t.length&gt;80*r){n=a=t[0],i=o=t[1];for(var d=r;d&lt;f;d+=r)(s=t[d])&lt;n&amp;&amp;(n=s),(l=t[d+1])&lt;i&amp;&amp;(i=l),s&gt;a&amp;&amp;(a=s),l&gt;o&amp;&amp;(o=l);c=0!==(c=Math.max(a-n,o-i))?1/c:0}return Ao(h,p,r,n,i,c),p}function ko(t,e,r,n,i){var a,o;if(i===Xo(t,e,r,n)&gt;0)for(a=e;a&lt;r;a+=n)o=Go(a,t[a],t[a+1],o);else for(a=r-n;a&gt;=e;a-=n)o=Go(a,t[a],t[a+1],o);return o&amp;&amp;No(o,o.next)&amp;&amp;(Yo(o),o=o.next),o}function Mo(t,e){if(!t)return t;e||(e=t);var r,n=t;do{if(r=!1,n.steiner||!No(n,n.next)&amp;&amp;0!==Bo(n.prev,n,n.next))n=n.next;else{if(Yo(n),(n=e=n.prev)===n.next)break;r=!0}}while(r||n!==e);return e}function Ao(t,e,r,n,i,a,o){if(t){!o&amp;&amp;a&amp;&amp;function(t,e,r,n){var i=t;do{null===i.z&amp;&amp;(i.z=Oo(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next}while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,function(t){var e,r,n,i,a,o,s,l,c=1;do{for(r=t,t=null,a=null,o=0;r;){for(o++,n=r,s=0,e=0;e&lt;c&amp;&amp;(s++,n=n.nextZ);e++);for(l=c;s&gt;0||l&gt;0&amp;&amp;n;)0!==s&amp;&amp;(0===l||!n||r.z&lt;=n.z)?(i=r,r=r.nextZ,s--):(i=n,n=n.nextZ,l--),a?a.nextZ=i:t=i,i.prevZ=a,a=i;r=n}a.nextZ=null,c*=2}while(o&gt;1)}(i)}(t,n,i,a);for(var s,l,c=t;t.prev!==t.next;)if(s=t.prev,l=t.next,a?Eo(t,n,i,a):So(t))e.push(s.i/r),e.push(t.i/r),e.push(l.i/r),Yo(t),t=l.next,c=l.next;else if((t=l)===c){o?1===o?Ao(t=Co(Mo(t),e,r),e,r,n,i,a,2):2===o&amp;&amp;Lo(t,e,r,n,i,a):Ao(Mo(t),e,r,n,i,a,1);break}}}function So(t){var e=t.prev,r=t,n=t.next;if(Bo(e,r,n)&gt;=0)return!1;for(var i=t.next.next;i!==t.prev;){if(Ro(e.x,e.y,r.x,r.y,n.x,n.y,i.x,i.y)&amp;&amp;Bo(i.prev,i,i.next)&gt;=0)return!1;i=i.next}return!0}function Eo(t,e,r,n){var i=t.prev,a=t,o=t.next;if(Bo(i,a,o)&gt;=0)return!1;for(var s=i.x&gt;a.x?i.x&gt;o.x?i.x:o.x:a.x&gt;o.x?a.x:o.x,l=i.y&gt;a.y?i.y&gt;o.y?i.y:o.y:a.y&gt;o.y?a.y:o.y,c=Oo(i.x&lt;a.x?i.x&lt;o.x?i.x:o.x:a.x&lt;o.x?a.x:o.x,i.y&lt;a.y?i.y&lt;o.y?i.y:o.y:a.y&lt;o.y?a.y:o.y,e,r,n),u=Oo(s,l,e,r,n),f=t.prevZ,h=t.nextZ;f&amp;&amp;f.z&gt;=c&amp;&amp;h&amp;&amp;h.z&lt;=u;){if(f!==t.prev&amp;&amp;f!==t.next&amp;&amp;Ro(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&amp;&amp;Bo(f.prev,f,f.next)&gt;=0)return!1;if(f=f.prevZ,h!==t.prev&amp;&amp;h!==t.next&amp;&amp;Ro(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&amp;&amp;Bo(h.prev,h,h.next)&gt;=0)return!1;h=h.nextZ}for(;f&amp;&amp;f.z&gt;=c;){if(f!==t.prev&amp;&amp;f!==t.next&amp;&amp;Ro(i.x,i.y,a.x,a.y,o.x,o.y,f.x,f.y)&amp;&amp;Bo(f.prev,f,f.next)&gt;=0)return!1;f=f.prevZ}for(;h&amp;&amp;h.z&lt;=u;){if(h!==t.prev&amp;&amp;h!==t.next&amp;&amp;Ro(i.x,i.y,a.x,a.y,o.x,o.y,h.x,h.y)&amp;&amp;Bo(h.prev,h,h.next)&gt;=0)return!1;h=h.nextZ}return!0}function Co(t,e,r){var n=t;do{var i=n.prev,a=n.next.next;!No(i,a)&amp;&amp;jo(i,n,n.next,a)&amp;&amp;qo(i,a)&amp;&amp;qo(a,i)&amp;&amp;(e.push(i.i/r),e.push(n.i/r),e.push(a.i/r),Yo(n),Yo(n.next),n=t=a),n=n.next}while(n!==t);return Mo(n)}function Lo(t,e,r,n,i,a){var o=t;do{for(var s=o.next.next;s!==o.prev;){if(o.i!==s.i&amp;&amp;Fo(o,s)){var l=Ho(o,s);return o=Mo(o,o.next),l=Mo(l,l.next),Ao(o,e,r,n,i,a),void Ao(l,e,r,n,i,a)}s=s.next}o=o.next}while(o!==t)}function Io(t,e){return t.x-e.x}function Po(t,e){if(e=function(t,e){var r,n=e,i=t.x,a=t.y,o=-1/0;do{if(a&lt;=n.y&amp;&amp;a&gt;=n.next.y&amp;&amp;n.next.y!==n.y){var s=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(s&lt;=i&amp;&amp;s&gt;o){if(o=s,s===i){if(a===n.y)return n;if(a===n.next.y)return n.next}r=n.x&lt;n.next.x?n:n.next}}n=n.next}while(n!==e);if(!r)return null;if(i===o)return r;var l,c=r,u=r.x,f=r.y,h=1/0;n=r;do{i&gt;=n.x&amp;&amp;n.x&gt;=u&amp;&amp;i!==n.x&amp;&amp;Ro(a&lt;f?i:o,a,u,f,a&lt;f?o:i,a,n.x,n.y)&amp;&amp;(l=Math.abs(a-n.y)/(i-n.x),qo(n,t)&amp;&amp;(l&lt;h||l===h&amp;&amp;(n.x&gt;r.x||n.x===r.x&amp;&amp;zo(r,n)))&amp;&amp;(r=n,h=l)),n=n.next}while(n!==c);return r}(t,e)){var r=Ho(e,t);Mo(e,e.next),Mo(r,r.next)}}function zo(t,e){return Bo(t.prev,t,e.prev)&lt;0&amp;&amp;Bo(e.next,t,t.next)&lt;0}function Oo(t,e,r,n,i){return(t=1431655765&amp;((t=858993459&amp;((t=252645135&amp;((t=16711935&amp;((t=32767*(t-r)*i)|t&lt;&lt;8))|t&lt;&lt;4))|t&lt;&lt;2))|t&lt;&lt;1))|(e=1431655765&amp;((e=858993459&amp;((e=252645135&amp;((e=16711935&amp;((e=32767*(e-n)*i)|e&lt;&lt;8))|e&lt;&lt;4))|e&lt;&lt;2))|e&lt;&lt;1))&lt;&lt;1}function Do(t){var e=t,r=t;do{(e.x&lt;r.x||e.x===r.x&amp;&amp;e.y&lt;r.y)&amp;&amp;(r=e),e=e.next}while(e!==t);return r}function Ro(t,e,r,n,i,a,o,s){return(i-o)*(e-s)-(t-o)*(a-s)&gt;=0&amp;&amp;(t-o)*(n-s)-(r-o)*(e-s)&gt;=0&amp;&amp;(r-o)*(a-s)-(i-o)*(n-s)&gt;=0}function Fo(t,e){return t.next.i!==e.i&amp;&amp;t.prev.i!==e.i&amp;&amp;!function(t,e){var r=t;do{if(r.i!==t.i&amp;&amp;r.next.i!==t.i&amp;&amp;r.i!==e.i&amp;&amp;r.next.i!==e.i&amp;&amp;jo(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}(t,e)&amp;&amp;(qo(t,e)&amp;&amp;qo(e,t)&amp;&amp;function(t,e){var r=t,n=!1,i=(t.x+e.x)/2,a=(t.y+e.y)/2;do{r.y&gt;a!=r.next.y&gt;a&amp;&amp;r.next.y!==r.y&amp;&amp;i&lt;(r.next.x-r.x)*(a-r.y)/(r.next.y-r.y)+r.x&amp;&amp;(n=!n),r=r.next}while(r!==t);return n}(t,e)&amp;&amp;(Bo(t.prev,t,e.prev)||Bo(t,e.prev,e))||No(t,e)&amp;&amp;Bo(t.prev,t,t.next)&gt;0&amp;&amp;Bo(e.prev,e,e.next)&gt;0)}function Bo(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function No(t,e){return t.x===e.x&amp;&amp;t.y===e.y}function jo(t,e,r,n){var i=Vo(Bo(t,e,r)),a=Vo(Bo(t,e,n)),o=Vo(Bo(r,n,t)),s=Vo(Bo(r,n,e));return i!==a&amp;&amp;o!==s||!(0!==i||!Uo(t,r,e))||!(0!==a||!Uo(t,n,e))||!(0!==o||!Uo(r,t,n))||!(0!==s||!Uo(r,e,n))}function Uo(t,e,r){return e.x&lt;=Math.max(t.x,r.x)&amp;&amp;e.x&gt;=Math.min(t.x,r.x)&amp;&amp;e.y&lt;=Math.max(t.y,r.y)&amp;&amp;e.y&gt;=Math.min(t.y,r.y)}function Vo(t){return t&gt;0?1:t&lt;0?-1:0}function qo(t,e){return Bo(t.prev,t,t.next)&lt;0?Bo(t,e,t.next)&gt;=0&amp;&amp;Bo(t,t.prev,e)&gt;=0:Bo(t,e,t.prev)&lt;0||Bo(t,t.next,e)&lt;0}function Ho(t,e){var r=new Wo(t.i,t.x,t.y),n=new Wo(e.i,e.x,e.y),i=t.next,a=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,a.next=n,n.prev=a,n}function Go(t,e,r,n){var i=new Wo(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Yo(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&amp;&amp;(t.prevZ.nextZ=t.nextZ),t.nextZ&amp;&amp;(t.nextZ.prevZ=t.prevZ)}function Wo(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function Xo(t,e,r,n){for(var i=0,a=e,o=r-n;a&lt;r;a+=n)i+=(t[o]-t[a])*(t[a+1]+t[o+1]),o=a;return i}function Zo(t,e,r,n,i){!function t(e,r,n,i,a){for(;i&gt;n;){if(i-n&gt;600){var o=i-n+1,s=r-n+1,l=Math.log(o),c=.5*Math.exp(2*l/3),u=.5*Math.sqrt(l*c*(o-c)/o)*(s-o/2&lt;0?-1:1);t(e,r,Math.max(n,Math.floor(r-s*c/o+u)),Math.min(i,Math.floor(r+(o-s)*c/o+u)),a)}var f=e[r],h=n,p=i;for(Jo(e,n,r),a(e[i],f)&gt;0&amp;&amp;Jo(e,n,i);h&lt;p;){for(Jo(e,h,p),h++,p--;a(e[h],f)&lt;0;)h++;for(;a(e[p],f)&gt;0;)p--}0===a(e[n],f)?Jo(e,n,p):Jo(e,++p,i),p&lt;=r&amp;&amp;(n=p+1),r&lt;=p&amp;&amp;(i=p-1)}}(t,e,r||0,n||t.length-1,i||Ko)}function Jo(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function Ko(t,e){return t&lt;e?-1:t&gt;e?1:0}function Qo(t,e){var r=t.length;if(r&lt;=1)return[t];for(var n,i,a=[],o=0;o&lt;r;o++){var s=T(t[o]);0!==s&amp;&amp;(t[o].area=Math.abs(s),void 0===i&amp;&amp;(i=s&lt;0),i===s&lt;0?(n&amp;&amp;a.push(n),n=[t[o]]):n.push(t[o]))}if(n&amp;&amp;a.push(n),e&gt;1)for(var l=0;l&lt;a.length;l++)a[l].length&lt;=e||(Zo(a[l],e,1,a[l].length-1,$o),a[l]=a[l].slice(0,e));return a}function $o(t,e){return e.area-t.area}function ts(t,e,r){for(var n=r.patternDependencies,i=!1,a=0,o=e;a&lt;o.length;a+=1){var s=o[a].paint.get(t+\&quot;-pattern\&quot;);s.isConstant()||(i=!0);var l=s.constantOr(null);l&amp;&amp;(i=!0,n[l.to]=!0,n[l.from]=!0)}return i}function es(t,e,r,n,i){for(var a=i.patternDependencies,o=0,s=e;o&lt;s.length;o+=1){var l=s[o],c=l.paint.get(t+\&quot;-pattern\&quot;).value;if(\&quot;constant\&quot;!==c.kind){var u=c.evaluate({zoom:n-1},r,{},i.availableImages),f=c.evaluate({zoom:n},r,{},i.availableImages),h=c.evaluate({zoom:n+1},r,{},i.availableImages);f=f&amp;&amp;f.name?f.name:f,h=h&amp;&amp;h.name?h.name:h,a[u=u&amp;&amp;u.name?u.name:u]=!0,a[f]=!0,a[h]=!0,r.patterns[l.id]={min:u,mid:f,max:h}}}return r}To.deviation=function(t,e,r,n){var i=e&amp;&amp;e.length,a=Math.abs(Xo(t,0,i?e[0]*r:t.length,r));if(i)for(var o=0,s=e.length;o&lt;s;o++)a-=Math.abs(Xo(t,e[o]*r,o&lt;s-1?e[o+1]*r:t.length,r));var l=0;for(o=0;o&lt;n.length;o+=3){var c=n[o]*r,u=n[o+1]*r,f=n[o+2]*r;l+=Math.abs((t[c]-t[f])*(t[u+1]-t[c+1])-(t[c]-t[u])*(t[f+1]-t[c+1]))}return 0===a&amp;&amp;0===l?0:Math.abs((l-a)/a)},To.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i&lt;t.length;i++){for(var a=0;a&lt;t[i].length;a++)for(var o=0;o&lt;e;o++)r.vertices.push(t[i][a][o]);i&gt;0&amp;&amp;r.holes.push(n+=t[i-1].length)}return r},_o.default=wo;var rs=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Mi,this.indexArray=new Fi,this.indexArray2=new qi,this.programConfigurations=new Ia(bo,t.layers,t.zoom),this.segments=new ia,this.segments2=new ia,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};rs.prototype.populate=function(t,e,r){this.hasPattern=ts(\&quot;fill\&quot;,this.layers,e);for(var n=this.layers[0].layout.get(\&quot;fill-sort-key\&quot;),i=[],a=0,o=t;a&lt;o.length;a+=1){var s=o[a],l=s.feature,c=s.id,u=s.index,f=s.sourceLayerIndex,h=this.layers[0]._featureFilter.needGeometry,p={type:l.type,id:c,properties:l.properties,geometry:h?Da(l):[]};if(this.layers[0]._featureFilter.filter(new ii(this.zoom),p,r)){h||(p.geometry=Da(l));var d=n?n.evaluate(p,{},r,e.availableImages):void 0;i.push({id:c,properties:l.properties,type:l.type,sourceLayerIndex:f,index:u,geometry:p.geometry,patterns:{},sortKey:d})}}n&amp;&amp;i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var g=0,m=i;g&lt;m.length;g+=1){var v=m[g],y=v.geometry,x=v.index,b=v.sourceLayerIndex;if(this.hasPattern){var _=es(\&quot;fill\&quot;,this.layers,v,this.zoom,e);this.patternFeatures.push(_)}else this.addFeature(v,y,x,r,{});e.featureIndex.insert(t[x].feature,y,x,b,this.index)}},rs.prototype.update=function(t,e,r){this.stateDependentLayers.length&amp;&amp;this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r)},rs.prototype.addFeatures=function(t,e,r){for(var n=0,i=this.patternFeatures;n&lt;i.length;n+=1){var a=i[n];this.addFeature(a,a.geometry,a.index,e,r)}},rs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},rs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},rs.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,bo),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.indexBuffer2=t.createIndexBuffer(this.indexArray2)),this.programConfigurations.upload(t),this.uploaded=!0},rs.prototype.destroy=function(){this.layoutVertexBuffer&amp;&amp;(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.indexBuffer2.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.segments2.destroy())},rs.prototype.addFeature=function(t,e,r,n,i){for(var a=0,o=Qo(e,500);a&lt;o.length;a+=1){for(var s=o[a],l=0,c=0,u=s;c&lt;u.length;c+=1)l+=u[c].length;for(var f=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray),h=f.vertexLength,p=[],d=[],g=0,m=s;g&lt;m.length;g+=1){var v=m[g];if(0!==v.length){v!==s[0]&amp;&amp;d.push(p.length/2);var y=this.segments2.prepareSegment(v.length,this.layoutVertexArray,this.indexArray2),x=y.vertexLength;this.layoutVertexArray.emplaceBack(v[0].x,v[0].y),this.indexArray2.emplaceBack(x+v.length-1,x),p.push(v[0].x),p.push(v[0].y);for(var b=1;b&lt;v.length;b++)this.layoutVertexArray.emplaceBack(v[b].x,v[b].y),this.indexArray2.emplaceBack(x+b-1,x+b),p.push(v[b].x),p.push(v[b].y);y.vertexLength+=v.length,y.primitiveLength+=v.length}}for(var _=_o(p,d),w=0;w&lt;_.length;w+=3)this.indexArray.emplaceBack(h+_[w],h+_[w+1],h+_[w+2]);f.vertexLength+=l,f.primitiveLength+=_.length/3}this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,i,n)},Dn(\&quot;FillBucket\&quot;,rs,{omit:[\&quot;layers\&quot;,\&quot;patternFeatures\&quot;]});var ns=new yi({\&quot;fill-sort-key\&quot;:new di(At.layout_fill[\&quot;fill-sort-key\&quot;])}),is={paint:new yi({\&quot;fill-antialias\&quot;:new pi(At.paint_fill[\&quot;fill-antialias\&quot;]),\&quot;fill-opacity\&quot;:new di(At.paint_fill[\&quot;fill-opacity\&quot;]),\&quot;fill-color\&quot;:new di(At.paint_fill[\&quot;fill-color\&quot;]),\&quot;fill-outline-color\&quot;:new di(At.paint_fill[\&quot;fill-outline-color\&quot;]),\&quot;fill-translate\&quot;:new pi(At.paint_fill[\&quot;fill-translate\&quot;]),\&quot;fill-translate-anchor\&quot;:new pi(At.paint_fill[\&quot;fill-translate-anchor\&quot;]),\&quot;fill-pattern\&quot;:new gi(At.paint_fill[\&quot;fill-pattern\&quot;])}),layout:ns},as=function(t){function e(e){t.call(this,e,is)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.recalculate=function(e,r){t.prototype.recalculate.call(this,e,r);var n=this.paint._values[\&quot;fill-outline-color\&quot;];\&quot;constant\&quot;===n.value.kind&amp;&amp;void 0===n.value.value&amp;&amp;(this.paint._values[\&quot;fill-outline-color\&quot;]=this.paint._values[\&quot;fill-color\&quot;])},e.prototype.createBucket=function(t){return new rs(t)},e.prototype.queryRadius=function(){return Ja(this.paint.get(\&quot;fill-translate\&quot;))},e.prototype.queryIntersectsFeature=function(t,e,r,n,i,a,o){return ja(Ka(t,this.paint.get(\&quot;fill-translate\&quot;),this.paint.get(\&quot;fill-translate-anchor\&quot;),a.angle,o),n)},e.prototype.isTileClipped=function(){return!0},e}(xi),os=Ti([{name:\&quot;a_pos\&quot;,components:2,type:\&quot;Int16\&quot;},{name:\&quot;a_normal_ed\&quot;,components:4,type:\&quot;Int16\&quot;}],4).members,ss=ls;function ls(t,e,r,n,i){this.properties={},this.extent=r,this.type=0,this._pbf=t,this._geometry=-1,this._keys=n,this._values=i,t.readFields(cs,this,e)}function cs(t,e,r){1==t?e.id=r.readVarint():2==t?function(t,e){for(var r=t.readVarint()+t.pos;t.pos&lt;r;){var n=e._keys[t.readVarint()],i=e._values[t.readVarint()];e.properties[n]=i}}(r,e):3==t?e.type=r.readVarint():4==t&amp;&amp;(e._geometry=r.pos)}function us(t){for(var e,r,n=0,i=0,a=t.length,o=a-1;i&lt;a;o=i++)n+=((r=t[o]).x-(e=t[i]).x)*(e.y+r.y);return n}ls.types=[\&quot;Unknown\&quot;,\&quot;Point\&quot;,\&quot;LineString\&quot;,\&quot;Polygon\&quot;],ls.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,r=t.readVarint()+t.pos,n=1,a=0,o=0,s=0,l=[];t.pos&lt;r;){if(a&lt;=0){var c=t.readVarint();n=7&amp;c,a=c&gt;&gt;3}if(a--,1===n||2===n)o+=t.readSVarint(),s+=t.readSVarint(),1===n&amp;&amp;(e&amp;&amp;l.push(e),e=[]),e.push(new i(o,s));else{if(7!==n)throw new Error(\&quot;unknown command \&quot;+n);e&amp;&amp;e.push(e[0].clone())}}return e&amp;&amp;l.push(e),l},ls.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,r=1,n=0,i=0,a=0,o=1/0,s=-1/0,l=1/0,c=-1/0;t.pos&lt;e;){if(n&lt;=0){var u=t.readVarint();r=7&amp;u,n=u&gt;&gt;3}if(n--,1===r||2===r)(i+=t.readSVarint())&lt;o&amp;&amp;(o=i),i&gt;s&amp;&amp;(s=i),(a+=t.readSVarint())&lt;l&amp;&amp;(l=a),a&gt;c&amp;&amp;(c=a);else if(7!==r)throw new Error(\&quot;unknown command \&quot;+r)}return[o,l,s,c]},ls.prototype.toGeoJSON=function(t,e,r){var n,i,a=this.extent*Math.pow(2,r),o=this.extent*t,s=this.extent*e,l=this.loadGeometry(),c=ls.types[this.type];function u(t){for(var e=0;e&lt;t.length;e++){var r=t[e];t[e]=[360*(r.x+o)/a-180,360/Math.PI*Math.atan(Math.exp((180-360*(r.y+s)/a)*Math.PI/180))-90]}}switch(this.type){case 1:var f=[];for(n=0;n&lt;l.length;n++)f[n]=l[n][0];u(l=f);break;case 2:for(n=0;n&lt;l.length;n++)u(l[n]);break;case 3:for(l=function(t){var e=t.length;if(e&lt;=1)return[t];for(var r,n,i=[],a=0;a&lt;e;a++){var o=us(t[a]);0!==o&amp;&amp;(void 0===n&amp;&amp;(n=o&lt;0),n===o&lt;0?(r&amp;&amp;i.push(r),r=[t[a]]):r.push(t[a]))}return r&amp;&amp;i.push(r),i}(l),n=0;n&lt;l.length;n++)for(i=0;i&lt;l[n].length;i++)u(l[n][i])}1===l.length?l=l[0]:c=\&quot;Multi\&quot;+c;var h={type:\&quot;Feature\&quot;,geometry:{type:c,coordinates:l},properties:this.properties};return\&quot;id\&quot;in this&amp;&amp;(h.id=this.id),h};var fs=hs;function hs(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(ps,this,e),this.length=this._features.length}function ps(t,e,r){15===t?e.version=r.readVarint():1===t?e.name=r.readString():5===t?e.extent=r.readVarint():2===t?e._features.push(r.pos):3===t?e._keys.push(r.readString()):4===t&amp;&amp;e._values.push(function(t){for(var e=null,r=t.readVarint()+t.pos;t.pos&lt;r;){var n=t.readVarint()&gt;&gt;3;e=1===n?t.readString():2===n?t.readFloat():3===n?t.readDouble():4===n?t.readVarint64():5===n?t.readVarint():6===n?t.readSVarint():7===n?t.readBoolean():null}return e}(r))}function ds(t,e,r){if(3===t){var n=new fs(r,r.readVarint()+r.pos);n.length&amp;&amp;(e[n.name]=n)}}hs.prototype.feature=function(t){if(t&lt;0||t&gt;=this._features.length)throw new Error(\&quot;feature index out of bounds\&quot;);this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new ss(this._pbf,e,this.extent,this._keys,this._values)};var gs={VectorTile:function(t,e){this.layers=t.readFields(ds,{},e)},VectorTileFeature:ss,VectorTileLayer:fs},ms=gs.VectorTileFeature.types,vs=Math.pow(2,13);function ys(t,e,r,n,i,a,o,s){t.emplaceBack(e,r,2*Math.floor(n*vs)+o,i*vs*2,a*vs*2,Math.round(s))}var xs=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.layoutVertexArray=new Si,this.indexArray=new Fi,this.programConfigurations=new Ia(os,t.layers,t.zoom),this.segments=new ia,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};function bs(t,e){return t.x===e.x&amp;&amp;(t.x&lt;0||t.x&gt;8192)||t.y===e.y&amp;&amp;(t.y&lt;0||t.y&gt;8192)}xs.prototype.populate=function(t,e,r){this.features=[],this.hasPattern=ts(\&quot;fill-extrusion\&quot;,this.layers,e);for(var n=0,i=t;n&lt;i.length;n+=1){var a=i[n],o=a.feature,s=a.id,l=a.index,c=a.sourceLayerIndex,u=this.layers[0]._featureFilter.needGeometry,f={type:o.type,id:s,properties:o.properties,geometry:u?Da(o):[]};if(this.layers[0]._featureFilter.filter(new ii(this.zoom),f,r)){var h={id:s,sourceLayerIndex:c,index:l,geometry:u?f.geometry:Da(o),properties:o.properties,type:o.type,patterns:{}};void 0!==o.id&amp;&amp;(h.id=o.id),this.hasPattern?this.features.push(es(\&quot;fill-extrusion\&quot;,this.layers,h,this.zoom,e)):this.addFeature(h,h.geometry,l,r,{}),e.featureIndex.insert(o,h.geometry,l,c,this.index,!0)}}},xs.prototype.addFeatures=function(t,e,r){for(var n=0,i=this.features;n&lt;i.length;n+=1){var a=i[n];this.addFeature(a,a.geometry,a.index,e,r)}},xs.prototype.update=function(t,e,r){this.stateDependentLayers.length&amp;&amp;this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r)},xs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},xs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},xs.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,os),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},xs.prototype.destroy=function(){this.layoutVertexBuffer&amp;&amp;(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},xs.prototype.addFeature=function(t,e,r,n,i){for(var a=0,o=Qo(e,500);a&lt;o.length;a+=1){for(var s=o[a],l=0,c=0,u=s;c&lt;u.length;c+=1)l+=u[c].length;for(var f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray),h=0,p=s;h&lt;p.length;h+=1){var d=p[h];if(0!==d.length&amp;&amp;!((P=d).every((function(t){return t.x&lt;0}))||P.every((function(t){return t.x&gt;8192}))||P.every((function(t){return t.y&lt;0}))||P.every((function(t){return t.y&gt;8192}))))for(var g=0,m=0;m&lt;d.length;m++){var v=d[m];if(m&gt;=1){var y=d[m-1];if(!bs(v,y)){f.vertexLength+4&gt;ia.MAX_VERTEX_ARRAY_LENGTH&amp;&amp;(f=this.segments.prepareSegment(4,this.layoutVertexArray,this.indexArray));var x=v.sub(y)._perp()._unit(),b=y.dist(v);g+b&gt;32768&amp;&amp;(g=0),ys(this.layoutVertexArray,v.x,v.y,x.x,x.y,0,0,g),ys(this.layoutVertexArray,v.x,v.y,x.x,x.y,0,1,g),ys(this.layoutVertexArray,y.x,y.y,x.x,x.y,0,0,g+=b),ys(this.layoutVertexArray,y.x,y.y,x.x,x.y,0,1,g);var _=f.vertexLength;this.indexArray.emplaceBack(_,_+2,_+1),this.indexArray.emplaceBack(_+1,_+2,_+3),f.vertexLength+=4,f.primitiveLength+=2}}}}if(f.vertexLength+l&gt;ia.MAX_VERTEX_ARRAY_LENGTH&amp;&amp;(f=this.segments.prepareSegment(l,this.layoutVertexArray,this.indexArray)),\&quot;Polygon\&quot;===ms[t.type]){for(var w=[],T=[],k=f.vertexLength,M=0,A=s;M&lt;A.length;M+=1){var S=A[M];if(0!==S.length){S!==s[0]&amp;&amp;T.push(w.length/2);for(var E=0;E&lt;S.length;E++){var C=S[E];ys(this.layoutVertexArray,C.x,C.y,0,0,1,1,0),w.push(C.x),w.push(C.y)}}}for(var L=_o(w,T),I=0;I&lt;L.length;I+=3)this.indexArray.emplaceBack(k+L[I],k+L[I+2],k+L[I+1]);f.primitiveLength+=L.length/3,f.vertexLength+=l}}var P;this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,i,n)},Dn(\&quot;FillExtrusionBucket\&quot;,xs,{omit:[\&quot;layers\&quot;,\&quot;features\&quot;]});var _s={paint:new yi({\&quot;fill-extrusion-opacity\&quot;:new pi(At[\&quot;paint_fill-extrusion\&quot;][\&quot;fill-extrusion-opacity\&quot;]),\&quot;fill-extrusion-color\&quot;:new di(At[\&quot;paint_fill-extrusion\&quot;][\&quot;fill-extrusion-color\&quot;]),\&quot;fill-extrusion-translate\&quot;:new pi(At[\&quot;paint_fill-extrusion\&quot;][\&quot;fill-extrusion-translate\&quot;]),\&quot;fill-extrusion-translate-anchor\&quot;:new pi(At[\&quot;paint_fill-extrusion\&quot;][\&quot;fill-extrusion-translate-anchor\&quot;]),\&quot;fill-extrusion-pattern\&quot;:new gi(At[\&quot;paint_fill-extrusion\&quot;][\&quot;fill-extrusion-pattern\&quot;]),\&quot;fill-extrusion-height\&quot;:new di(At[\&quot;paint_fill-extrusion\&quot;][\&quot;fill-extrusion-height\&quot;]),\&quot;fill-extrusion-base\&quot;:new di(At[\&quot;paint_fill-extrusion\&quot;][\&quot;fill-extrusion-base\&quot;]),\&quot;fill-extrusion-vertical-gradient\&quot;:new pi(At[\&quot;paint_fill-extrusion\&quot;][\&quot;fill-extrusion-vertical-gradient\&quot;])})},ws=function(t){function e(e){t.call(this,e,_s)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.createBucket=function(t){return new xs(t)},e.prototype.queryRadius=function(){return Ja(this.paint.get(\&quot;fill-extrusion-translate\&quot;))},e.prototype.is3D=function(){return!0},e.prototype.queryIntersectsFeature=function(t,e,r,n,a,o,s,l){var c=Ka(t,this.paint.get(\&quot;fill-extrusion-translate\&quot;),this.paint.get(\&quot;fill-extrusion-translate-anchor\&quot;),o.angle,s),u=this.paint.get(\&quot;fill-extrusion-height\&quot;).evaluate(e,r),f=this.paint.get(\&quot;fill-extrusion-base\&quot;).evaluate(e,r),h=function(t,e,r,n){for(var a=[],o=0,s=t;o&lt;s.length;o+=1){var l=s[o],c=[l.x,l.y,0,1];ao(c,c,e),a.push(new i(c[0]/c[3],c[1]/c[3]))}return a}(c,l),p=function(t,e,r,n){for(var a=[],o=[],s=n[8]*e,l=n[9]*e,c=n[10]*e,u=n[11]*e,f=n[8]*r,h=n[9]*r,p=n[10]*r,d=n[11]*r,g=0,m=t;g&lt;m.length;g+=1){for(var v=[],y=[],x=0,b=m[g];x&lt;b.length;x+=1){var _=b[x],w=_.x,T=_.y,k=n[0]*w+n[4]*T+n[12],M=n[1]*w+n[5]*T+n[13],A=n[2]*w+n[6]*T+n[14],S=n[3]*w+n[7]*T+n[15],E=A+c,C=S+u,L=k+f,I=M+h,P=A+p,z=S+d,O=new i((k+s)/C,(M+l)/C);O.z=E/C,v.push(O);var D=new i(L/z,I/z);D.z=P/z,y.push(D)}a.push(v),o.push(y)}return[a,o]}(n,f,u,l);return function(t,e,r){var n=1/0;ja(r,e)&amp;&amp;(n=ks(r,e[0]));for(var i=0;i&lt;e.length;i++)for(var a=e[i],o=t[i],s=0;s&lt;a.length-1;s++){var l=a[s],c=[l,a[s+1],o[s+1],o[s],l];Ba(r,c)&amp;&amp;(n=Math.min(n,ks(r,c)))}return n!==1/0&amp;&amp;n}(p[0],p[1],h)},e}(xi);function Ts(t,e){return t.x*e.x+t.y*e.y}function ks(t,e){if(1===t.length){for(var r,n=0,i=e[n++];!r||i.equals(r);)if(!(r=e[n++]))return 1/0;for(;n&lt;e.length;n++){var a=e[n],o=t[0],s=r.sub(i),l=a.sub(i),c=o.sub(i),u=Ts(s,s),f=Ts(s,l),h=Ts(l,l),p=Ts(c,s),d=Ts(c,l),g=u*h-f*f,m=(h*p-f*d)/g,v=(u*d-f*p)/g,y=i.z*(1-m-v)+r.z*m+a.z*v;if(isFinite(y))return y}return 1/0}for(var x=1/0,b=0,_=e;b&lt;_.length;b+=1)x=Math.min(x,_[b].z);return x}var Ms=Ti([{name:\&quot;a_pos_normal\&quot;,components:2,type:\&quot;Int16\&quot;},{name:\&quot;a_data\&quot;,components:4,type:\&quot;Uint8\&quot;}],4).members,As=gs.VectorTileFeature.types,Ss=Math.cos(Math.PI/180*37.5),Es=Math.pow(2,14)/.5,Cs=function(t){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.hasPattern=!1,this.patternFeatures=[],this.layoutVertexArray=new Ei,this.indexArray=new Fi,this.programConfigurations=new Ia(Ms,t.layers,t.zoom),this.segments=new ia,this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id}))};Cs.prototype.populate=function(t,e,r){this.hasPattern=ts(\&quot;line\&quot;,this.layers,e);for(var n=this.layers[0].layout.get(\&quot;line-sort-key\&quot;),i=[],a=0,o=t;a&lt;o.length;a+=1){var s=o[a],l=s.feature,c=s.id,u=s.index,f=s.sourceLayerIndex,h=this.layers[0]._featureFilter.needGeometry,p={type:l.type,id:c,properties:l.properties,geometry:h?Da(l):[]};if(this.layers[0]._featureFilter.filter(new ii(this.zoom),p,r)){h||(p.geometry=Da(l));var d=n?n.evaluate(p,{},r):void 0;i.push({id:c,properties:l.properties,type:l.type,sourceLayerIndex:f,index:u,geometry:p.geometry,patterns:{},sortKey:d})}}n&amp;&amp;i.sort((function(t,e){return t.sortKey-e.sortKey}));for(var g=0,m=i;g&lt;m.length;g+=1){var v=m[g],y=v.geometry,x=v.index,b=v.sourceLayerIndex;if(this.hasPattern){var _=es(\&quot;line\&quot;,this.layers,v,this.zoom,e);this.patternFeatures.push(_)}else this.addFeature(v,y,x,r,{});e.featureIndex.insert(t[x].feature,y,x,b,this.index)}},Cs.prototype.update=function(t,e,r){this.stateDependentLayers.length&amp;&amp;this.programConfigurations.updatePaintArrays(t,e,this.stateDependentLayers,r)},Cs.prototype.addFeatures=function(t,e,r){for(var n=0,i=this.patternFeatures;n&lt;i.length;n+=1){var a=i[n];this.addFeature(a,a.geometry,a.index,e,r)}},Cs.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},Cs.prototype.uploadPending=function(){return!this.uploaded||this.programConfigurations.needsUpload},Cs.prototype.upload=function(t){this.uploaded||(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ms),this.indexBuffer=t.createIndexBuffer(this.indexArray)),this.programConfigurations.upload(t),this.uploaded=!0},Cs.prototype.destroy=function(){this.layoutVertexBuffer&amp;&amp;(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy())},Cs.prototype.addFeature=function(t,e,r,n,i){for(var a=this.layers[0].layout,o=a.get(\&quot;line-join\&quot;).evaluate(t,{}),s=a.get(\&quot;line-cap\&quot;),l=a.get(\&quot;line-miter-limit\&quot;),c=a.get(\&quot;line-round-limit\&quot;),u=0,f=e;u&lt;f.length;u+=1)this.addLine(f[u],t,o,s,l,c);this.programConfigurations.populatePaintArrays(this.layoutVertexArray.length,t,r,i,n)},Cs.prototype.addLine=function(t,e,r,n,i,a){if(this.distance=0,this.scaledDistance=0,this.totalDistance=0,e.properties&amp;&amp;e.properties.hasOwnProperty(\&quot;mapbox_clip_start\&quot;)&amp;&amp;e.properties.hasOwnProperty(\&quot;mapbox_clip_end\&quot;)){this.clipStart=+e.properties.mapbox_clip_start,this.clipEnd=+e.properties.mapbox_clip_end;for(var o=0;o&lt;t.length-1;o++)this.totalDistance+=t[o].dist(t[o+1]);this.updateScaledDistance()}for(var s=\&quot;Polygon\&quot;===As[e.type],l=t.length;l&gt;=2&amp;&amp;t[l-1].equals(t[l-2]);)l--;for(var c=0;c&lt;l-1&amp;&amp;t[c].equals(t[c+1]);)c++;if(!(l&lt;(s?3:2))){\&quot;bevel\&quot;===r&amp;&amp;(i=1.05);var u,f=this.overscaling&lt;=16?122880/(512*this.overscaling):0,h=this.segments.prepareSegment(10*l,this.layoutVertexArray,this.indexArray),p=void 0,d=void 0,g=void 0,m=void 0;this.e1=this.e2=-1,s&amp;&amp;(m=t[c].sub(u=t[l-2])._unit()._perp());for(var v=c;v&lt;l;v++)if(!(d=v===l-1?s?t[c+1]:void 0:t[v+1])||!t[v].equals(d)){m&amp;&amp;(g=m),u&amp;&amp;(p=u),u=t[v],m=d?d.sub(u)._unit()._perp():g;var y=(g=g||m).add(m);0===y.x&amp;&amp;0===y.y||y._unit();var x=g.x*m.x+g.y*m.y,b=y.x*m.x+y.y*m.y,_=0!==b?1/b:1/0,w=2*Math.sqrt(2-2*b),T=b&lt;Ss&amp;&amp;p&amp;&amp;d,k=g.x*m.y-g.y*m.x&gt;0;if(T&amp;&amp;v&gt;c){var M=u.dist(p);if(M&gt;2*f){var A=u.sub(u.sub(p)._mult(f/M)._round());this.updateDistance(p,A),this.addCurrentVertex(A,g,0,0,h),p=A}}var S=p&amp;&amp;d,E=S?r:s?\&quot;butt\&quot;:n;if(S&amp;&amp;\&quot;round\&quot;===E&amp;&amp;(_&lt;a?E=\&quot;miter\&quot;:_&lt;=2&amp;&amp;(E=\&quot;fakeround\&quot;)),\&quot;miter\&quot;===E&amp;&amp;_&gt;i&amp;&amp;(E=\&quot;bevel\&quot;),\&quot;bevel\&quot;===E&amp;&amp;(_&gt;2&amp;&amp;(E=\&quot;flipbevel\&quot;),_&lt;i&amp;&amp;(E=\&quot;miter\&quot;)),p&amp;&amp;this.updateDistance(p,u),\&quot;miter\&quot;===E)y._mult(_),this.addCurrentVertex(u,y,0,0,h);else if(\&quot;flipbevel\&quot;===E){if(_&gt;100)y=m.mult(-1);else{var C=_*g.add(m).mag()/g.sub(m).mag();y._perp()._mult(C*(k?-1:1))}this.addCurrentVertex(u,y,0,0,h),this.addCurrentVertex(u,y.mult(-1),0,0,h)}else if(\&quot;bevel\&quot;===E||\&quot;fakeround\&quot;===E){var L=-Math.sqrt(_*_-1),I=k?L:0,P=k?0:L;if(p&amp;&amp;this.addCurrentVertex(u,g,I,P,h),\&quot;fakeround\&quot;===E)for(var z=Math.round(180*w/Math.PI/20),O=1;O&lt;z;O++){var D=O/z;if(.5!==D){var R=D-.5;D+=D*R*(D-1)*((1.0904+x*(x*(3.55645-1.43519*x)-3.2452))*R*R+(.848013+x*(.215638*x-1.06021)))}var F=m.sub(g)._mult(D)._add(g)._unit()._mult(k?-1:1);this.addHalfVertex(u,F.x,F.y,!1,k,0,h)}d&amp;&amp;this.addCurrentVertex(u,m,-I,-P,h)}else if(\&quot;butt\&quot;===E)this.addCurrentVertex(u,y,0,0,h);else if(\&quot;square\&quot;===E){var B=p?1:-1;this.addCurrentVertex(u,y,B,B,h)}else\&quot;round\&quot;===E&amp;&amp;(p&amp;&amp;(this.addCurrentVertex(u,g,0,0,h),this.addCurrentVertex(u,g,1,1,h,!0)),d&amp;&amp;(this.addCurrentVertex(u,m,-1,-1,h,!0),this.addCurrentVertex(u,m,0,0,h)));if(T&amp;&amp;v&lt;l-1){var N=u.dist(d);if(N&gt;2*f){var j=u.add(d.sub(u)._mult(f/N)._round());this.updateDistance(u,j),this.addCurrentVertex(j,m,0,0,h),u=j}}}}},Cs.prototype.addCurrentVertex=function(t,e,r,n,i,a){void 0===a&amp;&amp;(a=!1);var o=e.y*n-e.x,s=-e.y-e.x*n;this.addHalfVertex(t,e.x+e.y*r,e.y-e.x*r,a,!1,r,i),this.addHalfVertex(t,o,s,a,!0,-n,i),this.distance&gt;Es/2&amp;&amp;0===this.totalDistance&amp;&amp;(this.distance=0,this.addCurrentVertex(t,e,r,n,i,a))},Cs.prototype.addHalfVertex=function(t,e,r,n,i,a,o){var s=.5*this.scaledDistance;this.layoutVertexArray.emplaceBack((t.x&lt;&lt;1)+(n?1:0),(t.y&lt;&lt;1)+(i?1:0),Math.round(63*e)+128,Math.round(63*r)+128,1+(0===a?0:a&lt;0?-1:1)|(63&amp;s)&lt;&lt;2,s&gt;&gt;6);var l=o.vertexLength++;this.e1&gt;=0&amp;&amp;this.e2&gt;=0&amp;&amp;(this.indexArray.emplaceBack(this.e1,this.e2,l),o.primitiveLength++),i?this.e2=l:this.e1=l},Cs.prototype.updateScaledDistance=function(){this.scaledDistance=this.totalDistance&gt;0?(this.clipStart+(this.clipEnd-this.clipStart)*this.distance/this.totalDistance)*(Es-1):this.distance},Cs.prototype.updateDistance=function(t,e){this.distance+=t.dist(e),this.updateScaledDistance()},Dn(\&quot;LineBucket\&quot;,Cs,{omit:[\&quot;layers\&quot;,\&quot;patternFeatures\&quot;]});var Ls=new yi({\&quot;line-cap\&quot;:new pi(At.layout_line[\&quot;line-cap\&quot;]),\&quot;line-join\&quot;:new di(At.layout_line[\&quot;line-join\&quot;]),\&quot;line-miter-limit\&quot;:new pi(At.layout_line[\&quot;line-miter-limit\&quot;]),\&quot;line-round-limit\&quot;:new pi(At.layout_line[\&quot;line-round-limit\&quot;]),\&quot;line-sort-key\&quot;:new di(At.layout_line[\&quot;line-sort-key\&quot;])}),Is={paint:new yi({\&quot;line-opacity\&quot;:new di(At.paint_line[\&quot;line-opacity\&quot;]),\&quot;line-color\&quot;:new di(At.paint_line[\&quot;line-color\&quot;]),\&quot;line-translate\&quot;:new pi(At.paint_line[\&quot;line-translate\&quot;]),\&quot;line-translate-anchor\&quot;:new pi(At.paint_line[\&quot;line-translate-anchor\&quot;]),\&quot;line-width\&quot;:new di(At.paint_line[\&quot;line-width\&quot;]),\&quot;line-gap-width\&quot;:new di(At.paint_line[\&quot;line-gap-width\&quot;]),\&quot;line-offset\&quot;:new di(At.paint_line[\&quot;line-offset\&quot;]),\&quot;line-blur\&quot;:new di(At.paint_line[\&quot;line-blur\&quot;]),\&quot;line-dasharray\&quot;:new mi(At.paint_line[\&quot;line-dasharray\&quot;]),\&quot;line-pattern\&quot;:new gi(At.paint_line[\&quot;line-pattern\&quot;]),\&quot;line-gradient\&quot;:new vi(At.paint_line[\&quot;line-gradient\&quot;])}),layout:Ls},Ps=new(function(t){function e(){t.apply(this,arguments)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.possiblyEvaluate=function(e,r){return r=new ii(Math.floor(r.zoom),{now:r.now,fadeDuration:r.fadeDuration,zoomHistory:r.zoomHistory,transition:r.transition}),t.prototype.possiblyEvaluate.call(this,e,r)},e.prototype.evaluate=function(e,r,n,i){return r=u({},r,{zoom:Math.floor(r.zoom)}),t.prototype.evaluate.call(this,e,r,n,i)},e}(di))(Is.paint.properties[\&quot;line-width\&quot;].specification);Ps.useIntegerZoom=!0;var zs=function(t){function e(e){t.call(this,e,Is)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype._handleSpecialPaintPropertyUpdate=function(t){\&quot;line-gradient\&quot;===t&amp;&amp;this._updateGradient()},e.prototype._updateGradient=function(){this.gradient=mo(this._transitionablePaint._values[\&quot;line-gradient\&quot;].value.expression,\&quot;lineProgress\&quot;),this.gradientTexture=null},e.prototype.recalculate=function(e,r){t.prototype.recalculate.call(this,e,r),this.paint._values[\&quot;line-floorwidth\&quot;]=Ps.possiblyEvaluate(this._transitioningPaint._values[\&quot;line-width\&quot;].value,e)},e.prototype.createBucket=function(t){return new Cs(t)},e.prototype.queryRadius=function(t){var e=t,r=Os(Za(\&quot;line-width\&quot;,this,e),Za(\&quot;line-gap-width\&quot;,this,e)),n=Za(\&quot;line-offset\&quot;,this,e);return r/2+Math.abs(n)+Ja(this.paint.get(\&quot;line-translate\&quot;))},e.prototype.queryIntersectsFeature=function(t,e,r,n,a,o,s){var l=Ka(t,this.paint.get(\&quot;line-translate\&quot;),this.paint.get(\&quot;line-translate-anchor\&quot;),o.angle,s),c=s/2*Os(this.paint.get(\&quot;line-width\&quot;).evaluate(e,r),this.paint.get(\&quot;line-gap-width\&quot;).evaluate(e,r)),u=this.paint.get(\&quot;line-offset\&quot;).evaluate(e,r);return u&amp;&amp;(n=function(t,e){for(var r=[],n=new i(0,0),a=0;a&lt;t.length;a++){for(var o=t[a],s=[],l=0;l&lt;o.length;l++){var c=o[l],u=o[l+1],f=0===l?n:c.sub(o[l-1])._unit()._perp(),h=l===o.length-1?n:u.sub(c)._unit()._perp(),p=f._add(h)._unit();p._mult(1/(p.x*h.x+p.y*h.y)),s.push(p._mult(e)._add(c))}r.push(s)}return r}(n,u*s)),function(t,e,r){for(var n=0;n&lt;e.length;n++){var i=e[n];if(t.length&gt;=3)for(var a=0;a&lt;i.length;a++)if(Wa(t,i[a]))return!0;if(Ua(t,i,r))return!0}return!1}(l,n,c)},e.prototype.isTileClipped=function(){return!0},e}(xi);function Os(t,e){return e&gt;0?e+2*t:t}var Ds=Ti([{name:\&quot;a_pos_offset\&quot;,components:4,type:\&quot;Int16\&quot;},{name:\&quot;a_data\&quot;,components:4,type:\&quot;Uint16\&quot;},{name:\&quot;a_pixeloffset\&quot;,components:4,type:\&quot;Int16\&quot;}],4),Rs=Ti([{name:\&quot;a_projected_pos\&quot;,components:3,type:\&quot;Float32\&quot;}],4),Fs=(Ti([{name:\&quot;a_fade_opacity\&quot;,components:1,type:\&quot;Uint32\&quot;}],4),Ti([{name:\&quot;a_placed\&quot;,components:2,type:\&quot;Uint8\&quot;},{name:\&quot;a_shift\&quot;,components:2,type:\&quot;Float32\&quot;}])),Bs=(Ti([{type:\&quot;Int16\&quot;,name:\&quot;anchorPointX\&quot;},{type:\&quot;Int16\&quot;,name:\&quot;anchorPointY\&quot;},{type:\&quot;Int16\&quot;,name:\&quot;x1\&quot;},{type:\&quot;Int16\&quot;,name:\&quot;y1\&quot;},{type:\&quot;Int16\&quot;,name:\&quot;x2\&quot;},{type:\&quot;Int16\&quot;,name:\&quot;y2\&quot;},{type:\&quot;Uint32\&quot;,name:\&quot;featureIndex\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;sourceLayerIndex\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;bucketIndex\&quot;}]),Ti([{name:\&quot;a_pos\&quot;,components:2,type:\&quot;Int16\&quot;},{name:\&quot;a_anchor_pos\&quot;,components:2,type:\&quot;Int16\&quot;},{name:\&quot;a_extrude\&quot;,components:2,type:\&quot;Int16\&quot;}],4)),Ns=Ti([{name:\&quot;a_pos\&quot;,components:2,type:\&quot;Float32\&quot;},{name:\&quot;a_radius\&quot;,components:1,type:\&quot;Float32\&quot;},{name:\&quot;a_flags\&quot;,components:2,type:\&quot;Int16\&quot;}],4);function js(t,e,r){return t.sections.forEach((function(t){t.text=function(t,e,r){var n=e.layout.get(\&quot;text-transform\&quot;).evaluate(r,{});return\&quot;uppercase\&quot;===n?t=t.toLocaleUpperCase():\&quot;lowercase\&quot;===n&amp;&amp;(t=t.toLocaleLowerCase()),ni.applyArabicShaping&amp;&amp;(t=ni.applyArabicShaping(t)),t}(t.text,e,r)})),t}Ti([{name:\&quot;triangle\&quot;,components:3,type:\&quot;Uint16\&quot;}]),Ti([{type:\&quot;Int16\&quot;,name:\&quot;anchorX\&quot;},{type:\&quot;Int16\&quot;,name:\&quot;anchorY\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;glyphStartIndex\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;numGlyphs\&quot;},{type:\&quot;Uint32\&quot;,name:\&quot;vertexStartIndex\&quot;},{type:\&quot;Uint32\&quot;,name:\&quot;lineStartIndex\&quot;},{type:\&quot;Uint32\&quot;,name:\&quot;lineLength\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;segment\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;lowerSize\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;upperSize\&quot;},{type:\&quot;Float32\&quot;,name:\&quot;lineOffsetX\&quot;},{type:\&quot;Float32\&quot;,name:\&quot;lineOffsetY\&quot;},{type:\&quot;Uint8\&quot;,name:\&quot;writingMode\&quot;},{type:\&quot;Uint8\&quot;,name:\&quot;placedOrientation\&quot;},{type:\&quot;Uint8\&quot;,name:\&quot;hidden\&quot;},{type:\&quot;Uint32\&quot;,name:\&quot;crossTileID\&quot;},{type:\&quot;Int16\&quot;,name:\&quot;associatedIconIndex\&quot;}]),Ti([{type:\&quot;Int16\&quot;,name:\&quot;anchorX\&quot;},{type:\&quot;Int16\&quot;,name:\&quot;anchorY\&quot;},{type:\&quot;Int16\&quot;,name:\&quot;rightJustifiedTextSymbolIndex\&quot;},{type:\&quot;Int16\&quot;,name:\&quot;centerJustifiedTextSymbolIndex\&quot;},{type:\&quot;Int16\&quot;,name:\&quot;leftJustifiedTextSymbolIndex\&quot;},{type:\&quot;Int16\&quot;,name:\&quot;verticalPlacedTextSymbolIndex\&quot;},{type:\&quot;Int16\&quot;,name:\&quot;placedIconSymbolIndex\&quot;},{type:\&quot;Int16\&quot;,name:\&quot;verticalPlacedIconSymbolIndex\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;key\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;textBoxStartIndex\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;textBoxEndIndex\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;verticalTextBoxStartIndex\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;verticalTextBoxEndIndex\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;iconBoxStartIndex\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;iconBoxEndIndex\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;verticalIconBoxStartIndex\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;verticalIconBoxEndIndex\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;featureIndex\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;numHorizontalGlyphVertices\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;numVerticalGlyphVertices\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;numIconVertices\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;numVerticalIconVertices\&quot;},{type:\&quot;Uint16\&quot;,name:\&quot;useRuntimeCollisionCircles\&quot;},{type:\&quot;Uint32\&quot;,name:\&quot;crossTileID\&quot;},{type:\&quot;Float32\&quot;,name:\&quot;textBoxScale\&quot;},{type:\&quot;Float32\&quot;,components:2,name:\&quot;textOffset\&quot;},{type:\&quot;Float32\&quot;,name:\&quot;collisionCircleDiameter\&quot;}]),Ti([{type:\&quot;Float32\&quot;,name:\&quot;offsetX\&quot;}]),Ti([{type:\&quot;Int16\&quot;,name:\&quot;x\&quot;},{type:\&quot;Int16\&quot;,name:\&quot;y\&quot;},{type:\&quot;Int16\&quot;,name:\&quot;tileUnitDistanceFromAnchor\&quot;}]);var Us={\&quot;!\&quot;:\&quot;\\ufe15\&quot;,\&quot;#\&quot;:\&quot;\\uff03\&quot;,$:\&quot;\\uff04\&quot;,\&quot;%\&quot;:\&quot;\\uff05\&quot;,\&quot;&amp;\&quot;:\&quot;\\uff06\&quot;,\&quot;(\&quot;:\&quot;\\ufe35\&quot;,\&quot;)\&quot;:\&quot;\\ufe36\&quot;,\&quot;*\&quot;:\&quot;\\uff0a\&quot;,\&quot;+\&quot;:\&quot;\\uff0b\&quot;,\&quot;,\&quot;:\&quot;\\ufe10\&quot;,\&quot;-\&quot;:\&quot;\\ufe32\&quot;,\&quot;.\&quot;:\&quot;\\u30fb\&quot;,\&quot;/\&quot;:\&quot;\\uff0f\&quot;,\&quot;:\&quot;:\&quot;\\ufe13\&quot;,\&quot;;\&quot;:\&quot;\\ufe14\&quot;,\&quot;&lt;\&quot;:\&quot;\\ufe3f\&quot;,\&quot;=\&quot;:\&quot;\\uff1d\&quot;,\&quot;&gt;\&quot;:\&quot;\\ufe40\&quot;,\&quot;?\&quot;:\&quot;\\ufe16\&quot;,\&quot;@\&quot;:\&quot;\\uff20\&quot;,\&quot;[\&quot;:\&quot;\\ufe47\&quot;,\&quot;\\\\\&quot;:\&quot;\\uff3c\&quot;,\&quot;]\&quot;:\&quot;\\ufe48\&quot;,\&quot;^\&quot;:\&quot;\\uff3e\&quot;,_:\&quot;\\ufe33\&quot;,\&quot;`\&quot;:\&quot;\\uff40\&quot;,\&quot;{\&quot;:\&quot;\\ufe37\&quot;,\&quot;|\&quot;:\&quot;\\u2015\&quot;,\&quot;}\&quot;:\&quot;\\ufe38\&quot;,\&quot;~\&quot;:\&quot;\\uff5e\&quot;,\&quot;\\xa2\&quot;:\&quot;\\uffe0\&quot;,\&quot;\\xa3\&quot;:\&quot;\\uffe1\&quot;,\&quot;\\xa5\&quot;:\&quot;\\uffe5\&quot;,\&quot;\\xa6\&quot;:\&quot;\\uffe4\&quot;,\&quot;\\xac\&quot;:\&quot;\\uffe2\&quot;,\&quot;\\xaf\&quot;:\&quot;\\uffe3\&quot;,\&quot;\\u2013\&quot;:\&quot;\\ufe32\&quot;,\&quot;\\u2014\&quot;:\&quot;\\ufe31\&quot;,\&quot;\\u2018\&quot;:\&quot;\\ufe43\&quot;,\&quot;\\u2019\&quot;:\&quot;\\ufe44\&quot;,\&quot;\\u201c\&quot;:\&quot;\\ufe41\&quot;,\&quot;\\u201d\&quot;:\&quot;\\ufe42\&quot;,\&quot;\\u2026\&quot;:\&quot;\\ufe19\&quot;,\&quot;\\u2027\&quot;:\&quot;\\u30fb\&quot;,\&quot;\\u20a9\&quot;:\&quot;\\uffe6\&quot;,\&quot;\\u3001\&quot;:\&quot;\\ufe11\&quot;,\&quot;\\u3002\&quot;:\&quot;\\ufe12\&quot;,\&quot;\\u3008\&quot;:\&quot;\\ufe3f\&quot;,\&quot;\\u3009\&quot;:\&quot;\\ufe40\&quot;,\&quot;\\u300a\&quot;:\&quot;\\ufe3d\&quot;,\&quot;\\u300b\&quot;:\&quot;\\ufe3e\&quot;,\&quot;\\u300c\&quot;:\&quot;\\ufe41\&quot;,\&quot;\\u300d\&quot;:\&quot;\\ufe42\&quot;,\&quot;\\u300e\&quot;:\&quot;\\ufe43\&quot;,\&quot;\\u300f\&quot;:\&quot;\\ufe44\&quot;,\&quot;\\u3010\&quot;:\&quot;\\ufe3b\&quot;,\&quot;\\u3011\&quot;:\&quot;\\ufe3c\&quot;,\&quot;\\u3014\&quot;:\&quot;\\ufe39\&quot;,\&quot;\\u3015\&quot;:\&quot;\\ufe3a\&quot;,\&quot;\\u3016\&quot;:\&quot;\\ufe17\&quot;,\&quot;\\u3017\&quot;:\&quot;\\ufe18\&quot;,\&quot;\\uff01\&quot;:\&quot;\\ufe15\&quot;,\&quot;\\uff08\&quot;:\&quot;\\ufe35\&quot;,\&quot;\\uff09\&quot;:\&quot;\\ufe36\&quot;,\&quot;\\uff0c\&quot;:\&quot;\\ufe10\&quot;,\&quot;\\uff0d\&quot;:\&quot;\\ufe32\&quot;,\&quot;\\uff0e\&quot;:\&quot;\\u30fb\&quot;,\&quot;\\uff1a\&quot;:\&quot;\\ufe13\&quot;,\&quot;\\uff1b\&quot;:\&quot;\\ufe14\&quot;,\&quot;\\uff1c\&quot;:\&quot;\\ufe3f\&quot;,\&quot;\\uff1e\&quot;:\&quot;\\ufe40\&quot;,\&quot;\\uff1f\&quot;:\&quot;\\ufe16\&quot;,\&quot;\\uff3b\&quot;:\&quot;\\ufe47\&quot;,\&quot;\\uff3d\&quot;:\&quot;\\ufe48\&quot;,\&quot;\\uff3f\&quot;:\&quot;\\ufe33\&quot;,\&quot;\\uff5b\&quot;:\&quot;\\ufe37\&quot;,\&quot;\\uff5c\&quot;:\&quot;\\u2015\&quot;,\&quot;\\uff5d\&quot;:\&quot;\\ufe38\&quot;,\&quot;\\uff5f\&quot;:\&quot;\\ufe35\&quot;,\&quot;\\uff60\&quot;:\&quot;\\ufe36\&quot;,\&quot;\\uff61\&quot;:\&quot;\\ufe12\&quot;,\&quot;\\uff62\&quot;:\&quot;\\ufe41\&quot;,\&quot;\\uff63\&quot;:\&quot;\\ufe42\&quot;},Vs=function(t,e,r,n,i){var a,o,s=8*i-n-1,l=(1&lt;&lt;s)-1,c=l&gt;&gt;1,u=-7,f=r?i-1:0,h=r?-1:1,p=t[e+f];for(f+=h,a=p&amp;(1&lt;&lt;-u)-1,p&gt;&gt;=-u,u+=s;u&gt;0;a=256*a+t[e+f],f+=h,u-=8);for(o=a&amp;(1&lt;&lt;-u)-1,a&gt;&gt;=-u,u+=n;u&gt;0;o=256*o+t[e+f],f+=h,u-=8);if(0===a)a=1-c;else{if(a===l)return o?NaN:1/0*(p?-1:1);o+=Math.pow(2,n),a-=c}return(p?-1:1)*o*Math.pow(2,a-n)},qs=function(t,e,r,n,i,a){var o,s,l,c=8*a-i-1,u=(1&lt;&lt;c)-1,f=u&gt;&gt;1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:a-1,d=n?1:-1,g=e&lt;0||0===e&amp;&amp;1/e&lt;0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,o=u):(o=Math.floor(Math.log(e)/Math.LN2),e*(l=Math.pow(2,-o))&lt;1&amp;&amp;(o--,l*=2),(e+=o+f&gt;=1?h/l:h*Math.pow(2,1-f))*l&gt;=2&amp;&amp;(o++,l/=2),o+f&gt;=u?(s=0,o=u):o+f&gt;=1?(s=(e*l-1)*Math.pow(2,i),o+=f):(s=e*Math.pow(2,f-1)*Math.pow(2,i),o=0));i&gt;=8;t[r+p]=255&amp;s,p+=d,s/=256,i-=8);for(o=o&lt;&lt;i|s,c+=i;c&gt;0;t[r+p]=255&amp;o,p+=d,o/=256,c-=8);t[r+p-d]|=128*g},Hs=Gs;function Gs(t){this.buf=ArrayBuffer.isView&amp;&amp;ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.pos=0,this.type=0,this.length=this.buf.length}Gs.Varint=0,Gs.Fixed64=1,Gs.Bytes=2,Gs.Fixed32=5;var Ys=\&quot;undefined\&quot;==typeof TextDecoder?null:new TextDecoder(\&quot;utf8\&quot;);function Ws(t){return t.type===Gs.Bytes?t.readVarint()+t.pos:t.pos+1}function Xs(t,e,r){return r?4294967296*e+(t&gt;&gt;&gt;0):4294967296*(e&gt;&gt;&gt;0)+(t&gt;&gt;&gt;0)}function Zs(t,e,r){var n=e&lt;=16383?1:e&lt;=2097151?2:e&lt;=268435455?3:Math.floor(Math.log(e)/(7*Math.LN2));r.realloc(n);for(var i=r.pos-1;i&gt;=t;i--)r.buf[i+n]=r.buf[i]}function Js(t,e){for(var r=0;r&lt;t.length;r++)e.writeVarint(t[r])}function Ks(t,e){for(var r=0;r&lt;t.length;r++)e.writeSVarint(t[r])}function Qs(t,e){for(var r=0;r&lt;t.length;r++)e.writeFloat(t[r])}function $s(t,e){for(var r=0;r&lt;t.length;r++)e.writeDouble(t[r])}function tl(t,e){for(var r=0;r&lt;t.length;r++)e.writeBoolean(t[r])}function el(t,e){for(var r=0;r&lt;t.length;r++)e.writeFixed32(t[r])}function rl(t,e){for(var r=0;r&lt;t.length;r++)e.writeSFixed32(t[r])}function nl(t,e){for(var r=0;r&lt;t.length;r++)e.writeFixed64(t[r])}function il(t,e){for(var r=0;r&lt;t.length;r++)e.writeSFixed64(t[r])}function al(t,e){return(t[e]|t[e+1]&lt;&lt;8|t[e+2]&lt;&lt;16)+16777216*t[e+3]}function ol(t,e,r){t[r]=e,t[r+1]=e&gt;&gt;&gt;8,t[r+2]=e&gt;&gt;&gt;16,t[r+3]=e&gt;&gt;&gt;24}function sl(t,e){return(t[e]|t[e+1]&lt;&lt;8|t[e+2]&lt;&lt;16)+(t[e+3]&lt;&lt;24)}function ll(t,e,r){1===t&amp;&amp;r.readMessage(cl,e)}function cl(t,e,r){if(3===t){var n=r.readMessage(ul,{}),i=n.width,a=n.height,o=n.left,s=n.top,l=n.advance;e.push({id:n.id,bitmap:new ho({width:i+6,height:a+6},n.bitmap),metrics:{width:i,height:a,left:o,top:s,advance:l}})}}function ul(t,e,r){1===t?e.id=r.readVarint():2===t?e.bitmap=r.readBytes():3===t?e.width=r.readVarint():4===t?e.height=r.readVarint():5===t?e.left=r.readSVarint():6===t?e.top=r.readSVarint():7===t&amp;&amp;(e.advance=r.readVarint())}function fl(t){for(var e=0,r=0,n=0,i=t;n&lt;i.length;n+=1){var a=i[n];e+=a.w*a.h,r=Math.max(r,a.w)}t.sort((function(t,e){return e.h-t.h}));for(var o=[{x:0,y:0,w:Math.max(Math.ceil(Math.sqrt(e/.95)),r),h:1/0}],s=0,l=0,c=0,u=t;c&lt;u.length;c+=1)for(var f=u[c],h=o.length-1;h&gt;=0;h--){var p=o[h];if(!(f.w&gt;p.w||f.h&gt;p.h)){if(f.x=p.x,f.y=p.y,l=Math.max(l,f.y+f.h),s=Math.max(s,f.x+f.w),f.w===p.w&amp;&amp;f.h===p.h){var d=o.pop();h&lt;o.length&amp;&amp;(o[h]=d)}else f.h===p.h?(p.x+=f.w,p.w-=f.w):f.w===p.w?(p.y+=f.h,p.h-=f.h):(o.push({x:p.x+f.w,y:p.y,w:p.w-f.w,h:f.h}),p.y+=f.h,p.h-=f.h);break}}return{w:s,h:l,fill:e/(s*l)||0}}Gs.prototype={destroy:function(){this.buf=null},readFields:function(t,e,r){for(r=r||this.length;this.pos&lt;r;){var n=this.readVarint(),i=n&gt;&gt;3,a=this.pos;this.type=7&amp;n,t(i,e,this),this.pos===a&amp;&amp;this.skip(n)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=al(this.buf,this.pos);return this.pos+=4,t},readSFixed32:function(){var t=sl(this.buf,this.pos);return this.pos+=4,t},readFixed64:function(){var t=al(this.buf,this.pos)+4294967296*al(this.buf,this.pos+4);return this.pos+=8,t},readSFixed64:function(){var t=al(this.buf,this.pos)+4294967296*sl(this.buf,this.pos+4);return this.pos+=8,t},readFloat:function(){var t=Vs(this.buf,this.pos,!0,23,4);return this.pos+=4,t},readDouble:function(){var t=Vs(this.buf,this.pos,!0,52,8);return this.pos+=8,t},readVarint:function(t){var e,r,n=this.buf;return e=127&amp;(r=n[this.pos++]),r&lt;128?e:(e|=(127&amp;(r=n[this.pos++]))&lt;&lt;7,r&lt;128?e:(e|=(127&amp;(r=n[this.pos++]))&lt;&lt;14,r&lt;128?e:(e|=(127&amp;(r=n[this.pos++]))&lt;&lt;21,r&lt;128?e:function(t,e,r){var n,i,a=r.buf;if(n=(112&amp;(i=a[r.pos++]))&gt;&gt;4,i&lt;128)return Xs(t,n,e);if(n|=(127&amp;(i=a[r.pos++]))&lt;&lt;3,i&lt;128)return Xs(t,n,e);if(n|=(127&amp;(i=a[r.pos++]))&lt;&lt;10,i&lt;128)return Xs(t,n,e);if(n|=(127&amp;(i=a[r.pos++]))&lt;&lt;17,i&lt;128)return Xs(t,n,e);if(n|=(127&amp;(i=a[r.pos++]))&lt;&lt;24,i&lt;128)return Xs(t,n,e);if(n|=(1&amp;(i=a[r.pos++]))&lt;&lt;31,i&lt;128)return Xs(t,n,e);throw new Error(\&quot;Expected varint not more than 10 bytes\&quot;)}(e|=(15&amp;(r=n[this.pos]))&lt;&lt;28,t,this))))},readVarint64:function(){return this.readVarint(!0)},readSVarint:function(){var t=this.readVarint();return t%2==1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.pos;return this.pos=t,t-e&gt;=12&amp;&amp;Ys?function(t,e,r){return Ys.decode(t.subarray(e,r))}(this.buf,e,t):function(t,e,r){for(var n=\&quot;\&quot;,i=e;i&lt;r;){var a,o,s,l=t[i],c=null,u=l&gt;239?4:l&gt;223?3:l&gt;191?2:1;if(i+u&gt;r)break;1===u?l&lt;128&amp;&amp;(c=l):2===u?128==(192&amp;(a=t[i+1]))&amp;&amp;(c=(31&amp;l)&lt;&lt;6|63&amp;a)&lt;=127&amp;&amp;(c=null):3===u?(o=t[i+2],128==(192&amp;(a=t[i+1]))&amp;&amp;128==(192&amp;o)&amp;&amp;((c=(15&amp;l)&lt;&lt;12|(63&amp;a)&lt;&lt;6|63&amp;o)&lt;=2047||c&gt;=55296&amp;&amp;c&lt;=57343)&amp;&amp;(c=null)):4===u&amp;&amp;(o=t[i+2],s=t[i+3],128==(192&amp;(a=t[i+1]))&amp;&amp;128==(192&amp;o)&amp;&amp;128==(192&amp;s)&amp;&amp;((c=(15&amp;l)&lt;&lt;18|(63&amp;a)&lt;&lt;12|(63&amp;o)&lt;&lt;6|63&amp;s)&lt;=65535||c&gt;=1114112)&amp;&amp;(c=null)),null===c?(c=65533,u=1):c&gt;65535&amp;&amp;(c-=65536,n+=String.fromCharCode(c&gt;&gt;&gt;10&amp;1023|55296),c=56320|1023&amp;c),n+=String.fromCharCode(c),i+=u}return n}(this.buf,e,t)},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.subarray(this.pos,t);return this.pos=t,e},readPackedVarint:function(t,e){if(this.type!==Gs.Bytes)return t.push(this.readVarint(e));var r=Ws(this);for(t=t||[];this.pos&lt;r;)t.push(this.readVarint(e));return t},readPackedSVarint:function(t){if(this.type!==Gs.Bytes)return t.push(this.readSVarint());var e=Ws(this);for(t=t||[];this.pos&lt;e;)t.push(this.readSVarint());return t},readPackedBoolean:function(t){if(this.type!==Gs.Bytes)return t.push(this.readBoolean());var e=Ws(this);for(t=t||[];this.pos&lt;e;)t.push(this.readBoolean());return t},readPackedFloat:function(t){if(this.type!==Gs.Bytes)return t.push(this.readFloat());var e=Ws(this);for(t=t||[];this.pos&lt;e;)t.push(this.readFloat());return t},readPackedDouble:function(t){if(this.type!==Gs.Bytes)return t.push(this.readDouble());var e=Ws(this);for(t=t||[];this.pos&lt;e;)t.push(this.readDouble());return t},readPackedFixed32:function(t){if(this.type!==Gs.Bytes)return t.push(this.readFixed32());var e=Ws(this);for(t=t||[];this.pos&lt;e;)t.push(this.readFixed32());return t},readPackedSFixed32:function(t){if(this.type!==Gs.Bytes)return t.push(this.readSFixed32());var e=Ws(this);for(t=t||[];this.pos&lt;e;)t.push(this.readSFixed32());return t},readPackedFixed64:function(t){if(this.type!==Gs.Bytes)return t.push(this.readFixed64());var e=Ws(this);for(t=t||[];this.pos&lt;e;)t.push(this.readFixed64());return t},readPackedSFixed64:function(t){if(this.type!==Gs.Bytes)return t.push(this.readSFixed64());var e=Ws(this);for(t=t||[];this.pos&lt;e;)t.push(this.readSFixed64());return t},skip:function(t){var e=7&amp;t;if(e===Gs.Varint)for(;this.buf[this.pos++]&gt;127;);else if(e===Gs.Bytes)this.pos=this.readVarint()+this.pos;else if(e===Gs.Fixed32)this.pos+=4;else{if(e!==Gs.Fixed64)throw new Error(\&quot;Unimplemented type: \&quot;+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t&lt;&lt;3|e)},realloc:function(t){for(var e=this.length||16;e&lt;this.pos+t;)e*=2;if(e!==this.length){var r=new Uint8Array(e);r.set(this.buf),this.buf=r,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.subarray(0,this.length)},writeFixed32:function(t){this.realloc(4),ol(this.buf,t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),ol(this.buf,t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),ol(this.buf,-1&amp;t,this.pos),ol(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),ol(this.buf,-1&amp;t,this.pos),ol(this.buf,Math.floor(t*(1/4294967296)),this.pos+4),this.pos+=8},writeVarint:function(t){(t=+t||0)&gt;268435455||t&lt;0?function(t,e){var r,n;if(t&gt;=0?(r=t%4294967296|0,n=t/4294967296|0):(n=~(-t/4294967296),4294967295^(r=~(-t%4294967296))?r=r+1|0:(r=0,n=n+1|0)),t&gt;=0x10000000000000000||t&lt;-0x10000000000000000)throw new Error(\&quot;Given varint doesn't fit into 10 bytes\&quot;);e.realloc(10),function(t,e,r){r.buf[r.pos++]=127&amp;t|128,t&gt;&gt;&gt;=7,r.buf[r.pos++]=127&amp;t|128,t&gt;&gt;&gt;=7,r.buf[r.pos++]=127&amp;t|128,t&gt;&gt;&gt;=7,r.buf[r.pos++]=127&amp;t|128,r.buf[r.pos]=127&amp;(t&gt;&gt;&gt;=7)}(r,0,e),function(t,e){var r=(7&amp;t)&lt;&lt;4;e.buf[e.pos++]|=r|((t&gt;&gt;&gt;=3)?128:0),t&amp;&amp;(e.buf[e.pos++]=127&amp;t|((t&gt;&gt;&gt;=7)?128:0),t&amp;&amp;(e.buf[e.pos++]=127&amp;t|((t&gt;&gt;&gt;=7)?128:0),t&amp;&amp;(e.buf[e.pos++]=127&amp;t|((t&gt;&gt;&gt;=7)?128:0),t&amp;&amp;(e.buf[e.pos++]=127&amp;t|((t&gt;&gt;&gt;=7)?128:0),t&amp;&amp;(e.buf[e.pos++]=127&amp;t)))))}(n,e)}(t,this):(this.realloc(4),this.buf[this.pos++]=127&amp;t|(t&gt;127?128:0),t&lt;=127||(this.buf[this.pos++]=127&amp;(t&gt;&gt;&gt;=7)|(t&gt;127?128:0),t&lt;=127||(this.buf[this.pos++]=127&amp;(t&gt;&gt;&gt;=7)|(t&gt;127?128:0),t&lt;=127||(this.buf[this.pos++]=t&gt;&gt;&gt;7&amp;127))))},writeSVarint:function(t){this.writeVarint(t&lt;0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t),this.realloc(4*t.length),this.pos++;var e=this.pos;this.pos=function(t,e,r){for(var n,i,a=0;a&lt;e.length;a++){if((n=e.charCodeAt(a))&gt;55295&amp;&amp;n&lt;57344){if(!i){n&gt;56319||a+1===e.length?(t[r++]=239,t[r++]=191,t[r++]=189):i=n;continue}if(n&lt;56320){t[r++]=239,t[r++]=191,t[r++]=189,i=n;continue}n=i-55296&lt;&lt;10|n-56320|65536,i=null}else i&amp;&amp;(t[r++]=239,t[r++]=191,t[r++]=189,i=null);n&lt;128?t[r++]=n:(n&lt;2048?t[r++]=n&gt;&gt;6|192:(n&lt;65536?t[r++]=n&gt;&gt;12|224:(t[r++]=n&gt;&gt;18|240,t[r++]=n&gt;&gt;12&amp;63|128),t[r++]=n&gt;&gt;6&amp;63|128),t[r++]=63&amp;n|128)}return r}(this.buf,t,this.pos);var r=this.pos-e;r&gt;=128&amp;&amp;Zs(e,r,this),this.pos=e-1,this.writeVarint(r),this.pos+=r},writeFloat:function(t){this.realloc(4),qs(this.buf,t,this.pos,!0,23,4),this.pos+=4},writeDouble:function(t){this.realloc(8),qs(this.buf,t,this.pos,!0,52,8),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var r=0;r&lt;e;r++)this.buf[this.pos++]=t[r]},writeRawMessage:function(t,e){this.pos++;var r=this.pos;t(e,this);var n=this.pos-r;n&gt;=128&amp;&amp;Zs(r,n,this),this.pos=r-1,this.writeVarint(n),this.pos+=n},writeMessage:function(t,e,r){this.writeTag(t,Gs.Bytes),this.writeRawMessage(e,r)},writePackedVarint:function(t,e){e.length&amp;&amp;this.writeMessage(t,Js,e)},writePackedSVarint:function(t,e){e.length&amp;&amp;this.writeMessage(t,Ks,e)},writePackedBoolean:function(t,e){e.length&amp;&amp;this.writeMessage(t,tl,e)},writePackedFloat:function(t,e){e.length&amp;&amp;this.writeMessage(t,Qs,e)},writePackedDouble:function(t,e){e.length&amp;&amp;this.writeMessage(t,$s,e)},writePackedFixed32:function(t,e){e.length&amp;&amp;this.writeMessage(t,el,e)},writePackedSFixed32:function(t,e){e.length&amp;&amp;this.writeMessage(t,rl,e)},writePackedFixed64:function(t,e){e.length&amp;&amp;this.writeMessage(t,nl,e)},writePackedSFixed64:function(t,e){e.length&amp;&amp;this.writeMessage(t,il,e)},writeBytesField:function(t,e){this.writeTag(t,Gs.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,Gs.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,Gs.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,Gs.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,Gs.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,Gs.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,Gs.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,Gs.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,Gs.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,Gs.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}};var hl=function(t,e){var r=e.pixelRatio,n=e.version,i=e.stretchX,a=e.stretchY,o=e.content;this.paddedRect=t,this.pixelRatio=r,this.stretchX=i,this.stretchY=a,this.content=o,this.version=n},pl={tl:{configurable:!0},br:{configurable:!0},tlbr:{configurable:!0},displaySize:{configurable:!0}};pl.tl.get=function(){return[this.paddedRect.x+1,this.paddedRect.y+1]},pl.br.get=function(){return[this.paddedRect.x+this.paddedRect.w-1,this.paddedRect.y+this.paddedRect.h-1]},pl.tlbr.get=function(){return this.tl.concat(this.br)},pl.displaySize.get=function(){return[(this.paddedRect.w-2)/this.pixelRatio,(this.paddedRect.h-2)/this.pixelRatio]},Object.defineProperties(hl.prototype,pl);var dl=function(t,e){var r={},n={};this.haveRenderCallbacks=[];var i=[];this.addImages(t,r,i),this.addImages(e,n,i);var a=fl(i),o=new po({width:a.w||1,height:a.h||1});for(var s in t){var l=t[s],c=r[s].paddedRect;po.copy(l.data,o,{x:0,y:0},{x:c.x+1,y:c.y+1},l.data)}for(var u in e){var f=e[u],h=n[u].paddedRect,p=h.x+1,d=h.y+1,g=f.data.width,m=f.data.height;po.copy(f.data,o,{x:0,y:0},{x:p,y:d},f.data),po.copy(f.data,o,{x:0,y:m-1},{x:p,y:d-1},{width:g,height:1}),po.copy(f.data,o,{x:0,y:0},{x:p,y:d+m},{width:g,height:1}),po.copy(f.data,o,{x:g-1,y:0},{x:p-1,y:d},{width:1,height:m}),po.copy(f.data,o,{x:0,y:0},{x:p+g,y:d},{width:1,height:m})}this.image=o,this.iconPositions=r,this.patternPositions=n};dl.prototype.addImages=function(t,e,r){for(var n in t){var i=t[n],a={x:0,y:0,w:i.data.width+2,h:i.data.height+2};r.push(a),e[n]=new hl(a,i),i.hasRenderCallback&amp;&amp;this.haveRenderCallbacks.push(n)}},dl.prototype.patchUpdatedImages=function(t,e){for(var r in t.dispatchRenderCallbacks(this.haveRenderCallbacks),t.updatedImages)this.patchUpdatedImage(this.iconPositions[r],t.getImage(r),e),this.patchUpdatedImage(this.patternPositions[r],t.getImage(r),e)},dl.prototype.patchUpdatedImage=function(t,e,r){if(t&amp;&amp;e&amp;&amp;t.version!==e.version){t.version=e.version;var n=t.tl;r.update(e.data,void 0,{x:n[0],y:n[1]})}},Dn(\&quot;ImagePosition\&quot;,hl),Dn(\&quot;ImageAtlas\&quot;,dl);var gl={horizontal:1,vertical:2,horizontalOnly:3},ml=function(){this.scale=1,this.fontStack=\&quot;\&quot;,this.imageName=null};ml.forText=function(t,e){var r=new ml;return r.scale=t||1,r.fontStack=e,r},ml.forImage=function(t){var e=new ml;return e.imageName=t,e};var vl=function(){this.text=\&quot;\&quot;,this.sectionIndex=[],this.sections=[],this.imageSectionID=null};function yl(t,e,r,n,i,a,o,s,l,c,u,f,h,p,d,g){var m,v=vl.fromFeature(t,i);f===gl.vertical&amp;&amp;v.verticalizePunctuation();var y=ni.processBidirectionalText,x=ni.processStyledBidirectionalText;if(y&amp;&amp;1===v.sections.length){m=[];for(var b=0,_=y(v.toString(),Ml(v,c,a,e,n,p,d));b&lt;_.length;b+=1){var w=_[b],T=new vl;T.text=w,T.sections=v.sections;for(var k=0;k&lt;w.length;k++)T.sectionIndex.push(0);m.push(T)}}else if(x){m=[];for(var M=0,A=x(v.text,v.sectionIndex,Ml(v,c,a,e,n,p,d));M&lt;A.length;M+=1){var S=A[M],E=new vl;E.text=S[0],E.sectionIndex=S[1],E.sections=v.sections,m.push(E)}}else m=function(t,e){for(var r=[],n=t.text,i=0,a=0,o=e;a&lt;o.length;a+=1){var s=o[a];r.push(t.substring(i,s)),i=s}return i&lt;n.length&amp;&amp;r.push(t.substring(i,n.length)),r}(v,Ml(v,c,a,e,n,p,d));var C=[],L={positionedLines:C,text:v.toString(),top:u[1],bottom:u[1],left:u[0],right:u[0],writingMode:f,iconsInText:!1,verticalizable:!1};return function(t,e,r,n,i,a,o,s,l,c,u,f){for(var h=0,p=-17,d=0,g=0,m=\&quot;right\&quot;===s?1:\&quot;left\&quot;===s?0:.5,v=0,y=0,x=i;y&lt;x.length;y+=1){var b=x[y];b.trim();var _=b.getMaxScale(),w=24*(_-1),T={positionedGlyphs:[],lineOffset:0};t.positionedLines[v]=T;var k=T.positionedGlyphs,M=0;if(b.length()){for(var A=0;A&lt;b.length();A++){var S=b.getSection(A),E=b.getSectionIndex(A),C=b.getCharCode(A),L=0,I=null,P=null,z=null,O=24,D=!(l===gl.horizontal||!u&amp;&amp;!Hn(C)||u&amp;&amp;(xl[C]||(H=C,Vn.Arabic(H)||Vn[\&quot;Arabic Supplement\&quot;](H)||Vn[\&quot;Arabic Extended-A\&quot;](H)||Vn[\&quot;Arabic Presentation Forms-A\&quot;](H)||Vn[\&quot;Arabic Presentation Forms-B\&quot;](H))));if(S.imageName){var R=n[S.imageName];if(!R)continue;z=S.imageName,t.iconsInText=t.iconsInText||!0,P=R.paddedRect;var F=R.displaySize;S.scale=24*S.scale/f,L=w+(24-F[1]*S.scale),O=(I={width:F[0],height:F[1],left:1,top:-3,advance:D?F[1]:F[0]}).advance;var B=D?F[0]*S.scale-24*_:F[1]*S.scale-24*_;B&gt;0&amp;&amp;B&gt;M&amp;&amp;(M=B)}else{var N=r[S.fontStack],j=N&amp;&amp;N[C];if(j&amp;&amp;j.rect)P=j.rect,I=j.metrics;else{var U=e[S.fontStack],V=U&amp;&amp;U[C];if(!V)continue;I=V.metrics}L=24*(_-S.scale)}D?(t.verticalizable=!0,k.push({glyph:C,imageName:z,x:h,y:p+L,vertical:D,scale:S.scale,fontStack:S.fontStack,sectionIndex:E,metrics:I,rect:P}),h+=O*S.scale+c):(k.push({glyph:C,imageName:z,x:h,y:p+L,vertical:D,scale:S.scale,fontStack:S.fontStack,sectionIndex:E,metrics:I,rect:P}),h+=I.advance*S.scale+c)}0!==k.length&amp;&amp;(d=Math.max(h-c,d),Sl(k,0,k.length-1,m,M)),h=0;var q=a*_+M;T.lineOffset=Math.max(M,w),p+=q,g=Math.max(q,g),++v}else p+=a,++v}var H,G=p- -17,Y=Al(o),W=Y.horizontalAlign,X=Y.verticalAlign;(function(t,e,r,n,i,a,o,s,l){var c,u=(e-r)*i;c=a!==o?-s*n- -17:(-n*l+.5)*o;for(var f=0,h=t;f&lt;h.length;f+=1)for(var p=0,d=h[f].positionedGlyphs;p&lt;d.length;p+=1){var g=d[p];g.x+=u,g.y+=c}})(t.positionedLines,m,W,X,d,g,a,G,i.length),t.top+=-X*G,t.bottom=t.top+G,t.left+=-W*d,t.right=t.left+d}(L,e,r,n,m,o,s,l,f,c,h,g),!function(t){for(var e=0,r=t;e&lt;r.length;e+=1)if(0!==r[e].positionedGlyphs.length)return!1;return!0}(C)&amp;&amp;L}vl.fromFeature=function(t,e){for(var r=new vl,n=0;n&lt;t.sections.length;n++){var i=t.sections[n];i.image?r.addImageSection(i):r.addTextSection(i,e)}return r},vl.prototype.length=function(){return this.text.length},vl.prototype.getSection=function(t){return this.sections[this.sectionIndex[t]]},vl.prototype.getSectionIndex=function(t){return this.sectionIndex[t]},vl.prototype.getCharCode=function(t){return this.text.charCodeAt(t)},vl.prototype.verticalizePunctuation=function(){this.text=function(t){for(var e=\&quot;\&quot;,r=0;r&lt;t.length;r++){var n=t.charCodeAt(r+1)||null,i=t.charCodeAt(r-1)||null;e+=n&amp;&amp;Gn(n)&amp;&amp;!Us[t[r+1]]||i&amp;&amp;Gn(i)&amp;&amp;!Us[t[r-1]]||!Us[t[r]]?t[r]:Us[t[r]]}return e}(this.text)},vl.prototype.trim=function(){for(var t=0,e=0;e&lt;this.text.length&amp;&amp;xl[this.text.charCodeAt(e)];e++)t++;for(var r=this.text.length,n=this.text.length-1;n&gt;=0&amp;&amp;n&gt;=t&amp;&amp;xl[this.text.charCodeAt(n)];n--)r--;this.text=this.text.substring(t,r),this.sectionIndex=this.sectionIndex.slice(t,r)},vl.prototype.substring=function(t,e){var r=new vl;return r.text=this.text.substring(t,e),r.sectionIndex=this.sectionIndex.slice(t,e),r.sections=this.sections,r},vl.prototype.toString=function(){return this.text},vl.prototype.getMaxScale=function(){var t=this;return this.sectionIndex.reduce((function(e,r){return Math.max(e,t.sections[r].scale)}),0)},vl.prototype.addTextSection=function(t,e){this.text+=t.text,this.sections.push(ml.forText(t.scale,t.fontStack||e));for(var r=this.sections.length-1,n=0;n&lt;t.text.length;++n)this.sectionIndex.push(r)},vl.prototype.addImageSection=function(t){var e=t.image?t.image.name:\&quot;\&quot;;if(0!==e.length){var r=this.getNextImageSectionCharCode();r?(this.text+=String.fromCharCode(r),this.sections.push(ml.forImage(e)),this.sectionIndex.push(this.sections.length-1)):_(\&quot;Reached maximum number of images 6401\&quot;)}else _(\&quot;Can't add FormattedSection with an empty image.\&quot;)},vl.prototype.getNextImageSectionCharCode=function(){return this.imageSectionID?this.imageSectionID&gt;=63743?null:++this.imageSectionID:(this.imageSectionID=57344,this.imageSectionID)};var xl={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},bl={};function _l(t,e,r,n,i,a){if(e.imageName){var o=n[e.imageName];return o?o.displaySize[0]*e.scale*24/a+i:0}var s=r[e.fontStack],l=s&amp;&amp;s[t];return l?l.metrics.advance*e.scale+i:0}function wl(t,e,r,n){var i=Math.pow(t-e,2);return n?t&lt;e?i/2:2*i:i+Math.abs(r)*r}function Tl(t,e,r){var n=0;return 10===t&amp;&amp;(n-=1e4),r&amp;&amp;(n+=150),40!==t&amp;&amp;65288!==t||(n+=50),41!==e&amp;&amp;65289!==e||(n+=50),n}function kl(t,e,r,n,i,a){for(var o=null,s=wl(e,r,i,a),l=0,c=n;l&lt;c.length;l+=1){var u=c[l],f=wl(e-u.x,r,i,a)+u.badness;f&lt;=s&amp;&amp;(o=u,s=f)}return{index:t,x:e,priorBreak:o,badness:s}}function Ml(t,e,r,n,i,a,o){if(\&quot;point\&quot;!==a)return[];if(!t)return[];for(var s,l=[],c=function(t,e,r,n,i,a){for(var o=0,s=0;s&lt;t.length();s++){var l=t.getSection(s);o+=_l(t.getCharCode(s),l,n,i,e,a)}return o/Math.max(1,Math.ceil(o/r))}(t,e,r,n,i,o),u=t.text.indexOf(\&quot;\\u200b\&quot;)&gt;=0,f=0,h=0;h&lt;t.length();h++){var p=t.getSection(h),d=t.getCharCode(h);if(xl[d]||(f+=_l(d,p,n,i,e,o)),h&lt;t.length()-1){var g=!((s=d)&lt;11904||!(Vn[\&quot;Bopomofo Extended\&quot;](s)||Vn.Bopomofo(s)||Vn[\&quot;CJK Compatibility Forms\&quot;](s)||Vn[\&quot;CJK Compatibility Ideographs\&quot;](s)||Vn[\&quot;CJK Compatibility\&quot;](s)||Vn[\&quot;CJK Radicals Supplement\&quot;](s)||Vn[\&quot;CJK Strokes\&quot;](s)||Vn[\&quot;CJK Symbols and Punctuation\&quot;](s)||Vn[\&quot;CJK Unified Ideographs Extension A\&quot;](s)||Vn[\&quot;CJK Unified Ideographs\&quot;](s)||Vn[\&quot;Enclosed CJK Letters and Months\&quot;](s)||Vn[\&quot;Halfwidth and Fullwidth Forms\&quot;](s)||Vn.Hiragana(s)||Vn[\&quot;Ideographic Description Characters\&quot;](s)||Vn[\&quot;Kangxi Radicals\&quot;](s)||Vn[\&quot;Katakana Phonetic Extensions\&quot;](s)||Vn.Katakana(s)||Vn[\&quot;Vertical Forms\&quot;](s)||Vn[\&quot;Yi Radicals\&quot;](s)||Vn[\&quot;Yi Syllables\&quot;](s)));(bl[d]||g||p.imageName)&amp;&amp;l.push(kl(h+1,f,c,l,Tl(d,t.getCharCode(h+1),g&amp;&amp;u),!1))}}return function t(e){return e?t(e.priorBreak).concat(e.index):[]}(kl(t.length(),f,c,l,0,!0))}function Al(t){var e=.5,r=.5;switch(t){case\&quot;right\&quot;:case\&quot;top-right\&quot;:case\&quot;bottom-right\&quot;:e=1;break;case\&quot;left\&quot;:case\&quot;top-left\&quot;:case\&quot;bottom-left\&quot;:e=0}switch(t){case\&quot;bottom\&quot;:case\&quot;bottom-right\&quot;:case\&quot;bottom-left\&quot;:r=1;break;case\&quot;top\&quot;:case\&quot;top-right\&quot;:case\&quot;top-left\&quot;:r=0}return{horizontalAlign:e,verticalAlign:r}}function Sl(t,e,r,n,i){if(n||i)for(var a=t[r],o=(t[r].x+a.metrics.advance*a.scale)*n,s=e;s&lt;=r;s++)t[s].x-=o,t[s].y+=i}function El(t,e,r,n,i,a){var o,s=t.image;if(s.content){var l=s.content,c=s.pixelRatio||1;o=[l[0]/c,l[1]/c,s.displaySize[0]-l[2]/c,s.displaySize[1]-l[3]/c]}var u,f,h,p,d=e.left*a,g=e.right*a;\&quot;width\&quot;===r||\&quot;both\&quot;===r?(p=i[0]+d-n[3],f=i[0]+g+n[1]):f=(p=i[0]+(d+g-s.displaySize[0])/2)+s.displaySize[0];var m=e.top*a,v=e.bottom*a;return\&quot;height\&quot;===r||\&quot;both\&quot;===r?(u=i[1]+m-n[0],h=i[1]+v+n[2]):h=(u=i[1]+(m+v-s.displaySize[1])/2)+s.displaySize[1],{image:s,top:u,right:f,bottom:h,left:p,collisionPadding:o}}bl[10]=!0,bl[32]=!0,bl[38]=!0,bl[40]=!0,bl[41]=!0,bl[43]=!0,bl[45]=!0,bl[47]=!0,bl[173]=!0,bl[183]=!0,bl[8203]=!0,bl[8208]=!0,bl[8211]=!0,bl[8231]=!0;var Cl=function(t){function e(e,r,n,i){t.call(this,e,r),this.angle=n,void 0!==i&amp;&amp;(this.segment=i)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(i);function Ll(t,e){var r=e.expression;if(\&quot;constant\&quot;===r.kind)return{kind:\&quot;constant\&quot;,layoutSize:r.evaluate(new ii(t+1))};if(\&quot;source\&quot;===r.kind)return{kind:\&quot;source\&quot;};for(var n=r.zoomStops,i=r.interpolationType,a=0;a&lt;n.length&amp;&amp;n[a]&lt;=t;)a++;for(var o=a=Math.max(0,a-1);o&lt;n.length&amp;&amp;n[o]&lt;t+1;)o++;o=Math.min(n.length-1,o);var s=n[a],l=n[o];return\&quot;composite\&quot;===r.kind?{kind:\&quot;composite\&quot;,minZoom:s,maxZoom:l,interpolationType:i}:{kind:\&quot;camera\&quot;,minZoom:s,maxZoom:l,minSize:r.evaluate(new ii(s)),maxSize:r.evaluate(new ii(l)),interpolationType:i}}function Il(t,e,r){var n=e.uSize,i=r.lowerSize;return\&quot;source\&quot;===t.kind?i/128:\&quot;composite\&quot;===t.kind?Ue(i/128,r.upperSize/128,e.uSizeT):n}function Pl(t,e){var r=0,n=0;if(\&quot;constant\&quot;===t.kind)n=t.layoutSize;else if(\&quot;source\&quot;!==t.kind){var i=t.interpolationType,a=i?l(rr.interpolationFactor(i,e,t.minZoom,t.maxZoom),0,1):0;\&quot;camera\&quot;===t.kind?n=Ue(t.minSize,t.maxSize,a):r=a}return{uSizeT:r,uSize:n}}Dn(\&quot;Anchor\&quot;,Cl);var zl=Object.freeze({__proto__:null,getSizeData:Ll,evaluateSizeForFeature:Il,evaluateSizeForZoom:Pl,SIZE_PACK_FACTOR:128});function Ol(t,e,r,n,i){if(void 0===e.segment)return!0;for(var a=e,o=e.segment+1,s=0;s&gt;-r/2;){if(--o&lt;0)return!1;s-=t[o].dist(a),a=t[o]}s+=t[o].dist(t[o+1]),o++;for(var l=[],c=0;s&lt;r/2;){var u=t[o],f=t[o+1];if(!f)return!1;var h=t[o-1].angleTo(u)-u.angleTo(f);for(h=Math.abs((h+3*Math.PI)%(2*Math.PI)-Math.PI),l.push({distance:s,angleDelta:h}),c+=h;s-l[0].distance&gt;n;)c-=l.shift().angleDelta;if(c&gt;i)return!1;o++,s+=u.dist(f)}return!0}function Dl(t){for(var e=0,r=0;r&lt;t.length-1;r++)e+=t[r].dist(t[r+1]);return e}function Rl(t,e,r){return t?.6*e*r:0}function Fl(t,e){return Math.max(t?t.right-t.left:0,e?e.right-e.left:0)}function Bl(t,e,r,n,i,a){for(var o=Rl(r,i,a),s=Fl(r,n)*a,l=0,c=Dl(t)/2,u=0;u&lt;t.length-1;u++){var f=t[u],h=t[u+1],p=f.dist(h);if(l+p&gt;c){var d=(c-l)/p,g=Ue(f.x,h.x,d),m=Ue(f.y,h.y,d),v=new Cl(g,m,h.angleTo(f),u);return v._round(),!o||Ol(t,v,s,o,e)?v:void 0}l+=p}}function Nl(t,e,r,n,i,a,o,s,l){var c=Rl(n,a,o),u=Fl(n,i),f=u*o,h=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;return e-f&lt;e/4&amp;&amp;(e=f+e/4),function t(e,r,n,i,a,o,s,l,c){for(var u=o/2,f=Dl(e),h=0,p=r-n,d=[],g=0;g&lt;e.length-1;g++){for(var m=e[g],v=e[g+1],y=m.dist(v),x=v.angleTo(m);p+n&lt;h+y;){var b=((p+=n)-h)/y,_=Ue(m.x,v.x,b),w=Ue(m.y,v.y,b);if(_&gt;=0&amp;&amp;_&lt;c&amp;&amp;w&gt;=0&amp;&amp;w&lt;c&amp;&amp;p-u&gt;=0&amp;&amp;p+u&lt;=f){var T=new Cl(_,w,x,g);T._round(),i&amp;&amp;!Ol(e,T,o,i,a)||d.push(T)}}h+=y}return l||d.length||s||(d=t(e,h/2,n,i,a,o,s,!0,c)),d}(t,h?e/2*s%e:(u/2+2*a)*o*s%e,e,c,r,f,h,!1,l)}function jl(t,e,r,n,a){for(var o=[],s=0;s&lt;t.length;s++)for(var l=t[s],c=void 0,u=0;u&lt;l.length-1;u++){var f=l[u],h=l[u+1];f.x&lt;e&amp;&amp;h.x&lt;e||(f.x&lt;e?f=new i(e,f.y+(e-f.x)/(h.x-f.x)*(h.y-f.y))._round():h.x&lt;e&amp;&amp;(h=new i(e,f.y+(e-f.x)/(h.x-f.x)*(h.y-f.y))._round()),f.y&lt;r&amp;&amp;h.y&lt;r||(f.y&lt;r?f=new i(f.x+(r-f.y)/(h.y-f.y)*(h.x-f.x),r)._round():h.y&lt;r&amp;&amp;(h=new i(f.x+(r-f.y)/(h.y-f.y)*(h.x-f.x),r)._round()),f.x&gt;=n&amp;&amp;h.x&gt;=n||(f.x&gt;=n?f=new i(n,f.y+(n-f.x)/(h.x-f.x)*(h.y-f.y))._round():h.x&gt;=n&amp;&amp;(h=new i(n,f.y+(n-f.x)/(h.x-f.x)*(h.y-f.y))._round()),f.y&gt;=a&amp;&amp;h.y&gt;=a||(f.y&gt;=a?f=new i(f.x+(a-f.y)/(h.y-f.y)*(h.x-f.x),a)._round():h.y&gt;=a&amp;&amp;(h=new i(f.x+(a-f.y)/(h.y-f.y)*(h.x-f.x),a)._round()),c&amp;&amp;f.equals(c[c.length-1])||o.push(c=[f]),c.push(h)))))}return o}function Ul(t,e,r,n){var a=[],o=t.image,s=o.pixelRatio,l=o.paddedRect.w-2,c=o.paddedRect.h-2,u=t.right-t.left,f=t.bottom-t.top,h=o.stretchX||[[0,l]],p=o.stretchY||[[0,c]],d=function(t,e){return t+e[1]-e[0]},g=h.reduce(d,0),m=p.reduce(d,0),v=l-g,y=c-m,x=0,b=g,_=0,w=m,T=0,k=v,M=0,A=y;if(o.content&amp;&amp;n){var S=o.content;x=Vl(h,0,S[0]),_=Vl(p,0,S[1]),b=Vl(h,S[0],S[2]),w=Vl(p,S[1],S[3]),T=S[0]-x,M=S[1]-_,k=S[2]-S[0]-b,A=S[3]-S[1]-w}var E=function(n,a,l,c){var h=Hl(n.stretch-x,b,u,t.left),p=Gl(n.fixed-T,k,n.stretch,g),d=Hl(a.stretch-_,w,f,t.top),v=Gl(a.fixed-M,A,a.stretch,m),y=Hl(l.stretch-x,b,u,t.left),S=Gl(l.fixed-T,k,l.stretch,g),E=Hl(c.stretch-_,w,f,t.top),C=Gl(c.fixed-M,A,c.stretch,m),L=new i(h,d),I=new i(y,d),P=new i(y,E),z=new i(h,E),O=new i(p/s,v/s),D=new i(S/s,C/s),R=e*Math.PI/180;if(R){var F=Math.sin(R),B=Math.cos(R),N=[B,-F,F,B];L._matMult(N),I._matMult(N),z._matMult(N),P._matMult(N)}var j=n.stretch+n.fixed,U=a.stretch+a.fixed;return{tl:L,tr:I,bl:z,br:P,tex:{x:o.paddedRect.x+1+j,y:o.paddedRect.y+1+U,w:l.stretch+l.fixed-j,h:c.stretch+c.fixed-U},writingMode:void 0,glyphOffset:[0,0],sectionIndex:0,pixelOffsetTL:O,pixelOffsetBR:D,minFontScaleX:k/s/u,minFontScaleY:A/s/f,isSDF:r}};if(n&amp;&amp;(o.stretchX||o.stretchY))for(var C=ql(h,v,g),L=ql(p,y,m),I=0;I&lt;C.length-1;I++)for(var P=C[I],z=C[I+1],O=0;O&lt;L.length-1;O++)a.push(E(P,L[O],z,L[O+1]));else a.push(E({fixed:0,stretch:-1},{fixed:0,stretch:-1},{fixed:0,stretch:l+1},{fixed:0,stretch:c+1}));return a}function Vl(t,e,r){for(var n=0,i=0,a=t;i&lt;a.length;i+=1){var o=a[i];n+=Math.max(e,Math.min(r,o[1]))-Math.max(e,Math.min(r,o[0]))}return n}function ql(t,e,r){for(var n=[{fixed:-1,stretch:0}],i=0,a=t;i&lt;a.length;i+=1){var o=a[i],s=o[0],l=o[1],c=n[n.length-1];n.push({fixed:s-c.stretch,stretch:c.stretch}),n.push({fixed:s-c.stretch,stretch:c.stretch+(l-s)})}return n.push({fixed:e+1,stretch:r}),n}function Hl(t,e,r,n){return t/e*r+n}function Gl(t,e,r,n){return t-e*r/n}var Yl=function(t,e,r,n,a,o,s,l,c,u){if(this.boxStartIndex=t.length,c){var f=o.top,h=o.bottom,p=o.collisionPadding;p&amp;&amp;(f-=p[1],h+=p[3]);var d=h-f;d&gt;0&amp;&amp;(d=Math.max(10,d),this.circleDiameter=d)}else{var g=o.top*s-l,m=o.bottom*s+l,v=o.left*s-l,y=o.right*s+l,x=o.collisionPadding;if(x&amp;&amp;(v-=x[0]*s,g-=x[1]*s,y+=x[2]*s,m+=x[3]*s),u){var b=new i(v,g),_=new i(y,g),w=new i(v,m),T=new i(y,m),k=u*Math.PI/180;b._rotate(k),_._rotate(k),w._rotate(k),T._rotate(k),v=Math.min(b.x,_.x,w.x,T.x),y=Math.max(b.x,_.x,w.x,T.x),g=Math.min(b.y,_.y,w.y,T.y),m=Math.max(b.y,_.y,w.y,T.y)}t.emplaceBack(e.x,e.y,v,g,y,m,r,n,a)}this.boxEndIndex=t.length},Wl=function(t,e){if(void 0===t&amp;&amp;(t=[]),void 0===e&amp;&amp;(e=Xl),this.data=t,this.length=this.data.length,this.compare=e,this.length&gt;0)for(var r=(this.length&gt;&gt;1)-1;r&gt;=0;r--)this._down(r)};function Xl(t,e){return t&lt;e?-1:t&gt;e?1:0}function Zl(t,e,r){void 0===e&amp;&amp;(e=1),void 0===r&amp;&amp;(r=!1);for(var n=1/0,a=1/0,o=-1/0,s=-1/0,l=t[0],c=0;c&lt;l.length;c++){var u=l[c];(!c||u.x&lt;n)&amp;&amp;(n=u.x),(!c||u.y&lt;a)&amp;&amp;(a=u.y),(!c||u.x&gt;o)&amp;&amp;(o=u.x),(!c||u.y&gt;s)&amp;&amp;(s=u.y)}var f=Math.min(o-n,s-a),h=f/2,p=new Wl([],Jl);if(0===f)return new i(n,a);for(var d=n;d&lt;o;d+=f)for(var g=a;g&lt;s;g+=f)p.push(new Kl(d+h,g+h,h,t));for(var m=function(t){for(var e=0,r=0,n=0,i=t[0],a=0,o=i.length,s=o-1;a&lt;o;s=a++){var l=i[a],c=i[s],u=l.x*c.y-c.x*l.y;r+=(l.x+c.x)*u,n+=(l.y+c.y)*u,e+=3*u}return new Kl(r/e,n/e,0,t)}(t),v=p.length;p.length;){var y=p.pop();(y.d&gt;m.d||!m.d)&amp;&amp;(m=y,r&amp;&amp;console.log(\&quot;found best %d after %d probes\&quot;,Math.round(1e4*y.d)/1e4,v)),y.max-m.d&lt;=e||(p.push(new Kl(y.p.x-(h=y.h/2),y.p.y-h,h,t)),p.push(new Kl(y.p.x+h,y.p.y-h,h,t)),p.push(new Kl(y.p.x-h,y.p.y+h,h,t)),p.push(new Kl(y.p.x+h,y.p.y+h,h,t)),v+=4)}return r&amp;&amp;(console.log(\&quot;num probes: \&quot;+v),console.log(\&quot;best distance: \&quot;+m.d)),m.p}function Jl(t,e){return e.max-t.max}function Kl(t,e,r,n){this.p=new i(t,e),this.h=r,this.d=function(t,e){for(var r=!1,n=1/0,i=0;i&lt;e.length;i++)for(var a=e[i],o=0,s=a.length,l=s-1;o&lt;s;l=o++){var c=a[o],u=a[l];c.y&gt;t.y!=u.y&gt;t.y&amp;&amp;t.x&lt;(u.x-c.x)*(t.y-c.y)/(u.y-c.y)+c.x&amp;&amp;(r=!r),n=Math.min(n,Ga(t,c,u))}return(r?1:-1)*Math.sqrt(n)}(this.p,n),this.max=this.d+this.h*Math.SQRT2}Wl.prototype.push=function(t){this.data.push(t),this.length++,this._up(this.length-1)},Wl.prototype.pop=function(){if(0!==this.length){var t=this.data[0],e=this.data.pop();return this.length--,this.length&gt;0&amp;&amp;(this.data[0]=e,this._down(0)),t}},Wl.prototype.peek=function(){return this.data[0]},Wl.prototype._up=function(t){for(var e=this.data,r=this.compare,n=e[t];t&gt;0;){var i=t-1&gt;&gt;1,a=e[i];if(r(n,a)&gt;=0)break;e[t]=a,t=i}e[t]=n},Wl.prototype._down=function(t){for(var e=this.data,r=this.compare,n=this.length&gt;&gt;1,i=e[t];t&lt;n;){var a=1+(t&lt;&lt;1),o=e[a],s=a+1;if(s&lt;this.length&amp;&amp;r(e[s],o)&lt;0&amp;&amp;(a=s,o=e[s]),r(o,i)&gt;=0)break;e[t]=o,t=a}e[t]=i};var Ql=Number.POSITIVE_INFINITY;function $l(t,e){return e[1]!==Ql?function(t,e,r){var n=0,i=0;switch(e=Math.abs(e),r=Math.abs(r),t){case\&quot;top-right\&quot;:case\&quot;top-left\&quot;:case\&quot;top\&quot;:i=r-7;break;case\&quot;bottom-right\&quot;:case\&quot;bottom-left\&quot;:case\&quot;bottom\&quot;:i=7-r}switch(t){case\&quot;top-right\&quot;:case\&quot;bottom-right\&quot;:case\&quot;right\&quot;:n=-e;break;case\&quot;top-left\&quot;:case\&quot;bottom-left\&quot;:case\&quot;left\&quot;:n=e}return[n,i]}(t,e[0],e[1]):function(t,e){var r=0,n=0;e&lt;0&amp;&amp;(e=0);var i=e/Math.sqrt(2);switch(t){case\&quot;top-right\&quot;:case\&quot;top-left\&quot;:n=i-7;break;case\&quot;bottom-right\&quot;:case\&quot;bottom-left\&quot;:n=7-i;break;case\&quot;bottom\&quot;:n=7-e;break;case\&quot;top\&quot;:n=e-7}switch(t){case\&quot;top-right\&quot;:case\&quot;bottom-right\&quot;:r=-i;break;case\&quot;top-left\&quot;:case\&quot;bottom-left\&quot;:r=i;break;case\&quot;left\&quot;:r=e;break;case\&quot;right\&quot;:r=-e}return[r,n]}(t,e[0])}function tc(t){switch(t){case\&quot;right\&quot;:case\&quot;top-right\&quot;:case\&quot;bottom-right\&quot;:return\&quot;right\&quot;;case\&quot;left\&quot;:case\&quot;top-left\&quot;:case\&quot;bottom-left\&quot;:return\&quot;left\&quot;}return\&quot;center\&quot;}function ec(t,e,r,n,a,o,s,l,c,u,f,h,p,d,g){var m=function(t,e,r,n,a,o,s,l){for(var c=n.layout.get(\&quot;text-rotate\&quot;).evaluate(o,{})*Math.PI/180,u=[],f=0,h=e.positionedLines;f&lt;h.length;f+=1)for(var p=h[f],d=0,g=p.positionedGlyphs;d&lt;g.length;d+=1){var m=g[d];if(m.rect){var v=m.rect||{},y=4,x=!0,b=1,_=0,w=(a||l)&amp;&amp;m.vertical,T=m.metrics.advance*m.scale/2;if(l&amp;&amp;e.verticalizable&amp;&amp;(_=p.lineOffset/2-(m.imageName?-(24-m.metrics.width*m.scale)/2:24*(m.scale-1))),m.imageName){var k=s[m.imageName];x=k.sdf,y=1/(b=k.pixelRatio)}var M=a?[m.x+T,m.y]:[0,0],A=a?[0,0]:[m.x+T+r[0],m.y+r[1]-_],S=[0,0];w&amp;&amp;(S=A,A=[0,0]);var E=(m.metrics.left-y)*m.scale-T+A[0],C=(-m.metrics.top-y)*m.scale+A[1],L=E+v.w*m.scale/b,I=C+v.h*m.scale/b,P=new i(E,C),z=new i(L,C),O=new i(E,I),D=new i(L,I);if(w){var R=new i(-T,T- -17),F=-Math.PI/2,B=12-T,N=new i(22-B,-(m.imageName?B:0)),j=new(Function.prototype.bind.apply(i,[null].concat(S)));P._rotateAround(F,R)._add(N)._add(j),z._rotateAround(F,R)._add(N)._add(j),O._rotateAround(F,R)._add(N)._add(j),D._rotateAround(F,R)._add(N)._add(j)}if(c){var U=Math.sin(c),V=Math.cos(c),q=[V,-U,U,V];P._matMult(q),z._matMult(q),O._matMult(q),D._matMult(q)}var H=new i(0,0),G=new i(0,0);u.push({tl:P,tr:z,bl:O,br:D,tex:v,writingMode:e.writingMode,glyphOffset:M,sectionIndex:m.sectionIndex,isSDF:x,pixelOffsetTL:H,pixelOffsetBR:G,minFontScaleX:0,minFontScaleY:0})}}return u}(0,r,l,a,o,s,n,t.allowVerticalPlacement),v=t.textSizeData,y=null;\&quot;source\&quot;===v.kind?(y=[128*a.layout.get(\&quot;text-size\&quot;).evaluate(s,{})])[0]&gt;32640&amp;&amp;_(t.layerIds[0]+': Value for \&quot;text-size\&quot; is &gt;= 255. Reduce your \&quot;text-size\&quot;.'):\&quot;composite\&quot;===v.kind&amp;&amp;((y=[128*d.compositeTextSizes[0].evaluate(s,{},g),128*d.compositeTextSizes[1].evaluate(s,{},g)])[0]&gt;32640||y[1]&gt;32640)&amp;&amp;_(t.layerIds[0]+': Value for \&quot;text-size\&quot; is &gt;= 255. Reduce your \&quot;text-size\&quot;.'),t.addSymbols(t.text,m,y,l,o,s,u,e,c.lineStartIndex,c.lineLength,p,g);for(var x=0,b=f;x&lt;b.length;x+=1)h[b[x]]=t.text.placedSymbolArray.length-1;return 4*m.length}function rc(t){for(var e in t)return t[e];return null}function nc(t,e,r,n){var i=t.compareText;if(e in i){for(var a=i[e],o=a.length-1;o&gt;=0;o--)if(n.dist(a[o])&lt;r)return!0}else i[e]=[];return i[e].push(n),!1}var ic=gs.VectorTileFeature.types,ac=[{name:\&quot;a_fade_opacity\&quot;,components:1,type:\&quot;Uint8\&quot;,offset:0}];function oc(t,e,r,n,i,a,o,s,l,c,u,f,h){var p=s?Math.min(32640,Math.round(s[0])):0,d=s?Math.min(32640,Math.round(s[1])):0;t.emplaceBack(e,r,Math.round(32*n),Math.round(32*i),a,o,(p&lt;&lt;1)+(l?1:0),d,16*c,16*u,256*f,256*h)}function sc(t,e,r){t.emplaceBack(e.x,e.y,r),t.emplaceBack(e.x,e.y,r),t.emplaceBack(e.x,e.y,r),t.emplaceBack(e.x,e.y,r)}function lc(t){for(var e=0,r=t.sections;e&lt;r.length;e+=1)if(Xn(r[e].text))return!0;return!1}var cc=function(t){this.layoutVertexArray=new Li,this.indexArray=new Fi,this.programConfigurations=t,this.segments=new ia,this.dynamicLayoutVertexArray=new Ii,this.opacityVertexArray=new Pi,this.placedSymbolArray=new Ji};cc.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length&amp;&amp;0===this.indexArray.length&amp;&amp;0===this.dynamicLayoutVertexArray.length&amp;&amp;0===this.opacityVertexArray.length},cc.prototype.upload=function(t,e,r,n){this.isEmpty()||(r&amp;&amp;(this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,Ds.members),this.indexBuffer=t.createIndexBuffer(this.indexArray,e),this.dynamicLayoutVertexBuffer=t.createVertexBuffer(this.dynamicLayoutVertexArray,Rs.members,!0),this.opacityVertexBuffer=t.createVertexBuffer(this.opacityVertexArray,ac,!0),this.opacityVertexBuffer.itemSize=1),(r||n)&amp;&amp;this.programConfigurations.upload(t))},cc.prototype.destroy=function(){this.layoutVertexBuffer&amp;&amp;(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.programConfigurations.destroy(),this.segments.destroy(),this.dynamicLayoutVertexBuffer.destroy(),this.opacityVertexBuffer.destroy())},Dn(\&quot;SymbolBuffers\&quot;,cc);var uc=function(t,e,r){this.layoutVertexArray=new t,this.layoutAttributes=e,this.indexArray=new r,this.segments=new ia,this.collisionVertexArray=new Ri};uc.prototype.upload=function(t){this.layoutVertexBuffer=t.createVertexBuffer(this.layoutVertexArray,this.layoutAttributes),this.indexBuffer=t.createIndexBuffer(this.indexArray),this.collisionVertexBuffer=t.createVertexBuffer(this.collisionVertexArray,Fs.members,!0)},uc.prototype.destroy=function(){this.layoutVertexBuffer&amp;&amp;(this.layoutVertexBuffer.destroy(),this.indexBuffer.destroy(),this.segments.destroy(),this.collisionVertexBuffer.destroy())},Dn(\&quot;CollisionBuffers\&quot;,uc);var fc=function(t){this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.layerIds=this.layers.map((function(t){return t.id})),this.index=t.index,this.pixelRatio=t.pixelRatio,this.sourceLayerIndex=t.sourceLayerIndex,this.hasPattern=!1,this.hasRTLText=!1,this.sortKeyRanges=[],this.collisionCircleArray=[],this.placementInvProjMatrix=eo([]),this.placementViewportMatrix=eo([]);var e=this.layers[0]._unevaluatedLayout._values;this.textSizeData=Ll(this.zoom,e[\&quot;text-size\&quot;]),this.iconSizeData=Ll(this.zoom,e[\&quot;icon-size\&quot;]);var r=this.layers[0].layout,n=r.get(\&quot;symbol-sort-key\&quot;),i=r.get(\&quot;symbol-z-order\&quot;);this.sortFeaturesByKey=\&quot;viewport-y\&quot;!==i&amp;&amp;void 0!==n.constantOr(1),this.sortFeaturesByY=(\&quot;viewport-y\&quot;===i||\&quot;auto\&quot;===i&amp;&amp;!this.sortFeaturesByKey)&amp;&amp;(r.get(\&quot;text-allow-overlap\&quot;)||r.get(\&quot;icon-allow-overlap\&quot;)||r.get(\&quot;text-ignore-placement\&quot;)||r.get(\&quot;icon-ignore-placement\&quot;)),\&quot;point\&quot;===r.get(\&quot;symbol-placement\&quot;)&amp;&amp;(this.writingModes=r.get(\&quot;text-writing-mode\&quot;).map((function(t){return gl[t]}))),this.stateDependentLayerIds=this.layers.filter((function(t){return t.isStateDependent()})).map((function(t){return t.id})),this.sourceID=t.sourceID};fc.prototype.createArrays=function(){this.text=new cc(new Ia(Ds.members,this.layers,this.zoom,(function(t){return/^text/.test(t)}))),this.icon=new cc(new Ia(Ds.members,this.layers,this.zoom,(function(t){return/^icon/.test(t)}))),this.glyphOffsetArray=new $i,this.lineVertexArray=new ta,this.symbolInstances=new Qi},fc.prototype.calculateGlyphDependencies=function(t,e,r,n,i){for(var a=0;a&lt;t.length;a++)if(e[t.charCodeAt(a)]=!0,(r||n)&amp;&amp;i){var o=Us[t.charAt(a)];o&amp;&amp;(e[o.charCodeAt(0)]=!0)}},fc.prototype.populate=function(t,e,r){var n=this.layers[0],i=n.layout,a=i.get(\&quot;text-font\&quot;),o=i.get(\&quot;text-field\&quot;),s=i.get(\&quot;icon-image\&quot;),l=(\&quot;constant\&quot;!==o.value.kind||o.value.value instanceof te&amp;&amp;!o.value.value.isEmpty()||o.value.value.toString().length&gt;0)&amp;&amp;(\&quot;constant\&quot;!==a.value.kind||a.value.value.length&gt;0),c=\&quot;constant\&quot;!==s.value.kind||!!s.value.value||Object.keys(s.parameters).length&gt;0,u=i.get(\&quot;symbol-sort-key\&quot;);if(this.features=[],l||c){for(var f=e.iconDependencies,h=e.glyphDependencies,p=e.availableImages,d=new ii(this.zoom),g=0,m=t;g&lt;m.length;g+=1){var v=m[g],y=v.feature,x=v.id,b=v.index,_=v.sourceLayerIndex,w=n._featureFilter.needGeometry,T={type:y.type,id:x,properties:y.properties,geometry:w?Da(y):[]};if(n._featureFilter.filter(d,T,r)){w||(T.geometry=Da(y));var k=void 0;if(l){var M=n.getValueAndResolveTokens(\&quot;text-field\&quot;,T,r,p),A=te.factory(M);lc(A)&amp;&amp;(this.hasRTLText=!0),(!this.hasRTLText||\&quot;unavailable\&quot;===ei()||this.hasRTLText&amp;&amp;ni.isParsed())&amp;&amp;(k=js(A,n,T))}var S=void 0;if(c){var E=n.getValueAndResolveTokens(\&quot;icon-image\&quot;,T,r,p);S=E instanceof ee?E:ee.fromString(E)}if(k||S){var C=this.sortFeaturesByKey?u.evaluate(T,{},r):void 0,L={id:x,text:k,icon:S,index:b,sourceLayerIndex:_,geometry:Da(y),properties:y.properties,type:ic[y.type],sortKey:C};if(this.features.push(L),S&amp;&amp;(f[S.name]=!0),k){var I=a.evaluate(T,{},r).join(\&quot;,\&quot;),P=\&quot;map\&quot;===i.get(\&quot;text-rotation-alignment\&quot;)&amp;&amp;\&quot;point\&quot;!==i.get(\&quot;symbol-placement\&quot;);this.allowVerticalPlacement=this.writingModes&amp;&amp;this.writingModes.indexOf(gl.vertical)&gt;=0;for(var z=0,O=k.sections;z&lt;O.length;z+=1){var D=O[z];if(D.image)f[D.image.name]=!0;else{var R=qn(k.toString()),F=D.fontStack||I,B=h[F]=h[F]||{};this.calculateGlyphDependencies(D.text,B,P,this.allowVerticalPlacement,R)}}}}}}\&quot;line\&quot;===i.get(\&quot;symbol-placement\&quot;)&amp;&amp;(this.features=function(t){var e={},r={},n=[],i=0;function a(e){n.push(t[e]),i++}function o(t,e,i){var a=r[t];return delete r[t],r[e]=a,n[a].geometry[0].pop(),n[a].geometry[0]=n[a].geometry[0].concat(i[0]),a}function s(t,r,i){var a=e[r];return delete e[r],e[t]=a,n[a].geometry[0].shift(),n[a].geometry[0]=i[0].concat(n[a].geometry[0]),a}function l(t,e,r){var n=r?e[0][e[0].length-1]:e[0][0];return t+\&quot;:\&quot;+n.x+\&quot;:\&quot;+n.y}for(var c=0;c&lt;t.length;c++){var u=t[c],f=u.geometry,h=u.text?u.text.toString():null;if(h){var p=l(h,f),d=l(h,f,!0);if(p in r&amp;&amp;d in e&amp;&amp;r[p]!==e[d]){var g=s(p,d,f),m=o(p,d,n[g].geometry);delete e[p],delete r[d],r[l(h,n[m].geometry,!0)]=m,n[g].geometry=null}else p in r?o(p,d,f):d in e?s(p,d,f):(a(c),e[p]=i-1,r[d]=i-1)}else a(c)}return n.filter((function(t){return t.geometry}))}(this.features)),this.sortFeaturesByKey&amp;&amp;this.features.sort((function(t,e){return t.sortKey-e.sortKey}))}},fc.prototype.update=function(t,e,r){this.stateDependentLayers.length&amp;&amp;(this.text.programConfigurations.updatePaintArrays(t,e,this.layers,r),this.icon.programConfigurations.updatePaintArrays(t,e,this.layers,r))},fc.prototype.isEmpty=function(){return 0===this.symbolInstances.length&amp;&amp;!this.hasRTLText},fc.prototype.uploadPending=function(){return!this.uploaded||this.text.programConfigurations.needsUpload||this.icon.programConfigurations.needsUpload},fc.prototype.upload=function(t){!this.uploaded&amp;&amp;this.hasDebugData()&amp;&amp;(this.textCollisionBox.upload(t),this.iconCollisionBox.upload(t)),this.text.upload(t,this.sortFeaturesByY,!this.uploaded,this.text.programConfigurations.needsUpload),this.icon.upload(t,this.sortFeaturesByY,!this.uploaded,this.icon.programConfigurations.needsUpload),this.uploaded=!0},fc.prototype.destroyDebugData=function(){this.textCollisionBox.destroy(),this.iconCollisionBox.destroy()},fc.prototype.destroy=function(){this.text.destroy(),this.icon.destroy(),this.hasDebugData()&amp;&amp;this.destroyDebugData()},fc.prototype.addToLineVertexArray=function(t,e){var r=this.lineVertexArray.length;if(void 0!==t.segment){for(var n=t.dist(e[t.segment+1]),i=t.dist(e[t.segment]),a={},o=t.segment+1;o&lt;e.length;o++)a[o]={x:e[o].x,y:e[o].y,tileUnitDistanceFromAnchor:n},o&lt;e.length-1&amp;&amp;(n+=e[o+1].dist(e[o]));for(var s=t.segment||0;s&gt;=0;s--)a[s]={x:e[s].x,y:e[s].y,tileUnitDistanceFromAnchor:i},s&gt;0&amp;&amp;(i+=e[s-1].dist(e[s]));for(var l=0;l&lt;e.length;l++){var c=a[l];this.lineVertexArray.emplaceBack(c.x,c.y,c.tileUnitDistanceFromAnchor)}}return{lineStartIndex:r,lineLength:this.lineVertexArray.length-r}},fc.prototype.addSymbols=function(t,e,r,n,i,a,o,s,l,c,u,f){for(var h=t.indexArray,p=t.layoutVertexArray,d=t.segments.prepareSegment(4*e.length,p,h,a.sortKey),g=this.glyphOffsetArray.length,m=d.vertexLength,v=this.allowVerticalPlacement&amp;&amp;o===gl.vertical?Math.PI/2:0,y=a.text&amp;&amp;a.text.sections,x=0;x&lt;e.length;x++){var b=e[x],_=b.tl,w=b.tr,T=b.bl,k=b.br,M=b.tex,A=b.pixelOffsetTL,S=b.pixelOffsetBR,E=b.minFontScaleX,C=b.minFontScaleY,L=b.glyphOffset,I=b.isSDF,P=b.sectionIndex,z=d.vertexLength,O=L[1];oc(p,s.x,s.y,_.x,O+_.y,M.x,M.y,r,I,A.x,A.y,E,C),oc(p,s.x,s.y,w.x,O+w.y,M.x+M.w,M.y,r,I,S.x,A.y,E,C),oc(p,s.x,s.y,T.x,O+T.y,M.x,M.y+M.h,r,I,A.x,S.y,E,C),oc(p,s.x,s.y,k.x,O+k.y,M.x+M.w,M.y+M.h,r,I,S.x,S.y,E,C),sc(t.dynamicLayoutVertexArray,s,v),h.emplaceBack(z,z+1,z+2),h.emplaceBack(z+1,z+2,z+3),d.vertexLength+=4,d.primitiveLength+=2,this.glyphOffsetArray.emplaceBack(L[0]),x!==e.length-1&amp;&amp;P===e[x+1].sectionIndex||t.programConfigurations.populatePaintArrays(p.length,a,a.index,{},f,y&amp;&amp;y[P])}t.placedSymbolArray.emplaceBack(s.x,s.y,g,this.glyphOffsetArray.length-g,m,l,c,s.segment,r?r[0]:0,r?r[1]:0,n[0],n[1],o,0,!1,0,u)},fc.prototype._addCollisionDebugVertex=function(t,e,r,n,i,a){return e.emplaceBack(0,0),t.emplaceBack(r.x,r.y,n,i,Math.round(a.x),Math.round(a.y))},fc.prototype.addCollisionDebugVertices=function(t,e,r,n,a,o,s){var l=a.segments.prepareSegment(4,a.layoutVertexArray,a.indexArray),c=l.vertexLength,u=a.layoutVertexArray,f=a.collisionVertexArray,h=s.anchorX,p=s.anchorY;this._addCollisionDebugVertex(u,f,o,h,p,new i(t,e)),this._addCollisionDebugVertex(u,f,o,h,p,new i(r,e)),this._addCollisionDebugVertex(u,f,o,h,p,new i(r,n)),this._addCollisionDebugVertex(u,f,o,h,p,new i(t,n)),l.vertexLength+=4;var d=a.indexArray;d.emplaceBack(c,c+1),d.emplaceBack(c+1,c+2),d.emplaceBack(c+2,c+3),d.emplaceBack(c+3,c),l.primitiveLength+=4},fc.prototype.addDebugCollisionBoxes=function(t,e,r,n){for(var i=t;i&lt;e;i++){var a=this.collisionBoxArray.get(i);this.addCollisionDebugVertices(a.x1,a.y1,a.x2,a.y2,n?this.textCollisionBox:this.iconCollisionBox,a.anchorPoint,r)}},fc.prototype.generateCollisionDebugBuffers=function(){this.hasDebugData()&amp;&amp;this.destroyDebugData(),this.textCollisionBox=new uc(Oi,Bs.members,qi),this.iconCollisionBox=new uc(Oi,Bs.members,qi);for(var t=0;t&lt;this.symbolInstances.length;t++){var e=this.symbolInstances.get(t);this.addDebugCollisionBoxes(e.textBoxStartIndex,e.textBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.verticalTextBoxStartIndex,e.verticalTextBoxEndIndex,e,!0),this.addDebugCollisionBoxes(e.iconBoxStartIndex,e.iconBoxEndIndex,e,!1),this.addDebugCollisionBoxes(e.verticalIconBoxStartIndex,e.verticalIconBoxEndIndex,e,!1)}},fc.prototype._deserializeCollisionBoxesForSymbol=function(t,e,r,n,i,a,o,s,l){for(var c={},u=e;u&lt;r;u++){var f=t.get(u);c.textBox={x1:f.x1,y1:f.y1,x2:f.x2,y2:f.y2,anchorPointX:f.anchorPointX,anchorPointY:f.anchorPointY},c.textFeatureIndex=f.featureIndex;break}for(var h=n;h&lt;i;h++){var p=t.get(h);c.verticalTextBox={x1:p.x1,y1:p.y1,x2:p.x2,y2:p.y2,anchorPointX:p.anchorPointX,anchorPointY:p.anchorPointY},c.verticalTextFeatureIndex=p.featureIndex;break}for(var d=a;d&lt;o;d++){var g=t.get(d);c.iconBox={x1:g.x1,y1:g.y1,x2:g.x2,y2:g.y2,anchorPointX:g.anchorPointX,anchorPointY:g.anchorPointY},c.iconFeatureIndex=g.featureIndex;break}for(var m=s;m&lt;l;m++){var v=t.get(m);c.verticalIconBox={x1:v.x1,y1:v.y1,x2:v.x2,y2:v.y2,anchorPointX:v.anchorPointX,anchorPointY:v.anchorPointY},c.verticalIconFeatureIndex=v.featureIndex;break}return c},fc.prototype.deserializeCollisionBoxes=function(t){this.collisionArrays=[];for(var e=0;e&lt;this.symbolInstances.length;e++){var r=this.symbolInstances.get(e);this.collisionArrays.push(this._deserializeCollisionBoxesForSymbol(t,r.textBoxStartIndex,r.textBoxEndIndex,r.verticalTextBoxStartIndex,r.verticalTextBoxEndIndex,r.iconBoxStartIndex,r.iconBoxEndIndex,r.verticalIconBoxStartIndex,r.verticalIconBoxEndIndex))}},fc.prototype.hasTextData=function(){return this.text.segments.get().length&gt;0},fc.prototype.hasIconData=function(){return this.icon.segments.get().length&gt;0},fc.prototype.hasDebugData=function(){return this.textCollisionBox&amp;&amp;this.iconCollisionBox},fc.prototype.hasTextCollisionBoxData=function(){return this.hasDebugData()&amp;&amp;this.textCollisionBox.segments.get().length&gt;0},fc.prototype.hasIconCollisionBoxData=function(){return this.hasDebugData()&amp;&amp;this.iconCollisionBox.segments.get().length&gt;0},fc.prototype.addIndicesForPlacedSymbol=function(t,e){for(var r=t.placedSymbolArray.get(e),n=r.vertexStartIndex+4*r.numGlyphs,i=r.vertexStartIndex;i&lt;n;i+=4)t.indexArray.emplaceBack(i,i+1,i+2),t.indexArray.emplaceBack(i+1,i+2,i+3)},fc.prototype.getSortedSymbolIndexes=function(t){if(this.sortedAngle===t&amp;&amp;void 0!==this.symbolInstanceIndexes)return this.symbolInstanceIndexes;for(var e=Math.sin(t),r=Math.cos(t),n=[],i=[],a=[],o=0;o&lt;this.symbolInstances.length;++o){a.push(o);var s=this.symbolInstances.get(o);n.push(0|Math.round(e*s.anchorX+r*s.anchorY)),i.push(s.featureIndex)}return a.sort((function(t,e){return n[t]-n[e]||i[e]-i[t]})),a},fc.prototype.addToSortKeyRanges=function(t,e){var r=this.sortKeyRanges[this.sortKeyRanges.length-1];r&amp;&amp;r.sortKey===e?r.symbolInstanceEnd=t+1:this.sortKeyRanges.push({sortKey:e,symbolInstanceStart:t,symbolInstanceEnd:t+1})},fc.prototype.sortFeatures=function(t){var e=this;if(this.sortFeaturesByY&amp;&amp;this.sortedAngle!==t&amp;&amp;!(this.text.segments.get().length&gt;1||this.icon.segments.get().length&gt;1)){this.symbolInstanceIndexes=this.getSortedSymbolIndexes(t),this.sortedAngle=t,this.text.indexArray.clear(),this.icon.indexArray.clear(),this.featureSortOrder=[];for(var r=0,n=this.symbolInstanceIndexes;r&lt;n.length;r+=1){var i=this.symbolInstances.get(n[r]);this.featureSortOrder.push(i.featureIndex),[i.rightJustifiedTextSymbolIndex,i.centerJustifiedTextSymbolIndex,i.leftJustifiedTextSymbolIndex].forEach((function(t,r,n){t&gt;=0&amp;&amp;n.indexOf(t)===r&amp;&amp;e.addIndicesForPlacedSymbol(e.text,t)})),i.verticalPlacedTextSymbolIndex&gt;=0&amp;&amp;this.addIndicesForPlacedSymbol(this.text,i.verticalPlacedTextSymbolIndex),i.placedIconSymbolIndex&gt;=0&amp;&amp;this.addIndicesForPlacedSymbol(this.icon,i.placedIconSymbolIndex),i.verticalPlacedIconSymbolIndex&gt;=0&amp;&amp;this.addIndicesForPlacedSymbol(this.icon,i.verticalPlacedIconSymbolIndex)}this.text.indexBuffer&amp;&amp;this.text.indexBuffer.updateData(this.text.indexArray),this.icon.indexBuffer&amp;&amp;this.icon.indexBuffer.updateData(this.icon.indexArray)}},Dn(\&quot;SymbolBucket\&quot;,fc,{omit:[\&quot;layers\&quot;,\&quot;collisionBoxArray\&quot;,\&quot;features\&quot;,\&quot;compareText\&quot;]}),fc.MAX_GLYPHS=65535,fc.addDynamicAttributes=sc;var hc=new yi({\&quot;symbol-placement\&quot;:new pi(At.layout_symbol[\&quot;symbol-placement\&quot;]),\&quot;symbol-spacing\&quot;:new pi(At.layout_symbol[\&quot;symbol-spacing\&quot;]),\&quot;symbol-avoid-edges\&quot;:new pi(At.layout_symbol[\&quot;symbol-avoid-edges\&quot;]),\&quot;symbol-sort-key\&quot;:new di(At.layout_symbol[\&quot;symbol-sort-key\&quot;]),\&quot;symbol-z-order\&quot;:new pi(At.layout_symbol[\&quot;symbol-z-order\&quot;]),\&quot;icon-allow-overlap\&quot;:new pi(At.layout_symbol[\&quot;icon-allow-overlap\&quot;]),\&quot;icon-ignore-placement\&quot;:new pi(At.layout_symbol[\&quot;icon-ignore-placement\&quot;]),\&quot;icon-optional\&quot;:new pi(At.layout_symbol[\&quot;icon-optional\&quot;]),\&quot;icon-rotation-alignment\&quot;:new pi(At.layout_symbol[\&quot;icon-rotation-alignment\&quot;]),\&quot;icon-size\&quot;:new di(At.layout_symbol[\&quot;icon-size\&quot;]),\&quot;icon-text-fit\&quot;:new pi(At.layout_symbol[\&quot;icon-text-fit\&quot;]),\&quot;icon-text-fit-padding\&quot;:new pi(At.layout_symbol[\&quot;icon-text-fit-padding\&quot;]),\&quot;icon-image\&quot;:new di(At.layout_symbol[\&quot;icon-image\&quot;]),\&quot;icon-rotate\&quot;:new di(At.layout_symbol[\&quot;icon-rotate\&quot;]),\&quot;icon-padding\&quot;:new pi(At.layout_symbol[\&quot;icon-padding\&quot;]),\&quot;icon-keep-upright\&quot;:new pi(At.layout_symbol[\&quot;icon-keep-upright\&quot;]),\&quot;icon-offset\&quot;:new di(At.layout_symbol[\&quot;icon-offset\&quot;]),\&quot;icon-anchor\&quot;:new di(At.layout_symbol[\&quot;icon-anchor\&quot;]),\&quot;icon-pitch-alignment\&quot;:new pi(At.layout_symbol[\&quot;icon-pitch-alignment\&quot;]),\&quot;text-pitch-alignment\&quot;:new pi(At.layout_symbol[\&quot;text-pitch-alignment\&quot;]),\&quot;text-rotation-alignment\&quot;:new pi(At.layout_symbol[\&quot;text-rotation-alignment\&quot;]),\&quot;text-field\&quot;:new di(At.layout_symbol[\&quot;text-field\&quot;]),\&quot;text-font\&quot;:new di(At.layout_symbol[\&quot;text-font\&quot;]),\&quot;text-size\&quot;:new di(At.layout_symbol[\&quot;text-size\&quot;]),\&quot;text-max-width\&quot;:new di(At.layout_symbol[\&quot;text-max-width\&quot;]),\&quot;text-line-height\&quot;:new pi(At.layout_symbol[\&quot;text-line-height\&quot;]),\&quot;text-letter-spacing\&quot;:new di(At.layout_symbol[\&quot;text-letter-spacing\&quot;]),\&quot;text-justify\&quot;:new di(At.layout_symbol[\&quot;text-justify\&quot;]),\&quot;text-radial-offset\&quot;:new di(At.layout_symbol[\&quot;text-radial-offset\&quot;]),\&quot;text-variable-anchor\&quot;:new pi(At.layout_symbol[\&quot;text-variable-anchor\&quot;]),\&quot;text-anchor\&quot;:new di(At.layout_symbol[\&quot;text-anchor\&quot;]),\&quot;text-max-angle\&quot;:new pi(At.layout_symbol[\&quot;text-max-angle\&quot;]),\&quot;text-writing-mode\&quot;:new pi(At.layout_symbol[\&quot;text-writing-mode\&quot;]),\&quot;text-rotate\&quot;:new di(At.layout_symbol[\&quot;text-rotate\&quot;]),\&quot;text-padding\&quot;:new pi(At.layout_symbol[\&quot;text-padding\&quot;]),\&quot;text-keep-upright\&quot;:new pi(At.layout_symbol[\&quot;text-keep-upright\&quot;]),\&quot;text-transform\&quot;:new di(At.layout_symbol[\&quot;text-transform\&quot;]),\&quot;text-offset\&quot;:new di(At.layout_symbol[\&quot;text-offset\&quot;]),\&quot;text-allow-overlap\&quot;:new pi(At.layout_symbol[\&quot;text-allow-overlap\&quot;]),\&quot;text-ignore-placement\&quot;:new pi(At.layout_symbol[\&quot;text-ignore-placement\&quot;]),\&quot;text-optional\&quot;:new pi(At.layout_symbol[\&quot;text-optional\&quot;])}),pc={paint:new yi({\&quot;icon-opacity\&quot;:new di(At.paint_symbol[\&quot;icon-opacity\&quot;]),\&quot;icon-color\&quot;:new di(At.paint_symbol[\&quot;icon-color\&quot;]),\&quot;icon-halo-color\&quot;:new di(At.paint_symbol[\&quot;icon-halo-color\&quot;]),\&quot;icon-halo-width\&quot;:new di(At.paint_symbol[\&quot;icon-halo-width\&quot;]),\&quot;icon-halo-blur\&quot;:new di(At.paint_symbol[\&quot;icon-halo-blur\&quot;]),\&quot;icon-translate\&quot;:new pi(At.paint_symbol[\&quot;icon-translate\&quot;]),\&quot;icon-translate-anchor\&quot;:new pi(At.paint_symbol[\&quot;icon-translate-anchor\&quot;]),\&quot;text-opacity\&quot;:new di(At.paint_symbol[\&quot;text-opacity\&quot;]),\&quot;text-color\&quot;:new di(At.paint_symbol[\&quot;text-color\&quot;],{runtimeType:Bt,getOverride:function(t){return t.textColor},hasOverride:function(t){return!!t.textColor}}),\&quot;text-halo-color\&quot;:new di(At.paint_symbol[\&quot;text-halo-color\&quot;]),\&quot;text-halo-width\&quot;:new di(At.paint_symbol[\&quot;text-halo-width\&quot;]),\&quot;text-halo-blur\&quot;:new di(At.paint_symbol[\&quot;text-halo-blur\&quot;]),\&quot;text-translate\&quot;:new pi(At.paint_symbol[\&quot;text-translate\&quot;]),\&quot;text-translate-anchor\&quot;:new pi(At.paint_symbol[\&quot;text-translate-anchor\&quot;])}),layout:hc},dc=function(t){this.type=t.property.overrides?t.property.overrides.runtimeType:Ot,this.defaultValue=t};dc.prototype.evaluate=function(t){if(t.formattedSection){var e=this.defaultValue.property.overrides;if(e&amp;&amp;e.hasOverride(t.formattedSection))return e.getOverride(t.formattedSection)}return t.feature&amp;&amp;t.featureState?this.defaultValue.evaluate(t.feature,t.featureState):this.defaultValue.property.specification.default},dc.prototype.eachChild=function(t){this.defaultValue.isConstant()||t(this.defaultValue.value._styleExpression.expression)},dc.prototype.outputDefined=function(){return!1},dc.prototype.serialize=function(){return null},Dn(\&quot;FormatSectionOverride\&quot;,dc,{omit:[\&quot;defaultValue\&quot;]});var gc=function(t){function e(e){t.call(this,e,pc)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.recalculate=function(e,r){if(t.prototype.recalculate.call(this,e,r),\&quot;auto\&quot;===this.layout.get(\&quot;icon-rotation-alignment\&quot;)&amp;&amp;(this.layout._values[\&quot;icon-rotation-alignment\&quot;]=\&quot;point\&quot;!==this.layout.get(\&quot;symbol-placement\&quot;)?\&quot;map\&quot;:\&quot;viewport\&quot;),\&quot;auto\&quot;===this.layout.get(\&quot;text-rotation-alignment\&quot;)&amp;&amp;(this.layout._values[\&quot;text-rotation-alignment\&quot;]=\&quot;point\&quot;!==this.layout.get(\&quot;symbol-placement\&quot;)?\&quot;map\&quot;:\&quot;viewport\&quot;),\&quot;auto\&quot;===this.layout.get(\&quot;text-pitch-alignment\&quot;)&amp;&amp;(this.layout._values[\&quot;text-pitch-alignment\&quot;]=this.layout.get(\&quot;text-rotation-alignment\&quot;)),\&quot;auto\&quot;===this.layout.get(\&quot;icon-pitch-alignment\&quot;)&amp;&amp;(this.layout._values[\&quot;icon-pitch-alignment\&quot;]=this.layout.get(\&quot;icon-rotation-alignment\&quot;)),\&quot;point\&quot;===this.layout.get(\&quot;symbol-placement\&quot;)){var n=this.layout.get(\&quot;text-writing-mode\&quot;);if(n){for(var i=[],a=0,o=n;a&lt;o.length;a+=1){var s=o[a];i.indexOf(s)&lt;0&amp;&amp;i.push(s)}this.layout._values[\&quot;text-writing-mode\&quot;]=i}else this.layout._values[\&quot;text-writing-mode\&quot;]=[\&quot;horizontal\&quot;]}this._setPaintOverrides()},e.prototype.getValueAndResolveTokens=function(t,e,r,n){var i=this.layout.get(t).evaluate(e,{},r,n),a=this._unevaluatedLayout._values[t];return a.isDataDriven()||Vr(a.value)||!i?i:function(t,e){return e.replace(/{([^{}]+)}/g,(function(e,r){return r in t?String(t[r]):\&quot;\&quot;}))}(e.properties,i)},e.prototype.createBucket=function(t){return new fc(t)},e.prototype.queryRadius=function(){return 0},e.prototype.queryIntersectsFeature=function(){return!1},e.prototype._setPaintOverrides=function(){for(var t=0,r=pc.paint.overridableProperties;t&lt;r.length;t+=1){var n=r[t];if(e.hasPaintOverride(this.layout,n)){var i,a=this.paint.get(n),o=new dc(a),s=new Ur(o,a.property.specification);i=\&quot;constant\&quot;===a.value.kind||\&quot;source\&quot;===a.value.kind?new Hr(\&quot;source\&quot;,s):new Gr(\&quot;composite\&quot;,s,a.value.zoomStops,a.value._interpolationType),this.paint._values[n]=new fi(a.property,i,a.parameters)}}},e.prototype._handleOverridablePaintPropertyUpdate=function(t,r,n){return!(!this.layout||r.isDataDriven()||n.isDataDriven())&amp;&amp;e.hasPaintOverride(this.layout,t)},e.hasPaintOverride=function(t,e){var r=t.get(\&quot;text-field\&quot;),n=pc.paint.properties[e],i=!1,a=function(t){for(var e=0,r=t;e&lt;r.length;e+=1)if(n.overrides&amp;&amp;n.overrides.hasOverride(r[e]))return void(i=!0)};if(\&quot;constant\&quot;===r.value.kind&amp;&amp;r.value.value instanceof te)a(r.value.value.sections);else if(\&quot;source\&quot;===r.value.kind){var o=function(t){i||(t instanceof oe&amp;&amp;ie(t.value)===Vt?a(t.value.sections):t instanceof ue?a(t.sections):t.eachChild(o))},s=r.value;s._styleExpression&amp;&amp;o(s._styleExpression.expression)}return i},e}(xi),mc={paint:new yi({\&quot;background-color\&quot;:new pi(At.paint_background[\&quot;background-color\&quot;]),\&quot;background-pattern\&quot;:new mi(At.paint_background[\&quot;background-pattern\&quot;]),\&quot;background-opacity\&quot;:new pi(At.paint_background[\&quot;background-opacity\&quot;])})},vc=function(t){function e(e){t.call(this,e,mc)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e}(xi),yc={paint:new yi({\&quot;raster-opacity\&quot;:new pi(At.paint_raster[\&quot;raster-opacity\&quot;]),\&quot;raster-hue-rotate\&quot;:new pi(At.paint_raster[\&quot;raster-hue-rotate\&quot;]),\&quot;raster-brightness-min\&quot;:new pi(At.paint_raster[\&quot;raster-brightness-min\&quot;]),\&quot;raster-brightness-max\&quot;:new pi(At.paint_raster[\&quot;raster-brightness-max\&quot;]),\&quot;raster-saturation\&quot;:new pi(At.paint_raster[\&quot;raster-saturation\&quot;]),\&quot;raster-contrast\&quot;:new pi(At.paint_raster[\&quot;raster-contrast\&quot;]),\&quot;raster-resampling\&quot;:new pi(At.paint_raster[\&quot;raster-resampling\&quot;]),\&quot;raster-fade-duration\&quot;:new pi(At.paint_raster[\&quot;raster-fade-duration\&quot;])})},xc=function(t){function e(e){t.call(this,e,yc)}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e}(xi),bc=function(t){function e(e){t.call(this,e,{}),this.implementation=e}return t&amp;&amp;(e.__proto__=t),(e.prototype=Object.create(t&amp;&amp;t.prototype)).constructor=e,e.prototype.is3D=function(){return\&quot;3d\&quot;===this.implementation.renderingMode},e.prototype.hasOffscreenPass=function(){return void 0!==this.implementation.prerender},e.prototype.recalculate=function(){},e.prototype.updateTransitions=function(){},e.prototype.hasTransition=function(){},e.prototype.serialize=function(){},e.prototype.onAdd=function(t){this.implementation.onAdd&amp;&amp;this.implementation.onAdd(t,t.painter.context.gl)},e.prototype.onRemove=function(t){this.implementation.onRemove&amp;&amp;this.implementation.onRemove(t,t.painter.context.gl)},e}(xi),_c={circle:oo,heatmap:vo,hillshade:xo,fill:as,\&quot;fill-extrusion\&quot;:ws,line:zs,symbol:gc,background:vc,raster:xc},wc=self.HTMLImageElement,Tc=self.HTMLCanvasElement,kc=self.HTMLVideoElement,Mc=self.ImageData,Ac=self.ImageBitmap,Sc=function(t,e,r,n){this.context=t,this.format=r,this.texture=t.gl.createTexture(),this.update(e,n)};Sc.prototype.update=function(t,e,r){var n=t.width,i=t.height,a=!(this.size&amp;&amp;this.size[0]===n&amp;&amp;this.size[1]===i||r),o=this.context,s=o.gl;if(this.useMipmap=Boolean(e&amp;&amp;e.useMipmap),s.bindTexture(s.TEXTURE_2D,this.texture),o.pixelStoreUnpackFlipY.set(!1),o.pixelStoreUnpack.set(1),o.pixelStoreUnpackPremultiplyAlpha.set(this.format===s.RGBA&amp;&amp;(!e||!1!==e.premultiply)),a)this.size=[n,i],t instanceof wc||t instanceof Tc||t instanceof kc||t instanceof Mc||Ac&amp;&amp;t instanceof Ac?s.texImage2D(s.TEXTURE_2D,0,this.format,this.format,s.UNSIGNED_BYTE,t):s.texImage2D(s.TEXTURE_2D,0,this.format,n,i,0,this.format,s.UNSIGNED_BYTE,t.data);else{var l=r||{x:0,y:0},c=l.x,u=l.y;t instanceof wc||t instanceof Tc||t instanceof kc||t instanceof Mc||Ac&amp;&amp;t instanceof Ac?s.texSubImage2D(s.TEXTURE_2D,0,c,u,s.RGBA,s.UNSIGNED_BYTE,t):s.texSubImage2D(s.TEXTURE_2D,0,c,u,n,i,s.RGBA,s.UNSIGNED_BYTE,t.data)}this.useMipmap&amp;&amp;this.isSizePowerOfTwo()&amp;&amp;s.generateMipmap(s.TEXTURE_2D)},Sc.prototype.bind=function(t,e,r){var n=this.context.gl;n.bindTexture(n.TEXTURE_2D,this.texture),r!==n.LINEAR_MIPMAP_NEAREST||this.isSizePowerOfTwo()||(r=n.LINEAR),t!==this.filter&amp;&amp;(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MAG_FILTER,t),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_MIN_FILTER,r||t),this.filter=t),e!==this.wrap&amp;&amp;(n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_S,e),n.texParameteri(n.TEXTURE_2D,n.TEXTURE_WRAP_T,e),this.wrap=e)},Sc.prototype.isSizePowerOfTwo=function(){return this.size[0]===this.size[1]&amp;&amp;Math.log(this.size[0])/Math.LN2%1==0},Sc.prototype.destroy=function(){this.context.gl.deleteTexture(this.texture),this.texture=null};var Ec=function(t){var e=this;this._callback=t,this._triggered=!1,\&quot;undefined\&quot;!=typeof MessageChannel&amp;&amp;(this._channel=new MessageChannel,this._channel.port2.onmessage=function(){e._triggered=!1,e._callback()})};Ec.prototype.trigger=function(){var t=this;this._triggered||(this._triggered=!0,this._channel?this._channel.port1.postMessage(!0):setTimeout((function(){t._triggered=!1,t._callback()}),0))},Ec.prototype.remove=function(){delete this._channel,this._callback=function(){}};var Cc=function(t,e,r){this.target=t,this.parent=e,this.mapId=r,this.callbacks={},this.tasks={},this.taskQueue=[],this.cancelCallbacks={},g([\&quot;receive\&quot;,\&quot;process\&quot;],this),this.invoker=new Ec(this.process),this.target.addEventListener(\&quot;message\&quot;,this.receive,!1),this.globalScope=k()?t:self};function Lc(t,e,r){var n=2*Math.PI*6378137/256/Math.pow(2,r);return[t*n-2*Math.PI*6378137/2,e*n-2*Math.PI*6378137/2]}Cc.prototype.send=function(t,e,r,n,i){var a=this;void 0===i&amp;&amp;(i=!1);var o=Math.round(1e18*Math.random()).toString(36).substring(0,10);r&amp;&amp;(this.callbacks[o]=r);var s=S(this.globalScope)?void 0:[];return this.target.postMessage({id:o,type:t,hasCallback:!!r,targetMapId:n,mustQueue:i,sourceMapId:this.mapId,data:Nn(e,s)},s),{cancel:function(){r&amp;&amp;delete a.callbacks[o],a.target.postMessage({id:o,type:\&quot;&lt;cancel&gt;\&quot;,targetMapId:n,sourceMapId:a.mapId})}}},Cc.prototype.receive=function(t){var e=t.data,r=e.id;if(r&amp;&amp;(!e.targetMapId||this.mapId===e.targetMapId))if(\&quot;&lt;cancel&gt;\&quot;===e.type){delete this.tasks[r];var n=this.cancelCallbacks[r];delete this.cancelCallbacks[r],n&amp;&amp;n()}else k()||e.mustQueue?(this.tasks[r]=e,this.taskQueue.push(r),this.invoker.trigger()):this.processTask(r,e)},Cc.prototype.process=function(){if(this.taskQueue.length){var t=this.taskQueue.shift(),e=this.tasks[t];delete this.tasks[t],this.taskQueue.length&amp;&amp;this.invoker.trigger(),e&amp;&amp;this.processTask(t,e)}},Cc.prototype.processTask=function(t,e){var r=this;if(\&quot;&lt;response&gt;\&quot;===e.type){var n=this.callbacks[t];delete this.callbacks[t],n&amp;&amp;(e.error?n(jn(e.error)):n(null,jn(e.data)))}else{var i=!1,a=S(this.globalScope)?void 0:[],o=e.hasCallback?function(e,n){i=!0,delete r.cancelCallbacks[t],r.target.postMessage({id:t,type:\&quot;&lt;response&gt;\&quot;,sourceMapId:r.mapId,error:e?Nn(e):null,data:Nn(n,a)},a)}:function(t){i=!0},s=null,l=jn(e.data);if(this.parent[e.type])s=this.parent[e.type](e.sourceMapId,l,o);else if(this.parent.getWorkerSource){var c=e.type.split(\&quot;.\&quot;);s=this.parent.getWorkerSource(e.sourceMapId,c[0],l.source)[c[1]](l,o)}else o(new Error(\&quot;Could not find function \&quot;+e.type));!i&amp;&amp;s&amp;&amp;s.cancel&amp;&amp;(this.cancelCallbacks[t]=s.cancel)}},Cc.prototype.remove=function(){this.invoker.remove(),this.target.removeEventListener(\&quot;message\&quot;,this.receive,!1)};var Ic=function(t,e){t&amp;&amp;(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};Ic.prototype.setNorthEast=function(t){return this._ne=t instanceof Pc?new Pc(t.lng,t.lat):Pc.convert(t),this},Ic.prototype.setSouthWest=function(t){return this._sw=t instanceof Pc?new Pc(t.lng,t.lat):Pc.convert(t),this},Ic.prototype.extend=function(t){var e,r,n=this._sw,i=this._ne;if(t instanceof Pc)e=t,r=t;else{if(!(t instanceof Ic))return Array.isArray(t)?4===t.length||t.every(Array.isArray)?this.extend(Ic.convert(t)):this.extend(Pc.convert(t)):this;if(r=t._ne,!(e=t._sw)||!r)return this}return n||i?(n.lng=Math.min(e.lng,n.lng),n.lat=Math.min(e.lat,n.lat),i.lng=Math.max(r.lng,i.lng),i.lat=Math.max(r.lat,i.lat)):(this._sw=new Pc(e.lng,e.lat),this._ne=new Pc(r.lng,r.lat)),this},Ic.prototype.getCenter=function(){return new Pc((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},Ic.prototype.getSouthWest=function(){return this._sw},Ic.prototype.getNorthEast=function(){return this._ne},Ic.prototype.getNorthWest=function(){return new Pc(this.getWest(),this.getNorth())},Ic.prototype.getSouthEast=function(){return new Pc(this.getEast(),this.getSouth())},Ic.prototype.getWest=function(){return this._sw.lng},Ic.prototype.getSouth=function(){return this._sw.lat},Ic.prototype.getEast=function(){return this._ne.lng},Ic.prototype.getNorth=function(){return this._ne.lat},Ic.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},Ic.prototype.toString=function(){return\&quot;LngLatBounds(\&quot;+this._sw.toString()+\&quot;, \&quot;+this._ne.toString()+\&quot;)\&quot;},Ic.prototype.isEmpty=function(){return!(this._sw&amp;&amp;this._ne)},Ic.prototype.contains=function(t){var e=Pc.convert(t),r=e.lng,n=e.lat,i=this._sw.lng&lt;=r&amp;&amp;r&lt;=this._ne.lng;return this._sw.lng&gt;this._ne.lng&amp;&amp;(i=this._sw.lng&gt;=r&amp;&amp;r&gt;=this._ne.lng),this._sw.lat&lt;=n&amp;&amp;n&lt;=this._ne.lat&amp;&amp;i},Ic.convert=function(t){return!t||t instanceof Ic?t:new Ic(t)};var Pc=function(t,e){if(isNaN(t)||isNaN(e))throw new Error(\&quot;Invalid LngLat object: (\&quot;+t+\&quot;, \&quot;+e+\&quot;)\&quot;);if(this.lng=+t,this.lat=+e,this.lat&gt;90||this.lat&lt;-90)throw new Error(\&quot;Invalid LngLat latitude value: must be between -90 and 90\&quot;)};Pc.prototype.wrap=function(){return new Pc(c(this.lng,-180,180),this.lat)},Pc.prototype.toArray=function(){return[this.lng,this.lat]},Pc.prototype.toString=function(){return\&quot;LngLat(\&quot;+this.lng+\&quot;, \&quot;+this.lat+\&quot;)\&quot;},Pc.prototype.distanceTo=function(t){var e=Math.PI/180,r=this.lat*e,n=t.lat*e,i=Math.sin(r)*Math.sin(n)+Math.cos(r)*Math.cos(n)*Math.cos((t.lng-this.lng)*e);return 6371008.8*Math.acos(Math.min(i,1))},Pc.prototype.toBounds=function(t){void 0===t&amp;&amp;(t=0);var e=360*t/40075017,r=e/Math.cos(Math.PI/180*this.lat);return new Ic(new Pc(this.lng-r,this.lat-e),new Pc(this.lng+r,this.lat+e))},Pc.convert=function(t){if(t instanceof Pc)return t;if(Array.isArray(t)&amp;&amp;(2===t.length||3===t.length))return new Pc(Number(t[0]),Number(t[1]));if(!Array.isArray(t)&amp;&amp;\&quot;object\&quot;==typeof t&amp;&amp;null!==t)return new Pc(Number(\&quot;lng\&quot;in t?t.lng:t.lon),Number(t.lat));throw new Error(\&quot;`LngLatLike` argument must be specified as a LngLat instance, an object {lng: &lt;lng&gt;, lat: &lt;lat&gt;}, an object {lon: &lt;lng&gt;, lat: &lt;lat&gt;}, or an array of [&lt;lng&gt;, &lt;lat&gt;]\&quot;)};var zc=2*Math.PI*6371008.8;function Oc(t){return zc*Math.cos(t*Math.PI/180)}function Dc(t){return(180+t)/360}function Rc(t){return(180-180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360)))/360}function Fc(t,e){return t/Oc(e)}function Bc(t){return 360/Math.PI*Math.atan(Math.exp((180-360*t)*Math.PI/180))-90}var Nc=function(t,e,r){void 0===r&amp;&amp;(r=0),this.x=+t,this.y=+e,this.z=+r};Nc.fromLngLat=function(t,e){void 0===e&amp;&amp;(e=0);var r=Pc.convert(t);return new Nc(Dc(r.lng),Rc(r.lat),Fc(e,r.lat))},Nc.prototype.toLngLat=function(){return new Pc(360*this.x-180,Bc(this.y))},Nc.prototype.toAltitude=function(){return this.z*Oc(Bc(this.y))},Nc.prototype.meterInMercatorCoordinateUnits=function(){return 1/zc*(t=Bc(this.y),1/Math.cos(t*Math.PI/180));var t};var jc=function(t,e,r){this.z=t,this.x=e,this.y=r,this.key=qc(0,t,t,e,r)};jc.prototype.equals=function(t){return this.z===t.z&amp;&amp;this.x===t.x&amp;&amp;this.y===t.y},jc.prototype.url=function(t,e){var r,n,i,a,o,s=(n=this.y,i=this.z,a=Lc(256*(r=this.x),256*(n=Math.pow(2,i)-n-1),i),o=Lc(256*(r+1),256*(n+1),i),a[0]+\&quot;,\&quot;+a[1]+\&quot;,\&quot;+o[0]+\&quot;,\&quot;+o[1]),l=function(t,e,r){for(var n,i=\&quot;\&quot;,a=t;a&gt;0;a--)i+=(e&amp;(n=1&lt;&lt;a-1)?1:0)+(r&amp;n?2:0);return i}(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace(\&quot;{prefix}\&quot;,(this.x%16).toString(16)+(this.y%16).toString(16)).replace(\&quot;{z}\&quot;,String(this.z)).replace(\&quot;{x}\&quot;,String(this.x)).replace(\&quot;{y}\&quot;,String(\&quot;tms\&quot;===e?Math.pow(2,this.z)-this.y-1:this.y)).replace(\&quot;{quadkey}\&quot;,l).replace(\&quot;{bbox-epsg-3857}\&quot;,s)},jc.prototype.getTilePoint=function(t){var e=Math.pow(2,this.z);return new i(8192*(t.x*e-this.x),8192*(t.y*e-this.y))},jc.prototype.toString=function(){return this.z+\&quot;/\&quot;+this.x+\&quot;/\&quot;+this.y};var Uc=function(t,e){this.wrap=t,this.canonical=e,this.key=qc(t,e.z,e.z,e.x,e.y)},Vc=function(t,e,r,n,i){this.overscaledZ=t,this.wrap=e,this.canonical=new jc(r,+n,+i),this.key=qc(e,t,r,n,i)};function qc(t,e,r,n,i){(t*=2)&lt;0&amp;&amp;(t=-1*t-1);var a=1&lt;&lt;r;return(a*a*t+a*i+n).toString(36)+r.toString(36)+e.toString(36)}Vc.prototype.equals=function(t){return this.overscaledZ===t.overscaledZ&amp;&amp;this.wrap===t.wrap&amp;&amp;this.canonical.equals(t.canonical)},Vc.prototype.scaledTo=function(t){var e=this.canonical.z-t;return t&gt;this.canonical.z?new Vc(t,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y):new Vc(t,this.wrap,t,this.canonical.x&gt;&gt;e,this.canonical.y&gt;&gt;e)},Vc.prototype.calculateScaledKey=function(t,e){var r=this.canonical.z-t;return t&gt;this.canonical.z?qc(this.wrap*+e,t,this.canonical.z,this.canonical.x,this.canonical.y):qc(this.wrap*+e,t,t,this.canonical.x&gt;&gt;r,this.canonical.y&gt;&gt;r)},Vc.prototype.isChildOf=function(t){if(t.wrap!==this.wrap)return!1;var e=this.canonical.z-t.canonical.z;return 0===t.overscaledZ||t.overscaledZ&lt;this.overscaledZ&amp;&amp;t.canonical.x===this.canonical.x&gt;&gt;e&amp;&amp;t.canonical.y===this.canonical.y&gt;&gt;e},Vc.prototype.children=function(t){if(this.overscaledZ&gt;=t)return[new Vc(this.overscaledZ+1,this.wrap,this.canonical.z,this.canonical.x,this.canonical.y)];var e=this.canonical.z+1,r=2*this.canonical.x,n=2*this.canonical.y;return[new Vc(e,this.wrap,e,r,n),new Vc(e,this.wrap,e,r+1,n),new Vc(e,this.wrap,e,r,n+1),new Vc(e,this.wrap,e,r+1,n+1)]},Vc.prototype.isLessThan=function(t){return this.wrap&lt;t.wrap||!(this.wrap&gt;t.wrap)&amp;&amp;(this.overscaledZ&lt;t.overscaledZ||!(this.overscaledZ&gt;t.overscaledZ)&amp;&amp;(this.canonical.x&lt;t.canonical.x||!(this.canonical.x&gt;t.canonical.x)&amp;&amp;this.canonical.y&lt;t.canonical.y))},Vc.prototype.wrapped=function(){return new Vc(this.overscaledZ,0,this.canonical.z,this.canonical.x,this.canonical.y)},Vc.prototype.unwrapTo=function(t){return new Vc(this.overscaledZ,t,this.canonical.z,this.canonical.x,this.canonical.y)},Vc.prototype.overscaleFactor=function(){return Math.pow(2,this.overscaledZ-this.canonical.z)},Vc.prototype.toUnwrapped=function(){return new Uc(this.wrap,this.canonical)},Vc.prototype.toString=function(){return this.overscaledZ+\&quot;/\&quot;+this.canonical.x+\&quot;/\&quot;+this.canonical.y},Vc.prototype.getTilePoint=function(t){return this.canonical.getTilePoint(new Nc(t.x-this.wrap,t.y))},Dn(\&quot;CanonicalTileID\&quot;,jc),Dn(\&quot;OverscaledTileID\&quot;,Vc,{omit:[\&quot;posMatrix\&quot;]});var Hc=function(t,e,r){if(this.uid=t,e.height!==e.width)throw new RangeError(\&quot;DEM tiles must be square\&quot;);if(r&amp;&amp;\&quot;mapbox\&quot;!==r&amp;&amp;\&quot;terrarium\&quot;!==r)return _('\&quot;'+r+'\&quot; is not a valid encoding type. Valid types include \&quot;mapbox\&quot; and \&quot;terrarium\&quot;.');this.stride=e.height;var n=this.dim=e.height-2;this.data=new Uint32Array(e.data.buffer),this.encoding=r||\&quot;mapbox\&quot;;for(var i=0;i&lt;n;i++)this.data[this._idx(-1,i)]=this.data[this._idx(0,i)],this.data[this._idx(n,i)]=this.data[this._idx(n-1,i)],this.data[this._idx(i,-1)]=this.data[this._idx(i,0)],this.data[this._idx(i,n)]=this.data[this._idx(i,n-1)];this.data[this._idx(-1,-1)]=this.data[this._idx(0,0)],this.data[this._idx(n,-1)]=this.data[this._idx(n-1,0)],this.data[this._idx(-1,n)]=this.data[this._idx(0,n-1)],this.data[this._idx(n,n)]=this.data[this._idx(n-1,n-1)]};Hc.prototype.get=function(t,e){var r=new Uint8Array(this.data.buffer),n=4*this._idx(t,e);return(\&quot;terrarium\&quot;===this.encoding?this._unpackTerrarium:this._unpackMapbox)(r[n],r[n+1],r[n+2])},Hc.prototype.getUnpackVector=function(){return\&quot;terrarium\&quot;===this.encoding?[256,1,1/256,32768]:[6553.6,25.6,.1,1e4]},Hc.prototype._idx=function(t,e){if(t&lt;-1||t&gt;=this.dim+1||e&lt;-1||e&gt;=this.dim+1)throw new RangeError(\&quot;out of range source coordinates for DEM data\&quot;);return(e+1)*this.stride+(t+1)},Hc.prototype._unpackMapbox=function(t,e,r){return(256*t*256+256*e+r)/10-1e4},Hc.prototype._unpackTerrarium=function(t,e,r){return 256*t+e+r/256-32768},Hc.prototype.getPixels=function(){return new po({width:this.stride,height:this.stride},new Uint8Array(this.data.buffer))},Hc.prototype.backfillBorder=function(t,e,r){if(this.dim!==t.dim)throw new Error(\&quot;dem dimension mismatch\&quot;);var n=e*this.dim,i=e*this.dim+this.dim,a=r*this.dim,o=r*this.dim+this.dim;switch(e){case-1:n=i-1;break;case 1:i=n+1}switch(r){case-1:a=o-1;break;case 1:o=a+1}for(var s=-e*this.dim,l=-r*this.dim,c=a;c&lt;o;c++)for(var u=n;u&lt;i;u++)this.data[this._idx(u,c)]=t.data[this._idx(u+s,c+l)]},Dn(\&quot;DEMData\&quot;,Hc);var Gc=function(t){this._stringToNumber={},this._numberToString=[];for(var e=0;e&lt;t.length;e++){var r=t[e];this._stringToNumber[r]=e,this._numberToString[e]=r}};Gc.prototype.encode=function(t){return this._stringToNumber[t]},Gc.prototype.decode=function(t){return this._numberToString[t]};var Yc=function(t,e,r,n,i){this.type=\&quot;Feature\&quot;,this._vectorTileFeature=t,t._z=e,t._x=r,t._y=n,this.properties=t.properties,this.id=i},Wc={geometry:{configurable:!0}};Wc.geometry.get=function(){return void 0===this._geometry&amp;&amp;(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},Wc.geometry.set=function(t){this._geometry=t},Yc.prototype.toJSON=function(){var t={geometry:this.geometry};for(var e in this)\&quot;_geometry\&quot;!==e&amp;&amp;\&quot;_vectorTileFeature\&quot;!==e&amp;&amp;(t[e]=this[e]);return t},Object.defineProperties(Yc.prototype,Wc);var Xc=function(){this.state={},this.stateChanges={},this.deletedStates={}};Xc.prototype.updateState=function(t,e,r){var n=String(e);if(this.stateChanges[t]=this.stateChanges[t]||{},this.stateChanges[t][n]=this.stateChanges[t][n]||{},u(this.stateChanges[t][n],r),null===this.deletedStates[t])for(var i in this.deletedStates[t]={},this.state[t])i!==n&amp;&amp;(this.deletedStates[t][i]=null);else if(this.deletedStates[t]&amp;&amp;null===this.deletedStates[t][n])for(var a in this.deletedStates[t][n]={},this.state[t][n])r[a]||(this.deletedStates[t][n][a]=null);else for(var o in r)this.deletedStates[t]&amp;&amp;this.deletedStates[t][n]&amp;&amp;null===this.deletedStates[t][n][o]&amp;&amp;delete this.deletedStates[t][n][o]},Xc.prototype.removeFeatureState=function(t,e,r){if(null!==this.deletedStates[t]){var n=String(e);if(this.deletedStates[t]=this.deletedStates[t]||{},r&amp;&amp;void 0!==e)null!==this.deletedStates[t][n]&amp;&amp;(this.deletedStates[t][n]=this.deletedStates[t][n]||{},this.deletedStates[t][n][r]=null);else if(void 0!==e)if(this.stateChanges[t]&amp;&amp;this.stateChanges[t][n])for(r in this.deletedStates[t][n]={},this.stateChanges[t][n])this.deletedStates[t][n][r]=null;else this.deletedStates[t][n]=null;else this.deletedStates[t]=null}},Xc.prototype.getState=function(t,e){var r=String(e),n=u({},(this.state[t]||{})[r],(this.stateChanges[t]||{})[r]);if(null===this.deletedStates[t])return{};if(this.deletedStates[t]){var i=this.deletedStates[t][e];if(null===i)return{};for(var a in i)delete n[a]}return n},Xc.prototype.initializeTileState=function(t,e){t.setFeatureState(this.state,e)},Xc.prototype.coalesceChanges=function(t,e){var r={};for(var n in this.stateChanges){this.state[n]=this.state[n]||{};var i={};for(var a in this.stateChanges[n])this.state[n][a]||(this.state[n][a]={}),u(this.state[n][a],this.stateChanges[n][a]),i[a]=this.state[n][a];r[n]=i}for(var o in this.deletedStates){this.state[o]=this.state[o]||{};var s={};if(null===this.deletedStates[o])for(var l in this.state[o])s[l]={},this.state[o][l]={};else for(var c in this.deletedStates[o]){if(null===this.deletedStates[o][c])this.state[o][c]={};else for(var f=0,h=Object.keys(this.deletedStates[o][c]);f&lt;h.length;f+=1)delete this.state[o][c][h[f]];s[c]=this.state[o][c]}r[o]=r[o]||{},u(r[o],s)}if(this.stateChanges={},this.deletedStates={},0!==Object.keys(r).length)for(var p in t)t[p].setFeatureState(r,e)};var Zc=function(t,e){this.tileID=t,this.x=t.canonical.x,this.y=t.canonical.y,this.z=t.canonical.z,this.grid=new Ln(8192,16,0),this.grid3D=new Ln(8192,16,0),this.featureIndexArray=new ra,this.promoteId=e};function Jc(t,e,r,n,i){return v(t,(function(t,a){var o=e instanceof hi?e.get(a):null;return o&amp;&amp;o.evaluate?o.evaluate(r,n,i):o}))}function Kc(t){for(var e=1/0,r=1/0,n=-1/0,i=-1/0,a=0,o=t;a&lt;o.length;a+=1){var s=o[a];e=Math.min(e,s.x),r=Math.min(r,s.y),n=Math.max(n,s.x),i=Math.max(i,s.y)}return{minX:e,minY:r,maxX:n,maxY:i}}function Qc(t,e){return e-t}Zc.prototype.insert=function(t,e,r,n,i,a){var o=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(r,n,i);for(var s=a?this.grid3D:this.grid,l=0;l&lt;e.length;l++){for(var c=e[l],u=[1/0,1/0,-1/0,-1/0],f=0;f&lt;c.length;f++){var h=c[f];u[0]=Math.min(u[0],h.x),u[1]=Math.min(u[1],h.y),u[2]=Math.max(u[2],h.x),u[3]=Math.max(u[3],h.y)}u[0]&lt;8192&amp;&amp;u[1]&lt;8192&amp;&amp;u[2]&gt;=0&amp;&amp;u[3]&gt;=0&amp;&amp;s.insert(o,u[0],u[1],u[2],u[3])}},Zc.prototype.loadVTLayers=function(){return this.vtLayers||(this.vtLayers=new gs.VectorTile(new Hs(this.rawTileData)).layers,this.sourceLayerCoder=new Gc(this.vtLayers?Object.keys(this.vtLayers).sort():[\&quot;_geojsonTileLayer\&quot;])),this.vtLayers},Zc.prototype.query=function(t,e,r,n){var a=this;this.loadVTLayers();for(var o=t.params||{},s=8192/t.tileSize/t.scale,l=rn(o.filter),c=t.queryGeometry,u=t.queryPadding*s,f=Kc(c),h=this.grid.query(f.minX-u,f.minY-u,f.maxX+u,f.maxY+u),p=Kc(t.cameraQueryGeometry),d=0,g=this.grid3D.query(p.minX-u,p.minY-u,p.maxX+u,p.maxY+u,(function(e,r,n,a){return function(t,e,r,n,a){for(var o=0,s=t;o&lt;s.length;o+=1){var l=s[o];if(e&lt;=l.x&amp;&amp;r&lt;=l.y&amp;&amp;n&gt;=l.x&amp;&amp;a&gt;=l.y)return!0}var c=[new i(e,r),new i(e,a),new i(n,a),new i(n,r)];if(t.length&gt;2)for(var u=0,f=c;u&lt;f.length;u+=1)if(Wa(t,f[u]))return!0;for(var h=0;h&lt;t.length-1;h++)if(Xa(t[h],t[h+1],c))return!0;return!1}(t.cameraQueryGeometry,e-u,r-u,n+u,a+u)}));d&lt;g.length;d+=1)h.push(g[d]);h.sort(Qc);for(var m,v={},y=function(i){var u=h[i];if(u!==m){m=u;var f=a.featureIndexArray.get(u),p=null;a.loadMatchingFeature(v,f.bucketIndex,f.sourceLayerIndex,f.featureIndex,l,o.layers,o.availableImages,e,r,n,(function(e,r,n){return p||(p=Da(e)),r.queryIntersectsFeature(c,e,n,p,a.z,t.transform,s,t.pixelPosMatrix)}))}},x=0;x&lt;h.length;x++)y(x);return v},Zc.prototype.loadMatchingFeature=function(t,e,r,n,i,a,o,s,l,c,u){var f=this.bucketLayerIDs[e];if(!a||function(t,e){for(var r=0;r&lt;t.length;r++)if(e.indexOf(t[r])&gt;=0)return!0;return!1}(a,f)){var h=this.sourceLayerCoder.decode(r),p=this.vtLayers[h].feature(n);if(i.filter(new ii(this.tileID.overscaledZ),p))for(var d=this.getId(p,h),g=0;g&lt;f.length;g++){var m=f[g];if(!(a&amp;&amp;a.indexOf(m)&lt;0)){var v=s[m];if(v){var y={};void 0!==d&amp;&amp;c&amp;&amp;(y=c.getState(v.sourceLayer||\&quot;_geojsonTileLayer\&quot;,d));var x=l[m];x.paint=Jc(x.paint,v.paint,p,y,o),x.layout=Jc(x.layout,v.layout,p,y,o);var b=!u||u(p,v,y);if(b){var _=new Yc(p,this.z,this.x,this.y,d);_.layer=x;var w=t[m];void 0===w&amp;&amp;(w=t[m]=[]),w.push({featureIndex:n,feature:_,intersectionZ:b})}}}}}},Zc.prototype.lookupSymbolFeatures=function(t,e,r,n,i,a,o,s){var l={};this.loadVTLayers();for(var c=rn(i),u=0,f=t;u&lt;f.length;u+=1)this.loadMatchingFeature(l,r,n,f[u],c,a,o,s,e);return l},Zc.prototype.hasLayer=function(t){for(var e=0,r=this.bucketLayerIDs;e&lt;r.length;e+=1)for(var n=0,i=r[e];n&lt;i.length;n+=1)if(t===i[n])return!0;return!1},Zc.prototype.getId=function(t,e){var r=t.id;return this.promoteId&amp;&amp;\&quot;boolean\&quot;==typeof(r=t.properties[\&quot;string\&quot;==typeof this.promoteId?this.promoteId:this.promoteId[e]])&amp;&amp;(r=Number(r)),r},Dn(\&quot;FeatureIndex\&quot;,Zc,{omit:[\&quot;rawTileData\&quot;,\&quot;sourceLayerCoder\&quot;]});var $c=function(t,e){this.tileID=t,this.uid=h(),this.uses=0,this.tileSize=e,this.buckets={},this.expirationTime=null,this.queryPadding=0,this.hasSymbolBuckets=!1,this.hasRTLText=!1,this.dependencies={},this.expiredRequestCount=0,this.state=\&quot;loading\&quot;};$c.prototype.registerFadeDuration=function(t){var e=t+this.timeAdded;e&lt;R.now()||this.fadeEndTime&amp;&amp;e&lt;this.fadeEndTime||(this.fadeEndTime=e)},$c.prototype.wasRequested=function(){return\&quot;errored\&quot;===this.state||\&quot;loaded\&quot;===this.state||\&quot;reloading\&quot;===this.state},$c.prototype.loadVectorData=function(t,e,r){if(this.hasData()&amp;&amp;this.unloadVectorData(),this.state=\&quot;loaded\&quot;,t){for(var n in t.featureIndex&amp;&amp;(this.latestFeatureIndex=t.featureIndex,t.rawTileData?(this.latestRawTileData=t.rawTileData,this.latestFeatureIndex.rawTileData=t.rawTileData):this.latestRawTileData&amp;&amp;(this.latestFeatureIndex.rawTileData=this.latestRawTileData)),this.collisionBoxArray=t.collisionBoxArray,this.buckets=function(t,e){var r={};if(!e)return r;for(var n=function(){var t=a[i],n=t.layerIds.map((function(t){return e.getLayer(t)})).filter(Boolean);if(0!==n.length){t.layers=n,t.stateDependentLayerIds&amp;&amp;(t.stateDependentLayers=t.stateDependentLayerIds.map((function(t){return n.filter((function(e){return e.id===t}))[0]})));for(var o=0,s=n;o&lt;s.length;o+=1)r[s[o].id]=t}},i=0,a=t;i&lt;a.length;i+=1)n();return r}(t.buckets,e.style),this.hasSymbolBuckets=!1,this.buckets){var i=this.buckets[n];if(i instanceof fc){if(this.hasSymbolBuckets=!0,!r)break;i.justReloaded=!0}}if(this.hasRTLText=!1,this.hasSymbolBuckets)for(var a in this.buckets){var o=this.buckets[a];if(o instanceof fc&amp;&amp;o.hasRTLText){this.hasRTLText=!0,ni.isLoading()||ni.isLoaded()||\&quot;deferred\&quot;!==ei()||ri();break}}for(var s in this.queryPadding=0,this.buckets){var l=this.buckets[s];this.queryPadding=Math.max(this.queryPadding,e.style.getLayer(s).queryRadius(l))}t.imageAtlas&amp;&amp;(this.imageAtlas=t.imageAtlas),t.glyphAtlasImage&amp;&amp;(this.glyphAtlasImage=t.glyphAtlasImage)}else this.collisionBoxArray=new Xi},$c.prototype.unloadVectorData=function(){for(var t in this.buckets)this.buckets[t].destroy();this.buckets={},this.imageAtlasTexture&amp;&amp;this.imageAtlasTexture.destroy(),this.imageAtlas&amp;&amp;(this.imageAtlas=null),this.glyphAtlasTexture&amp;&amp;this.glyphAtlasTexture.destroy(),this.latestFeatureIndex=null,this.state=\&quot;unloaded\&quot;},$c.prototype.getBucket=function(t){return this.buckets[t.id]},$c.prototype.upload=function(t){for(var e in this.buckets){var r=this.buckets[e];r.uploadPending()&amp;&amp;r.upload(t)}var n=t.gl;this.imageAtlas&amp;&amp;!this.imageAtlas.uploaded&amp;&amp;(this.imageAtlasTexture=new Sc(t,this.imageAtlas.image,n.RGBA),this.imageAtlas.uploaded=!0),this.glyphAtlasImage&amp;&amp;(this.glyphAtlasTexture=new Sc(t,this.glyphAtlasImage,n.ALPHA),this.glyphAtlasImage=null)},$c.prototype.prepare=function(t){this.imageAtlas&amp;&amp;this.imageAtlas.patchUpdatedImages(t,this.imageAtlasTexture)},$c.prototype.queryRenderedFeatures=function(t,e,r,n,i,a,o,s,l,c){return this.latestFeatureIndex&amp;&amp;this.latestFeatureIndex.rawTileData?this.latestFeatureIndex.query({queryGeometry:n,cameraQueryGeometry:i,scale:a,tileSize:this.tileSize,pixelPosMatrix:c,transform:s,params:o,queryPadding:this.queryPadding*l},t,e,r):{}},$c.prototype.querySourceFeatures=function(t,e){var r=this.latestFeatureIndex;if(r&amp;&amp;r.rawTileData){var n=r.loadVTLayers(),i=e?e.sourceLayer:\&quot;\&quot;,a=n._geojsonTileLayer||n[i];if(a)for(var o=rn(e&amp;&amp;e.filter),s=this.tileID.canonical,l=s.z,c=s.x,u=s.y,f={z:l,x:c,y:u},h=0;h&lt;a.length;h++){var p=a.feature(h);if(o.filter(new ii(this.tileID.overscaledZ),p)){var d=r.getId(p,i),g=new Yc(p,l,c,u,d);g.tile=f,t.push(g)}}}},$c.prototype.hasData=function(){return\&quot;loaded\&quot;===this.state||\&quot;reloading\&quot;===this.state||\&quot;expired\&quot;===this.state},$c.prototype.patternsLoaded=function(){return this.imageAtlas&amp;&amp;!!Object.keys(this.imageAtlas.patternPositions).length},$c.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var r=M(t.cacheControl);r[\&quot;max-age\&quot;]&amp;&amp;(this.expirationTime=Date.now()+1e3*r[\&quot;max-age\&quot;])}else t.expires&amp;&amp;(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var n=Date.now(),i=!1;if(this.expirationTime&gt;n)i=!1;else if(e)if(this.expirationTime&lt;e)i=!0;else{var a=this.expirationTime-e;a?this.expirationTime=n+Math.max(a,3e4):i=!0}else i=!0;i?(this.expiredRequestCount++,this.state=\&quot;expired\&quot;):this.expiredRequestCount=0}},$c.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1&lt;&lt;Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},$c.prototype.setFeatureState=function(t,e){if(this.latestFeatureIndex&amp;&amp;this.latestFeatureIndex.rawTileData&amp;&amp;0!==Object.keys(t).length){var r=this.latestFeatureIndex.loadVTLayers();for(var n in this.buckets)if(e.style.hasLayer(n)){var i=this.buckets[n],a=i.layers[0].sourceLayer||\&quot;_geojsonTileLayer\&quot;,o=r[a],s=t[a];if(o&amp;&amp;s&amp;&amp;0!==Object.keys(s).length){i.update(s,o,this.imageAtlas&amp;&amp;this.imageAtlas.patternPositions||{});var l=e&amp;&amp;e.style&amp;&amp;e.style.getLayer(n);l&amp;&amp;(this.queryPadding=Math.max(this.queryPadding,l.queryRadius(i)))}}}},$c.prototype.holdingForFade=function(){return void 0!==this.symbolFadeHoldUntil},$c.prototype.symbolFadeFinished=function(){return!this.symbolFadeHoldUntil||this.symbolFadeHoldUntil&lt;R.now()},$c.prototype.clearFadeHold=function(){this.symbolFadeHoldUntil=void 0},$c.prototype.setHoldDuration=function(t){this.symbolFadeHoldUntil=R.now()+t},$c.prototype.setDependencies=function(t,e){for(var r={},n=0,i=e;n&lt;i.length;n+=1)r[i[n]]=!0;this.dependencies[t]=r},$c.prototype.hasDependency=function(t,e){for(var r=0,n=t;r&lt;n.length;r+=1){var i=this.dependencies[n[r]];if(i)for(var a=0,o=e;a&lt;o.length;a+=1)if(i[o[a]])return!0}return!1};var tu=self.performance,eu=function(t){this._marks={start:[t.url,\&quot;start\&quot;].join(\&quot;#\&quot;),end:[t.url,\&quot;end\&quot;].join(\&quot;#\&quot;),measure:t.url.toString()},tu.mark(this._marks.start)};eu.prototype.finish=function(){tu.mark(this._marks.end);var t=tu.getEntriesByName(this._marks.measure);return 0===t.length&amp;&amp;(tu.measure(this._marks.measure,this._marks.start,this._marks.end),t=tu.getEntriesByName(this._marks.measure),tu.clearMarks(this._marks.start),tu.clearMarks(this._marks.end),tu.clearMeasures(this._marks.measure)),t},t.Actor=Cc,t.AlphaImage=ho,t.CanonicalTileID=jc,t.CollisionBoxArray=Xi,t.Color=Kt,t.DEMData=Hc,t.DataConstantProperty=pi,t.DictionaryCoder=Gc,t.EXTENT=8192,t.ErrorEvent=kt,t.EvaluationParameters=ii,t.Event=Tt,t.Evented=Mt,t.FeatureIndex=Zc,t.FillBucket=rs,t.FillExtrusionBucket=xs,t.ImageAtlas=dl,t.ImagePosition=hl,t.LineBucket=Cs,t.LngLat=Pc,t.LngLatBounds=Ic,t.MercatorCoordinate=Nc,t.ONE_EM=24,t.OverscaledTileID=Vc,t.Point=i,t.Point$1=i,t.Properties=yi,t.Protobuf=Hs,t.RGBAImage=po,t.RequestManager=q,t.RequestPerformance=eu,t.ResourceType=ht,t.SegmentVector=ia,t.SourceFeatureState=Xc,t.StructArrayLayout1ui2=Hi,t.StructArrayLayout2f1f2i16=Di,t.StructArrayLayout2i4=Mi,t.StructArrayLayout3ui6=Fi,t.StructArrayLayout4i8=Ai,t.SymbolBucket=fc,t.Texture=Sc,t.Tile=$c,t.Transitionable=si,t.Uniform1f=va,t.Uniform1i=ma,t.Uniform2f=ya,t.Uniform3f=xa,t.Uniform4f=ba,t.UniformColor=_a,t.UniformMatrix4f=Ta,t.UnwrappedTileID=Uc,t.ValidationError=St,t.WritingMode=gl,t.ZoomHistory=Un,t.add=function(t,e,r){return t[0]=e[0]+r[0],t[1]=e[1]+r[1],t[2]=e[2]+r[2],t},t.addDynamicAttributes=sc,t.asyncAll=function(t,e,r){if(!t.length)return r(null,[]);var n=t.length,i=new Array(t.length),a=null;t.forEach((function(t,o){e(t,(function(t,e){t&amp;&amp;(a=t),i[o]=e,0==--n&amp;&amp;r(a,i)}))}))},t.bezier=o,t.bindAll=g,t.browser=R,t.cacheEntryPossiblyAdded=function(t){++ut&gt;ot&amp;&amp;(t.getActor().send(\&quot;enforceCacheSizeLimit\&quot;,at),ut=0)},t.clamp=l,t.clearTileCache=function(t){var e=self.caches.delete(\&quot;mapbox-tiles\&quot;);t&amp;&amp;e.catch(t).then((function(){return t()}))},t.clipLine=jl,t.clone=function(t){var e=new to(16);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e[6]=t[6],e[7]=t[7],e[8]=t[8],e[9]=t[9],e[10]=t[10],e[11]=t[11],e[12]=t[12],e[13]=t[13],e[14]=t[14],e[15]=t[15],e},t.clone$1=x,t.clone$2=function(t){var e=new to(3);return e[0]=t[0],e[1]=t[1],e[2]=t[2],e},t.collisionCircleLayout=Ns,t.config=F,t.create=function(){var t=new to(16);return to!=Float32Array&amp;&amp;(t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=0,t[12]=0,t[13]=0,t[14]=0),t[0]=1,t[5]=1,t[10]=1,t[15]=1,t},t.create$1=function(){var t=new to(9);return to!=Float32Array&amp;&amp;(t[1]=0,t[2]=0,t[3]=0,t[5]=0,t[6]=0,t[7]=0),t[0]=1,t[4]=1,t[8]=1,t},t.create$2=function(){var t=new to(4);return to!=Float32Array&amp;&amp;(t[1]=0,t[2]=0),t[0]=1,t[3]=1,t},t.createCommonjsModule=e,t.createExpression=qr,t.createLayout=Ti,t.createStyleLayer=function(t){return\&quot;custom\&quot;===t.type?new bc(t):new _c[t.type](t)},t.cross=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=r[0],s=r[1],l=r[2];return t[0]=i*l-a*s,t[1]=a*o-n*l,t[2]=n*s-i*o,t},t.deepEqual=function t(e,r){if(Array.isArray(e)){if(!Array.isArray(r)||e.length!==r.length)return!1;for(var n=0;n&lt;e.length;n++)if(!t(e[n],r[n]))return!1;return!0}if(\&quot;object\&quot;==typeof e&amp;&amp;null!==e&amp;&amp;null!==r){if(\&quot;object\&quot;!=typeof r)return!1;if(Object.keys(e).length!==Object.keys(r).length)return!1;for(var i in e)if(!t(e[i],r[i]))return!1;return!0}return e===r},t.dot=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]},t.dot$1=function(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]},t.ease=s,t.emitValidationErrors=Cn,t.endsWith=m,t.enforceCacheSizeLimit=function(t){st(),Q&amp;&amp;Q.then((function(e){e.keys().then((function(r){for(var n=0;n&lt;r.length-t;n++)e.delete(r[n])}))}))},t.evaluateSizeForFeature=Il,t.evaluateSizeForZoom=Pl,t.evaluateVariableOffset=$l,t.evented=ti,t.extend=u,t.featureFilter=rn,t.filterObject=y,t.fromRotation=function(t,e){var r=Math.sin(e),n=Math.cos(e);return t[0]=n,t[1]=r,t[2]=0,t[3]=-r,t[4]=n,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t},t.getAnchorAlignment=Al,t.getAnchorJustification=tc,t.getArrayBuffer=yt,t.getImage=bt,t.getJSON=function(t,e){return vt(u(t,{type:\&quot;json\&quot;}),e)},t.getRTLTextPluginStatus=ei,t.getReferrer=mt,t.getVideo=function(t,e){var r,n,i=self.document.createElement(\&quot;video\&quot;);i.muted=!0,i.onloadstart=function(){e(null,i)};for(var a=0;a&lt;t.length;a++){var o=self.document.createElement(\&quot;source\&quot;);r=t[a],n=void 0,(n=self.document.createElement(\&quot;a\&quot;)).href=r,(n.protocol!==self.document.location.protocol||n.host!==self.document.location.host)&amp;&amp;(i.crossOrigin=\&quot;Anonymous\&quot;),o.src=t[a],i.appendChild(o)}return{cancel:function(){}}},t.identity=eo,t.invert=function(t,e){var r=e[0],n=e[1],i=e[2],a=e[3],o=e[4],s=e[5],l=e[6],c=e[7],u=e[8],f=e[9],h=e[10],p=e[11],d=e[12],g=e[13],m=e[14],v=e[15],y=r*s-n*o,x=r*l-i*o,b=r*c-a*o,_=n*l-i*s,w=n*c-a*s,T=i*c-a*l,k=u*g-f*d,M=u*m-h*d,A=u*v-p*d,S=f*m-h*g,E=f*v-p*g,C=h*v-p*m,L=y*C-x*E+b*S+_*A-w*M+T*k;return L?(t[0]=(s*C-l*E+c*S)*(L=1/L),t[1]=(i*E-n*C-a*S)*L,t[2]=(g*T-m*w+v*_)*L,t[3]=(h*w-f*T-p*_)*L,t[4]=(l*A-o*C-c*M)*L,t[5]=(r*C-i*A+a*M)*L,t[6]=(m*b-d*T-v*x)*L,t[7]=(u*T-h*b+p*x)*L,t[8]=(o*E-s*A+c*k)*L,t[9]=(n*A-r*E-a*k)*L,t[10]=(d*w-g*b+v*y)*L,t[11]=(f*b-u*w-p*y)*L,t[12]=(s*M-o*S-l*k)*L,t[13]=(r*S-n*M+i*k)*L,t[14]=(g*x-d*_-m*y)*L,t[15]=(u*_-f*x+h*y)*L,t):null},t.isChar=Vn,t.isMapboxURL=H,t.keysDifference=function(t,e){var r=[];for(var n in t)n in e||r.push(n);return r},t.makeRequest=vt,t.mapObject=v,t.mercatorXfromLng=Dc,t.mercatorYfromLat=Rc,t.mercatorZfromAltitude=Fc,t.mul=io,t.multiply=ro,t.mvt=gs,t.normalize=function(t,e){var r=e[0],n=e[1],i=e[2],a=r*r+n*n+i*i;return a&gt;0&amp;&amp;(a=1/Math.sqrt(a)),t[0]=e[0]*a,t[1]=e[1]*a,t[2]=e[2]*a,t},t.number=Ue,t.offscreenCanvasSupported=ft,t.ortho=function(t,e,r,n,i,a,o){var s=1/(e-r),l=1/(n-i),c=1/(a-o);return t[0]=-2*s,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*l,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*c,t[11]=0,t[12]=(e+r)*s,t[13]=(i+n)*l,t[14]=(o+a)*c,t[15]=1,t},t.parseGlyphPBF=function(t){return new Hs(t).readFields(ll,[])},t.pbf=Hs,t.performSymbolLayout=function(t,e,r,n,i,a,o){t.createArrays(),t.tilePixelRatio=8192/(512*t.overscaling),t.compareText={},t.iconsNeedLinear=!1;var s=t.layers[0].layout,l=t.layers[0]._unevaluatedLayout._values,c={};if(\&quot;composite\&quot;===t.textSizeData.kind){var u=t.textSizeData,f=u.maxZoom;c.compositeTextSizes=[l[\&quot;text-size\&quot;].possiblyEvaluate(new ii(u.minZoom),o),l[\&quot;text-size\&quot;].possiblyEvaluate(new ii(f),o)]}if(\&quot;composite\&quot;===t.iconSizeData.kind){var h=t.iconSizeData,p=h.maxZoom;c.compositeIconSizes=[l[\&quot;icon-size\&quot;].possiblyEvaluate(new ii(h.minZoom),o),l[\&quot;icon-size\&quot;].possiblyEvaluate(new ii(p),o)]}c.layoutTextSize=l[\&quot;text-size\&quot;].possiblyEvaluate(new ii(t.zoom+1),o),c.layoutIconSize=l[\&quot;icon-size\&quot;].possiblyEvaluate(new ii(t.zoom+1),o),c.textMaxSize=l[\&quot;text-size\&quot;].possiblyEvaluate(new ii(18));for(var d=24*s.get(\&quot;text-line-height\&quot;),g=\&quot;map\&quot;===s.get(\&quot;text-rotation-alignment\&quot;)&amp;&amp;\&quot;point\&quot;!==s.get(\&quot;symbol-placement\&quot;),m=s.get(\&quot;text-keep-upright\&quot;),v=s.get(\&quot;text-size\&quot;),y=function(){var a=b[x],l=s.get(\&quot;text-font\&quot;).evaluate(a,{},o).join(\&quot;,\&quot;),u=v.evaluate(a,{},o),f=c.layoutTextSize.evaluate(a,{},o),h=c.layoutIconSize.evaluate(a,{},o),p={horizontal:{},vertical:void 0},y=a.text,w=[0,0];if(y){var T=y.toString(),k=24*s.get(\&quot;text-letter-spacing\&quot;).evaluate(a,{},o),M=function(t){for(var e=0,r=t;e&lt;r.length;e+=1)if(n=r[e].charCodeAt(0),Vn.Arabic(n)||Vn[\&quot;Arabic Supplement\&quot;](n)||Vn[\&quot;Arabic Extended-A\&quot;](n)||Vn[\&quot;Arabic Presentation Forms-A\&quot;](n)||Vn[\&quot;Arabic Presentation Forms-B\&quot;](n))return!1;var n;return!0}(T)?k:0,A=s.get(\&quot;text-anchor\&quot;).evaluate(a,{},o),S=s.get(\&quot;text-variable-anchor\&quot;);if(!S){var E=s.get(\&quot;text-radial-offset\&quot;).evaluate(a,{},o);w=E?$l(A,[24*E,Ql]):s.get(\&quot;text-offset\&quot;).evaluate(a,{},o).map((function(t){return 24*t}))}var C=g?\&quot;center\&quot;:s.get(\&quot;text-justify\&quot;).evaluate(a,{},o),L=s.get(\&quot;symbol-placement\&quot;),I=\&quot;point\&quot;===L?24*s.get(\&quot;text-max-width\&quot;).evaluate(a,{},o):0,P=function(){t.allowVerticalPlacement&amp;&amp;qn(T)&amp;&amp;(p.vertical=yl(y,e,r,i,l,I,d,A,\&quot;left\&quot;,M,w,gl.vertical,!0,L,f,u))};if(!g&amp;&amp;S){for(var z=\&quot;auto\&quot;===C?S.map((function(t){return tc(t)})):[C],O=!1,D=0;D&lt;z.length;D++){var R=z[D];if(!p.horizontal[R])if(O)p.horizontal[R]=p.horizontal[0];else{var F=yl(y,e,r,i,l,I,d,\&quot;center\&quot;,R,M,w,gl.horizontal,!1,L,f,u);F&amp;&amp;(p.horizontal[R]=F,O=1===F.positionedLines.length)}}P()}else{\&quot;auto\&quot;===C&amp;&amp;(C=tc(A));var B=yl(y,e,r,i,l,I,d,A,C,M,w,gl.horizontal,!1,L,f,u);B&amp;&amp;(p.horizontal[C]=B),P(),qn(T)&amp;&amp;g&amp;&amp;m&amp;&amp;(p.vertical=yl(y,e,r,i,l,I,d,A,C,M,w,gl.vertical,!1,L,f,u))}}var N=void 0,j=!1;if(a.icon&amp;&amp;a.icon.name){var U=n[a.icon.name];U&amp;&amp;(N=function(t,e,r){var n=Al(r),i=e[0]-t.displaySize[0]*n.horizontalAlign,a=e[1]-t.displaySize[1]*n.verticalAlign;return{image:t,top:a,bottom:a+t.displaySize[1],left:i,right:i+t.displaySize[0]}}(i[a.icon.name],s.get(\&quot;icon-offset\&quot;).evaluate(a,{},o),s.get(\&quot;icon-anchor\&quot;).evaluate(a,{},o)),j=U.sdf,void 0===t.sdfIcons?t.sdfIcons=U.sdf:t.sdfIcons!==U.sdf&amp;&amp;_(\&quot;Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer\&quot;),(U.pixelRatio!==t.pixelRatio||0!==s.get(\&quot;icon-rotate\&quot;).constantOr(1))&amp;&amp;(t.iconsNeedLinear=!0))}var V=rc(p.horizontal)||p.vertical;t.iconsInText=!!V&amp;&amp;V.iconsInText,(V||N)&amp;&amp;function(t,e,r,n,i,a,o,s,l,c,u){var f=a.textMaxSize.evaluate(e,{});void 0===f&amp;&amp;(f=o);var h,p=t.layers[0].layout,d=p.get(\&quot;icon-offset\&quot;).evaluate(e,{},u),g=rc(r.horizontal),m=o/24,v=t.tilePixelRatio*m,y=t.tilePixelRatio*f/24,x=t.tilePixelRatio*s,b=t.tilePixelRatio*p.get(\&quot;symbol-spacing\&quot;),w=p.get(\&quot;text-padding\&quot;)*t.tilePixelRatio,T=p.get(\&quot;icon-padding\&quot;)*t.tilePixelRatio,k=p.get(\&quot;text-max-angle\&quot;)/180*Math.PI,M=\&quot;map\&quot;===p.get(\&quot;text-rotation-alignment\&quot;)&amp;&amp;\&quot;point\&quot;!==p.get(\&quot;symbol-placement\&quot;),A=\&quot;map\&quot;===p.get(\&quot;icon-rotation-alignment\&quot;)&amp;&amp;\&quot;point\&quot;!==p.get(\&quot;symbol-placement\&quot;),S=p.get(\&quot;symbol-placement\&quot;),E=b/2,C=p.get(\&quot;icon-text-fit\&quot;);n&amp;&amp;\&quot;none\&quot;!==C&amp;&amp;(t.allowVerticalPlacement&amp;&amp;r.vertical&amp;&amp;(h=El(n,r.vertical,C,p.get(\&quot;icon-text-fit-padding\&quot;),d,m)),g&amp;&amp;(n=El(n,g,C,p.get(\&quot;icon-text-fit-padding\&quot;),d,m)));var L=function(s,f){f.x&lt;0||f.x&gt;=8192||f.y&lt;0||f.y&gt;=8192||function(t,e,r,n,i,a,o,s,l,c,u,f,h,p,d,g,m,v,y,x,b,w,T,k,M){var A,S,E,C,L,I=t.addToLineVertexArray(e,r),P=0,z=0,O=0,D=0,R=-1,F=-1,B={},N=ca(\&quot;\&quot;),j=0,U=0;if(void 0===s._unevaluatedLayout.getValue(\&quot;text-radial-offset\&quot;)?(j=(A=s.layout.get(\&quot;text-offset\&quot;).evaluate(b,{},k).map((function(t){return 24*t})))[0],U=A[1]):(j=24*s.layout.get(\&quot;text-radial-offset\&quot;).evaluate(b,{},k),U=Ql),t.allowVerticalPlacement&amp;&amp;n.vertical){var V=s.layout.get(\&quot;text-rotate\&quot;).evaluate(b,{},k)+90;C=new Yl(l,e,c,u,f,n.vertical,h,p,d,V),o&amp;&amp;(L=new Yl(l,e,c,u,f,o,m,v,d,V))}if(i){var q=s.layout.get(\&quot;icon-rotate\&quot;).evaluate(b,{}),H=\&quot;none\&quot;!==s.layout.get(\&quot;icon-text-fit\&quot;),G=Ul(i,q,T,H),Y=o?Ul(o,q,T,H):void 0;E=new Yl(l,e,c,u,f,i,m,v,!1,q),P=4*G.length;var W=t.iconSizeData,X=null;\&quot;source\&quot;===W.kind?(X=[128*s.layout.get(\&quot;icon-size\&quot;).evaluate(b,{})])[0]&gt;32640&amp;&amp;_(t.layerIds[0]+': Value for \&quot;icon-size\&quot; is &gt;= 255. Reduce your \&quot;icon-size\&quot;.'):\&quot;composite\&quot;===W.kind&amp;&amp;((X=[128*w.compositeIconSizes[0].evaluate(b,{},k),128*w.compositeIconSizes[1].evaluate(b,{},k)])[0]&gt;32640||X[1]&gt;32640)&amp;&amp;_(t.layerIds[0]+': Value for \&quot;icon-size\&quot; is &gt;= 255. Reduce your \&quot;icon-size\&quot;.'),t.addSymbols(t.icon,G,X,x,y,b,!1,e,I.lineStartIndex,I.lineLength,-1,k),R=t.icon.placedSymbolArray.length-1,Y&amp;&amp;(z=4*Y.length,t.addSymbols(t.icon,Y,X,x,y,b,gl.vertical,e,I.lineStartIndex,I.lineLength,-1,k),F=t.icon.placedSymbolArray.length-1)}for(var Z in n.horizontal){var J=n.horizontal[Z];if(!S){N=ca(J.text);var K=s.layout.get(\&quot;text-rotate\&quot;).evaluate(b,{},k);S=new Yl(l,e,c,u,f,J,h,p,d,K)}var Q=1===J.positionedLines.length;if(O+=ec(t,e,J,a,s,d,b,g,I,n.vertical?gl.horizontal:gl.horizontalOnly,Q?Object.keys(n.horizontal):[Z],B,R,w,k),Q)break}n.vertical&amp;&amp;(D+=ec(t,e,n.vertical,a,s,d,b,g,I,gl.vertical,[\&quot;vertical\&quot;],B,F,w,k));var $=S?S.boxStartIndex:t.collisionBoxArray.length,tt=S?S.boxEndIndex:t.collisionBoxArray.length,et=C?C.boxStartIndex:t.collisionBoxArray.length,rt=C?C.boxEndIndex:t.collisionBoxArray.length,nt=E?E.boxStartIndex:t.collisionBoxArray.length,it=E?E.boxEndIndex:t.collisionBoxArray.length,at=L?L.boxStartIndex:t.collisionBoxArray.length,ot=L?L.boxEndIndex:t.collisionBoxArray.length,st=-1,lt=function(t,e){return t&amp;&amp;t.circleDiameter?Math.max(t.circleDiameter,e):e};st=lt(S,st),st=lt(C,st),st=lt(E,st);var ct=(st=lt(L,st))&gt;-1?1:0;ct&amp;&amp;(st*=M/24),t.glyphOffsetArray.length&gt;=fc.MAX_GLYPHS&amp;&amp;_(\&quot;Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907\&quot;),void 0!==b.sortKey&amp;&amp;t.addToSortKeyRanges(t.symbolInstances.length,b.sortKey),t.symbolInstances.emplaceBack(e.x,e.y,B.right&gt;=0?B.right:-1,B.center&gt;=0?B.center:-1,B.left&gt;=0?B.left:-1,B.vertical||-1,R,F,N,$,tt,et,rt,nt,it,at,ot,c,O,D,P,z,ct,0,h,j,U,st)}(t,f,s,r,n,i,h,t.layers[0],t.collisionBoxArray,e.index,e.sourceLayerIndex,t.index,v,w,M,l,x,T,A,d,e,a,c,u,o)};if(\&quot;line\&quot;===S)for(var I=0,P=jl(e.geometry,0,0,8192,8192);I&lt;P.length;I+=1)for(var z=P[I],O=0,D=Nl(z,b,k,r.vertical||g,n,24,y,t.overscaling,8192);O&lt;D.length;O+=1){var R=D[O];g&amp;&amp;nc(t,g.text,E,R)||L(z,R)}else if(\&quot;line-center\&quot;===S)for(var F=0,B=e.geometry;F&lt;B.length;F+=1){var N=B[F];if(N.length&gt;1){var j=Bl(N,k,r.vertical||g,n,24,y);j&amp;&amp;L(N,j)}}else if(\&quot;Polygon\&quot;===e.type)for(var U=0,V=Qo(e.geometry,0);U&lt;V.length;U+=1){var q=V[U],H=Zl(q,16);L(q[0],new Cl(H.x,H.y,0))}else if(\&quot;LineString\&quot;===e.type)for(var G=0,Y=e.geometry;G&lt;Y.length;G+=1){var W=Y[G];L(W,new Cl(W[0].x,W[0].y,0))}else if(\&quot;Point\&quot;===e.type)for(var X=0,Z=e.geometry;X&lt;Z.length;X+=1)for(var J=0,K=Z[X];J&lt;K.length;J+=1){var Q=K[J];L([Q],new Cl(Q.x,Q.y,0))}}(t,a,p,N,n,c,f,h,w,j,o)},x=0,b=t.features;x&lt;b.length;x+=1)y();a&amp;&amp;t.generateCollisionDebugBuffers()},t.perspective=function(t,e,r,n,i){var a,o=1/Math.tan(e/2);return t[0]=o/r,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[11]=-1,t[12]=0,t[13]=0,t[15]=0,null!=i&amp;&amp;i!==1/0?(t[10]=(i+n)*(a=1/(n-i)),t[14]=2*i*n*a):(t[10]=-1,t[14]=-2*n),t},t.pick=function(t,e){for(var r={},n=0;n&lt;e.length;n++){var i=e[n];i in t&amp;&amp;(r[i]=t[i])}return r},t.plugin=ni,t.polygonIntersectsPolygon=Ba,t.postMapLoadEvent=it,t.postTurnstileEvent=rt,t.potpack=fl,t.refProperties=[\&quot;type\&quot;,\&quot;source\&quot;,\&quot;source-layer\&quot;,\&quot;minzoom\&quot;,\&quot;maxzoom\&quot;,\&quot;filter\&quot;,\&quot;layout\&quot;],t.register=Dn,t.registerForPluginStateChange=function(t){return t({pluginStatus:Jn,pluginURL:Kn}),ti.on(\&quot;pluginStateChange\&quot;,t),t},t.rotate=function(t,e,r){var n=e[0],i=e[1],a=e[2],o=e[3],s=Math.sin(r),l=Math.cos(r);return t[0]=n*l+a*s,t[1]=i*l+o*s,t[2]=n*-s+a*l,t[3]=i*-s+o*l,t},t.rotateX=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[4],o=e[5],s=e[6],l=e[7],c=e[8],u=e[9],f=e[10],h=e[11];return e!==t&amp;&amp;(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=a*i+c*n,t[5]=o*i+u*n,t[6]=s*i+f*n,t[7]=l*i+h*n,t[8]=c*i-a*n,t[9]=u*i-o*n,t[10]=f*i-s*n,t[11]=h*i-l*n,t},t.rotateZ=function(t,e,r){var n=Math.sin(r),i=Math.cos(r),a=e[0],o=e[1],s=e[2],l=e[3],c=e[4],u=e[5],f=e[6],h=e[7];return e!==t&amp;&amp;(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=a*i+c*n,t[1]=o*i+u*n,t[2]=s*i+f*n,t[3]=l*i+h*n,t[4]=c*i-a*n,t[5]=u*i-o*n,t[6]=f*i-s*n,t[7]=h*i-l*n,t},t.scale=function(t,e,r){var n=r[0],i=r[1],a=r[2];return t[0]=e[0]*n,t[1]=e[1]*n,t[2]=e[2]*n,t[3]=e[3]*n,t[4]=e[4]*i,t[5]=e[5]*i,t[6]=e[6]*i,t[7]=e[7]*i,t[8]=e[8]*a,t[9]=e[9]*a,t[10]=e[10]*a,t[11]=e[11]*a,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t},t.scale$1=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t[3]=e[3]*r,t},t.scale$2=function(t,e,r){return t[0]=e[0]*r,t[1]=e[1]*r,t[2]=e[2]*r,t},t.setCacheLimits=function(t,e){at=t,ot=e},t.setRTLTextPlugin=function(t,e,r){if(void 0===r&amp;&amp;(r=!1),\&quot;deferred\&quot;===Jn||\&quot;loading\&quot;===Jn||\&quot;loaded\&quot;===Jn)throw new Error(\&quot;setRTLTextPlugin cannot be called multiple times.\&quot;);Kn=R.resolveURL(t),Jn=\&quot;deferred\&quot;,Zn=e,$n(),r||ri()},t.sphericalToCartesian=function(t){var e=t[0],r=t[1],n=t[2];return r+=90,r*=Math.PI/180,n*=Math.PI/180,{x:e*Math.cos(r)*Math.sin(n),y:e*Math.sin(r)*Math.sin(n),z:e*Math.cos(n)}},t.sqrLen=function(t){var e=t[0],r=t[1];return e*e+r*r},t.styleSpec=At,t.sub=function(t,e,r){return t[0]=e[0]-r[0],t[1]=e[1]-r[1],t[2]=e[2]-r[2],t},t.symbolSize=zl,t.transformMat3=function(t,e,r){var n=e[0],i=e[1],a=e[2];return t[0]=n*r[0]+i*r[3]+a*r[6],t[1]=n*r[1]+i*r[4]+a*r[7],t[2]=n*r[2]+i*r[5]+a*r[8],t},t.transformMat4=ao,t.translate=function(t,e,r){var n,i,a,o,s,l,c,u,f,h,p,d,g=r[0],m=r[1],v=r[2];return e===t?(t[12]=e[0]*g+e[4]*m+e[8]*v+e[12],t[13]=e[1]*g+e[5]*m+e[9]*v+e[13],t[14]=e[2]*g+e[6]*m+e[10]*v+e[14],t[15]=e[3]*g+e[7]*m+e[11]*v+e[15]):(i=e[1],a=e[2],o=e[3],s=e[4],l=e[5],c=e[6],u=e[7],f=e[8],h=e[9],p=e[10],d=e[11],t[0]=n=e[0],t[1]=i,t[2]=a,t[3]=o,t[4]=s,t[5]=l,t[6]=c,t[7]=u,t[8]=f,t[9]=h,t[10]=p,t[11]=d,t[12]=n*g+s*m+f*v+e[12],t[13]=i*g+l*m+h*v+e[13],t[14]=a*g+c*m+p*v+e[14],t[15]=o*g+u*m+d*v+e[15]),t},t.triggerPluginCompletionEvent=Qn,t.uniqueId=h,t.validateCustomStyleLayer=function(t){var e=[],r=t.id;return void 0===r&amp;&amp;e.push({message:\&quot;layers.\&quot;+r+': missing required property \&quot;id\&quot;'}),void 0===t.render&amp;&amp;e.push({message:\&quot;layers.\&quot;+r+': missing required method \&quot;render\&quot;'}),t.renderingMode&amp;&amp;\&quot;2d\&quot;!==t.renderingMode&amp;&amp;\&quot;3d\&quot;!==t.renderingMode&amp;&amp;e.push({message:\&quot;layers.\&quot;+r+': property \&quot;renderingMode\&quot; must be either \&quot;2d\&quot; or \&quot;3d\&quot;'}),e},t.validateLight=An,t.validateStyle=Mn,t.values=function(t){var e=[];for(var r in t)e.push(t[r]);return e},t.vectorTile=gs,t.version=\&quot;1.10.1\&quot;,t.warnOnce=_,t.webpSupported=B,t.window=self,t.wrap=c})),n(0,(function(t){function e(t){var r=typeof t;if(\&quot;number\&quot;===r||\&quot;boolean\&quot;===r||\&quot;string\&quot;===r||null==t)return JSON.stringify(t);if(Array.isArray(t)){for(var n=\&quot;[\&quot;,i=0,a=t;i&lt;a.length;i+=1)n+=e(a[i])+\&quot;,\&quot;;return n+\&quot;]\&quot;}for(var o=Object.keys(t).sort(),s=\&quot;{\&quot;,l=0;l&lt;o.length;l++)s+=JSON.stringify(o[l])+\&quot;:\&quot;+e(t[o[l]])+\&quot;,\&quot;;return s+\&quot;}\&quot;}function r(r){for(var n=\&quot;\&quot;,i=0,a=t.refProperties;i&lt;a.length;i+=1)n+=\&quot;/\&quot;+e(r[a[i]]);return n}var n=function(t){this.keyCache={},t&amp;&amp;this.replace(t)};n.prototype.replace=function(t){this._layerConfigs={},this._layers={},this.update(t,[])},n.prototype.update=function(e,n){for(var i=this,a=0,o=e;a&lt;o.length;a+=1){var s=o[a];this._layerConfigs[s.id]=s;var l=this._layers[s.id]=t.createStyleLayer(s);l._featureFilter=t.featureFilter(l.filter),this.keyCache[s.id]&amp;&amp;delete this.keyCache[s.id]}for(var c=0,u=n;c&lt;u.length;c+=1){var f=u[c];delete this.keyCache[f],delete this._layerConfigs[f],delete this._layers[f]}this.familiesBySource={};for(var h=0,p=function(t,e){for(var n={},i=0;i&lt;t.length;i++){var a=e&amp;&amp;e[t[i].id]||r(t[i]);e&amp;&amp;(e[t[i].id]=a);var o=n[a];o||(o=n[a]=[]),o.push(t[i])}var s=[];for(var l in n)s.push(n[l]);return s}(t.values(this._layerConfigs),this.keyCache);h&lt;p.length;h+=1){var d=p[h].map((function(t){return i._layers[t.id]})),g=d[0];if(\&quot;none\&quot;!==g.visibility){var m=g.source||\&quot;\&quot;,v=this.familiesBySource[m];v||(v=this.familiesBySource[m]={});var y=g.sourceLayer||\&quot;_geojsonTileLayer\&quot;,x=v[y];x||(x=v[y]=[]),x.push(d)}}};var i=function(e){var r={},n=[];for(var i in e){var a=e[i],o=r[i]={};for(var s in a){var l=a[+s];if(l&amp;&amp;0!==l.bitmap.width&amp;&amp;0!==l.bitmap.height){var c={x:0,y:0,w:l.bitmap.width+2,h:l.bitmap.height+2};n.push(c),o[s]={rect:c,metrics:l.metrics}}}}var u=t.potpack(n),f=new t.AlphaImage({width:u.w||1,height:u.h||1});for(var h in e){var p=e[h];for(var d in p){var g=p[+d];if(g&amp;&amp;0!==g.bitmap.width&amp;&amp;0!==g.bitmap.height){var m=r[h][d].rect;t.AlphaImage.copy(g.bitmap,f,{x:0,y:0},{x:m.x+1,y:m.y+1},g.bitmap)}}}this.image=f,this.positions=r};t.register(\&quot;GlyphAtlas\&quot;,i);var a=function(e){this.tileID=new t.OverscaledTileID(e.tileID.overscaledZ,e.tileID.wrap,e.tileID.canonical.z,e.tileID.canonical.x,e.tileID.canonical.y),this.uid=e.uid,this.zoom=e.zoom,this.pixelRatio=e.pixelRatio,this.tileSize=e.tileSize,this.source=e.source,this.overscaling=this.tileID.overscaleFactor(),this.showCollisionBoxes=e.showCollisionBoxes,this.collectResourceTiming=!!e.collectResourceTiming,this.returnDependencies=!!e.returnDependencies,this.promoteId=e.promoteId};function o(e,r,n){for(var i=new t.EvaluationParameters(r),a=0,o=e;a&lt;o.length;a+=1)o[a].recalculate(i,n)}function s(e,r){var n=t.getArrayBuffer(e.request,(function(e,n,i,a){e?r(e):n&amp;&amp;r(null,{vectorTile:new t.vectorTile.VectorTile(new t.pbf(n)),rawData:n,cacheControl:i,expires:a})}));return function(){n.cancel(),r()}}a.prototype.parse=function(e,r,n,a,s){var l=this;this.status=\&quot;parsing\&quot;,this.data=e,this.collisionBoxArray=new t.CollisionBoxArray;var c=new t.DictionaryCoder(Object.keys(e.layers).sort()),u=new t.FeatureIndex(this.tileID,this.promoteId);u.bucketLayerIDs=[];var f,h,p,d,g={},m={featureIndex:u,iconDependencies:{},patternDependencies:{},glyphDependencies:{},availableImages:n},v=r.familiesBySource[this.source];for(var y in v){var x=e.layers[y];if(x){1===x.version&amp;&amp;t.warnOnce('Vector tile source \&quot;'+this.source+'\&quot; layer \&quot;'+y+'\&quot; does not use vector tile spec v2 and therefore may have some rendering errors.');for(var b=c.encode(y),_=[],w=0;w&lt;x.length;w++){var T=x.feature(w),k=u.getId(T,y);_.push({feature:T,id:k,index:w,sourceLayerIndex:b})}for(var M=0,A=v[y];M&lt;A.length;M+=1){var S=A[M],E=S[0];E.minzoom&amp;&amp;this.zoom&lt;Math.floor(E.minzoom)||E.maxzoom&amp;&amp;this.zoom&gt;=E.maxzoom||\&quot;none\&quot;!==E.visibility&amp;&amp;(o(S,this.zoom,n),(g[E.id]=E.createBucket({index:u.bucketLayerIDs.length,layers:S,zoom:this.zoom,pixelRatio:this.pixelRatio,overscaling:this.overscaling,collisionBoxArray:this.collisionBoxArray,sourceLayerIndex:b,sourceID:this.source})).populate(_,m,this.tileID.canonical),u.bucketLayerIDs.push(S.map((function(t){return t.id}))))}}}var C=t.mapObject(m.glyphDependencies,(function(t){return Object.keys(t).map(Number)}));Object.keys(C).length?a.send(\&quot;getGlyphs\&quot;,{uid:this.uid,stacks:C},(function(t,e){f||(f=t,h=e,P.call(l))})):h={};var L=Object.keys(m.iconDependencies);L.length?a.send(\&quot;getImages\&quot;,{icons:L,source:this.source,tileID:this.tileID,type:\&quot;icons\&quot;},(function(t,e){f||(f=t,p=e,P.call(l))})):p={};var I=Object.keys(m.patternDependencies);function P(){if(f)return s(f);if(h&amp;&amp;p&amp;&amp;d){var e=new i(h),r=new t.ImageAtlas(p,d);for(var a in g){var l=g[a];l instanceof t.SymbolBucket?(o(l.layers,this.zoom,n),t.performSymbolLayout(l,h,e.positions,p,r.iconPositions,this.showCollisionBoxes,this.tileID.canonical)):l.hasPattern&amp;&amp;(l instanceof t.LineBucket||l instanceof t.FillBucket||l instanceof t.FillExtrusionBucket)&amp;&amp;(o(l.layers,this.zoom,n),l.addFeatures(m,this.tileID.canonical,r.patternPositions))}this.status=\&quot;done\&quot;,s(null,{buckets:t.values(g).filter((function(t){return!t.isEmpty()})),featureIndex:u,collisionBoxArray:this.collisionBoxArray,glyphAtlasImage:e.image,imageAtlas:r,glyphMap:this.returnDependencies?h:null,iconMap:this.returnDependencies?p:null,glyphPositions:this.returnDependencies?e.positions:null})}}I.length?a.send(\&quot;getImages\&quot;,{icons:I,source:this.source,tileID:this.tileID,type:\&quot;patterns\&quot;},(function(t,e){f||(f=t,d=e,P.call(l))})):d={},P.call(this)};var l=function(t,e,r,n){this.actor=t,this.layerIndex=e,this.availableImages=r,this.loadVectorData=n||s,this.loading={},this.loaded={}};l.prototype.loadTile=function(e,r){var n=this,i=e.uid;this.loading||(this.loading={});var o=!!(e&amp;&amp;e.request&amp;&amp;e.request.collectResourceTiming)&amp;&amp;new t.RequestPerformance(e.request),s=this.loading[i]=new a(e);s.abort=this.loadVectorData(e,(function(e,a){if(delete n.loading[i],e||!a)return s.status=\&quot;done\&quot;,n.loaded[i]=s,r(e);var l=a.rawData,c={};a.expires&amp;&amp;(c.expires=a.expires),a.cacheControl&amp;&amp;(c.cacheControl=a.cacheControl);var u={};if(o){var f=o.finish();f&amp;&amp;(u.resourceTiming=JSON.parse(JSON.stringify(f)))}s.vectorTile=a.vectorTile,s.parse(a.vectorTile,n.layerIndex,n.availableImages,n.actor,(function(e,n){if(e||!n)return r(e);r(null,t.extend({rawTileData:l.slice(0)},n,c,u))})),n.loaded=n.loaded||{},n.loaded[i]=s}))},l.prototype.reloadTile=function(t,e){var r=this,n=this.loaded,i=t.uid,a=this;if(n&amp;&amp;n[i]){var o=n[i];o.showCollisionBoxes=t.showCollisionBoxes;var s=function(t,n){var i=o.reloadCallback;i&amp;&amp;(delete o.reloadCallback,o.parse(o.vectorTile,a.layerIndex,r.availableImages,a.actor,i)),e(t,n)};\&quot;parsing\&quot;===o.status?o.reloadCallback=s:\&quot;done\&quot;===o.status&amp;&amp;(o.vectorTile?o.parse(o.vectorTile,this.layerIndex,this.availableImages,this.actor,s):s())}},l.prototype.abortTile=function(t,e){var r=this.loading,n=t.uid;r&amp;&amp;r[n]&amp;&amp;r[n].abort&amp;&amp;(r[n].abort(),delete r[n]),e()},l.prototype.removeTile=function(t,e){var r=this.loaded,n=t.uid;r&amp;&amp;r[n]&amp;&amp;delete r[n],e()};var c=t.window.ImageBitmap,u=function(){this.loaded={}};function f(t,e){if(0!==t.length){h(t[0],e);for(var r=1;r&lt;t.length;r++)h(t[r],!e)}}function h(t,e){for(var r=0,n=0,i=t.length,a=i-1;n&lt;i;a=n++)r+=(t[n][0]-t[a][0])*(t[a][1]+t[n][1]);r&gt;=0!=!!e&amp;&amp;t.reverse()}u.prototype.loadTile=function(e,r){var n=e.uid,i=e.encoding,a=e.rawImageData,o=c&amp;&amp;a instanceof c?this.getImageData(a):a,s=new t.DEMData(n,o,i);this.loaded=this.loaded||{},this.loaded[n]=s,r(null,s)},u.prototype.getImageData=function(e){this.offscreenCanvas&amp;&amp;this.offscreenCanvasContext||(this.offscreenCanvas=new OffscreenCanvas(e.width,e.height),this.offscreenCanvasContext=this.offscreenCanvas.getContext(\&quot;2d\&quot;)),this.offscreenCanvas.width=e.width,this.offscreenCanvas.height=e.height,this.offscreenCanvasContext.drawImage(e,0,0,e.width,e.height);var r=this.offscreenCanvasContext.getImageData(-1,-1,e.width+2,e.height+2);return this.offscreenCanvasContext.clearRect(0,0,this.offscreenCanvas.width,this.offscreenCanvas.height),new t.RGBAImage({width:r.width,height:r.height},r.data)},u.prototype.removeTile=function(t){var e=this.loaded,r=t.uid;e&amp;&amp;e[r]&amp;&amp;delete e[r]};var p=t.vectorTile.VectorTileFeature.prototype.toGeoJSON,d=function(e){this._feature=e,this.extent=t.EXTENT,this.type=e.type,this.properties=e.tags,\&quot;id\&quot;in e&amp;&amp;!isNaN(e.id)&amp;&amp;(this.id=parseInt(e.id,10))};d.prototype.loadGeometry=function(){if(1===this._feature.type){for(var e=[],r=0,n=this._feature.geometry;r&lt;n.length;r+=1){var i=n[r];e.push([new t.Point$1(i[0],i[1])])}return e}for(var a=[],o=0,s=this._feature.geometry;o&lt;s.length;o+=1){for(var l=[],c=0,u=s[o];c&lt;u.length;c+=1){var f=u[c];l.push(new t.Point$1(f[0],f[1]))}a.push(l)}return a},d.prototype.toGeoJSON=function(t,e,r){return p.call(this,t,e,r)};var g=function(e){this.layers={_geojsonTileLayer:this},this.name=\&quot;_geojsonTileLayer\&quot;,this.extent=t.EXTENT,this.length=e.length,this._features=e};g.prototype.feature=function(t){return new d(this._features[t])};var m=t.vectorTile.VectorTileFeature,v=y;function y(t,e){this.options=e||{},this.features=t,this.length=t.length}function x(t,e){this.id=\&quot;number\&quot;==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=e||4096}y.prototype.feature=function(t){return new x(this.features[t],this.options.extent)},x.prototype.loadGeometry=function(){var e=this.rawGeometry;this.geometry=[];for(var r=0;r&lt;e.length;r++){for(var n=e[r],i=[],a=0;a&lt;n.length;a++)i.push(new t.Point$1(n[a][0],n[a][1]));this.geometry.push(i)}return this.geometry},x.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,r=-1/0,n=1/0,i=-1/0,a=0;a&lt;t.length;a++)for(var o=t[a],s=0;s&lt;o.length;s++){var l=o[s];e=Math.min(e,l.x),r=Math.max(r,l.x),n=Math.min(n,l.y),i=Math.max(i,l.y)}return[e,n,r,i]},x.prototype.toGeoJSON=m.prototype.toGeoJSON;var b=w,_=v;function w(e){var r=new t.pbf;return function(t,e){for(var r in t.layers)e.writeMessage(3,T,t.layers[r])}(e,r),r.finish()}function T(t,e){var r;e.writeVarintField(15,t.version||1),e.writeStringField(1,t.name||\&quot;\&quot;),e.writeVarintField(5,t.extent||4096);var n={keys:[],values:[],keycache:{},valuecache:{}};for(r=0;r&lt;t.length;r++)n.feature=t.feature(r),e.writeMessage(2,k,n);var i=n.keys;for(r=0;r&lt;i.length;r++)e.writeStringField(3,i[r]);var a=n.values;for(r=0;r&lt;a.length;r++)e.writeMessage(4,C,a[r])}function k(t,e){var r=t.feature;void 0!==r.id&amp;&amp;e.writeVarintField(1,r.id),e.writeMessage(2,M,t),e.writeVarintField(3,r.type),e.writeMessage(4,E,r)}function M(t,e){var r=t.feature,n=t.keys,i=t.values,a=t.keycache,o=t.valuecache;for(var s in r.properties){var l=a[s];void 0===l&amp;&amp;(n.push(s),a[s]=l=n.length-1),e.writeVarint(l);var c=r.properties[s],u=typeof c;\&quot;string\&quot;!==u&amp;&amp;\&quot;boolean\&quot;!==u&amp;&amp;\&quot;number\&quot;!==u&amp;&amp;(c=JSON.stringify(c));var f=u+\&quot;:\&quot;+c,h=o[f];void 0===h&amp;&amp;(i.push(c),o[f]=h=i.length-1),e.writeVarint(h)}}function A(t,e){return(e&lt;&lt;3)+(7&amp;t)}function S(t){return t&lt;&lt;1^t&gt;&gt;31}function E(t,e){for(var r=t.loadGeometry(),n=t.type,i=0,a=0,o=r.length,s=0;s&lt;o;s++){var l=r[s],c=1;1===n&amp;&amp;(c=l.length),e.writeVarint(A(1,c));for(var u=3===n?l.length-1:l.length,f=0;f&lt;u;f++){1===f&amp;&amp;1!==n&amp;&amp;e.writeVarint(A(2,u-1));var h=l[f].x-i,p=l[f].y-a;e.writeVarint(S(h)),e.writeVarint(S(p)),i+=h,a+=p}3===n&amp;&amp;e.writeVarint(A(7,1))}}function C(t,e){var r=typeof t;\&quot;string\&quot;===r?e.writeStringField(1,t):\&quot;boolean\&quot;===r?e.writeBooleanField(7,t):\&quot;number\&quot;===r&amp;&amp;(t%1!=0?e.writeDoubleField(3,t):t&lt;0?e.writeSVarintField(6,t):e.writeVarintField(5,t))}function L(t,e,r,n){I(t,r,n),I(e,2*r,2*n),I(e,2*r+1,2*n+1)}function I(t,e,r){var n=t[e];t[e]=t[r],t[r]=n}function P(t,e,r,n){var i=t-r,a=e-n;return i*i+a*a}b.fromVectorTileJs=w,b.fromGeojsonVt=function(t,e){e=e||{};var r={};for(var n in t)r[n]=new v(t[n].features,e),r[n].name=n,r[n].version=e.version,r[n].extent=e.extent;return w({layers:r})},b.GeoJSONWrapper=_;var z=function(t){return t[0]},O=function(t){return t[1]},D=function(t,e,r,n,i){void 0===e&amp;&amp;(e=z),void 0===r&amp;&amp;(r=O),void 0===n&amp;&amp;(n=64),void 0===i&amp;&amp;(i=Float64Array),this.nodeSize=n,this.points=t;for(var a=t.length&lt;65536?Uint16Array:Uint32Array,o=this.ids=new a(t.length),s=this.coords=new i(2*t.length),l=0;l&lt;t.length;l++)o[l]=l,s[2*l]=e(t[l]),s[2*l+1]=r(t[l]);!function t(e,r,n,i,a,o){if(!(a-i&lt;=n)){var s=i+a&gt;&gt;1;!function t(e,r,n,i,a,o){for(;a&gt;i;){if(a-i&gt;600){var s=a-i+1,l=n-i+1,c=Math.log(s),u=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*u*(s-u)/s)*(l-s/2&lt;0?-1:1);t(e,r,n,Math.max(i,Math.floor(n-l*u/s+f)),Math.min(a,Math.floor(n+(s-l)*u/s+f)),o)}var h=r[2*n+o],p=i,d=a;for(L(e,r,i,n),r[2*a+o]&gt;h&amp;&amp;L(e,r,i,a);p&lt;d;){for(L(e,r,p,d),p++,d--;r[2*p+o]&lt;h;)p++;for(;r[2*d+o]&gt;h;)d--}r[2*i+o]===h?L(e,r,i,d):L(e,r,++d,a),d&lt;=n&amp;&amp;(i=d+1),n&lt;=d&amp;&amp;(a=d-1)}}(e,r,s,i,a,o%2),t(e,r,n,i,s-1,o+1),t(e,r,n,s+1,a,o+1)}}(o,s,n,0,o.length-1,0)};D.prototype.range=function(t,e,r,n){return function(t,e,r,n,i,a,o){for(var s,l,c=[0,t.length-1,0],u=[];c.length;){var f=c.pop(),h=c.pop(),p=c.pop();if(h-p&lt;=o)for(var d=p;d&lt;=h;d++)l=e[2*d+1],(s=e[2*d])&gt;=r&amp;&amp;s&lt;=i&amp;&amp;l&gt;=n&amp;&amp;l&lt;=a&amp;&amp;u.push(t[d]);else{var g=Math.floor((p+h)/2);l=e[2*g+1],(s=e[2*g])&gt;=r&amp;&amp;s&lt;=i&amp;&amp;l&gt;=n&amp;&amp;l&lt;=a&amp;&amp;u.push(t[g]);var m=(f+1)%2;(0===f?r&lt;=s:n&lt;=l)&amp;&amp;(c.push(p),c.push(g-1),c.push(m)),(0===f?i&gt;=s:a&gt;=l)&amp;&amp;(c.push(g+1),c.push(h),c.push(m))}}return u}(this.ids,this.coords,t,e,r,n,this.nodeSize)},D.prototype.within=function(t,e,r){return function(t,e,r,n,i,a){for(var o=[0,t.length-1,0],s=[],l=i*i;o.length;){var c=o.pop(),u=o.pop(),f=o.pop();if(u-f&lt;=a)for(var h=f;h&lt;=u;h++)P(e[2*h],e[2*h+1],r,n)&lt;=l&amp;&amp;s.push(t[h]);else{var p=Math.floor((f+u)/2),d=e[2*p],g=e[2*p+1];P(d,g,r,n)&lt;=l&amp;&amp;s.push(t[p]);var m=(c+1)%2;(0===c?r-i&lt;=d:n-i&lt;=g)&amp;&amp;(o.push(f),o.push(p-1),o.push(m)),(0===c?r+i&gt;=d:n+i&gt;=g)&amp;&amp;(o.push(p+1),o.push(u),o.push(m))}}return s}(this.ids,this.coords,t,e,r,this.nodeSize)};var R={minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1,generateId:!1,reduce:null,map:function(t){return t}},F=function(t){this.options=H(Object.create(R),t),this.trees=new Array(this.options.maxZoom+1)};function B(t,e,r,n,i){return{x:t,y:e,zoom:1/0,id:r,parentId:-1,numPoints:n,properties:i}}function N(t,e){var r=t.geometry.coordinates,n=r[1];return{x:V(r[0]),y:q(n),zoom:1/0,index:e,parentId:-1}}function j(t){return{type:\&quot;Feature\&quot;,id:t.id,properties:U(t),geometry:{type:\&quot;Point\&quot;,coordinates:[(n=t.x,360*(n-.5)),(e=t.y,r=(180-360*e)*Math.PI/180,360*Math.atan(Math.exp(r))/Math.PI-90)]}};var e,r,n}function U(t){var e=t.numPoints,r=e&gt;=1e4?Math.round(e/1e3)+\&quot;k\&quot;:e&gt;=1e3?Math.round(e/100)/10+\&quot;k\&quot;:e;return H(H({},t.properties),{cluster:!0,cluster_id:t.id,point_count:e,point_count_abbreviated:r})}function V(t){return t/360+.5}function q(t){var e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r&lt;0?0:r&gt;1?1:r}function H(t,e){for(var r in e)t[r]=e[r];return t}function G(t){return t.x}function Y(t){return t.y}function W(t,e,r,n,i,a){var o=i-r,s=a-n;if(0!==o||0!==s){var l=((t-r)*o+(e-n)*s)/(o*o+s*s);l&gt;1?(r=i,n=a):l&gt;0&amp;&amp;(r+=o*l,n+=s*l)}return(o=t-r)*o+(s=e-n)*s}function X(t,e,r,n){var i={id:void 0===t?null:t,type:e,geometry:r,tags:n,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0};return function(t){var e=t.geometry,r=t.type;if(\&quot;Point\&quot;===r||\&quot;MultiPoint\&quot;===r||\&quot;LineString\&quot;===r)Z(t,e);else if(\&quot;Polygon\&quot;===r||\&quot;MultiLineString\&quot;===r)for(var n=0;n&lt;e.length;n++)Z(t,e[n]);else if(\&quot;MultiPolygon\&quot;===r)for(n=0;n&lt;e.length;n++)for(var i=0;i&lt;e[n].length;i++)Z(t,e[n][i])}(i),i}function Z(t,e){for(var r=0;r&lt;e.length;r+=3)t.minX=Math.min(t.minX,e[r]),t.minY=Math.min(t.minY,e[r+1]),t.maxX=Math.max(t.maxX,e[r]),t.maxY=Math.max(t.maxY,e[r+1])}function J(t,e,r,n){if(e.geometry){var i=e.geometry.coordinates,a=e.geometry.type,o=Math.pow(r.tolerance/((1&lt;&lt;r.maxZoom)*r.extent),2),s=[],l=e.id;if(r.promoteId?l=e.properties[r.promoteId]:r.generateId&amp;&amp;(l=n||0),\&quot;Point\&quot;===a)K(i,s);else if(\&quot;MultiPoint\&quot;===a)for(var c=0;c&lt;i.length;c++)K(i[c],s);else if(\&quot;LineString\&quot;===a)Q(i,s,o,!1);else if(\&quot;MultiLineString\&quot;===a){if(r.lineMetrics){for(c=0;c&lt;i.length;c++)Q(i[c],s=[],o,!1),t.push(X(l,\&quot;LineString\&quot;,s,e.properties));return}$(i,s,o,!1)}else if(\&quot;Polygon\&quot;===a)$(i,s,o,!0);else{if(\&quot;MultiPolygon\&quot;!==a){if(\&quot;GeometryCollection\&quot;===a){for(c=0;c&lt;e.geometry.geometries.length;c++)J(t,{id:l,geometry:e.geometry.geometries[c],properties:e.properties},r,n);return}throw new Error(\&quot;Input data is not a valid GeoJSON object.\&quot;)}for(c=0;c&lt;i.length;c++){var u=[];$(i[c],u,o,!0),s.push(u)}}t.push(X(l,a,s,e.properties))}}function K(t,e){e.push(tt(t[0])),e.push(et(t[1])),e.push(0)}function Q(t,e,r,n){for(var i,a,o=0,s=0;s&lt;t.length;s++){var l=tt(t[s][0]),c=et(t[s][1]);e.push(l),e.push(c),e.push(0),s&gt;0&amp;&amp;(o+=n?(i*c-l*a)/2:Math.sqrt(Math.pow(l-i,2)+Math.pow(c-a,2))),i=l,a=c}var u=e.length-3;e[2]=1,function t(e,r,n,i){for(var a,o=i,s=n-r&gt;&gt;1,l=n-r,c=e[r],u=e[r+1],f=e[n],h=e[n+1],p=r+3;p&lt;n;p+=3){var d=W(e[p],e[p+1],c,u,f,h);if(d&gt;o)a=p,o=d;else if(d===o){var g=Math.abs(p-s);g&lt;l&amp;&amp;(a=p,l=g)}}o&gt;i&amp;&amp;(a-r&gt;3&amp;&amp;t(e,r,a,i),e[a+2]=o,n-a&gt;3&amp;&amp;t(e,a,n,i))}(e,0,u,r),e[u+2]=1,e.size=Math.abs(o),e.start=0,e.end=e.size}function $(t,e,r,n){for(var i=0;i&lt;t.length;i++){var a=[];Q(t[i],a,r,n),e.push(a)}}function tt(t){return t/360+.5}function et(t){var e=Math.sin(t*Math.PI/180),r=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return r&lt;0?0:r&gt;1?1:r}function rt(t,e,r,n,i,a,o,s){if(n/=e,a&gt;=(r/=e)&amp;&amp;o&lt;n)return t;if(o&lt;r||a&gt;=n)return null;for(var l=[],c=0;c&lt;t.length;c++){var u=t[c],f=u.geometry,h=u.type,p=0===i?u.minX:u.minY,d=0===i?u.maxX:u.maxY;if(p&gt;=r&amp;&amp;d&lt;n)l.push(u);else if(!(d&lt;r||p&gt;=n)){var g=[];if(\&quot;Point\&quot;===h||\&quot;MultiPoint\&quot;===h)nt(f,g,r,n,i);else if(\&quot;LineString\&quot;===h)it(f,g,r,n,i,!1,s.lineMetrics);else if(\&quot;MultiLineString\&quot;===h)ot(f,g,r,n,i,!1);else if(\&quot;Polygon\&quot;===h)ot(f,g,r,n,i,!0);else if(\&quot;MultiPolygon\&quot;===h)for(var m=0;m&lt;f.length;m++){var v=[];ot(f[m],v,r,n,i,!0),v.length&amp;&amp;g.push(v)}if(g.length){if(s.lineMetrics&amp;&amp;\&quot;LineString\&quot;===h){for(m=0;m&lt;g.length;m++)l.push(X(u.id,h,g[m],u.tags));continue}\&quot;LineString\&quot;!==h&amp;&amp;\&quot;MultiLineString\&quot;!==h||(1===g.length?(h=\&quot;LineString\&quot;,g=g[0]):h=\&quot;MultiLineString\&quot;),\&quot;Point\&quot;!==h&amp;&amp;\&quot;MultiPoint\&quot;!==h||(h=3===g.length?\&quot;Point\&quot;:\&quot;MultiPoint\&quot;),l.push(X(u.id,h,g,u.tags))}}}return l.length?l:null}function nt(t,e,r,n,i){for(var a=0;a&lt;t.length;a+=3){var o=t[a+i];o&gt;=r&amp;&amp;o&lt;=n&amp;&amp;(e.push(t[a]),e.push(t[a+1]),e.push(t[a+2]))}}function it(t,e,r,n,i,a,o){for(var s,l,c=at(t),u=0===i?lt:ct,f=t.start,h=0;h&lt;t.length-3;h+=3){var p=t[h],d=t[h+1],g=t[h+2],m=t[h+3],v=t[h+4],y=0===i?p:d,x=0===i?m:v,b=!1;o&amp;&amp;(s=Math.sqrt(Math.pow(p-m,2)+Math.pow(d-v,2))),y&lt;r?x&gt;r&amp;&amp;(l=u(c,p,d,m,v,r),o&amp;&amp;(c.start=f+s*l)):y&gt;n?x&lt;n&amp;&amp;(l=u(c,p,d,m,v,n),o&amp;&amp;(c.start=f+s*l)):st(c,p,d,g),x&lt;r&amp;&amp;y&gt;=r&amp;&amp;(l=u(c,p,d,m,v,r),b=!0),x&gt;n&amp;&amp;y&lt;=n&amp;&amp;(l=u(c,p,d,m,v,n),b=!0),!a&amp;&amp;b&amp;&amp;(o&amp;&amp;(c.end=f+s*l),e.push(c),c=at(t)),o&amp;&amp;(f+=s)}var _=t.length-3;p=t[_],d=t[_+1],g=t[_+2],(y=0===i?p:d)&gt;=r&amp;&amp;y&lt;=n&amp;&amp;st(c,p,d,g),_=c.length-3,a&amp;&amp;_&gt;=3&amp;&amp;(c[_]!==c[0]||c[_+1]!==c[1])&amp;&amp;st(c,c[0],c[1],c[2]),c.length&amp;&amp;e.push(c)}function at(t){var e=[];return e.size=t.size,e.start=t.start,e.end=t.end,e}function ot(t,e,r,n,i,a){for(var o=0;o&lt;t.length;o++)it(t[o],e,r,n,i,a,!1)}function st(t,e,r,n){t.push(e),t.push(r),t.push(n)}function lt(t,e,r,n,i,a){var o=(a-e)/(n-e);return t.push(a),t.push(r+(i-r)*o),t.push(1),o}function ct(t,e,r,n,i,a){var o=(a-r)/(i-r);return t.push(e+(n-e)*o),t.push(a),t.push(1),o}function ut(t,e){for(var r=[],n=0;n&lt;t.length;n++){var i,a=t[n],o=a.type;if(\&quot;Point\&quot;===o||\&quot;MultiPoint\&quot;===o||\&quot;LineString\&quot;===o)i=ft(a.geometry,e);else if(\&quot;MultiLineString\&quot;===o||\&quot;Polygon\&quot;===o){i=[];for(var s=0;s&lt;a.geometry.length;s++)i.push(ft(a.geometry[s],e))}else if(\&quot;MultiPolygon\&quot;===o)for(i=[],s=0;s&lt;a.geometry.length;s++){for(var l=[],c=0;c&lt;a.geometry[s].length;c++)l.push(ft(a.geometry[s][c],e));i.push(l)}r.push(X(a.id,o,i,a.tags))}return r}function ft(t,e){var r=[];r.size=t.size,void 0!==t.start&amp;&amp;(r.start=t.start,r.end=t.end);for(var n=0;n&lt;t.length;n+=3)r.push(t[n]+e,t[n+1],t[n+2]);return r}function ht(t,e){if(t.transformed)return t;var r,n,i,a=1&lt;&lt;t.z,o=t.x,s=t.y;for(r=0;r&lt;t.features.length;r++){var l=t.features[r],c=l.geometry,u=l.type;if(l.geometry=[],1===u)for(n=0;n&lt;c.length;n+=2)l.geometry.push(pt(c[n],c[n+1],e,a,o,s));else for(n=0;n&lt;c.length;n++){var f=[];for(i=0;i&lt;c[n].length;i+=2)f.push(pt(c[n][i],c[n][i+1],e,a,o,s));l.geometry.push(f)}}return t.transformed=!0,t}function pt(t,e,r,n,i,a){return[Math.round(r*(t*n-i)),Math.round(r*(e*n-a))]}function dt(t,e,r,n,i){for(var a=e===i.maxZoom?0:i.tolerance/((1&lt;&lt;e)*i.extent),o={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:r,y:n,z:e,transformed:!1,minX:2,minY:1,maxX:-1,maxY:0},s=0;s&lt;t.length;s++){o.numFeatures++,gt(o,t[s],a,i);var l=t[s].minX,c=t[s].minY,u=t[s].maxX,f=t[s].maxY;l&lt;o.minX&amp;&amp;(o.minX=l),c&lt;o.minY&amp;&amp;(o.minY=c),u&gt;o.maxX&amp;&amp;(o.maxX=u),f&gt;o.maxY&amp;&amp;(o.maxY=f)}return o}function gt(t,e,r,n){var i=e.geometry,a=e.type,o=[];if(\&quot;Point\&quot;===a||\&quot;MultiPoint\&quot;===a)for(var s=0;s&lt;i.length;s+=3)o.push(i[s]),o.push(i[s+1]),t.numPoints++,t.numSimplified++;else if(\&quot;LineString\&quot;===a)mt(o,i,t,r,!1,!1);else if(\&quot;MultiLineString\&quot;===a||\&quot;Polygon\&quot;===a)for(s=0;s&lt;i.length;s++)mt(o,i[s],t,r,\&quot;Polygon\&quot;===a,0===s);else if(\&quot;MultiPolygon\&quot;===a)for(var l=0;l&lt;i.length;l++){var c=i[l];for(s=0;s&lt;c.length;s++)mt(o,c[s],t,r,!0,0===s)}if(o.length){var u=e.tags||null;if(\&quot;LineString\&quot;===a&amp;&amp;n.lineMetrics){for(var f in u={},e.tags)u[f]=e.tags[f];u.mapbox_clip_start=i.start/i.size,u.mapbox_clip_end=i.end/i.size}var h={geometry:o,type:\&quot;Polygon\&quot;===a||\&quot;MultiPolygon\&quot;===a?3:\&quot;LineString\&quot;===a||\&quot;MultiLineString\&quot;===a?2:1,tags:u};null!==e.id&amp;&amp;(h.id=e.id),t.features.push(h)}}function mt(t,e,r,n,i,a){var o=n*n;if(n&gt;0&amp;&amp;e.size&lt;(i?o:n))r.numPoints+=e.length/3;else{for(var s=[],l=0;l&lt;e.length;l+=3)(0===n||e[l+2]&gt;o)&amp;&amp;(r.numSimplified++,s.push(e[l]),s.push(e[l+1])),r.numPoints++;i&amp;&amp;function(t,e){for(var r=0,n=0,i=t.length,a=i-2;n&lt;i;a=n,n+=2)r+=(t[n]-t[a])*(t[n+1]+t[a+1]);if(r&gt;0===e)for(n=0,i=t.length;n&lt;i/2;n+=2){var o=t[n],s=t[n+1];t[n]=t[i-2-n],t[n+1]=t[i-1-n],t[i-2-n]=o,t[i-1-n]=s}}(s,a),t.push(s)}}function vt(t,e){var r=(e=this.options=function(t,e){for(var r in e)t[r]=e[r];return t}(Object.create(this.options),e)).debug;if(r&amp;&amp;console.time(\&quot;preprocess data\&quot;),e.maxZoom&lt;0||e.maxZoom&gt;24)throw new Error(\&quot;maxZoom should be in the 0-24 range\&quot;);if(e.promoteId&amp;&amp;e.generateId)throw new Error(\&quot;promoteId and generateId cannot be used together.\&quot;);var n=function(t,e){var r=[];if(\&quot;FeatureCollection\&quot;===t.type)for(var n=0;n&lt;t.features.length;n++)J(r,t.features[n],e,n);else J(r,\&quot;Feature\&quot;===t.type?t:{geometry:t},e);return r}(t,e);this.tiles={},this.tileCoords=[],r&amp;&amp;(console.timeEnd(\&quot;preprocess data\&quot;),console.log(\&quot;index: maxZoom: %d, maxPoints: %d\&quot;,e.indexMaxZoom,e.indexMaxPoints),console.time(\&quot;generate tiles\&quot;),this.stats={},this.total=0),(n=function(t,e){var r=e.buffer/e.extent,n=t,i=rt(t,1,-1-r,r,0,-1,2,e),a=rt(t,1,1-r,2+r,0,-1,2,e);return(i||a)&amp;&amp;(n=rt(t,1,-r,1+r,0,-1,2,e)||[],i&amp;&amp;(n=ut(i,1).concat(n)),a&amp;&amp;(n=n.concat(ut(a,-1)))),n}(n,e)).length&amp;&amp;this.splitTile(n,0,0,0),r&amp;&amp;(n.length&amp;&amp;console.log(\&quot;features: %d, points: %d\&quot;,this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd(\&quot;generate tiles\&quot;),console.log(\&quot;tiles generated:\&quot;,this.total,JSON.stringify(this.stats)))}function yt(t,e,r){return 32*((1&lt;&lt;t)*r+e)+t}function xt(t,e){var r=t.tileID.canonical;if(!this._geoJSONIndex)return e(null,null);var n=this._geoJSONIndex.getTile(r.z,r.x,r.y);if(!n)return e(null,null);var i=new g(n.features),a=b(i);0===a.byteOffset&amp;&amp;a.byteLength===a.buffer.byteLength||(a=new Uint8Array(a)),e(null,{vectorTile:i,rawData:a.buffer})}F.prototype.load=function(t){var e=this.options,r=e.log,n=e.minZoom,i=e.maxZoom,a=e.nodeSize;r&amp;&amp;console.time(\&quot;total time\&quot;);var o=\&quot;prepare \&quot;+t.length+\&quot; points\&quot;;r&amp;&amp;console.time(o),this.points=t;for(var s=[],l=0;l&lt;t.length;l++)t[l].geometry&amp;&amp;s.push(N(t[l],l));this.trees[i+1]=new D(s,G,Y,a,Float32Array),r&amp;&amp;console.timeEnd(o);for(var c=i;c&gt;=n;c--){var u=+Date.now();s=this._cluster(s,c),this.trees[c]=new D(s,G,Y,a,Float32Array),r&amp;&amp;console.log(\&quot;z%d: %d clusters in %dms\&quot;,c,s.length,+Date.now()-u)}return r&amp;&amp;console.timeEnd(\&quot;total time\&quot;),this},F.prototype.getClusters=function(t,e){var r=((t[0]+180)%360+360)%360-180,n=Math.max(-90,Math.min(90,t[1])),i=180===t[2]?180:((t[2]+180)%360+360)%360-180,a=Math.max(-90,Math.min(90,t[3]));if(t[2]-t[0]&gt;=360)r=-180,i=180;else if(r&gt;i){var o=this.getClusters([r,n,180,a],e),s=this.getClusters([-180,n,i,a],e);return o.concat(s)}for(var l=this.trees[this._limitZoom(e)],c=[],u=0,f=l.range(V(r),q(a),V(i),q(n));u&lt;f.length;u+=1){var h=l.points[f[u]];c.push(h.numPoints?j(h):this.points[h.index])}return c},F.prototype.getChildren=function(t){var e=this._getOriginId(t),r=this._getOriginZoom(t),n=\&quot;No cluster with the specified id.\&quot;,i=this.trees[r];if(!i)throw new Error(n);var a=i.points[e];if(!a)throw new Error(n);for(var o=this.options.radius/(this.options.extent*Math.pow(2,r-1)),s=[],l=0,c=i.within(a.x,a.y,o);l&lt;c.length;l+=1){var u=i.points[c[l]];u.parentId===t&amp;&amp;s.push(u.numPoints?j(u):this.points[u.index])}if(0===s.length)throw new Error(n);return s},F.prototype.getLeaves=function(t,e,r){var n=[];return this._appendLeaves(n,t,e=e||10,r=r||0,0),n},F.prototype.getTile=function(t,e,r){var n=this.trees[this._limitZoom(t)],i=Math.pow(2,t),a=this.options,o=a.radius/a.extent,s=(r-o)/i,l=(r+1+o)/i,c={features:[]};return this._addTileFeatures(n.range((e-o)/i,s,(e+1+o)/i,l),n.points,e,r,i,c),0===e&amp;&amp;this._addTileFeatures(n.range(1-o/i,s,1,l),n.points,i,r,i,c),e===i-1&amp;&amp;this._addTileFeatures(n.range(0,s,o/i,l),n.points,-1,r,i,c),c.features.length?c:null},F.prototype.getClusterExpansionZoom=function(t){for(var e=this._getOriginZoom(t)-1;e&lt;=this.options.maxZoom;){var r=this.getChildren(t);if(e++,1!==r.length)break;t=r[0].properties.cluster_id}return e},F.prototype._appendLeaves=function(t,e,r,n,i){for(var a=0,o=this.getChildren(e);a&lt;o.length;a+=1){var s=o[a],l=s.properties;if(l&amp;&amp;l.cluster?i+l.point_count&lt;=n?i+=l.point_count:i=this._appendLeaves(t,l.cluster_id,r,n,i):i&lt;n?i++:t.push(s),t.length===r)break}return i},F.prototype._addTileFeatures=function(t,e,r,n,i,a){for(var o=0,s=t;o&lt;s.length;o+=1){var l=e[s[o]],c=l.numPoints,u={type:1,geometry:[[Math.round(this.options.extent*(l.x*i-r)),Math.round(this.options.extent*(l.y*i-n))]],tags:c?U(l):this.points[l.index].properties},f=void 0;c?f=l.id:this.options.generateId?f=l.index:this.points[l.index].id&amp;&amp;(f=this.points[l.index].id),void 0!==f&amp;&amp;(u.id=f),a.features.push(u)}},F.prototype._limitZoom=function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},F.prototype._cluster=function(t,e){for(var r=[],n=this.options,i=n.reduce,a=n.radius/(n.extent*Math.pow(2,e)),o=0;o&lt;t.length;o++){var s=t[o];if(!(s.zoom&lt;=e)){s.zoom=e;for(var l=this.trees[e+1],c=l.within(s.x,s.y,a),u=s.numPoints||1,f=s.x*u,h=s.y*u,p=i&amp;&amp;u&gt;1?this._map(s,!0):null,d=(o&lt;&lt;5)+(e+1)+this.points.length,g=0,m=c;g&lt;m.length;g+=1){var v=l.points[m[g]];if(!(v.zoom&lt;=e)){v.zoom=e;var y=v.numPoints||1;f+=v.x*y,h+=v.y*y,u+=y,v.parentId=d,i&amp;&amp;(p||(p=this._map(s,!0)),i(p,this._map(v)))}}1===u?r.push(s):(s.parentId=d,r.push(B(f/u,h/u,d,u,p)))}}return r},F.prototype._getOriginId=function(t){return t-this.points.length&gt;&gt;5},F.prototype._getOriginZoom=function(t){return(t-this.points.length)%32},F.prototype._map=function(t,e){if(t.numPoints)return e?H({},t.properties):t.properties;var r=this.points[t.index].properties,n=this.options.map(r);return e&amp;&amp;n===r?H({},n):n},vt.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,tolerance:3,extent:4096,buffer:64,lineMetrics:!1,promoteId:null,generateId:!1,debug:0},vt.prototype.splitTile=function(t,e,r,n,i,a,o){for(var s=[t,e,r,n],l=this.options,c=l.debug;s.length;){n=s.pop(),r=s.pop(),e=s.pop(),t=s.pop();var u=1&lt;&lt;e,f=yt(e,r,n),h=this.tiles[f];if(!h&amp;&amp;(c&gt;1&amp;&amp;console.time(\&quot;creation\&quot;),h=this.tiles[f]=dt(t,e,r,n,l),this.tileCoords.push({z:e,x:r,y:n}),c)){c&gt;1&amp;&amp;(console.log(\&quot;tile z%d-%d-%d (features: %d, points: %d, simplified: %d)\&quot;,e,r,n,h.numFeatures,h.numPoints,h.numSimplified),console.timeEnd(\&quot;creation\&quot;));var p=\&quot;z\&quot;+e;this.stats[p]=(this.stats[p]||0)+1,this.total++}if(h.source=t,i){if(e===l.maxZoom||e===i)continue;var d=1&lt;&lt;i-e;if(r!==Math.floor(a/d)||n!==Math.floor(o/d))continue}else if(e===l.indexMaxZoom||h.numPoints&lt;=l.indexMaxPoints)continue;if(h.source=null,0!==t.length){c&gt;1&amp;&amp;console.time(\&quot;clipping\&quot;);var g,m,v,y,x,b,_=.5*l.buffer/l.extent,w=.5-_,T=.5+_,k=1+_;g=m=v=y=null,x=rt(t,u,r-_,r+T,0,h.minX,h.maxX,l),b=rt(t,u,r+w,r+k,0,h.minX,h.maxX,l),t=null,x&amp;&amp;(g=rt(x,u,n-_,n+T,1,h.minY,h.maxY,l),m=rt(x,u,n+w,n+k,1,h.minY,h.maxY,l),x=null),b&amp;&amp;(v=rt(b,u,n-_,n+T,1,h.minY,h.maxY,l),y=rt(b,u,n+w,n+k,1,h.minY,h.maxY,l),b=null),c&gt;1&amp;&amp;console.timeEnd(\&quot;clipping\&quot;),s.push(g||[],e+1,2*r,2*n),s.push(m||[],e+1,2*r,2*n+1),s.push(v||[],e+1,2*r+1,2*n),s.push(y||[],e+1,2*r+1,2*n+1)}}},vt.prototype.getTile=function(t,e,r){var n=this.options,i=n.extent,a=n.debug;if(t&lt;0||t&gt;24)return null;var o=1&lt;&lt;t,s=yt(t,e=(e%o+o)%o,r);if(this.tiles[s])return ht(this.tiles[s],i);a&gt;1&amp;&amp;console.log(\&quot;drilling down to z%d-%d-%d\&quot;,t,e,r);for(var l,c=t,u=e,f=r;!l&amp;&amp;c&gt;0;)c--,u=Math.floor(u/2),f=Math.floor(f/2),l=this.tiles[yt(c,u,f)];return l&amp;&amp;l.source?(a&gt;1&amp;&amp;console.log(\&quot;found parent tile z%d-%d-%d\&quot;,c,u,f),a&gt;1&amp;&amp;console.time(\&quot;drilling down\&quot;),this.splitTile(l.source,c,u,f,t,e,r),a&gt;1&amp;&amp;console.timeEnd(\&quot;drilling down\&quot;),this.tiles[s]?ht(this.tiles[s],i):null):null};var bt=function(e){function r(t,r,n,i){e.call(this,t,r,n,xt),i&amp;&amp;(this.loadGeoJSON=i)}return e&amp;&amp;(r.__proto__=e),(r.prototype=Object.create(e&amp;&amp;e.prototype)).constructor=r,r.prototype.loadData=function(t,e){this._pendingCallback&amp;&amp;this._pendingCallback(null,{abandoned:!0}),this._pendingCallback=e,this._pendingLoadDataParams=t,this._state&amp;&amp;\&quot;Idle\&quot;!==this._state?this._state=\&quot;NeedsLoadData\&quot;:(this._state=\&quot;Coalescing\&quot;,this._loadData())},r.prototype._loadData=function(){var e=this;if(this._pendingCallback&amp;&amp;this._pendingLoadDataParams){var r=this._pendingCallback,n=this._pendingLoadDataParams;delete this._pendingCallback,delete this._pendingLoadDataParams;var i=!!(n&amp;&amp;n.request&amp;&amp;n.request.collectResourceTiming)&amp;&amp;new t.RequestPerformance(n.request);this.loadGeoJSON(n,(function(a,o){if(a||!o)return r(a);if(\&quot;object\&quot;!=typeof o)return r(new Error(\&quot;Input data given to '\&quot;+n.source+\&quot;' is not a valid GeoJSON object.\&quot;));!function t(e,r){var n,i=e&amp;&amp;e.type;if(\&quot;FeatureCollection\&quot;===i)for(n=0;n&lt;e.features.length;n++)t(e.features[n],r);else if(\&quot;GeometryCollection\&quot;===i)for(n=0;n&lt;e.geometries.length;n++)t(e.geometries[n],r);else if(\&quot;Feature\&quot;===i)t(e.geometry,r);else if(\&quot;Polygon\&quot;===i)f(e.coordinates,r);else if(\&quot;MultiPolygon\&quot;===i)for(n=0;n&lt;e.coordinates.length;n++)f(e.coordinates[n],r);return e}(o,!0);try{e._geoJSONIndex=n.cluster?new F(function(e){var r=e.superclusterOptions,n=e.clusterProperties;if(!n||!r)return r;for(var i={},a={},o={accumulated:null,zoom:0},s={properties:null},l=Object.keys(n),c=0,u=l;c&lt;u.length;c+=1){var f=u[c],h=n[f],p=h[0],d=t.createExpression(h[1]),g=t.createExpression(\&quot;string\&quot;==typeof p?[p,[\&quot;accumulated\&quot;],[\&quot;get\&quot;,f]]:p);i[f]=d.value,a[f]=g.value}return r.map=function(t){s.properties=t;for(var e={},r=0,n=l;r&lt;n.length;r+=1){var a=n[r];e[a]=i[a].evaluate(o,s)}return e},r.reduce=function(t,e){s.properties=e;for(var r=0,n=l;r&lt;n.length;r+=1){var i=n[r];o.accumulated=t[i],t[i]=a[i].evaluate(o,s)}},r}(n)).load(o.features):function(t,e){return new vt(t,e)}(o,n.geojsonVtOptions)}catch(a){return r(a)}e.loaded={};var s={};if(i){var l=i.finish();l&amp;&amp;(s.resourceTiming={},s.resourceTiming[n.source]=JSON.parse(JSON.stringify(l)))}r(null,s)}))}},r.prototype.coalesce=function(){\&quot;Coalescing\&quot;===this._state?this._state=\&quot;Idle\&quot;:\&quot;NeedsLoadData\&quot;===this._state&amp;&amp;(this._state=\&quot;Coalescing\&quot;,this._loadData())},r.prototype.reloadTile=function(t,r){var n=this.loaded;return n&amp;&amp;n[t.uid]?e.prototype.reloadTile.call(this,t,r):this.loadTile(t,r)},r.prototype.loadGeoJSON=function(e,r){if(e.request)t.getJSON(e.request,r);else{if(\&quot;string\&quot;!=typeof e.data)return r(new Error(\&quot;Input data given to '\&quot;+e.source+\&quot;' is not a valid GeoJSON object.\&quot;));try{return r(null,JSON.parse(e.data))}catch(t){return r(new Error(\&quot;Input data given to '\&quot;+e.source+\&quot;' is not a valid GeoJSON object.\&quot;))}}},r.prototype.remove</span></pre>
</body>
</html>